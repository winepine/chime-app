/*! For license information please see main.js.LICENSE.txt */
(()=>{var __webpack_modules__={1446:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AwsCrc32=void 0;var i=n(2717),r=n(7658),a=n(4079),o=function(){function e(){this.crc32=new a.Crc32}return e.prototype.update=function(e){(0,r.isEmptyData)(e)||this.crc32.update((0,r.convertToBuffer)(e))},e.prototype.digest=function(){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(e){return[2,(0,r.numToUint8)(this.crc32.digest())]}))}))},e.prototype.reset=function(){this.crc32=new a.Crc32},e}();t.AwsCrc32=o},4079:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AwsCrc32=t.Crc32=t.crc32=void 0;var i=n(2717),r=n(7658);t.crc32=function(e){return(new a).update(e).digest()};var a=function(){function e(){this.checksum=4294967295}return e.prototype.update=function(e){var t,n;try{for(var r=i.__values(e),a=r.next();!a.done;a=r.next()){var s=a.value;this.checksum=this.checksum>>>8^o[255&(this.checksum^s)]}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return this},e.prototype.digest=function(){return(4294967295^this.checksum)>>>0},e}();t.Crc32=a;var o=(0,r.uint32ArrayFrom)([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]),s=n(1446);Object.defineProperty(t,"AwsCrc32",{enumerable:!0,get:function(){return s.AwsCrc32}})},2717:(e,t,n)=>{"use strict";n.r(t),n.d(t,{__assign:()=>a,__asyncDelegator:()=>b,__asyncGenerator:()=>v,__asyncValues:()=>S,__await:()=>y,__awaiter:()=>l,__classPrivateFieldGet:()=>I,__classPrivateFieldSet:()=>k,__createBinding:()=>h,__decorate:()=>s,__exportStar:()=>p,__extends:()=>r,__generator:()=>u,__importDefault:()=>x,__importStar:()=>C,__makeTemplateObject:()=>E,__metadata:()=>d,__param:()=>c,__read:()=>f,__rest:()=>o,__spread:()=>g,__spreadArrays:()=>w,__values:()=>m});var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},i(e,t)};function r(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var a=function(){return a=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},a.apply(this,arguments)};function o(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n}function s(e,t,n,i){var r,a=arguments.length,o=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(o=(a<3?r(o):a>3?r(t,n,o):r(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o}function c(e,t){return function(n,i){t(n,i,e)}}function d(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,n,i){return new(n||(n=Promise))((function(r,a){function o(e){try{c(i.next(e))}catch(e){a(e)}}function s(e){try{c(i.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((i=i.apply(e,t||[])).next())}))}function u(e,t){var n,i,r,a,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(r=2&a[0]?i.return:a[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,a[1])).done)return r;switch(i=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,i=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!((r=(r=o.trys).length>0&&r[r.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){o.label=a[1];break}if(6===a[0]&&o.label<r[1]){o.label=r[1],r=a;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(a);break}r[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],i=0}finally{n=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}}function h(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}function p(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])}function m(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function f(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var i,r,a=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(i=a.next()).done;)o.push(i.value)}catch(e){r={error:e}}finally{try{i&&!i.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}return o}function g(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(f(arguments[t]));return e}function w(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var i=Array(e),r=0;for(t=0;t<n;t++)for(var a=arguments[t],o=0,s=a.length;o<s;o++,r++)i[r]=a[o];return i}function y(e){return this instanceof y?(this.v=e,this):new y(e)}function v(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(e,t||[]),a=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(e){r[e]&&(i[e]=function(t){return new Promise((function(n,i){a.push([e,t,n,i])>1||s(e,t)}))})}function s(e,t){try{(n=r[e](t)).value instanceof y?Promise.resolve(n.value.v).then(c,d):l(a[0][2],n)}catch(e){l(a[0][3],e)}var n}function c(e){s("next",e)}function d(e){s("throw",e)}function l(e,t){e(t),a.shift(),a.length&&s(a[0][0],a[0][1])}}function b(e){var t,n;return t={},i("next"),i("throw",(function(e){throw e})),i("return"),t[Symbol.iterator]=function(){return this},t;function i(i,r){t[i]=e[i]?function(t){return(n=!n)?{value:y(e[i](t)),done:"return"===i}:r?r(t):t}:r}}function S(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=m(e),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(n){t[n]=e[n]&&function(t){return new Promise((function(i,r){!function(e,t,n,i){Promise.resolve(i).then((function(t){e({value:t,done:n})}),t)}(i,r,(t=e[n](t)).done,t.value)}))}}}function E(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function C(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function x(e){return e&&e.__esModule?e:{default:e}}function I(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function k(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},8260:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},6665:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},5470:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},969:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},5287:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isMsWindow=void 0;var n=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];t.isMsWindow=function(e){if(function(e){return"MSInputMethodContext"in e&&"msCrypto"in e}(e)&&void 0!==e.msCrypto.subtle){var t=e.msCrypto,i=t.getRandomValues,r=t.subtle;return n.map((function(e){return r[e]})).concat(i).every((function(e){return"function"==typeof e}))}return!1}},87:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1980);i.__exportStar(n(8260),t),i.__exportStar(n(6665),t),i.__exportStar(n(5470),t),i.__exportStar(n(969),t),i.__exportStar(n(5287),t)},1980:(e,t,n)=>{"use strict";n.r(t),n.d(t,{__assign:()=>a,__asyncDelegator:()=>b,__asyncGenerator:()=>v,__asyncValues:()=>S,__await:()=>y,__awaiter:()=>l,__classPrivateFieldGet:()=>I,__classPrivateFieldSet:()=>k,__createBinding:()=>h,__decorate:()=>s,__exportStar:()=>p,__extends:()=>r,__generator:()=>u,__importDefault:()=>x,__importStar:()=>C,__makeTemplateObject:()=>E,__metadata:()=>d,__param:()=>c,__read:()=>f,__rest:()=>o,__spread:()=>g,__spreadArrays:()=>w,__values:()=>m});var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},i(e,t)};function r(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var a=function(){return a=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},a.apply(this,arguments)};function o(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n}function s(e,t,n,i){var r,a=arguments.length,o=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(o=(a<3?r(o):a>3?r(t,n,o):r(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o}function c(e,t){return function(n,i){t(n,i,e)}}function d(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,n,i){return new(n||(n=Promise))((function(r,a){function o(e){try{c(i.next(e))}catch(e){a(e)}}function s(e){try{c(i.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((i=i.apply(e,t||[])).next())}))}function u(e,t){var n,i,r,a,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(r=2&a[0]?i.return:a[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,a[1])).done)return r;switch(i=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,i=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!((r=(r=o.trys).length>0&&r[r.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){o.label=a[1];break}if(6===a[0]&&o.label<r[1]){o.label=r[1],r=a;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(a);break}r[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],i=0}finally{n=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}}function h(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}function p(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])}function m(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function f(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var i,r,a=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(i=a.next()).done;)o.push(i.value)}catch(e){r={error:e}}finally{try{i&&!i.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}return o}function g(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(f(arguments[t]));return e}function w(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var i=Array(e),r=0;for(t=0;t<n;t++)for(var a=arguments[t],o=0,s=a.length;o<s;o++,r++)i[r]=a[o];return i}function y(e){return this instanceof y?(this.v=e,this):new y(e)}function v(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(e,t||[]),a=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(e){r[e]&&(i[e]=function(t){return new Promise((function(n,i){a.push([e,t,n,i])>1||s(e,t)}))})}function s(e,t){try{(n=r[e](t)).value instanceof y?Promise.resolve(n.value.v).then(c,d):l(a[0][2],n)}catch(e){l(a[0][3],e)}var n}function c(e){s("next",e)}function d(e){s("throw",e)}function l(e,t){e(t),a.shift(),a.length&&s(a[0][0],a[0][1])}}function b(e){var t,n;return t={},i("next"),i("throw",(function(e){throw e})),i("return"),t[Symbol.iterator]=function(){return this},t;function i(i,r){t[i]=e[i]?function(t){return(n=!n)?{value:y(e[i](t)),done:"return"===i}:r?r(t):t}:r}}function S(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=m(e),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(n){t[n]=e[n]&&function(t){return new Promise((function(i,r){!function(e,t,n,i){Promise.resolve(i).then((function(t){e({value:t,done:n})}),t)}(i,r,(t=e[n](t)).done,t.value)}))}}}function E(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function C(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function x(e){return e&&e.__esModule?e:{default:e}}function I(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function k(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},7333:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EMPTY_DATA_SHA_256=t.SHA_256_HMAC_ALGO=t.SHA_256_HASH=void 0,t.SHA_256_HASH={name:"SHA-256"},t.SHA_256_HMAC_ALGO={name:"HMAC",hash:t.SHA_256_HASH},t.EMPTY_DATA_SHA_256=new Uint8Array([227,176,196,66,152,252,28,20,154,251,244,200,153,111,185,36,39,174,65,228,100,155,147,76,164,149,153,27,120,82,184,85])},2769:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sha256=void 0;var i=n(3479),r=n(8889),a=n(1938),o=n(21),s=n(87),c=n(6495),d=n(7658),l=function(){function e(e){(0,o.supportsWebCrypto)((0,c.locateWindow)())?this.hash=new r.Sha256(e):(0,s.isMsWindow)((0,c.locateWindow)())?this.hash=new i.Sha256(e):this.hash=new a.Sha256(e)}return e.prototype.update=function(e,t){this.hash.update((0,d.convertToBuffer)(e))},e.prototype.digest=function(){return this.hash.digest()},e.prototype.reset=function(){this.hash.reset()},e}();t.Sha256=l},3479:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sha256=void 0;var i=n(8036),r=n(7333),a=n(470),o=n(6495),s=function(){function e(e){this.secret=e,this.reset()}return e.prototype.update=function(e){var t=this;(0,i.isEmptyData)(e)||(this.operation=this.operation.then((function(n){return n.onerror=function(){t.operation=Promise.reject(new Error("Error encountered updating hash"))},n.process(c(e)),n})),this.operation.catch((function(){})))},e.prototype.digest=function(){return this.operation.then((function(e){return new Promise((function(t,n){e.onerror=function(){n(new Error("Error encountered finalizing hash"))},e.oncomplete=function(){e.result&&t(new Uint8Array(e.result)),n(new Error("Error encountered finalizing hash"))},e.finish()}))}))},e.prototype.reset=function(){var e;this.secret?(this.operation=(e=this.secret,new Promise((function(t,n){var i=(0,o.locateWindow)().msCrypto.subtle.importKey("raw",c(e),r.SHA_256_HMAC_ALGO,!1,["sign"]);i.oncomplete=function(){i.result&&t(i.result),n(new Error("ImportKey completed without importing key."))},i.onerror=function(){n(new Error("ImportKey failed to import key."))}}))).then((function(e){return(0,o.locateWindow)().msCrypto.subtle.sign(r.SHA_256_HMAC_ALGO,e)})),this.operation.catch((function(){}))):this.operation=Promise.resolve((0,o.locateWindow)().msCrypto.subtle.digest("SHA-256"))},e}();function c(e){return"string"==typeof e?(0,a.fromUtf8)(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}t.Sha256=s},7643:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WebCryptoSha256=t.Ie11Sha256=void 0,n(5789).__exportStar(n(2769),t);var i=n(3479);Object.defineProperty(t,"Ie11Sha256",{enumerable:!0,get:function(){return i.Sha256}});var r=n(8889);Object.defineProperty(t,"WebCryptoSha256",{enumerable:!0,get:function(){return r.Sha256}})},8036:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isEmptyData=void 0,t.isEmptyData=function(e){return"string"==typeof e?0===e.length:0===e.byteLength}},8889:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sha256=void 0;var i=n(7658),r=n(7333),a=n(6495),o=function(){function e(e){this.toHash=new Uint8Array(0),this.secret=e,this.reset()}return e.prototype.update=function(e){if(!(0,i.isEmptyData)(e)){var t=(0,i.convertToBuffer)(e),n=new Uint8Array(this.toHash.byteLength+t.byteLength);n.set(this.toHash,0),n.set(t,this.toHash.byteLength),this.toHash=n}},e.prototype.digest=function(){var e=this;return this.key?this.key.then((function(t){return(0,a.locateWindow)().crypto.subtle.sign(r.SHA_256_HMAC_ALGO,t,e.toHash).then((function(e){return new Uint8Array(e)}))})):(0,i.isEmptyData)(this.toHash)?Promise.resolve(r.EMPTY_DATA_SHA_256):Promise.resolve().then((function(){return(0,a.locateWindow)().crypto.subtle.digest(r.SHA_256_HASH,e.toHash)})).then((function(e){return Promise.resolve(new Uint8Array(e))}))},e.prototype.reset=function(){var e=this;this.toHash=new Uint8Array(0),this.secret&&void 0!==this.secret&&(this.key=new Promise((function(t,n){(0,a.locateWindow)().crypto.subtle.importKey("raw",(0,i.convertToBuffer)(e.secret),r.SHA_256_HMAC_ALGO,!1,["sign"]).then(t,n)})),this.key.catch((function(){})))},e}();t.Sha256=o},5789:(e,t,n)=>{"use strict";n.r(t),n.d(t,{__assign:()=>a,__asyncDelegator:()=>b,__asyncGenerator:()=>v,__asyncValues:()=>S,__await:()=>y,__awaiter:()=>l,__classPrivateFieldGet:()=>I,__classPrivateFieldSet:()=>k,__createBinding:()=>h,__decorate:()=>s,__exportStar:()=>p,__extends:()=>r,__generator:()=>u,__importDefault:()=>x,__importStar:()=>C,__makeTemplateObject:()=>E,__metadata:()=>d,__param:()=>c,__read:()=>f,__rest:()=>o,__spread:()=>g,__spreadArrays:()=>w,__values:()=>m});var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},i(e,t)};function r(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var a=function(){return a=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},a.apply(this,arguments)};function o(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n}function s(e,t,n,i){var r,a=arguments.length,o=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(o=(a<3?r(o):a>3?r(t,n,o):r(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o}function c(e,t){return function(n,i){t(n,i,e)}}function d(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,n,i){return new(n||(n=Promise))((function(r,a){function o(e){try{c(i.next(e))}catch(e){a(e)}}function s(e){try{c(i.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((i=i.apply(e,t||[])).next())}))}function u(e,t){var n,i,r,a,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(r=2&a[0]?i.return:a[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,a[1])).done)return r;switch(i=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,i=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!((r=(r=o.trys).length>0&&r[r.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){o.label=a[1];break}if(6===a[0]&&o.label<r[1]){o.label=r[1],r=a;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(a);break}r[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],i=0}finally{n=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}}function h(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}function p(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])}function m(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function f(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var i,r,a=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(i=a.next()).done;)o.push(i.value)}catch(e){r={error:e}}finally{try{i&&!i.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}return o}function g(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(f(arguments[t]));return e}function w(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var i=Array(e),r=0;for(t=0;t<n;t++)for(var a=arguments[t],o=0,s=a.length;o<s;o++,r++)i[r]=a[o];return i}function y(e){return this instanceof y?(this.v=e,this):new y(e)}function v(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(e,t||[]),a=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(e){r[e]&&(i[e]=function(t){return new Promise((function(n,i){a.push([e,t,n,i])>1||s(e,t)}))})}function s(e,t){try{(n=r[e](t)).value instanceof y?Promise.resolve(n.value.v).then(c,d):l(a[0][2],n)}catch(e){l(a[0][3],e)}var n}function c(e){s("next",e)}function d(e){s("throw",e)}function l(e,t){e(t),a.shift(),a.length&&s(a[0][0],a[0][1])}}function b(e){var t,n;return t={},i("next"),i("throw",(function(e){throw e})),i("return"),t[Symbol.iterator]=function(){return this},t;function i(i,r){t[i]=e[i]?function(t){return(n=!n)?{value:y(e[i](t)),done:"return"===i}:r?r(t):t}:r}}function S(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=m(e),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(n){t[n]=e[n]&&function(t){return new Promise((function(i,r){!function(e,t,n,i){Promise.resolve(i).then((function(t){e({value:t,done:n})}),t)}(i,r,(t=e[n](t)).done,t.value)}))}}}function E(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function C(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function x(e){return e&&e.__esModule?e:{default:e}}function I(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function k(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},914:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RawSha256=void 0;var i=n(6532),r=function(){function e(){this.state=Int32Array.from(i.INIT),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return e.prototype.update=function(e){if(this.finished)throw new Error("Attempted to update an already finished hash.");var t=0,n=e.byteLength;if(this.bytesHashed+=n,8*this.bytesHashed>i.MAX_HASHABLE_LENGTH)throw new Error("Cannot hash more than 2^53 - 1 bits");for(;n>0;)this.buffer[this.bufferLength++]=e[t++],n--,this.bufferLength===i.BLOCK_SIZE&&(this.hashBuffer(),this.bufferLength=0)},e.prototype.digest=function(){if(!this.finished){var e=8*this.bytesHashed,t=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),n=this.bufferLength;if(t.setUint8(this.bufferLength++,128),n%i.BLOCK_SIZE>=i.BLOCK_SIZE-8){for(var r=this.bufferLength;r<i.BLOCK_SIZE;r++)t.setUint8(r,0);this.hashBuffer(),this.bufferLength=0}for(r=this.bufferLength;r<i.BLOCK_SIZE-8;r++)t.setUint8(r,0);t.setUint32(i.BLOCK_SIZE-8,Math.floor(e/4294967296),!0),t.setUint32(i.BLOCK_SIZE-4,e),this.hashBuffer(),this.finished=!0}var a=new Uint8Array(i.DIGEST_LENGTH);for(r=0;r<8;r++)a[4*r]=this.state[r]>>>24&255,a[4*r+1]=this.state[r]>>>16&255,a[4*r+2]=this.state[r]>>>8&255,a[4*r+3]=this.state[r]>>>0&255;return a},e.prototype.hashBuffer=function(){for(var e=this.buffer,t=this.state,n=t[0],r=t[1],a=t[2],o=t[3],s=t[4],c=t[5],d=t[6],l=t[7],u=0;u<i.BLOCK_SIZE;u++){if(u<16)this.temp[u]=(255&e[4*u])<<24|(255&e[4*u+1])<<16|(255&e[4*u+2])<<8|255&e[4*u+3];else{var h=this.temp[u-2],p=(h>>>17|h<<15)^(h>>>19|h<<13)^h>>>10,m=((h=this.temp[u-15])>>>7|h<<25)^(h>>>18|h<<14)^h>>>3;this.temp[u]=(p+this.temp[u-7]|0)+(m+this.temp[u-16]|0)}var f=(((s>>>6|s<<26)^(s>>>11|s<<21)^(s>>>25|s<<7))+(s&c^~s&d)|0)+(l+(i.KEY[u]+this.temp[u]|0)|0)|0,g=((n>>>2|n<<30)^(n>>>13|n<<19)^(n>>>22|n<<10))+(n&r^n&a^r&a)|0;l=d,d=c,c=s,s=o+f|0,o=a,a=r,r=n,n=f+g|0}t[0]+=n,t[1]+=r,t[2]+=a,t[3]+=o,t[4]+=s,t[5]+=c,t[6]+=d,t[7]+=l},e}();t.RawSha256=r},6532:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MAX_HASHABLE_LENGTH=t.INIT=t.KEY=t.DIGEST_LENGTH=t.BLOCK_SIZE=void 0,t.BLOCK_SIZE=64,t.DIGEST_LENGTH=32,t.KEY=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),t.INIT=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],t.MAX_HASHABLE_LENGTH=Math.pow(2,53)-1},1938:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(3541).__exportStar(n(5430),t)},5430:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sha256=void 0;var i=n(3541),r=n(6532),a=n(914),o=n(7658),s=function(){function e(e){this.secret=e,this.hash=new a.RawSha256,this.reset()}return e.prototype.update=function(e){if(!(0,o.isEmptyData)(e)&&!this.error)try{this.hash.update((0,o.convertToBuffer)(e))}catch(e){this.error=e}},e.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},e.prototype.digest=function(){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(e){return[2,this.digestSync()]}))}))},e.prototype.reset=function(){if(this.hash=new a.RawSha256,this.secret){this.outer=new a.RawSha256;var e=function(e){var t=(0,o.convertToBuffer)(e);if(t.byteLength>r.BLOCK_SIZE){var n=new a.RawSha256;n.update(t),t=n.digest()}var i=new Uint8Array(r.BLOCK_SIZE);return i.set(t),i}(this.secret),t=new Uint8Array(r.BLOCK_SIZE);t.set(e);for(var n=0;n<r.BLOCK_SIZE;n++)e[n]^=54,t[n]^=92;for(this.hash.update(e),this.outer.update(t),n=0;n<e.byteLength;n++)e[n]=0}},e}();t.Sha256=s},3541:(e,t,n)=>{"use strict";n.r(t),n.d(t,{__assign:()=>a,__asyncDelegator:()=>b,__asyncGenerator:()=>v,__asyncValues:()=>S,__await:()=>y,__awaiter:()=>l,__classPrivateFieldGet:()=>I,__classPrivateFieldSet:()=>k,__createBinding:()=>h,__decorate:()=>s,__exportStar:()=>p,__extends:()=>r,__generator:()=>u,__importDefault:()=>x,__importStar:()=>C,__makeTemplateObject:()=>E,__metadata:()=>d,__param:()=>c,__read:()=>f,__rest:()=>o,__spread:()=>g,__spreadArrays:()=>w,__values:()=>m});var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},i(e,t)};function r(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var a=function(){return a=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},a.apply(this,arguments)};function o(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n}function s(e,t,n,i){var r,a=arguments.length,o=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(o=(a<3?r(o):a>3?r(t,n,o):r(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o}function c(e,t){return function(n,i){t(n,i,e)}}function d(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,n,i){return new(n||(n=Promise))((function(r,a){function o(e){try{c(i.next(e))}catch(e){a(e)}}function s(e){try{c(i.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((i=i.apply(e,t||[])).next())}))}function u(e,t){var n,i,r,a,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(r=2&a[0]?i.return:a[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,a[1])).done)return r;switch(i=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,i=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!((r=(r=o.trys).length>0&&r[r.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){o.label=a[1];break}if(6===a[0]&&o.label<r[1]){o.label=r[1],r=a;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(a);break}r[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],i=0}finally{n=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}}function h(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}function p(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])}function m(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function f(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var i,r,a=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(i=a.next()).done;)o.push(i.value)}catch(e){r={error:e}}finally{try{i&&!i.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}return o}function g(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(f(arguments[t]));return e}function w(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var i=Array(e),r=0;for(t=0;t<n;t++)for(var a=arguments[t],o=0,s=a.length;o<s;o++,r++)i[r]=a[o];return i}function y(e){return this instanceof y?(this.v=e,this):new y(e)}function v(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(e,t||[]),a=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(e){r[e]&&(i[e]=function(t){return new Promise((function(n,i){a.push([e,t,n,i])>1||s(e,t)}))})}function s(e,t){try{(n=r[e](t)).value instanceof y?Promise.resolve(n.value.v).then(c,d):l(a[0][2],n)}catch(e){l(a[0][3],e)}var n}function c(e){s("next",e)}function d(e){s("throw",e)}function l(e,t){e(t),a.shift(),a.length&&s(a[0][0],a[0][1])}}function b(e){var t,n;return t={},i("next"),i("throw",(function(e){throw e})),i("return"),t[Symbol.iterator]=function(){return this},t;function i(i,r){t[i]=e[i]?function(t){return(n=!n)?{value:y(e[i](t)),done:"return"===i}:r?r(t):t}:r}}function S(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=m(e),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(n){t[n]=e[n]&&function(t){return new Promise((function(i,r){!function(e,t,n,i){Promise.resolve(i).then((function(t){e({value:t,done:n})}),t)}(i,r,(t=e[n](t)).done,t.value)}))}}}function E(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function C(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function x(e){return e&&e.__esModule?e:{default:e}}function I(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function k(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},21:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(7840).__exportStar(n(7787),t)},7787:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.supportsZeroByteGCM=t.supportsSubtleCrypto=t.supportsSecureRandom=t.supportsWebCrypto=void 0;var i=n(7840),r=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];function a(e){return"object"==typeof e&&"object"==typeof e.crypto&&"function"==typeof e.crypto.getRandomValues}function o(e){return e&&r.every((function(t){return"function"==typeof e[t]}))}t.supportsWebCrypto=function(e){return!(!a(e)||"object"!=typeof e.crypto.subtle)&&o(e.crypto.subtle)},t.supportsSecureRandom=a,t.supportsSubtleCrypto=o,t.supportsZeroByteGCM=function(e){return i.__awaiter(this,void 0,void 0,(function(){var t;return i.__generator(this,(function(n){switch(n.label){case 0:if(!o(e))return[2,!1];n.label=1;case 1:return n.trys.push([1,4,,5]),[4,e.generateKey({name:"AES-GCM",length:128},!1,["encrypt"])];case 2:return t=n.sent(),[4,e.encrypt({name:"AES-GCM",iv:new Uint8Array(Array(12)),additionalData:new Uint8Array(Array(16)),tagLength:128},t,new Uint8Array(0))];case 3:return[2,16===n.sent().byteLength];case 4:return n.sent(),[2,!1];case 5:return[2]}}))}))}},7840:(e,t,n)=>{"use strict";n.r(t),n.d(t,{__assign:()=>a,__asyncDelegator:()=>b,__asyncGenerator:()=>v,__asyncValues:()=>S,__await:()=>y,__awaiter:()=>l,__classPrivateFieldGet:()=>I,__classPrivateFieldSet:()=>k,__createBinding:()=>h,__decorate:()=>s,__exportStar:()=>p,__extends:()=>r,__generator:()=>u,__importDefault:()=>x,__importStar:()=>C,__makeTemplateObject:()=>E,__metadata:()=>d,__param:()=>c,__read:()=>f,__rest:()=>o,__spread:()=>g,__spreadArrays:()=>w,__values:()=>m});var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},i(e,t)};function r(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var a=function(){return a=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},a.apply(this,arguments)};function o(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n}function s(e,t,n,i){var r,a=arguments.length,o=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(o=(a<3?r(o):a>3?r(t,n,o):r(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o}function c(e,t){return function(n,i){t(n,i,e)}}function d(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,n,i){return new(n||(n=Promise))((function(r,a){function o(e){try{c(i.next(e))}catch(e){a(e)}}function s(e){try{c(i.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((i=i.apply(e,t||[])).next())}))}function u(e,t){var n,i,r,a,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(r=2&a[0]?i.return:a[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,a[1])).done)return r;switch(i=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,i=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!((r=(r=o.trys).length>0&&r[r.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){o.label=a[1];break}if(6===a[0]&&o.label<r[1]){o.label=r[1],r=a;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(a);break}r[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],i=0}finally{n=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}}function h(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}function p(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])}function m(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function f(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var i,r,a=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(i=a.next()).done;)o.push(i.value)}catch(e){r={error:e}}finally{try{i&&!i.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}return o}function g(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(f(arguments[t]));return e}function w(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var i=Array(e),r=0;for(t=0;t<n;t++)for(var a=arguments[t],o=0,s=a.length;o<s;o++,r++)i[r]=a[o];return i}function y(e){return this instanceof y?(this.v=e,this):new y(e)}function v(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(e,t||[]),a=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(e){r[e]&&(i[e]=function(t){return new Promise((function(n,i){a.push([e,t,n,i])>1||s(e,t)}))})}function s(e,t){try{(n=r[e](t)).value instanceof y?Promise.resolve(n.value.v).then(c,d):l(a[0][2],n)}catch(e){l(a[0][3],e)}var n}function c(e){s("next",e)}function d(e){s("throw",e)}function l(e,t){e(t),a.shift(),a.length&&s(a[0][0],a[0][1])}}function b(e){var t,n;return t={},i("next"),i("throw",(function(e){throw e})),i("return"),t[Symbol.iterator]=function(){return this},t;function i(i,r){t[i]=e[i]?function(t){return(n=!n)?{value:y(e[i](t)),done:"return"===i}:r?r(t):t}:r}}function S(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=m(e),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(n){t[n]=e[n]&&function(t){return new Promise((function(i,r){!function(e,t,n,i){Promise.resolve(i).then((function(t){e({value:t,done:n})}),t)}(i,r,(t=e[n](t)).done,t.value)}))}}}function E(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function C(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function x(e){return e&&e.__esModule?e:{default:e}}function I(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function k(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},1106:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.convertToBuffer=void 0;var i=n(470),r="undefined"!=typeof Buffer&&Buffer.from?function(e){return Buffer.from(e,"utf8")}:i.fromUtf8;t.convertToBuffer=function(e){return e instanceof Uint8Array?e:"string"==typeof e?r(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}},7658:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uint32ArrayFrom=t.numToUint8=t.isEmptyData=t.convertToBuffer=void 0;var i=n(1106);Object.defineProperty(t,"convertToBuffer",{enumerable:!0,get:function(){return i.convertToBuffer}});var r=n(4304);Object.defineProperty(t,"isEmptyData",{enumerable:!0,get:function(){return r.isEmptyData}});var a=n(2174);Object.defineProperty(t,"numToUint8",{enumerable:!0,get:function(){return a.numToUint8}});var o=n(1558);Object.defineProperty(t,"uint32ArrayFrom",{enumerable:!0,get:function(){return o.uint32ArrayFrom}})},4304:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isEmptyData=void 0,t.isEmptyData=function(e){return"string"==typeof e?0===e.length:0===e.byteLength}},2174:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.numToUint8=void 0,t.numToUint8=function(e){return new Uint8Array([(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e])}},1558:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uint32ArrayFrom=void 0,t.uint32ArrayFrom=function(e){if(!Uint32Array.from){for(var t=new Uint32Array(e.length),n=0;n<e.length;)t[n]=e[n],n+=1;return t}return Uint32Array.from(e)}},5503:(e,t,n)=>{"use strict";n.r(t),n.d(t,{$Command:()=>h.mY,AllowNotifications:()=>Z,AssociateChannelFlowCommand:()=>on,BadRequestException:()=>te,BatchChannelMembershipsFilterSensitiveLog:()=>xe,BatchCreateChannelMembershipCommand:()=>sn,BatchCreateChannelMembershipResponseFilterSensitiveLog:()=>Ie,ChannelAssociatedWithFlowSummaryFilterSensitiveLog:()=>Pe,ChannelBanFilterSensitiveLog:()=>Ae,ChannelBanSummaryFilterSensitiveLog:()=>Te,ChannelFilterSensitiveLog:()=>ke,ChannelFlowCallbackCommand:()=>cn,ChannelFlowCallbackRequestFilterSensitiveLog:()=>Ue,ChannelFlowFilterSensitiveLog:()=>Re,ChannelFlowSummaryFilterSensitiveLog:()=>Ne,ChannelMembershipFilterSensitiveLog:()=>ze,ChannelMembershipForAppInstanceUserSummaryFilterSensitiveLog:()=>Le,ChannelMembershipPreferencesFilterSensitiveLog:()=>qe,ChannelMembershipSummaryFilterSensitiveLog:()=>Ve,ChannelMembershipType:()=>Q,ChannelMessageCallbackFilterSensitiveLog:()=>Oe,ChannelMessageFilterSensitiveLog:()=>je,ChannelMessagePersistenceType:()=>ge,ChannelMessageStatus:()=>we,ChannelMessageSummaryFilterSensitiveLog:()=>We,ChannelMessageType:()=>ye,ChannelMode:()=>ue,ChannelModeratedByAppInstanceUserSummaryFilterSensitiveLog:()=>$e,ChannelModeratorFilterSensitiveLog:()=>He,ChannelModeratorSummaryFilterSensitiveLog:()=>Ge,ChannelPrivacy:()=>he,ChannelSummaryFilterSensitiveLog:()=>De,ChimeSDKMessaging:()=>ri,ChimeSDKMessagingClient:()=>G,ChimeSDKMessagingServiceException:()=>X,ConflictException:()=>ne,CreateChannelBanCommand:()=>dn,CreateChannelBanResponseFilterSensitiveLog:()=>Je,CreateChannelCommand:()=>ln,CreateChannelFlowCommand:()=>un,CreateChannelFlowRequestFilterSensitiveLog:()=>Xe,CreateChannelMembershipCommand:()=>hn,CreateChannelMembershipResponseFilterSensitiveLog:()=>Ze,CreateChannelModeratorCommand:()=>pn,CreateChannelModeratorResponseFilterSensitiveLog:()=>Qe,CreateChannelRequestFilterSensitiveLog:()=>Ye,DeleteChannelBanCommand:()=>mn,DeleteChannelCommand:()=>fn,DeleteChannelFlowCommand:()=>gn,DeleteChannelMembershipCommand:()=>wn,DeleteChannelMessageCommand:()=>yn,DeleteChannelModeratorCommand:()=>vn,DeleteMessagingStreamingConfigurationsCommand:()=>bn,DescribeChannelBanCommand:()=>Sn,DescribeChannelBanResponseFilterSensitiveLog:()=>tt,DescribeChannelCommand:()=>En,DescribeChannelFlowCommand:()=>Cn,DescribeChannelFlowResponseFilterSensitiveLog:()=>nt,DescribeChannelMembershipCommand:()=>xn,DescribeChannelMembershipForAppInstanceUserCommand:()=>In,DescribeChannelMembershipForAppInstanceUserResponseFilterSensitiveLog:()=>rt,DescribeChannelMembershipResponseFilterSensitiveLog:()=>it,DescribeChannelModeratedByAppInstanceUserCommand:()=>kn,DescribeChannelModeratedByAppInstanceUserResponseFilterSensitiveLog:()=>at,DescribeChannelModeratorCommand:()=>Pn,DescribeChannelModeratorResponseFilterSensitiveLog:()=>ot,DescribeChannelResponseFilterSensitiveLog:()=>et,DisassociateChannelFlowCommand:()=>An,ErrorCode:()=>ee,ExpirationCriterion:()=>le,FallbackAction:()=>me,ForbiddenException:()=>ie,GetChannelMembershipPreferencesCommand:()=>Tn,GetChannelMembershipPreferencesResponseFilterSensitiveLog:()=>st,GetChannelMessageCommand:()=>Mn,GetChannelMessageResponseFilterSensitiveLog:()=>ct,GetChannelMessageStatusCommand:()=>Rn,GetMessagingSessionEndpointCommand:()=>Fn,GetMessagingStreamingConfigurationsCommand:()=>_n,IdentityFilterSensitiveLog:()=>Ce,InvocationType:()=>pe,ListChannelBansCommand:()=>On,ListChannelBansRequestFilterSensitiveLog:()=>dt,ListChannelBansResponseFilterSensitiveLog:()=>lt,ListChannelFlowsCommand:()=>Un,ListChannelFlowsRequestFilterSensitiveLog:()=>ut,ListChannelFlowsResponseFilterSensitiveLog:()=>ht,ListChannelMembershipsCommand:()=>Nn,ListChannelMembershipsForAppInstanceUserCommand:()=>zn,ListChannelMembershipsForAppInstanceUserRequestFilterSensitiveLog:()=>ft,ListChannelMembershipsForAppInstanceUserResponseFilterSensitiveLog:()=>gt,ListChannelMembershipsRequestFilterSensitiveLog:()=>pt,ListChannelMembershipsResponseFilterSensitiveLog:()=>mt,ListChannelMessagesCommand:()=>Dn,ListChannelMessagesRequestFilterSensitiveLog:()=>wt,ListChannelMessagesResponseFilterSensitiveLog:()=>yt,ListChannelModeratorsCommand:()=>Ln,ListChannelModeratorsRequestFilterSensitiveLog:()=>vt,ListChannelModeratorsResponseFilterSensitiveLog:()=>bt,ListChannelsAssociatedWithChannelFlowCommand:()=>Bn,ListChannelsAssociatedWithChannelFlowRequestFilterSensitiveLog:()=>Ct,ListChannelsAssociatedWithChannelFlowResponseFilterSensitiveLog:()=>xt,ListChannelsCommand:()=>qn,ListChannelsModeratedByAppInstanceUserCommand:()=>Vn,ListChannelsModeratedByAppInstanceUserRequestFilterSensitiveLog:()=>It,ListChannelsModeratedByAppInstanceUserResponseFilterSensitiveLog:()=>kt,ListChannelsRequestFilterSensitiveLog:()=>St,ListChannelsResponseFilterSensitiveLog:()=>Et,ListSubChannelsCommand:()=>jn,ListSubChannelsRequestFilterSensitiveLog:()=>Pt,ListSubChannelsResponseFilterSensitiveLog:()=>At,ListTagsForResourceCommand:()=>Wn,ListTagsForResourceResponseFilterSensitiveLog:()=>Tt,MessageAttributeValueFilterSensitiveLog:()=>Fe,MessagingDataType:()=>ve,NotFoundException:()=>re,ProcessorFilterSensitiveLog:()=>Me,PushNotificationConfigurationFilterSensitiveLog:()=>_e,PushNotificationPreferencesFilterSensitiveLog:()=>Be,PushNotificationType:()=>fe,PutChannelExpirationSettingsCommand:()=>$n,PutChannelMembershipPreferencesCommand:()=>Hn,PutChannelMembershipPreferencesRequestFilterSensitiveLog:()=>Mt,PutChannelMembershipPreferencesResponseFilterSensitiveLog:()=>Rt,PutMessagingStreamingConfigurationsCommand:()=>Gn,RedactChannelMessageCommand:()=>Kn,ResourceLimitExceededException:()=>de,SearchChannelsCommand:()=>Yn,SearchChannelsRequestFilterSensitiveLog:()=>Ft,SearchChannelsResponseFilterSensitiveLog:()=>_t,SearchFieldKey:()=>Se,SearchFieldOperator:()=>Ee,SendChannelMessageCommand:()=>Jn,SendChannelMessageRequestFilterSensitiveLog:()=>Ot,ServiceFailureException:()=>ae,ServiceUnavailableException:()=>oe,SortOrder:()=>be,TagFilterSensitiveLog:()=>Ke,TagResourceCommand:()=>Xn,TagResourceRequestFilterSensitiveLog:()=>Ut,ThrottledClientException:()=>se,UnauthorizedClientException:()=>ce,UntagResourceCommand:()=>Zn,UntagResourceRequestFilterSensitiveLog:()=>Nt,UpdateChannelCommand:()=>Qn,UpdateChannelFlowCommand:()=>ei,UpdateChannelFlowRequestFilterSensitiveLog:()=>Dt,UpdateChannelMessageCommand:()=>ti,UpdateChannelMessageRequestFilterSensitiveLog:()=>Lt,UpdateChannelReadMarkerCommand:()=>ni,UpdateChannelRequestFilterSensitiveLog:()=>zt,__Client:()=>h.KU,paginateListChannelBans:()=>oi,paginateListChannelFlows:()=>ci,paginateListChannelMemberships:()=>hi,paginateListChannelMembershipsForAppInstanceUser:()=>li,paginateListChannelMessages:()=>mi,paginateListChannelModerators:()=>gi,paginateListChannels:()=>Ei,paginateListChannelsAssociatedWithChannelFlow:()=>yi,paginateListChannelsModeratedByAppInstanceUser:()=>bi,paginateListSubChannels:()=>xi,paginateSearchChannels:()=>ki});var i=n(8876),r=n(7085),a=n(4618),o=n(6848),s=n(2831),c=n(1769),d=n(7669),l=n(4307),u=n(6835),h=n(4152);var p=n(7643),m=n(6582),f=n(871),g=n(6524),w=n(9082),y=n(7915),v=n(6795),b=n(7849),S=n(2498),E=n(6521),C=n(1065);const x="required",I="fn",k="argv",P="ref",A="isSet",T="tree",M="error",R="endpoint",F="PartitionResult",_={[x]:!1,type:"String"},O={[x]:!0,default:!1,type:"Boolean"},U={[P]:"Endpoint"},N={[I]:"booleanEquals",[k]:[{[P]:"UseFIPS"},!0]},z={[I]:"booleanEquals",[k]:[{[P]:"UseDualStack"},!0]},D={},L={[I]:"booleanEquals",[k]:[!0,{[I]:"getAttr",[k]:[{[P]:F},"supportsFIPS"]}]},B={[I]:"booleanEquals",[k]:[!0,{[I]:"getAttr",[k]:[{[P]:F},"supportsDualStack"]}]},q=[N],V=[z],j=[{[P]:"Region"}],W={version:"1.0",parameters:{Region:_,UseDualStack:O,UseFIPS:O,Endpoint:_},rules:[{conditions:[{[I]:A,[k]:[U]}],type:T,rules:[{conditions:q,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:M},{type:T,rules:[{conditions:V,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:M},{endpoint:{url:U,properties:D,headers:D},type:R}]}]},{type:T,rules:[{conditions:[{[I]:A,[k]:j}],type:T,rules:[{conditions:[{[I]:"aws.partition",[k]:j,assign:F}],type:T,rules:[{conditions:[N,z],type:T,rules:[{conditions:[L,B],type:T,rules:[{type:T,rules:[{endpoint:{url:"https://messaging-chime-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:D,headers:D},type:R}]}]},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:M}]},{conditions:q,type:T,rules:[{conditions:[L],type:T,rules:[{type:T,rules:[{endpoint:{url:"https://messaging-chime-fips.{Region}.{PartitionResult#dnsSuffix}",properties:D,headers:D},type:R}]}]},{error:"FIPS is enabled but this partition does not support FIPS",type:M}]},{conditions:V,type:T,rules:[{conditions:[B],type:T,rules:[{type:T,rules:[{endpoint:{url:"https://messaging-chime.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:D,headers:D},type:R}]}]},{error:"DualStack is enabled but this partition does not support DualStack",type:M}]},{type:T,rules:[{endpoint:{url:"https://messaging-chime.{Region}.{PartitionResult#dnsSuffix}",properties:D,headers:D},type:R}]}]}]},{error:"Invalid Configuration: Missing Region",type:M}]}]},$=(e,t={})=>(0,C.B1)(W,{endpointParams:e,logger:t.logger});var H=n(2971);class G extends h.KU{constructor(e){const t=(n=(e=>{const t=(0,H.j)(e),n=()=>t().then(h.jv),r=(e=>({apiVersion:"2021-05-15",base64Decoder:e?.base64Decoder??b.G,base64Encoder:e?.base64Encoder??b.s,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??$,logger:e?.logger??new h.vk,serviceId:e?.serviceId??"Chime SDK Messaging",urlParser:e?.urlParser??v.e,utf8Decoder:e?.utf8Decoder??S.$,utf8Encoder:e?.utf8Encoder??E.G}))(e);return{...r,...e,runtime:"browser",defaultsMode:t,bodyLengthChecker:e?.bodyLengthChecker??g.W,credentialDefaultProvider:e?.credentialDefaultProvider??(e=>()=>Promise.reject(new Error("Credential is missing"))),defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,y.f)({serviceId:r.serviceId,clientVersion:"3.359.0"}),maxAttempts:e?.maxAttempts??w.J,region:e?.region??(0,f.n)("Region is missing"),requestHandler:e?.requestHandler??new m.B(n),retryMode:e?.retryMode??(async()=>(await n()).retryMode||w.CA),sha256:e?.sha256??p.Sha256,streamCollector:e?.streamCollector??m.C,useDualstackEndpoint:e?.useDualstackEndpoint??(()=>Promise.resolve(i.JY)),useFipsEndpoint:e?.useFipsEndpoint??(()=>Promise.resolve(i.Fh))}})(e),{...n,useDualstackEndpoint:n.useDualstackEndpoint??!1,useFipsEndpoint:n.useFipsEndpoint??!1,defaultSigningName:"chime"});var n;const C=(0,i.Xb)(t),x=(0,a.uW)(C),I=(0,d.BC)(x),k=(0,o.S8)(I),P=(0,l.A$)(k),A=(0,u.er)(P);super(A),this.config=A,this.middlewareStack.use((0,d.NQ)(this.config)),this.middlewareStack.use((0,r.VG)(this.config)),this.middlewareStack.use((0,o.G2)(this.config)),this.middlewareStack.use((0,s.cV)(this.config)),this.middlewareStack.use((0,c.eV)(this.config)),this.middlewareStack.use((0,l.yt)(this.config)),this.middlewareStack.use((0,u.XJ)(this.config))}destroy(){super.destroy()}}var K=n(8493),Y=n(5044),J=n(4586);class X extends h.sI{constructor(e){super(e),Object.setPrototypeOf(this,X.prototype)}}const Z={ALL:"ALL",FILTERED:"FILTERED",NONE:"NONE"},Q={DEFAULT:"DEFAULT",HIDDEN:"HIDDEN"},ee={AccessDenied:"AccessDenied",BadRequest:"BadRequest",Conflict:"Conflict",Forbidden:"Forbidden",NotFound:"NotFound",PhoneNumberAssociationsExist:"PhoneNumberAssociationsExist",PreconditionFailed:"PreconditionFailed",ResourceLimitExceeded:"ResourceLimitExceeded",ServiceFailure:"ServiceFailure",ServiceUnavailable:"ServiceUnavailable",Throttled:"Throttled",Throttling:"Throttling",Unauthorized:"Unauthorized",Unprocessable:"Unprocessable",VoiceConnectorGroupAssociationsExist:"VoiceConnectorGroupAssociationsExist"};class te extends X{constructor(e){super({name:"BadRequestException",$fault:"client",...e}),this.name="BadRequestException",this.$fault="client",Object.setPrototypeOf(this,te.prototype),this.Code=e.Code,this.Message=e.Message}}class ne extends X{constructor(e){super({name:"ConflictException",$fault:"client",...e}),this.name="ConflictException",this.$fault="client",Object.setPrototypeOf(this,ne.prototype),this.Code=e.Code,this.Message=e.Message}}class ie extends X{constructor(e){super({name:"ForbiddenException",$fault:"client",...e}),this.name="ForbiddenException",this.$fault="client",Object.setPrototypeOf(this,ie.prototype),this.Code=e.Code,this.Message=e.Message}}class re extends X{constructor(e){super({name:"NotFoundException",$fault:"client",...e}),this.name="NotFoundException",this.$fault="client",Object.setPrototypeOf(this,re.prototype),this.Code=e.Code,this.Message=e.Message}}class ae extends X{constructor(e){super({name:"ServiceFailureException",$fault:"server",...e}),this.name="ServiceFailureException",this.$fault="server",Object.setPrototypeOf(this,ae.prototype),this.Code=e.Code,this.Message=e.Message}}class oe extends X{constructor(e){super({name:"ServiceUnavailableException",$fault:"server",...e}),this.name="ServiceUnavailableException",this.$fault="server",Object.setPrototypeOf(this,oe.prototype),this.Code=e.Code,this.Message=e.Message}}class se extends X{constructor(e){super({name:"ThrottledClientException",$fault:"client",...e}),this.name="ThrottledClientException",this.$fault="client",Object.setPrototypeOf(this,se.prototype),this.Code=e.Code,this.Message=e.Message}}class ce extends X{constructor(e){super({name:"UnauthorizedClientException",$fault:"client",...e}),this.name="UnauthorizedClientException",this.$fault="client",Object.setPrototypeOf(this,ce.prototype),this.Code=e.Code,this.Message=e.Message}}class de extends X{constructor(e){super({name:"ResourceLimitExceededException",$fault:"client",...e}),this.name="ResourceLimitExceededException",this.$fault="client",Object.setPrototypeOf(this,de.prototype),this.Code=e.Code,this.Message=e.Message}}const le={CREATED_TIMESTAMP:"CREATED_TIMESTAMP",LAST_MESSAGE_TIMESTAMP:"LAST_MESSAGE_TIMESTAMP"},ue={RESTRICTED:"RESTRICTED",UNRESTRICTED:"UNRESTRICTED"},he={PRIVATE:"PRIVATE",PUBLIC:"PUBLIC"},pe={ASYNC:"ASYNC"},me={ABORT:"ABORT",CONTINUE:"CONTINUE"},fe={DEFAULT:"DEFAULT",VOIP:"VOIP"},ge={NON_PERSISTENT:"NON_PERSISTENT",PERSISTENT:"PERSISTENT"},we={DENIED:"DENIED",FAILED:"FAILED",PENDING:"PENDING",SENT:"SENT"},ye={CONTROL:"CONTROL",STANDARD:"STANDARD"},ve={Channel:"Channel",ChannelMessage:"ChannelMessage"},be={ASCENDING:"ASCENDING",DESCENDING:"DESCENDING"},Se={MEMBERS:"MEMBERS"},Ee={EQUALS:"EQUALS",INCLUDES:"INCLUDES"},Ce=e=>({...e,...e.Name&&{Name:h.oc}}),xe=e=>({...e,...e.InvitedBy&&{InvitedBy:Ce(e.InvitedBy)},...e.Members&&{Members:e.Members.map((e=>Ce(e)))}}),Ie=e=>({...e,...e.BatchChannelMemberships&&{BatchChannelMemberships:xe(e.BatchChannelMemberships)}}),ke=e=>({...e,...e.Name&&{Name:h.oc},...e.Metadata&&{Metadata:h.oc},...e.CreatedBy&&{CreatedBy:Ce(e.CreatedBy)}}),Pe=e=>({...e,...e.Name&&{Name:h.oc},...e.Metadata&&{Metadata:h.oc}}),Ae=e=>({...e,...e.Member&&{Member:Ce(e.Member)},...e.CreatedBy&&{CreatedBy:Ce(e.CreatedBy)}}),Te=e=>({...e,...e.Member&&{Member:Ce(e.Member)}}),Me=e=>({...e,...e.Name&&{Name:h.oc}}),Re=e=>({...e,...e.Processors&&{Processors:e.Processors.map((e=>Me(e)))},...e.Name&&{Name:h.oc}}),Fe=e=>({...e,...e.StringValues&&{StringValues:h.oc}}),_e=e=>({...e,...e.Title&&{Title:h.oc},...e.Body&&{Body:h.oc}}),Oe=e=>({...e,...e.Content&&{Content:h.oc},...e.Metadata&&{Metadata:h.oc},...e.PushNotification&&{PushNotification:_e(e.PushNotification)},...e.MessageAttributes&&{MessageAttributes:Object.entries(e.MessageAttributes).reduce(((e,[t,n])=>(e[t]=Fe(n),e)),{})},...e.ContentType&&{ContentType:h.oc}}),Ue=e=>({...e,...e.ChannelMessage&&{ChannelMessage:Oe(e.ChannelMessage)}}),Ne=e=>({...e,...e.Name&&{Name:h.oc},...e.Processors&&{Processors:e.Processors.map((e=>Me(e)))}}),ze=e=>({...e,...e.InvitedBy&&{InvitedBy:Ce(e.InvitedBy)},...e.Member&&{Member:Ce(e.Member)}}),De=e=>({...e,...e.Name&&{Name:h.oc},...e.Metadata&&{Metadata:h.oc}}),Le=e=>({...e,...e.ChannelSummary&&{ChannelSummary:De(e.ChannelSummary)}}),Be=e=>({...e,...e.FilterRule&&{FilterRule:h.oc}}),qe=e=>({...e,...e.PushNotifications&&{PushNotifications:Be(e.PushNotifications)}}),Ve=e=>({...e,...e.Member&&{Member:Ce(e.Member)}}),je=e=>({...e,...e.Content&&{Content:h.oc},...e.Metadata&&{Metadata:h.oc},...e.Sender&&{Sender:Ce(e.Sender)},...e.MessageAttributes&&{MessageAttributes:Object.entries(e.MessageAttributes).reduce(((e,[t,n])=>(e[t]=Fe(n),e)),{})},...e.ContentType&&{ContentType:h.oc}}),We=e=>({...e,...e.Content&&{Content:h.oc},...e.Metadata&&{Metadata:h.oc},...e.Sender&&{Sender:Ce(e.Sender)},...e.MessageAttributes&&{MessageAttributes:Object.entries(e.MessageAttributes).reduce(((e,[t,n])=>(e[t]=Fe(n),e)),{})},...e.ContentType&&{ContentType:h.oc}}),$e=e=>({...e,...e.ChannelSummary&&{ChannelSummary:De(e.ChannelSummary)}}),He=e=>({...e,...e.Moderator&&{Moderator:Ce(e.Moderator)},...e.CreatedBy&&{CreatedBy:Ce(e.CreatedBy)}}),Ge=e=>({...e,...e.Moderator&&{Moderator:Ce(e.Moderator)}}),Ke=e=>({...e,...e.Key&&{Key:h.oc},...e.Value&&{Value:h.oc}}),Ye=e=>({...e,...e.Name&&{Name:h.oc},...e.Metadata&&{Metadata:h.oc},...e.ClientRequestToken&&{ClientRequestToken:h.oc},...e.Tags&&{Tags:e.Tags.map((e=>Ke(e)))},...e.ChannelId&&{ChannelId:h.oc}}),Je=e=>({...e,...e.Member&&{Member:Ce(e.Member)}}),Xe=e=>({...e,...e.Processors&&{Processors:e.Processors.map((e=>Me(e)))},...e.Name&&{Name:h.oc},...e.Tags&&{Tags:e.Tags.map((e=>Ke(e)))},...e.ClientRequestToken&&{ClientRequestToken:h.oc}}),Ze=e=>({...e,...e.Member&&{Member:Ce(e.Member)}}),Qe=e=>({...e,...e.ChannelModerator&&{ChannelModerator:Ce(e.ChannelModerator)}}),et=e=>({...e,...e.Channel&&{Channel:ke(e.Channel)}}),tt=e=>({...e,...e.ChannelBan&&{ChannelBan:Ae(e.ChannelBan)}}),nt=e=>({...e,...e.ChannelFlow&&{ChannelFlow:Re(e.ChannelFlow)}}),it=e=>({...e,...e.ChannelMembership&&{ChannelMembership:ze(e.ChannelMembership)}}),rt=e=>({...e,...e.ChannelMembership&&{ChannelMembership:Le(e.ChannelMembership)}}),at=e=>({...e,...e.Channel&&{Channel:$e(e.Channel)}}),ot=e=>({...e,...e.ChannelModerator&&{ChannelModerator:He(e.ChannelModerator)}}),st=e=>({...e,...e.Member&&{Member:Ce(e.Member)},...e.Preferences&&{Preferences:qe(e.Preferences)}}),ct=e=>({...e,...e.ChannelMessage&&{ChannelMessage:je(e.ChannelMessage)}}),dt=e=>({...e,...e.NextToken&&{NextToken:h.oc}}),lt=e=>({...e,...e.NextToken&&{NextToken:h.oc},...e.ChannelBans&&{ChannelBans:e.ChannelBans.map((e=>Te(e)))}}),ut=e=>({...e,...e.NextToken&&{NextToken:h.oc}}),ht=e=>({...e,...e.ChannelFlows&&{ChannelFlows:e.ChannelFlows.map((e=>Ne(e)))},...e.NextToken&&{NextToken:h.oc}}),pt=e=>({...e,...e.NextToken&&{NextToken:h.oc}}),mt=e=>({...e,...e.ChannelMemberships&&{ChannelMemberships:e.ChannelMemberships.map((e=>Ve(e)))},...e.NextToken&&{NextToken:h.oc}}),ft=e=>({...e,...e.NextToken&&{NextToken:h.oc}}),gt=e=>({...e,...e.ChannelMemberships&&{ChannelMemberships:e.ChannelMemberships.map((e=>Le(e)))},...e.NextToken&&{NextToken:h.oc}}),wt=e=>({...e,...e.NextToken&&{NextToken:h.oc}}),yt=e=>({...e,...e.NextToken&&{NextToken:h.oc},...e.ChannelMessages&&{ChannelMessages:e.ChannelMessages.map((e=>We(e)))}}),vt=e=>({...e,...e.NextToken&&{NextToken:h.oc}}),bt=e=>({...e,...e.NextToken&&{NextToken:h.oc},...e.ChannelModerators&&{ChannelModerators:e.ChannelModerators.map((e=>Ge(e)))}}),St=e=>({...e,...e.NextToken&&{NextToken:h.oc}}),Et=e=>({...e,...e.Channels&&{Channels:e.Channels.map((e=>De(e)))},...e.NextToken&&{NextToken:h.oc}}),Ct=e=>({...e,...e.NextToken&&{NextToken:h.oc}}),xt=e=>({...e,...e.Channels&&{Channels:e.Channels.map((e=>Pe(e)))},...e.NextToken&&{NextToken:h.oc}}),It=e=>({...e,...e.NextToken&&{NextToken:h.oc}}),kt=e=>({...e,...e.Channels&&{Channels:e.Channels.map((e=>$e(e)))},...e.NextToken&&{NextToken:h.oc}}),Pt=e=>({...e,...e.NextToken&&{NextToken:h.oc}}),At=e=>({...e,...e.NextToken&&{NextToken:h.oc}}),Tt=e=>({...e,...e.Tags&&{Tags:e.Tags.map((e=>Ke(e)))}}),Mt=e=>({...e,...e.Preferences&&{Preferences:qe(e.Preferences)}}),Rt=e=>({...e,...e.Member&&{Member:Ce(e.Member)},...e.Preferences&&{Preferences:qe(e.Preferences)}}),Ft=e=>({...e,...e.NextToken&&{NextToken:h.oc}}),_t=e=>({...e,...e.Channels&&{Channels:e.Channels.map((e=>De(e)))},...e.NextToken&&{NextToken:h.oc}}),Ot=e=>({...e,...e.Content&&{Content:h.oc},...e.Metadata&&{Metadata:h.oc},...e.ClientRequestToken&&{ClientRequestToken:h.oc},...e.PushNotification&&{PushNotification:_e(e.PushNotification)},...e.MessageAttributes&&{MessageAttributes:Object.entries(e.MessageAttributes).reduce(((e,[t,n])=>(e[t]=Fe(n),e)),{})},...e.ContentType&&{ContentType:h.oc}}),Ut=e=>({...e,...e.Tags&&{Tags:e.Tags.map((e=>Ke(e)))}}),Nt=e=>({...e,...e.TagKeys&&{TagKeys:h.oc}}),zt=e=>({...e,...e.Name&&{Name:h.oc},...e.Metadata&&{Metadata:h.oc}}),Dt=e=>({...e,...e.Processors&&{Processors:e.Processors.map((e=>Me(e)))},...e.Name&&{Name:h.oc}}),Lt=e=>({...e,...e.Content&&{Content:h.oc},...e.Metadata&&{Metadata:h.oc},...e.ContentType&&{ContentType:h.oc}}),Bt=(0,h.PC)(X),qt=async(e,t)=>{const n=(0,h.UI)({}),i=e.body,r=(0,h.qn)(i,{Code:h.pY,Message:h.pY});Object.assign(n,r);const a=new te({$metadata:en(e),...n});return(0,h.to)(a,e.body)},Vt=async(e,t)=>{const n=(0,h.UI)({}),i=e.body,r=(0,h.qn)(i,{Code:h.pY,Message:h.pY});Object.assign(n,r);const a=new ne({$metadata:en(e),...n});return(0,h.to)(a,e.body)},jt=async(e,t)=>{const n=(0,h.UI)({}),i=e.body,r=(0,h.qn)(i,{Code:h.pY,Message:h.pY});Object.assign(n,r);const a=new ie({$metadata:en(e),...n});return(0,h.to)(a,e.body)},Wt=async(e,t)=>{const n=(0,h.UI)({}),i=e.body,r=(0,h.qn)(i,{Code:h.pY,Message:h.pY});Object.assign(n,r);const a=new re({$metadata:en(e),...n});return(0,h.to)(a,e.body)},$t=async(e,t)=>{const n=(0,h.UI)({}),i=e.body,r=(0,h.qn)(i,{Code:h.pY,Message:h.pY});Object.assign(n,r);const a=new de({$metadata:en(e),...n});return(0,h.to)(a,e.body)},Ht=async(e,t)=>{const n=(0,h.UI)({}),i=e.body,r=(0,h.qn)(i,{Code:h.pY,Message:h.pY});Object.assign(n,r);const a=new ae({$metadata:en(e),...n});return(0,h.to)(a,e.body)},Gt=async(e,t)=>{const n=(0,h.UI)({}),i=e.body,r=(0,h.qn)(i,{Code:h.pY,Message:h.pY});Object.assign(n,r);const a=new oe({$metadata:en(e),...n});return(0,h.to)(a,e.body)},Kt=async(e,t)=>{const n=(0,h.UI)({}),i=e.body,r=(0,h.qn)(i,{Code:h.pY,Message:h.pY});Object.assign(n,r);const a=new se({$metadata:en(e),...n});return(0,h.to)(a,e.body)},Yt=async(e,t)=>{const n=(0,h.UI)({}),i=e.body,r=(0,h.qn)(i,{Code:h.pY,Message:h.pY});Object.assign(n,r);const a=new ce({$metadata:en(e),...n});return(0,h.to)(a,e.body)},Jt=(e,t)=>(0,h.qn)(e,{AppInstanceUserMembershipSummary:e=>((e,t)=>(0,h.qn)(e,{ReadMarkerTimestamp:e=>(0,h.CE)((0,h.KX)((0,h.Fx)(e))),SubChannelId:h.pY,Type:h.pY}))(e),ChannelSummary:e=>Zt(e,t)}),Xt=(e,t)=>(0,h.qn)(e,{ChannelSummary:e=>Zt(e,t)}),Zt=(e,t)=>(0,h.qn)(e,{ChannelArn:h.pY,LastMessageTimestamp:e=>(0,h.CE)((0,h.KX)((0,h.Fx)(e))),Metadata:h.pY,Mode:h.pY,Name:h.pY,Privacy:h.pY}),Qt=(e,t)=>{const n=(e||[]).filter((e=>null!=e)).map((e=>Zt(e,t)));return n},en=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),tn=e=>!(null==e||""===e||Object.getOwnPropertyNames(e).includes("length")&&0==e.length||Object.getOwnPropertyNames(e).includes("size")&&0==e.size),nn=(e,t)=>((e,t)=>(0,h.Wg)(e,t).then((e=>t.utf8Encoder(e))))(e,t).then((e=>e.length?JSON.parse(e):{})),rn=async(e,t)=>{const n=await nn(e,t);return n.message=n.message??n.Message,n},an=(e,t)=>{const n=e=>{let t=e;return"number"==typeof t&&(t=t.toString()),t.indexOf(",")>=0&&(t=t.split(",")[0]),t.indexOf(":")>=0&&(t=t.split(":")[0]),t.indexOf("#")>=0&&(t=t.split("#")[1]),t},i=(r=e.headers,"x-amzn-errortype",Object.keys(r).find((e=>e.toLowerCase()==="x-amzn-errortype".toLowerCase())));var r;return void 0!==i?n(e.headers[i]):void 0!==t.code?n(t.code):void 0!==t.__type?n(t.__type):void 0};class on extends h.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,a.a3)(t,on.getEndpointParameterInstructions()));const i=e.concat(this.middlewareStack),{logger:r}=t,o={logger:r,clientName:"ChimeSDKMessagingClient",commandName:"AssociateChannelFlowCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:e=>e},{requestHandler:s}=t;return i.resolve((e=>s.handle(e.request,n||{})),o)}serialize(e,t){return(async(e,t)=>{const{hostname:n,protocol:i="https",port:r,path:a}=await t.endpoint(),o=(0,h.UI)({},tn,{"content-type":"application/json","x-amz-chime-bearer":e.ChimeBearer});let s,c=`${a?.endsWith("/")?a.slice(0,-1):a||""}/channels/{ChannelArn}/channel-flow`;return c=(0,h.Is)(c,e,"ChannelArn",(()=>e.ChannelArn),"{ChannelArn}",!1),s=JSON.stringify((0,h.qn)(e,{ChannelFlowArn:[]})),new Y.aW({protocol:i,hostname:n,port:r,method:"PUT",headers:o,path:c,body:s})})(e,t)}deserialize(e,t){return(async(e,t)=>{if(200!==e.statusCode&&e.statusCode>=300)return(async(e,t)=>{const n={...e,body:await rn(e.body,t)},i=an(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":throw await qt(n,t);case"ConflictException":case"com.amazonaws.chimesdkmessaging#ConflictException":throw await Vt(n,t);case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw await jt(n,t);case"NotFoundException":case"com.amazonaws.chimesdkmessaging#NotFoundException":throw await Wt(n,t);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw await Ht(n,t);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw await Gt(n,t);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw await Kt(n,t);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw await Yt(n,t);default:const r=n.body;return Bt({output:e,parsedBody:r,errorCode:i})}})(e,t);const n=(0,h.UI)({$metadata:en(e)});return await(0,h.Wg)(e.body,t),n})(e,t)}}class sn extends h.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,a.a3)(t,sn.getEndpointParameterInstructions()));const i=e.concat(this.middlewareStack),{logger:r}=t,o={logger:r,clientName:"ChimeSDKMessagingClient",commandName:"BatchCreateChannelMembershipCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:Ie},{requestHandler:s}=t;return i.resolve((e=>s.handle(e.request,n||{})),o)}serialize(e,t){return(async(e,t)=>{const{hostname:n,protocol:i="https",port:r,path:a}=await t.endpoint(),o=(0,h.UI)({},tn,{"content-type":"application/json","x-amz-chime-bearer":e.ChimeBearer});let s=`${a?.endsWith("/")?a.slice(0,-1):a||""}/channels/{ChannelArn}/memberships`;s=(0,h.Is)(s,e,"ChannelArn",(()=>e.ChannelArn),"{ChannelArn}",!1);const c=(0,h.UI)({operation:[,"batch-create"]});let d;return d=JSON.stringify((0,h.qn)(e,{MemberArns:e=>(0,h.F3)(e),SubChannelId:[],Type:[]})),new Y.aW({protocol:i,hostname:n,port:r,method:"POST",headers:o,path:s,query:c,body:d})})(e,t)}deserialize(e,t){return(async(e,t)=>{if(200!==e.statusCode&&e.statusCode>=300)return(async(e,t)=>{const n={...e,body:await rn(e.body,t)},i=an(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":throw await qt(n,t);case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw await jt(n,t);case"NotFoundException":case"com.amazonaws.chimesdkmessaging#NotFoundException":throw await Wt(n,t);case"ResourceLimitExceededException":case"com.amazonaws.chimesdkmessaging#ResourceLimitExceededException":throw await $t(n,t);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw await Ht(n,t);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw await Gt(n,t);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw await Kt(n,t);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw await Yt(n,t);default:const r=n.body;return Bt({output:e,parsedBody:r,errorCode:i})}})(e,t);const n=(0,h.UI)({$metadata:en(e)}),i=(0,h.CE)((0,h.Wh)(await nn(e.body,t)),"body"),r=(0,h.qn)(i,{BatchChannelMemberships:h.F3,Errors:h.F3});return Object.assign(n,r),n})(e,t)}}class cn extends h.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,a.a3)(t,cn.getEndpointParameterInstructions()));const i=e.concat(this.middlewareStack),{logger:r}=t,o={logger:r,clientName:"ChimeSDKMessagingClient",commandName:"ChannelFlowCallbackCommand",inputFilterSensitiveLog:Ue,outputFilterSensitiveLog:e=>e},{requestHandler:s}=t;return i.resolve((e=>s.handle(e.request,n||{})),o)}serialize(e,t){return(async(e,t)=>{const{hostname:n,protocol:i="https",port:r,path:a}=await t.endpoint();let o=`${a?.endsWith("/")?a.slice(0,-1):a||""}/channels/{ChannelArn}`;o=(0,h.Is)(o,e,"ChannelArn",(()=>e.ChannelArn),"{ChannelArn}",!1);const s=(0,h.UI)({operation:[,"channel-flow-callback"]});let c;return c=JSON.stringify((0,h.qn)(e,{CallbackId:[!0,e=>e??(0,J.Z)()],ChannelMessage:e=>(0,h.F3)(e),DeleteResource:[]})),new Y.aW({protocol:i,hostname:n,port:r,method:"POST",headers:{"content-type":"application/json"},path:o,query:s,body:c})})(e,t)}deserialize(e,t){return(async(e,t)=>{if(200!==e.statusCode&&e.statusCode>=300)return(async(e,t)=>{const n={...e,body:await rn(e.body,t)},i=an(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":throw await qt(n,t);case"ConflictException":case"com.amazonaws.chimesdkmessaging#ConflictException":throw await Vt(n,t);case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw await jt(n,t);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw await Ht(n,t);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw await Gt(n,t);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw await Kt(n,t);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw await Yt(n,t);default:const r=n.body;return Bt({output:e,parsedBody:r,errorCode:i})}})(e,t);const n=(0,h.UI)({$metadata:en(e)}),i=(0,h.CE)((0,h.Wh)(await nn(e.body,t)),"body"),r=(0,h.qn)(i,{CallbackId:h.pY,ChannelArn:h.pY});return Object.assign(n,r),n})(e,t)}}class dn extends h.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,a.a3)(t,dn.getEndpointParameterInstructions()));const i=e.concat(this.middlewareStack),{logger:r}=t,o={logger:r,clientName:"ChimeSDKMessagingClient",commandName:"CreateChannelBanCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:Je},{requestHandler:s}=t;return i.resolve((e=>s.handle(e.request,n||{})),o)}serialize(e,t){return(async(e,t)=>{const{hostname:n,protocol:i="https",port:r,path:a}=await t.endpoint(),o=(0,h.UI)({},tn,{"content-type":"application/json","x-amz-chime-bearer":e.ChimeBearer});let s,c=`${a?.endsWith("/")?a.slice(0,-1):a||""}/channels/{ChannelArn}/bans`;return c=(0,h.Is)(c,e,"ChannelArn",(()=>e.ChannelArn),"{ChannelArn}",!1),s=JSON.stringify((0,h.qn)(e,{MemberArn:[]})),new Y.aW({protocol:i,hostname:n,port:r,method:"POST",headers:o,path:c,body:s})})(e,t)}deserialize(e,t){return(async(e,t)=>{if(201!==e.statusCode&&e.statusCode>=300)return(async(e,t)=>{const n={...e,body:await rn(e.body,t)},i=an(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":throw await qt(n,t);case"ConflictException":case"com.amazonaws.chimesdkmessaging#ConflictException":throw await Vt(n,t);case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw await jt(n,t);case"ResourceLimitExceededException":case"com.amazonaws.chimesdkmessaging#ResourceLimitExceededException":throw await $t(n,t);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw await Ht(n,t);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw await Gt(n,t);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw await Kt(n,t);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw await Yt(n,t);default:const r=n.body;return Bt({output:e,parsedBody:r,errorCode:i})}})(e,t);const n=(0,h.UI)({$metadata:en(e)}),i=(0,h.CE)((0,h.Wh)(await nn(e.body,t)),"body"),r=(0,h.qn)(i,{ChannelArn:h.pY,Member:h.F3});return Object.assign(n,r),n})(e,t)}}class ln extends h.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,a.a3)(t,ln.getEndpointParameterInstructions()));const i=e.concat(this.middlewareStack),{logger:r}=t,o={logger:r,clientName:"ChimeSDKMessagingClient",commandName:"CreateChannelCommand",inputFilterSensitiveLog:Ye,outputFilterSensitiveLog:e=>e},{requestHandler:s}=t;return i.resolve((e=>s.handle(e.request,n||{})),o)}serialize(e,t){return(async(e,t)=>{const{hostname:n,protocol:i="https",port:r,path:a}=await t.endpoint(),o=(0,h.UI)({},tn,{"content-type":"application/json","x-amz-chime-bearer":e.ChimeBearer}),s=`${a?.endsWith("/")?a.slice(0,-1):a||""}/channels`;let c;return c=JSON.stringify((0,h.qn)(e,{AppInstanceArn:[],ChannelId:[],ClientRequestToken:[!0,e=>e??(0,J.Z)()],ElasticChannelConfiguration:e=>(0,h.F3)(e),ExpirationSettings:e=>(0,h.F3)(e),MemberArns:e=>(0,h.F3)(e),Metadata:[],Mode:[],ModeratorArns:e=>(0,h.F3)(e),Name:[],Privacy:[],Tags:e=>(0,h.F3)(e)})),new Y.aW({protocol:i,hostname:n,port:r,method:"POST",headers:o,path:s,body:c})})(e,t)}deserialize(e,t){return(async(e,t)=>{if(201!==e.statusCode&&e.statusCode>=300)return(async(e,t)=>{const n={...e,body:await rn(e.body,t)},i=an(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":throw await qt(n,t);case"ConflictException":case"com.amazonaws.chimesdkmessaging#ConflictException":throw await Vt(n,t);case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw await jt(n,t);case"ResourceLimitExceededException":case"com.amazonaws.chimesdkmessaging#ResourceLimitExceededException":throw await $t(n,t);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw await Ht(n,t);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw await Gt(n,t);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw await Kt(n,t);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw await Yt(n,t);default:const r=n.body;return Bt({output:e,parsedBody:r,errorCode:i})}})(e,t);const n=(0,h.UI)({$metadata:en(e)}),i=(0,h.CE)((0,h.Wh)(await nn(e.body,t)),"body"),r=(0,h.qn)(i,{ChannelArn:h.pY});return Object.assign(n,r),n})(e,t)}}class un extends h.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,a.a3)(t,un.getEndpointParameterInstructions()));const i=e.concat(this.middlewareStack),{logger:r}=t,o={logger:r,clientName:"ChimeSDKMessagingClient",commandName:"CreateChannelFlowCommand",inputFilterSensitiveLog:Xe,outputFilterSensitiveLog:e=>e},{requestHandler:s}=t;return i.resolve((e=>s.handle(e.request,n||{})),o)}serialize(e,t){return(async(e,t)=>{const{hostname:n,protocol:i="https",port:r,path:a}=await t.endpoint(),o=`${a?.endsWith("/")?a.slice(0,-1):a||""}/channel-flows`;let s;return s=JSON.stringify((0,h.qn)(e,{AppInstanceArn:[],ClientRequestToken:[!0,e=>e??(0,J.Z)()],Name:[],Processors:e=>(0,h.F3)(e),Tags:e=>(0,h.F3)(e)})),new Y.aW({protocol:i,hostname:n,port:r,method:"POST",headers:{"content-type":"application/json"},path:o,body:s})})(e,t)}deserialize(e,t){return(async(e,t)=>{if(201!==e.statusCode&&e.statusCode>=300)return(async(e,t)=>{const n={...e,body:await rn(e.body,t)},i=an(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":throw await qt(n,t);case"ConflictException":case"com.amazonaws.chimesdkmessaging#ConflictException":throw await Vt(n,t);case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw await jt(n,t);case"ResourceLimitExceededException":case"com.amazonaws.chimesdkmessaging#ResourceLimitExceededException":throw await $t(n,t);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw await Ht(n,t);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw await Gt(n,t);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw await Kt(n,t);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw await Yt(n,t);default:const r=n.body;return Bt({output:e,parsedBody:r,errorCode:i})}})(e,t);const n=(0,h.UI)({$metadata:en(e)}),i=(0,h.CE)((0,h.Wh)(await nn(e.body,t)),"body"),r=(0,h.qn)(i,{ChannelFlowArn:h.pY});return Object.assign(n,r),n})(e,t)}}class hn extends h.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,a.a3)(t,hn.getEndpointParameterInstructions()));const i=e.concat(this.middlewareStack),{logger:r}=t,o={logger:r,clientName:"ChimeSDKMessagingClient",commandName:"CreateChannelMembershipCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:Ze},{requestHandler:s}=t;return i.resolve((e=>s.handle(e.request,n||{})),o)}serialize(e,t){return(async(e,t)=>{const{hostname:n,protocol:i="https",port:r,path:a}=await t.endpoint(),o=(0,h.UI)({},tn,{"content-type":"application/json","x-amz-chime-bearer":e.ChimeBearer});let s,c=`${a?.endsWith("/")?a.slice(0,-1):a||""}/channels/{ChannelArn}/memberships`;return c=(0,h.Is)(c,e,"ChannelArn",(()=>e.ChannelArn),"{ChannelArn}",!1),s=JSON.stringify((0,h.qn)(e,{MemberArn:[],SubChannelId:[],Type:[]})),new Y.aW({protocol:i,hostname:n,port:r,method:"POST",headers:o,path:c,body:s})})(e,t)}deserialize(e,t){return(async(e,t)=>{if(201!==e.statusCode&&e.statusCode>=300)return(async(e,t)=>{const n={...e,body:await rn(e.body,t)},i=an(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":throw await qt(n,t);case"ConflictException":case"com.amazonaws.chimesdkmessaging#ConflictException":throw await Vt(n,t);case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw await jt(n,t);case"NotFoundException":case"com.amazonaws.chimesdkmessaging#NotFoundException":throw await Wt(n,t);case"ResourceLimitExceededException":case"com.amazonaws.chimesdkmessaging#ResourceLimitExceededException":throw await $t(n,t);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw await Ht(n,t);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw await Gt(n,t);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw await Kt(n,t);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw await Yt(n,t);default:const r=n.body;return Bt({output:e,parsedBody:r,errorCode:i})}})(e,t);const n=(0,h.UI)({$metadata:en(e)}),i=(0,h.CE)((0,h.Wh)(await nn(e.body,t)),"body"),r=(0,h.qn)(i,{ChannelArn:h.pY,Member:h.F3,SubChannelId:h.pY});return Object.assign(n,r),n})(e,t)}}class pn extends h.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,a.a3)(t,pn.getEndpointParameterInstructions()));const i=e.concat(this.middlewareStack),{logger:r}=t,o={logger:r,clientName:"ChimeSDKMessagingClient",commandName:"CreateChannelModeratorCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:Qe},{requestHandler:s}=t;return i.resolve((e=>s.handle(e.request,n||{})),o)}serialize(e,t){return(async(e,t)=>{const{hostname:n,protocol:i="https",port:r,path:a}=await t.endpoint(),o=(0,h.UI)({},tn,{"content-type":"application/json","x-amz-chime-bearer":e.ChimeBearer});let s,c=`${a?.endsWith("/")?a.slice(0,-1):a||""}/channels/{ChannelArn}/moderators`;return c=(0,h.Is)(c,e,"ChannelArn",(()=>e.ChannelArn),"{ChannelArn}",!1),s=JSON.stringify((0,h.qn)(e,{ChannelModeratorArn:[]})),new Y.aW({protocol:i,hostname:n,port:r,method:"POST",headers:o,path:c,body:s})})(e,t)}deserialize(e,t){return(async(e,t)=>{if(201!==e.statusCode&&e.statusCode>=300)return(async(e,t)=>{const n={...e,body:await rn(e.body,t)},i=an(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":throw await qt(n,t);case"ConflictException":case"com.amazonaws.chimesdkmessaging#ConflictException":throw await Vt(n,t);case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw await jt(n,t);case"ResourceLimitExceededException":case"com.amazonaws.chimesdkmessaging#ResourceLimitExceededException":throw await $t(n,t);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw await Ht(n,t);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw await Gt(n,t);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw await Kt(n,t);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw await Yt(n,t);default:const r=n.body;return Bt({output:e,parsedBody:r,errorCode:i})}})(e,t);const n=(0,h.UI)({$metadata:en(e)}),i=(0,h.CE)((0,h.Wh)(await nn(e.body,t)),"body"),r=(0,h.qn)(i,{ChannelArn:h.pY,ChannelModerator:h.F3});return Object.assign(n,r),n})(e,t)}}class mn extends h.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,a.a3)(t,mn.getEndpointParameterInstructions()));const i=e.concat(this.middlewareStack),{logger:r}=t,o={logger:r,clientName:"ChimeSDKMessagingClient",commandName:"DeleteChannelBanCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:e=>e},{requestHandler:s}=t;return i.resolve((e=>s.handle(e.request,n||{})),o)}serialize(e,t){return(async(e,t)=>{const{hostname:n,protocol:i="https",port:r,path:a}=await t.endpoint(),o=(0,h.UI)({},tn,{"x-amz-chime-bearer":e.ChimeBearer});let s=`${a?.endsWith("/")?a.slice(0,-1):a||""}/channels/{ChannelArn}/bans/{MemberArn}`;return s=(0,h.Is)(s,e,"ChannelArn",(()=>e.ChannelArn),"{ChannelArn}",!1),s=(0,h.Is)(s,e,"MemberArn",(()=>e.MemberArn),"{MemberArn}",!1),new Y.aW({protocol:i,hostname:n,port:r,method:"DELETE",headers:o,path:s,body:void 0})})(e,t)}deserialize(e,t){return(async(e,t)=>{if(204!==e.statusCode&&e.statusCode>=300)return(async(e,t)=>{const n={...e,body:await rn(e.body,t)},i=an(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":throw await qt(n,t);case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw await jt(n,t);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw await Ht(n,t);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw await Gt(n,t);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw await Kt(n,t);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw await Yt(n,t);default:const r=n.body;return Bt({output:e,parsedBody:r,errorCode:i})}})(e,t);const n=(0,h.UI)({$metadata:en(e)});return await(0,h.Wg)(e.body,t),n})(e,t)}}class fn extends h.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,a.a3)(t,fn.getEndpointParameterInstructions()));const i=e.concat(this.middlewareStack),{logger:r}=t,o={logger:r,clientName:"ChimeSDKMessagingClient",commandName:"DeleteChannelCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:e=>e},{requestHandler:s}=t;return i.resolve((e=>s.handle(e.request,n||{})),o)}serialize(e,t){return(async(e,t)=>{const{hostname:n,protocol:i="https",port:r,path:a}=await t.endpoint(),o=(0,h.UI)({},tn,{"x-amz-chime-bearer":e.ChimeBearer});let s=`${a?.endsWith("/")?a.slice(0,-1):a||""}/channels/{ChannelArn}`;return s=(0,h.Is)(s,e,"ChannelArn",(()=>e.ChannelArn),"{ChannelArn}",!1),new Y.aW({protocol:i,hostname:n,port:r,method:"DELETE",headers:o,path:s,body:void 0})})(e,t)}deserialize(e,t){return(async(e,t)=>{if(204!==e.statusCode&&e.statusCode>=300)return(async(e,t)=>{const n={...e,body:await rn(e.body,t)},i=an(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":throw await qt(n,t);case"ConflictException":case"com.amazonaws.chimesdkmessaging#ConflictException":throw await Vt(n,t);case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw await jt(n,t);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw await Ht(n,t);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw await Gt(n,t);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw await Kt(n,t);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw await Yt(n,t);default:const r=n.body;return Bt({output:e,parsedBody:r,errorCode:i})}})(e,t);const n=(0,h.UI)({$metadata:en(e)});return await(0,h.Wg)(e.body,t),n})(e,t)}}class gn extends h.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,a.a3)(t,gn.getEndpointParameterInstructions()));const i=e.concat(this.middlewareStack),{logger:r}=t,o={logger:r,clientName:"ChimeSDKMessagingClient",commandName:"DeleteChannelFlowCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:e=>e},{requestHandler:s}=t;return i.resolve((e=>s.handle(e.request,n||{})),o)}serialize(e,t){return(async(e,t)=>{const{hostname:n,protocol:i="https",port:r,path:a}=await t.endpoint();let o=`${a?.endsWith("/")?a.slice(0,-1):a||""}/channel-flows/{ChannelFlowArn}`;return o=(0,h.Is)(o,e,"ChannelFlowArn",(()=>e.ChannelFlowArn),"{ChannelFlowArn}",!1),new Y.aW({protocol:i,hostname:n,port:r,method:"DELETE",headers:{},path:o,body:void 0})})(e,t)}deserialize(e,t){return(async(e,t)=>{if(204!==e.statusCode&&e.statusCode>=300)return(async(e,t)=>{const n={...e,body:await rn(e.body,t)},i=an(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":throw await qt(n,t);case"ConflictException":case"com.amazonaws.chimesdkmessaging#ConflictException":throw await Vt(n,t);case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw await jt(n,t);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw await Ht(n,t);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw await Gt(n,t);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw await Kt(n,t);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw await Yt(n,t);default:const r=n.body;return Bt({output:e,parsedBody:r,errorCode:i})}})(e,t);const n=(0,h.UI)({$metadata:en(e)});return await(0,h.Wg)(e.body,t),n})(e,t)}}class wn extends h.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,a.a3)(t,wn.getEndpointParameterInstructions()));const i=e.concat(this.middlewareStack),{logger:r}=t,o={logger:r,clientName:"ChimeSDKMessagingClient",commandName:"DeleteChannelMembershipCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:e=>e},{requestHandler:s}=t;return i.resolve((e=>s.handle(e.request,n||{})),o)}serialize(e,t){return(async(e,t)=>{const{hostname:n,protocol:i="https",port:r,path:a}=await t.endpoint(),o=(0,h.UI)({},tn,{"x-amz-chime-bearer":e.ChimeBearer});let s=`${a?.endsWith("/")?a.slice(0,-1):a||""}/channels/{ChannelArn}/memberships/{MemberArn}`;s=(0,h.Is)(s,e,"ChannelArn",(()=>e.ChannelArn),"{ChannelArn}",!1),s=(0,h.Is)(s,e,"MemberArn",(()=>e.MemberArn),"{MemberArn}",!1);const c=(0,h.UI)({"sub-channel-id":[,e.SubChannelId]});return new Y.aW({protocol:i,hostname:n,port:r,method:"DELETE",headers:o,path:s,query:c,body:void 0})})(e,t)}deserialize(e,t){return(async(e,t)=>{if(204!==e.statusCode&&e.statusCode>=300)return(async(e,t)=>{const n={...e,body:await rn(e.body,t)},i=an(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":throw await qt(n,t);case"ConflictException":case"com.amazonaws.chimesdkmessaging#ConflictException":throw await Vt(n,t);case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw await jt(n,t);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw await Ht(n,t);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw await Gt(n,t);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw await Kt(n,t);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw await Yt(n,t);default:const r=n.body;return Bt({output:e,parsedBody:r,errorCode:i})}})(e,t);const n=(0,h.UI)({$metadata:en(e)});return await(0,h.Wg)(e.body,t),n})(e,t)}}class yn extends h.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,a.a3)(t,yn.getEndpointParameterInstructions()));const i=e.concat(this.middlewareStack),{logger:r}=t,o={logger:r,clientName:"ChimeSDKMessagingClient",commandName:"DeleteChannelMessageCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:e=>e},{requestHandler:s}=t;return i.resolve((e=>s.handle(e.request,n||{})),o)}serialize(e,t){return(async(e,t)=>{const{hostname:n,protocol:i="https",port:r,path:a}=await t.endpoint(),o=(0,h.UI)({},tn,{"x-amz-chime-bearer":e.ChimeBearer});let s=`${a?.endsWith("/")?a.slice(0,-1):a||""}/channels/{ChannelArn}/messages/{MessageId}`;s=(0,h.Is)(s,e,"ChannelArn",(()=>e.ChannelArn),"{ChannelArn}",!1),s=(0,h.Is)(s,e,"MessageId",(()=>e.MessageId),"{MessageId}",!1);const c=(0,h.UI)({"sub-channel-id":[,e.SubChannelId]});return new Y.aW({protocol:i,hostname:n,port:r,method:"DELETE",headers:o,path:s,query:c,body:void 0})})(e,t)}deserialize(e,t){return(async(e,t)=>{if(204!==e.statusCode&&e.statusCode>=300)return(async(e,t)=>{const n={...e,body:await rn(e.body,t)},i=an(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":throw await qt(n,t);case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw await jt(n,t);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw await Ht(n,t);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw await Gt(n,t);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw await Kt(n,t);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw await Yt(n,t);default:const r=n.body;return Bt({output:e,parsedBody:r,errorCode:i})}})(e,t);const n=(0,h.UI)({$metadata:en(e)});return await(0,h.Wg)(e.body,t),n})(e,t)}}class vn extends h.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,a.a3)(t,vn.getEndpointParameterInstructions()));const i=e.concat(this.middlewareStack),{logger:r}=t,o={logger:r,clientName:"ChimeSDKMessagingClient",commandName:"DeleteChannelModeratorCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:e=>e},{requestHandler:s}=t;return i.resolve((e=>s.handle(e.request,n||{})),o)}serialize(e,t){return(async(e,t)=>{const{hostname:n,protocol:i="https",port:r,path:a}=await t.endpoint(),o=(0,h.UI)({},tn,{"x-amz-chime-bearer":e.ChimeBearer});let s=`${a?.endsWith("/")?a.slice(0,-1):a||""}/channels/{ChannelArn}/moderators/{ChannelModeratorArn}`;return s=(0,h.Is)(s,e,"ChannelArn",(()=>e.ChannelArn),"{ChannelArn}",!1),s=(0,h.Is)(s,e,"ChannelModeratorArn",(()=>e.ChannelModeratorArn),"{ChannelModeratorArn}",!1),new Y.aW({protocol:i,hostname:n,port:r,method:"DELETE",headers:o,path:s,body:void 0})})(e,t)}deserialize(e,t){return(async(e,t)=>{if(204!==e.statusCode&&e.statusCode>=300)return(async(e,t)=>{const n={...e,body:await rn(e.body,t)},i=an(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":throw await qt(n,t);case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw await jt(n,t);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw await Ht(n,t);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw await Gt(n,t);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw await Kt(n,t);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw await Yt(n,t);default:const r=n.body;return Bt({output:e,parsedBody:r,errorCode:i})}})(e,t);const n=(0,h.UI)({$metadata:en(e)});return await(0,h.Wg)(e.body,t),n})(e,t)}}class bn extends h.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,a.a3)(t,bn.getEndpointParameterInstructions()));const i=e.concat(this.middlewareStack),{logger:r}=t,o={logger:r,clientName:"ChimeSDKMessagingClient",commandName:"DeleteMessagingStreamingConfigurationsCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:e=>e},{requestHandler:s}=t;return i.resolve((e=>s.handle(e.request,n||{})),o)}serialize(e,t){return(async(e,t)=>{const{hostname:n,protocol:i="https",port:r,path:a}=await t.endpoint();let o=`${a?.endsWith("/")?a.slice(0,-1):a||""}/app-instances/{AppInstanceArn}/streaming-configurations`;return o=(0,h.Is)(o,e,"AppInstanceArn",(()=>e.AppInstanceArn),"{AppInstanceArn}",!1),new Y.aW({protocol:i,hostname:n,port:r,method:"DELETE",headers:{},path:o,body:void 0})})(e,t)}deserialize(e,t){return(async(e,t)=>{if(204!==e.statusCode&&e.statusCode>=300)return(async(e,t)=>{const n={...e,body:await rn(e.body,t)},i=an(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":throw await qt(n,t);case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw await jt(n,t);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw await Ht(n,t);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw await Gt(n,t);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw await Kt(n,t);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw await Yt(n,t);default:const r=n.body;return Bt({output:e,parsedBody:r,errorCode:i})}})(e,t);const n=(0,h.UI)({$metadata:en(e)});return await(0,h.Wg)(e.body,t),n})(e,t)}}class Sn extends h.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,a.a3)(t,Sn.getEndpointParameterInstructions()));const i=e.concat(this.middlewareStack),{logger:r}=t,o={logger:r,clientName:"ChimeSDKMessagingClient",commandName:"DescribeChannelBanCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:tt},{requestHandler:s}=t;return i.resolve((e=>s.handle(e.request,n||{})),o)}serialize(e,t){return(async(e,t)=>{const{hostname:n,protocol:i="https",port:r,path:a}=await t.endpoint(),o=(0,h.UI)({},tn,{"x-amz-chime-bearer":e.ChimeBearer});let s=`${a?.endsWith("/")?a.slice(0,-1):a||""}/channels/{ChannelArn}/bans/{MemberArn}`;return s=(0,h.Is)(s,e,"ChannelArn",(()=>e.ChannelArn),"{ChannelArn}",!1),s=(0,h.Is)(s,e,"MemberArn",(()=>e.MemberArn),"{MemberArn}",!1),new Y.aW({protocol:i,hostname:n,port:r,method:"GET",headers:o,path:s,body:void 0})})(e,t)}deserialize(e,t){return(async(e,t)=>{if(200!==e.statusCode&&e.statusCode>=300)return(async(e,t)=>{const n={...e,body:await rn(e.body,t)},i=an(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":throw await qt(n,t);case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw await jt(n,t);case"NotFoundException":case"com.amazonaws.chimesdkmessaging#NotFoundException":throw await Wt(n,t);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw await Ht(n,t);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw await Gt(n,t);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw await Kt(n,t);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw await Yt(n,t);default:const r=n.body;return Bt({output:e,parsedBody:r,errorCode:i})}})(e,t);const n=(0,h.UI)({$metadata:en(e)}),i=(0,h.CE)((0,h.Wh)(await nn(e.body,t)),"body"),r=(0,h.qn)(i,{ChannelBan:e=>((e,t)=>(0,h.qn)(e,{ChannelArn:h.pY,CreatedBy:h.F3,CreatedTimestamp:e=>(0,h.CE)((0,h.KX)((0,h.Fx)(e))),Member:h.F3}))(e)});return Object.assign(n,r),n})(e,t)}}class En extends h.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,a.a3)(t,En.getEndpointParameterInstructions()));const i=e.concat(this.middlewareStack),{logger:r}=t,o={logger:r,clientName:"ChimeSDKMessagingClient",commandName:"DescribeChannelCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:et},{requestHandler:s}=t;return i.resolve((e=>s.handle(e.request,n||{})),o)}serialize(e,t){return(async(e,t)=>{const{hostname:n,protocol:i="https",port:r,path:a}=await t.endpoint(),o=(0,h.UI)({},tn,{"x-amz-chime-bearer":e.ChimeBearer});let s=`${a?.endsWith("/")?a.slice(0,-1):a||""}/channels/{ChannelArn}`;return s=(0,h.Is)(s,e,"ChannelArn",(()=>e.ChannelArn),"{ChannelArn}",!1),new Y.aW({protocol:i,hostname:n,port:r,method:"GET",headers:o,path:s,body:void 0})})(e,t)}deserialize(e,t){return(async(e,t)=>{if(200!==e.statusCode&&e.statusCode>=300)return(async(e,t)=>{const n={...e,body:await rn(e.body,t)},i=an(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":throw await qt(n,t);case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw await jt(n,t);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw await Ht(n,t);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw await Gt(n,t);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw await Kt(n,t);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw await Yt(n,t);default:const r=n.body;return Bt({output:e,parsedBody:r,errorCode:i})}})(e,t);const n=(0,h.UI)({$metadata:en(e)}),i=(0,h.CE)((0,h.Wh)(await nn(e.body,t)),"body"),r=(0,h.qn)(i,{Channel:e=>((e,t)=>(0,h.qn)(e,{ChannelArn:h.pY,ChannelFlowArn:h.pY,CreatedBy:h.F3,CreatedTimestamp:e=>(0,h.CE)((0,h.KX)((0,h.Fx)(e))),ElasticChannelConfiguration:h.F3,ExpirationSettings:h.F3,LastMessageTimestamp:e=>(0,h.CE)((0,h.KX)((0,h.Fx)(e))),LastUpdatedTimestamp:e=>(0,h.CE)((0,h.KX)((0,h.Fx)(e))),Metadata:h.pY,Mode:h.pY,Name:h.pY,Privacy:h.pY}))(e)});return Object.assign(n,r),n})(e,t)}}class Cn extends h.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,a.a3)(t,Cn.getEndpointParameterInstructions()));const i=e.concat(this.middlewareStack),{logger:r}=t,o={logger:r,clientName:"ChimeSDKMessagingClient",commandName:"DescribeChannelFlowCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:nt},{requestHandler:s}=t;return i.resolve((e=>s.handle(e.request,n||{})),o)}serialize(e,t){return(async(e,t)=>{const{hostname:n,protocol:i="https",port:r,path:a}=await t.endpoint();let o=`${a?.endsWith("/")?a.slice(0,-1):a||""}/channel-flows/{ChannelFlowArn}`;return o=(0,h.Is)(o,e,"ChannelFlowArn",(()=>e.ChannelFlowArn),"{ChannelFlowArn}",!1),new Y.aW({protocol:i,hostname:n,port:r,method:"GET",headers:{},path:o,body:void 0})})(e,t)}deserialize(e,t){return(async(e,t)=>{if(200!==e.statusCode&&e.statusCode>=300)return(async(e,t)=>{const n={...e,body:await rn(e.body,t)},i=an(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":throw await qt(n,t);case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw await jt(n,t);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw await Ht(n,t);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw await Gt(n,t);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw await Kt(n,t);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw await Yt(n,t);default:const r=n.body;return Bt({output:e,parsedBody:r,errorCode:i})}})(e,t);const n=(0,h.UI)({$metadata:en(e)}),i=(0,h.CE)((0,h.Wh)(await nn(e.body,t)),"body"),r=(0,h.qn)(i,{ChannelFlow:e=>((e,t)=>(0,h.qn)(e,{ChannelFlowArn:h.pY,CreatedTimestamp:e=>(0,h.CE)((0,h.KX)((0,h.Fx)(e))),LastUpdatedTimestamp:e=>(0,h.CE)((0,h.KX)((0,h.Fx)(e))),Name:h.pY,Processors:h.F3}))(e)});return Object.assign(n,r),n})(e,t)}}class xn extends h.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,a.a3)(t,xn.getEndpointParameterInstructions()));const i=e.concat(this.middlewareStack),{logger:r}=t,o={logger:r,clientName:"ChimeSDKMessagingClient",commandName:"DescribeChannelMembershipCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:it},{requestHandler:s}=t;return i.resolve((e=>s.handle(e.request,n||{})),o)}serialize(e,t){return(async(e,t)=>{const{hostname:n,protocol:i="https",port:r,path:a}=await t.endpoint(),o=(0,h.UI)({},tn,{"x-amz-chime-bearer":e.ChimeBearer});let s=`${a?.endsWith("/")?a.slice(0,-1):a||""}/channels/{ChannelArn}/memberships/{MemberArn}`;s=(0,h.Is)(s,e,"ChannelArn",(()=>e.ChannelArn),"{ChannelArn}",!1),s=(0,h.Is)(s,e,"MemberArn",(()=>e.MemberArn),"{MemberArn}",!1);const c=(0,h.UI)({"sub-channel-id":[,e.SubChannelId]});return new Y.aW({protocol:i,hostname:n,port:r,method:"GET",headers:o,path:s,query:c,body:void 0})})(e,t)}deserialize(e,t){return(async(e,t)=>{if(200!==e.statusCode&&e.statusCode>=300)return(async(e,t)=>{const n={...e,body:await rn(e.body,t)},i=an(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":throw await qt(n,t);case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw await jt(n,t);case"NotFoundException":case"com.amazonaws.chimesdkmessaging#NotFoundException":throw await Wt(n,t);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw await Ht(n,t);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw await Gt(n,t);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw await Kt(n,t);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw await Yt(n,t);default:const r=n.body;return Bt({output:e,parsedBody:r,errorCode:i})}})(e,t);const n=(0,h.UI)({$metadata:en(e)}),i=(0,h.CE)((0,h.Wh)(await nn(e.body,t)),"body"),r=(0,h.qn)(i,{ChannelMembership:e=>((e,t)=>(0,h.qn)(e,{ChannelArn:h.pY,CreatedTimestamp:e=>(0,h.CE)((0,h.KX)((0,h.Fx)(e))),InvitedBy:h.F3,LastUpdatedTimestamp:e=>(0,h.CE)((0,h.KX)((0,h.Fx)(e))),Member:h.F3,SubChannelId:h.pY,Type:h.pY}))(e)});return Object.assign(n,r),n})(e,t)}}class In extends h.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,a.a3)(t,In.getEndpointParameterInstructions()));const i=e.concat(this.middlewareStack),{logger:r}=t,o={logger:r,clientName:"ChimeSDKMessagingClient",commandName:"DescribeChannelMembershipForAppInstanceUserCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:rt},{requestHandler:s}=t;return i.resolve((e=>s.handle(e.request,n||{})),o)}serialize(e,t){return(async(e,t)=>{const{hostname:n,protocol:i="https",port:r,path:a}=await t.endpoint(),o=(0,h.UI)({},tn,{"x-amz-chime-bearer":e.ChimeBearer});let s=`${a?.endsWith("/")?a.slice(0,-1):a||""}/channels/{ChannelArn}`;s=(0,h.Is)(s,e,"ChannelArn",(()=>e.ChannelArn),"{ChannelArn}",!1);const c=(0,h.UI)({scope:[,"app-instance-user-membership"],"app-instance-user-arn":[,(0,h.CE)(e.AppInstanceUserArn,"AppInstanceUserArn")]});return new Y.aW({protocol:i,hostname:n,port:r,method:"GET",headers:o,path:s,query:c,body:void 0})})(e,t)}deserialize(e,t){return(async(e,t)=>{if(200!==e.statusCode&&e.statusCode>=300)return(async(e,t)=>{const n={...e,body:await rn(e.body,t)},i=an(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":throw await qt(n,t);case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw await jt(n,t);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw await Ht(n,t);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw await Gt(n,t);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw await Kt(n,t);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw await Yt(n,t);default:const r=n.body;return Bt({output:e,parsedBody:r,errorCode:i})}})(e,t);const n=(0,h.UI)({$metadata:en(e)}),i=(0,h.CE)((0,h.Wh)(await nn(e.body,t)),"body"),r=(0,h.qn)(i,{ChannelMembership:e=>Jt(e,t)});return Object.assign(n,r),n})(e,t)}}class kn extends h.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,a.a3)(t,kn.getEndpointParameterInstructions()));const i=e.concat(this.middlewareStack),{logger:r}=t,o={logger:r,clientName:"ChimeSDKMessagingClient",commandName:"DescribeChannelModeratedByAppInstanceUserCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:at},{requestHandler:s}=t;return i.resolve((e=>s.handle(e.request,n||{})),o)}serialize(e,t){return(async(e,t)=>{const{hostname:n,protocol:i="https",port:r,path:a}=await t.endpoint(),o=(0,h.UI)({},tn,{"x-amz-chime-bearer":e.ChimeBearer});let s=`${a?.endsWith("/")?a.slice(0,-1):a||""}/channels/{ChannelArn}`;s=(0,h.Is)(s,e,"ChannelArn",(()=>e.ChannelArn),"{ChannelArn}",!1);const c=(0,h.UI)({scope:[,"app-instance-user-moderated-channel"],"app-instance-user-arn":[,(0,h.CE)(e.AppInstanceUserArn,"AppInstanceUserArn")]});return new Y.aW({protocol:i,hostname:n,port:r,method:"GET",headers:o,path:s,query:c,body:void 0})})(e,t)}deserialize(e,t){return(async(e,t)=>{if(200!==e.statusCode&&e.statusCode>=300)return(async(e,t)=>{const n={...e,body:await rn(e.body,t)},i=an(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":throw await qt(n,t);case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw await jt(n,t);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw await Ht(n,t);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw await Gt(n,t);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw await Kt(n,t);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw await Yt(n,t);default:const r=n.body;return Bt({output:e,parsedBody:r,errorCode:i})}})(e,t);const n=(0,h.UI)({$metadata:en(e)}),i=(0,h.CE)((0,h.Wh)(await nn(e.body,t)),"body"),r=(0,h.qn)(i,{Channel:e=>Xt(e,t)});return Object.assign(n,r),n})(e,t)}}class Pn extends h.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,a.a3)(t,Pn.getEndpointParameterInstructions()));const i=e.concat(this.middlewareStack),{logger:r}=t,o={logger:r,clientName:"ChimeSDKMessagingClient",commandName:"DescribeChannelModeratorCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:ot},{requestHandler:s}=t;return i.resolve((e=>s.handle(e.request,n||{})),o)}serialize(e,t){return(async(e,t)=>{const{hostname:n,protocol:i="https",port:r,path:a}=await t.endpoint(),o=(0,h.UI)({},tn,{"x-amz-chime-bearer":e.ChimeBearer});let s=`${a?.endsWith("/")?a.slice(0,-1):a||""}/channels/{ChannelArn}/moderators/{ChannelModeratorArn}`;return s=(0,h.Is)(s,e,"ChannelArn",(()=>e.ChannelArn),"{ChannelArn}",!1),s=(0,h.Is)(s,e,"ChannelModeratorArn",(()=>e.ChannelModeratorArn),"{ChannelModeratorArn}",!1),new Y.aW({protocol:i,hostname:n,port:r,method:"GET",headers:o,path:s,body:void 0})})(e,t)}deserialize(e,t){return(async(e,t)=>{if(200!==e.statusCode&&e.statusCode>=300)return(async(e,t)=>{const n={...e,body:await rn(e.body,t)},i=an(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":throw await qt(n,t);case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw await jt(n,t);case"NotFoundException":case"com.amazonaws.chimesdkmessaging#NotFoundException":throw await Wt(n,t);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw await Ht(n,t);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw await Gt(n,t);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw await Kt(n,t);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw await Yt(n,t);default:const r=n.body;return Bt({output:e,parsedBody:r,errorCode:i})}})(e,t);const n=(0,h.UI)({$metadata:en(e)}),i=(0,h.CE)((0,h.Wh)(await nn(e.body,t)),"body"),r=(0,h.qn)(i,{ChannelModerator:e=>((e,t)=>(0,h.qn)(e,{ChannelArn:h.pY,CreatedBy:h.F3,CreatedTimestamp:e=>(0,h.CE)((0,h.KX)((0,h.Fx)(e))),Moderator:h.F3}))(e)});return Object.assign(n,r),n})(e,t)}}class An extends h.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,a.a3)(t,An.getEndpointParameterInstructions()));const i=e.concat(this.middlewareStack),{logger:r}=t,o={logger:r,clientName:"ChimeSDKMessagingClient",commandName:"DisassociateChannelFlowCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:e=>e},{requestHandler:s}=t;return i.resolve((e=>s.handle(e.request,n||{})),o)}serialize(e,t){return(async(e,t)=>{const{hostname:n,protocol:i="https",port:r,path:a}=await t.endpoint(),o=(0,h.UI)({},tn,{"x-amz-chime-bearer":e.ChimeBearer});let s=`${a?.endsWith("/")?a.slice(0,-1):a||""}/channels/{ChannelArn}/channel-flow/{ChannelFlowArn}`;return s=(0,h.Is)(s,e,"ChannelArn",(()=>e.ChannelArn),"{ChannelArn}",!1),s=(0,h.Is)(s,e,"ChannelFlowArn",(()=>e.ChannelFlowArn),"{ChannelFlowArn}",!1),new Y.aW({protocol:i,hostname:n,port:r,method:"DELETE",headers:o,path:s,body:void 0})})(e,t)}deserialize(e,t){return(async(e,t)=>{if(204!==e.statusCode&&e.statusCode>=300)return(async(e,t)=>{const n={...e,body:await rn(e.body,t)},i=an(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":throw await qt(n,t);case"ConflictException":case"com.amazonaws.chimesdkmessaging#ConflictException":throw await Vt(n,t);case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw await jt(n,t);case"NotFoundException":case"com.amazonaws.chimesdkmessaging#NotFoundException":throw await Wt(n,t);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw await Ht(n,t);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw await Gt(n,t);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw await Kt(n,t);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw await Yt(n,t);default:const r=n.body;return Bt({output:e,parsedBody:r,errorCode:i})}})(e,t);const n=(0,h.UI)({$metadata:en(e)});return await(0,h.Wg)(e.body,t),n})(e,t)}}class Tn extends h.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,a.a3)(t,Tn.getEndpointParameterInstructions()));const i=e.concat(this.middlewareStack),{logger:r}=t,o={logger:r,clientName:"ChimeSDKMessagingClient",commandName:"GetChannelMembershipPreferencesCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:st},{requestHandler:s}=t;return i.resolve((e=>s.handle(e.request,n||{})),o)}serialize(e,t){return(async(e,t)=>{const{hostname:n,protocol:i="https",port:r,path:a}=await t.endpoint(),o=(0,h.UI)({},tn,{"x-amz-chime-bearer":e.ChimeBearer});let s=`${a?.endsWith("/")?a.slice(0,-1):a||""}/channels/{ChannelArn}/memberships/{MemberArn}/preferences`;return s=(0,h.Is)(s,e,"ChannelArn",(()=>e.ChannelArn),"{ChannelArn}",!1),s=(0,h.Is)(s,e,"MemberArn",(()=>e.MemberArn),"{MemberArn}",!1),new Y.aW({protocol:i,hostname:n,port:r,method:"GET",headers:o,path:s,body:void 0})})(e,t)}deserialize(e,t){return(async(e,t)=>{if(200!==e.statusCode&&e.statusCode>=300)return(async(e,t)=>{const n={...e,body:await rn(e.body,t)},i=an(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":throw await qt(n,t);case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw await jt(n,t);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw await Ht(n,t);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw await Gt(n,t);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw await Kt(n,t);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw await Yt(n,t);default:const r=n.body;return Bt({output:e,parsedBody:r,errorCode:i})}})(e,t);const n=(0,h.UI)({$metadata:en(e)}),i=(0,h.CE)((0,h.Wh)(await nn(e.body,t)),"body"),r=(0,h.qn)(i,{ChannelArn:h.pY,Member:h.F3,Preferences:h.F3});return Object.assign(n,r),n})(e,t)}}class Mn extends h.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,a.a3)(t,Mn.getEndpointParameterInstructions()));const i=e.concat(this.middlewareStack),{logger:r}=t,o={logger:r,clientName:"ChimeSDKMessagingClient",commandName:"GetChannelMessageCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:ct},{requestHandler:s}=t;return i.resolve((e=>s.handle(e.request,n||{})),o)}serialize(e,t){return(async(e,t)=>{const{hostname:n,protocol:i="https",port:r,path:a}=await t.endpoint(),o=(0,h.UI)({},tn,{"x-amz-chime-bearer":e.ChimeBearer});let s=`${a?.endsWith("/")?a.slice(0,-1):a||""}/channels/{ChannelArn}/messages/{MessageId}`;s=(0,h.Is)(s,e,"ChannelArn",(()=>e.ChannelArn),"{ChannelArn}",!1),s=(0,h.Is)(s,e,"MessageId",(()=>e.MessageId),"{MessageId}",!1);const c=(0,h.UI)({"sub-channel-id":[,e.SubChannelId]});return new Y.aW({protocol:i,hostname:n,port:r,method:"GET",headers:o,path:s,query:c,body:void 0})})(e,t)}deserialize(e,t){return(async(e,t)=>{if(200!==e.statusCode&&e.statusCode>=300)return(async(e,t)=>{const n={...e,body:await rn(e.body,t)},i=an(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":throw await qt(n,t);case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw await jt(n,t);case"NotFoundException":case"com.amazonaws.chimesdkmessaging#NotFoundException":throw await Wt(n,t);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw await Ht(n,t);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw await Gt(n,t);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw await Kt(n,t);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw await Yt(n,t);default:const r=n.body;return Bt({output:e,parsedBody:r,errorCode:i})}})(e,t);const n=(0,h.UI)({$metadata:en(e)}),i=(0,h.CE)((0,h.Wh)(await nn(e.body,t)),"body"),r=(0,h.qn)(i,{ChannelMessage:e=>((e,t)=>(0,h.qn)(e,{ChannelArn:h.pY,Content:h.pY,ContentType:h.pY,CreatedTimestamp:e=>(0,h.CE)((0,h.KX)((0,h.Fx)(e))),LastEditedTimestamp:e=>(0,h.CE)((0,h.KX)((0,h.Fx)(e))),LastUpdatedTimestamp:e=>(0,h.CE)((0,h.KX)((0,h.Fx)(e))),MessageAttributes:h.F3,MessageId:h.pY,Metadata:h.pY,Persistence:h.pY,Redacted:h.zE,Sender:h.F3,Status:h.F3,SubChannelId:h.pY,Target:h.F3,Type:h.pY}))(e)});return Object.assign(n,r),n})(e,t)}}class Rn extends h.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,a.a3)(t,Rn.getEndpointParameterInstructions()));const i=e.concat(this.middlewareStack),{logger:r}=t,o={logger:r,clientName:"ChimeSDKMessagingClient",commandName:"GetChannelMessageStatusCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:e=>e},{requestHandler:s}=t;return i.resolve((e=>s.handle(e.request,n||{})),o)}serialize(e,t){return(async(e,t)=>{const{hostname:n,protocol:i="https",port:r,path:a}=await t.endpoint(),o=(0,h.UI)({},tn,{"x-amz-chime-bearer":e.ChimeBearer});let s=`${a?.endsWith("/")?a.slice(0,-1):a||""}/channels/{ChannelArn}/messages/{MessageId}`;s=(0,h.Is)(s,e,"ChannelArn",(()=>e.ChannelArn),"{ChannelArn}",!1),s=(0,h.Is)(s,e,"MessageId",(()=>e.MessageId),"{MessageId}",!1);const c=(0,h.UI)({scope:[,"message-status"],"sub-channel-id":[,e.SubChannelId]});return new Y.aW({protocol:i,hostname:n,port:r,method:"GET",headers:o,path:s,query:c,body:void 0})})(e,t)}deserialize(e,t){return(async(e,t)=>{if(200!==e.statusCode&&e.statusCode>=300)return(async(e,t)=>{const n={...e,body:await rn(e.body,t)},i=an(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":throw await qt(n,t);case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw await jt(n,t);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw await Ht(n,t);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw await Gt(n,t);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw await Kt(n,t);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw await Yt(n,t);default:const r=n.body;return Bt({output:e,parsedBody:r,errorCode:i})}})(e,t);const n=(0,h.UI)({$metadata:en(e)}),i=(0,h.CE)((0,h.Wh)(await nn(e.body,t)),"body"),r=(0,h.qn)(i,{Status:h.F3});return Object.assign(n,r),n})(e,t)}}class Fn extends h.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,a.a3)(t,Fn.getEndpointParameterInstructions()));const i=e.concat(this.middlewareStack),{logger:r}=t,o={logger:r,clientName:"ChimeSDKMessagingClient",commandName:"GetMessagingSessionEndpointCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:e=>e},{requestHandler:s}=t;return i.resolve((e=>s.handle(e.request,n||{})),o)}serialize(e,t){return(async(e,t)=>{const{hostname:n,protocol:i="https",port:r,path:a}=await t.endpoint(),o=`${a?.endsWith("/")?a.slice(0,-1):a||""}/endpoints/messaging-session`;let s;return s="",new Y.aW({protocol:i,hostname:n,port:r,method:"GET",headers:{"content-type":"application/json"},path:o,body:""})})(0,t)}deserialize(e,t){return(async(e,t)=>{if(200!==e.statusCode&&e.statusCode>=300)return(async(e,t)=>{const n={...e,body:await rn(e.body,t)},i=an(e,n.body);switch(i){case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw await jt(n,t);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw await Ht(n,t);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw await Gt(n,t);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw await Kt(n,t);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw await Yt(n,t);default:const r=n.body;return Bt({output:e,parsedBody:r,errorCode:i})}})(e,t);const n=(0,h.UI)({$metadata:en(e)}),i=(0,h.CE)((0,h.Wh)(await nn(e.body,t)),"body"),r=(0,h.qn)(i,{Endpoint:h.F3});return Object.assign(n,r),n})(e,t)}}class _n extends h.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,a.a3)(t,_n.getEndpointParameterInstructions()));const i=e.concat(this.middlewareStack),{logger:r}=t,o={logger:r,clientName:"ChimeSDKMessagingClient",commandName:"GetMessagingStreamingConfigurationsCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:e=>e},{requestHandler:s}=t;return i.resolve((e=>s.handle(e.request,n||{})),o)}serialize(e,t){return(async(e,t)=>{const{hostname:n,protocol:i="https",port:r,path:a}=await t.endpoint();let o=`${a?.endsWith("/")?a.slice(0,-1):a||""}/app-instances/{AppInstanceArn}/streaming-configurations`;return o=(0,h.Is)(o,e,"AppInstanceArn",(()=>e.AppInstanceArn),"{AppInstanceArn}",!1),new Y.aW({protocol:i,hostname:n,port:r,method:"GET",headers:{},path:o,body:void 0})})(e,t)}deserialize(e,t){return(async(e,t)=>{if(200!==e.statusCode&&e.statusCode>=300)return(async(e,t)=>{const n={...e,body:await rn(e.body,t)},i=an(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":throw await qt(n,t);case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw await jt(n,t);case"NotFoundException":case"com.amazonaws.chimesdkmessaging#NotFoundException":throw await Wt(n,t);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw await Ht(n,t);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw await Gt(n,t);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw await Kt(n,t);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw await Yt(n,t);default:const r=n.body;return Bt({output:e,parsedBody:r,errorCode:i})}})(e,t);const n=(0,h.UI)({$metadata:en(e)}),i=(0,h.CE)((0,h.Wh)(await nn(e.body,t)),"body"),r=(0,h.qn)(i,{StreamingConfigurations:h.F3});return Object.assign(n,r),n})(e,t)}}class On extends h.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,a.a3)(t,On.getEndpointParameterInstructions()));const i=e.concat(this.middlewareStack),{logger:r}=t,o={logger:r,clientName:"ChimeSDKMessagingClient",commandName:"ListChannelBansCommand",inputFilterSensitiveLog:dt,outputFilterSensitiveLog:lt},{requestHandler:s}=t;return i.resolve((e=>s.handle(e.request,n||{})),o)}serialize(e,t){return(async(e,t)=>{const{hostname:n,protocol:i="https",port:r,path:a}=await t.endpoint(),o=(0,h.UI)({},tn,{"x-amz-chime-bearer":e.ChimeBearer});let s=`${a?.endsWith("/")?a.slice(0,-1):a||""}/channels/{ChannelArn}/bans`;s=(0,h.Is)(s,e,"ChannelArn",(()=>e.ChannelArn),"{ChannelArn}",!1);const c=(0,h.UI)({"max-results":[()=>void 0!==e.MaxResults,()=>e.MaxResults.toString()],"next-token":[,e.NextToken]});return new Y.aW({protocol:i,hostname:n,port:r,method:"GET",headers:o,path:s,query:c,body:void 0})})(e,t)}deserialize(e,t){return(async(e,t)=>{if(200!==e.statusCode&&e.statusCode>=300)return(async(e,t)=>{const n={...e,body:await rn(e.body,t)},i=an(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":throw await qt(n,t);case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw await jt(n,t);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw await Ht(n,t);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw await Gt(n,t);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw await Kt(n,t);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw await Yt(n,t);default:const r=n.body;return Bt({output:e,parsedBody:r,errorCode:i})}})(e,t);const n=(0,h.UI)({$metadata:en(e)}),i=(0,h.CE)((0,h.Wh)(await nn(e.body,t)),"body"),r=(0,h.qn)(i,{ChannelArn:h.pY,ChannelBans:h.F3,NextToken:h.pY});return Object.assign(n,r),n})(e,t)}}class Un extends h.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,a.a3)(t,Un.getEndpointParameterInstructions()));const i=e.concat(this.middlewareStack),{logger:r}=t,o={logger:r,clientName:"ChimeSDKMessagingClient",commandName:"ListChannelFlowsCommand",inputFilterSensitiveLog:ut,outputFilterSensitiveLog:ht},{requestHandler:s}=t;return i.resolve((e=>s.handle(e.request,n||{})),o)}serialize(e,t){return(async(e,t)=>{const{hostname:n,protocol:i="https",port:r,path:a}=await t.endpoint(),o=`${a?.endsWith("/")?a.slice(0,-1):a||""}/channel-flows`,s=(0,h.UI)({"app-instance-arn":[,(0,h.CE)(e.AppInstanceArn,"AppInstanceArn")],"max-results":[()=>void 0!==e.MaxResults,()=>e.MaxResults.toString()],"next-token":[,e.NextToken]});return new Y.aW({protocol:i,hostname:n,port:r,method:"GET",headers:{},path:o,query:s,body:void 0})})(e,t)}deserialize(e,t){return(async(e,t)=>{if(200!==e.statusCode&&e.statusCode>=300)return(async(e,t)=>{const n={...e,body:await rn(e.body,t)},i=an(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":throw await qt(n,t);case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw await jt(n,t);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw await Ht(n,t);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw await Gt(n,t);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw await Kt(n,t);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw await Yt(n,t);default:const r=n.body;return Bt({output:e,parsedBody:r,errorCode:i})}})(e,t);const n=(0,h.UI)({$metadata:en(e)}),i=(0,h.CE)((0,h.Wh)(await nn(e.body,t)),"body"),r=(0,h.qn)(i,{ChannelFlows:h.F3,NextToken:h.pY});return Object.assign(n,r),n})(e,t)}}class Nn extends h.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,a.a3)(t,Nn.getEndpointParameterInstructions()));const i=e.concat(this.middlewareStack),{logger:r}=t,o={logger:r,clientName:"ChimeSDKMessagingClient",commandName:"ListChannelMembershipsCommand",inputFilterSensitiveLog:pt,outputFilterSensitiveLog:mt},{requestHandler:s}=t;return i.resolve((e=>s.handle(e.request,n||{})),o)}serialize(e,t){return(async(e,t)=>{const{hostname:n,protocol:i="https",port:r,path:a}=await t.endpoint(),o=(0,h.UI)({},tn,{"x-amz-chime-bearer":e.ChimeBearer});let s=`${a?.endsWith("/")?a.slice(0,-1):a||""}/channels/{ChannelArn}/memberships`;s=(0,h.Is)(s,e,"ChannelArn",(()=>e.ChannelArn),"{ChannelArn}",!1);const c=(0,h.UI)({type:[,e.Type],"max-results":[()=>void 0!==e.MaxResults,()=>e.MaxResults.toString()],"next-token":[,e.NextToken],"sub-channel-id":[,e.SubChannelId]});return new Y.aW({protocol:i,hostname:n,port:r,method:"GET",headers:o,path:s,query:c,body:void 0})})(e,t)}deserialize(e,t){return(async(e,t)=>{if(200!==e.statusCode&&e.statusCode>=300)return(async(e,t)=>{const n={...e,body:await rn(e.body,t)},i=an(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":throw await qt(n,t);case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw await jt(n,t);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw await Ht(n,t);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw await Gt(n,t);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw await Kt(n,t);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw await Yt(n,t);default:const r=n.body;return Bt({output:e,parsedBody:r,errorCode:i})}})(e,t);const n=(0,h.UI)({$metadata:en(e)}),i=(0,h.CE)((0,h.Wh)(await nn(e.body,t)),"body"),r=(0,h.qn)(i,{ChannelArn:h.pY,ChannelMemberships:h.F3,NextToken:h.pY});return Object.assign(n,r),n})(e,t)}}class zn extends h.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,a.a3)(t,zn.getEndpointParameterInstructions()));const i=e.concat(this.middlewareStack),{logger:r}=t,o={logger:r,clientName:"ChimeSDKMessagingClient",commandName:"ListChannelMembershipsForAppInstanceUserCommand",inputFilterSensitiveLog:ft,outputFilterSensitiveLog:gt},{requestHandler:s}=t;return i.resolve((e=>s.handle(e.request,n||{})),o)}serialize(e,t){return(async(e,t)=>{const{hostname:n,protocol:i="https",port:r,path:a}=await t.endpoint(),o=(0,h.UI)({},tn,{"x-amz-chime-bearer":e.ChimeBearer}),s=`${a?.endsWith("/")?a.slice(0,-1):a||""}/channels`,c=(0,h.UI)({scope:[,"app-instance-user-memberships"],"app-instance-user-arn":[,e.AppInstanceUserArn],"max-results":[()=>void 0!==e.MaxResults,()=>e.MaxResults.toString()],"next-token":[,e.NextToken]});return new Y.aW({protocol:i,hostname:n,port:r,method:"GET",headers:o,path:s,query:c,body:void 0})})(e,t)}deserialize(e,t){return(async(e,t)=>{if(200!==e.statusCode&&e.statusCode>=300)return(async(e,t)=>{const n={...e,body:await rn(e.body,t)},i=an(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":throw await qt(n,t);case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw await jt(n,t);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw await Ht(n,t);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw await Gt(n,t);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw await Kt(n,t);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw await Yt(n,t);default:const r=n.body;return Bt({output:e,parsedBody:r,errorCode:i})}})(e,t);const n=(0,h.UI)({$metadata:en(e)}),i=(0,h.CE)((0,h.Wh)(await nn(e.body,t)),"body"),r=(0,h.qn)(i,{ChannelMemberships:e=>((e,t)=>{const n=(e||[]).filter((e=>null!=e)).map((e=>Jt(e,t)));return n})(e,t),NextToken:h.pY});return Object.assign(n,r),n})(e,t)}}class Dn extends h.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,a.a3)(t,Dn.getEndpointParameterInstructions()));const i=e.concat(this.middlewareStack),{logger:r}=t,o={logger:r,clientName:"ChimeSDKMessagingClient",commandName:"ListChannelMessagesCommand",inputFilterSensitiveLog:wt,outputFilterSensitiveLog:yt},{requestHandler:s}=t;return i.resolve((e=>s.handle(e.request,n||{})),o)}serialize(e,t){return(async(e,t)=>{const{hostname:n,protocol:i="https",port:r,path:a}=await t.endpoint(),o=(0,h.UI)({},tn,{"x-amz-chime-bearer":e.ChimeBearer});let s=`${a?.endsWith("/")?a.slice(0,-1):a||""}/channels/{ChannelArn}/messages`;s=(0,h.Is)(s,e,"ChannelArn",(()=>e.ChannelArn),"{ChannelArn}",!1);const c=(0,h.UI)({"sort-order":[,e.SortOrder],"not-before":[()=>void 0!==e.NotBefore,()=>(e.NotBefore.toISOString().split(".")[0]+"Z").toString()],"not-after":[()=>void 0!==e.NotAfter,()=>(e.NotAfter.toISOString().split(".")[0]+"Z").toString()],"max-results":[()=>void 0!==e.MaxResults,()=>e.MaxResults.toString()],"next-token":[,e.NextToken],"sub-channel-id":[,e.SubChannelId]});return new Y.aW({protocol:i,hostname:n,port:r,method:"GET",headers:o,path:s,query:c,body:void 0})})(e,t)}deserialize(e,t){return(async(e,t)=>{if(200!==e.statusCode&&e.statusCode>=300)return(async(e,t)=>{const n={...e,body:await rn(e.body,t)},i=an(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":throw await qt(n,t);case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw await jt(n,t);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw await Ht(n,t);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw await Gt(n,t);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw await Kt(n,t);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw await Yt(n,t);default:const r=n.body;return Bt({output:e,parsedBody:r,errorCode:i})}})(e,t);const n=(0,h.UI)({$metadata:en(e)}),i=(0,h.CE)((0,h.Wh)(await nn(e.body,t)),"body"),r=(0,h.qn)(i,{ChannelArn:h.pY,ChannelMessages:e=>((e,t)=>{const n=(e||[]).filter((e=>null!=e)).map((e=>((e,t)=>(0,h.qn)(e,{Content:h.pY,ContentType:h.pY,CreatedTimestamp:e=>(0,h.CE)((0,h.KX)((0,h.Fx)(e))),LastEditedTimestamp:e=>(0,h.CE)((0,h.KX)((0,h.Fx)(e))),LastUpdatedTimestamp:e=>(0,h.CE)((0,h.KX)((0,h.Fx)(e))),MessageAttributes:h.F3,MessageId:h.pY,Metadata:h.pY,Redacted:h.zE,Sender:h.F3,Status:h.F3,Target:h.F3,Type:h.pY}))(e)));return n})(e),NextToken:h.pY,SubChannelId:h.pY});return Object.assign(n,r),n})(e,t)}}class Ln extends h.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,a.a3)(t,Ln.getEndpointParameterInstructions()));const i=e.concat(this.middlewareStack),{logger:r}=t,o={logger:r,clientName:"ChimeSDKMessagingClient",commandName:"ListChannelModeratorsCommand",inputFilterSensitiveLog:vt,outputFilterSensitiveLog:bt},{requestHandler:s}=t;return i.resolve((e=>s.handle(e.request,n||{})),o)}serialize(e,t){return(async(e,t)=>{const{hostname:n,protocol:i="https",port:r,path:a}=await t.endpoint(),o=(0,h.UI)({},tn,{"x-amz-chime-bearer":e.ChimeBearer});let s=`${a?.endsWith("/")?a.slice(0,-1):a||""}/channels/{ChannelArn}/moderators`;s=(0,h.Is)(s,e,"ChannelArn",(()=>e.ChannelArn),"{ChannelArn}",!1);const c=(0,h.UI)({"max-results":[()=>void 0!==e.MaxResults,()=>e.MaxResults.toString()],"next-token":[,e.NextToken]});return new Y.aW({protocol:i,hostname:n,port:r,method:"GET",headers:o,path:s,query:c,body:void 0})})(e,t)}deserialize(e,t){return(async(e,t)=>{if(200!==e.statusCode&&e.statusCode>=300)return(async(e,t)=>{const n={...e,body:await rn(e.body,t)},i=an(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":throw await qt(n,t);case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw await jt(n,t);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw await Ht(n,t);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw await Gt(n,t);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw await Kt(n,t);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw await Yt(n,t);default:const r=n.body;return Bt({output:e,parsedBody:r,errorCode:i})}})(e,t);const n=(0,h.UI)({$metadata:en(e)}),i=(0,h.CE)((0,h.Wh)(await nn(e.body,t)),"body"),r=(0,h.qn)(i,{ChannelArn:h.pY,ChannelModerators:h.F3,NextToken:h.pY});return Object.assign(n,r),n})(e,t)}}class Bn extends h.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,a.a3)(t,Bn.getEndpointParameterInstructions()));const i=e.concat(this.middlewareStack),{logger:r}=t,o={logger:r,clientName:"ChimeSDKMessagingClient",commandName:"ListChannelsAssociatedWithChannelFlowCommand",inputFilterSensitiveLog:Ct,outputFilterSensitiveLog:xt},{requestHandler:s}=t;return i.resolve((e=>s.handle(e.request,n||{})),o)}serialize(e,t){return(async(e,t)=>{const{hostname:n,protocol:i="https",port:r,path:a}=await t.endpoint(),o=`${a?.endsWith("/")?a.slice(0,-1):a||""}/channels`,s=(0,h.UI)({scope:[,"channel-flow-associations"],"channel-flow-arn":[,(0,h.CE)(e.ChannelFlowArn,"ChannelFlowArn")],"max-results":[()=>void 0!==e.MaxResults,()=>e.MaxResults.toString()],"next-token":[,e.NextToken]});return new Y.aW({protocol:i,hostname:n,port:r,method:"GET",headers:{},path:o,query:s,body:void 0})})(e,t)}deserialize(e,t){return(async(e,t)=>{if(200!==e.statusCode&&e.statusCode>=300)return(async(e,t)=>{const n={...e,body:await rn(e.body,t)},i=an(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":throw await qt(n,t);case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw await jt(n,t);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw await Ht(n,t);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw await Gt(n,t);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw await Kt(n,t);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw await Yt(n,t);default:const r=n.body;return Bt({output:e,parsedBody:r,errorCode:i})}})(e,t);const n=(0,h.UI)({$metadata:en(e)}),i=(0,h.CE)((0,h.Wh)(await nn(e.body,t)),"body"),r=(0,h.qn)(i,{Channels:h.F3,NextToken:h.pY});return Object.assign(n,r),n})(e,t)}}class qn extends h.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,a.a3)(t,qn.getEndpointParameterInstructions()));const i=e.concat(this.middlewareStack),{logger:r}=t,o={logger:r,clientName:"ChimeSDKMessagingClient",commandName:"ListChannelsCommand",inputFilterSensitiveLog:St,outputFilterSensitiveLog:Et},{requestHandler:s}=t;return i.resolve((e=>s.handle(e.request,n||{})),o)}serialize(e,t){return(async(e,t)=>{const{hostname:n,protocol:i="https",port:r,path:a}=await t.endpoint(),o=(0,h.UI)({},tn,{"x-amz-chime-bearer":e.ChimeBearer}),s=`${a?.endsWith("/")?a.slice(0,-1):a||""}/channels`,c=(0,h.UI)({"app-instance-arn":[,(0,h.CE)(e.AppInstanceArn,"AppInstanceArn")],privacy:[,e.Privacy],"max-results":[()=>void 0!==e.MaxResults,()=>e.MaxResults.toString()],"next-token":[,e.NextToken]});return new Y.aW({protocol:i,hostname:n,port:r,method:"GET",headers:o,path:s,query:c,body:void 0})})(e,t)}deserialize(e,t){return(async(e,t)=>{if(200!==e.statusCode&&e.statusCode>=300)return(async(e,t)=>{const n={...e,body:await rn(e.body,t)},i=an(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":throw await qt(n,t);case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw await jt(n,t);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw await Ht(n,t);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw await Gt(n,t);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw await Kt(n,t);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw await Yt(n,t);default:const r=n.body;return Bt({output:e,parsedBody:r,errorCode:i})}})(e,t);const n=(0,h.UI)({$metadata:en(e)}),i=(0,h.CE)((0,h.Wh)(await nn(e.body,t)),"body"),r=(0,h.qn)(i,{Channels:e=>Qt(e,t),NextToken:h.pY});return Object.assign(n,r),n})(e,t)}}class Vn extends h.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,a.a3)(t,Vn.getEndpointParameterInstructions()));const i=e.concat(this.middlewareStack),{logger:r}=t,o={logger:r,clientName:"ChimeSDKMessagingClient",commandName:"ListChannelsModeratedByAppInstanceUserCommand",inputFilterSensitiveLog:It,outputFilterSensitiveLog:kt},{requestHandler:s}=t;return i.resolve((e=>s.handle(e.request,n||{})),o)}serialize(e,t){return(async(e,t)=>{const{hostname:n,protocol:i="https",port:r,path:a}=await t.endpoint(),o=(0,h.UI)({},tn,{"x-amz-chime-bearer":e.ChimeBearer}),s=`${a?.endsWith("/")?a.slice(0,-1):a||""}/channels`,c=(0,h.UI)({scope:[,"app-instance-user-moderated-channels"],"app-instance-user-arn":[,e.AppInstanceUserArn],"max-results":[()=>void 0!==e.MaxResults,()=>e.MaxResults.toString()],"next-token":[,e.NextToken]});return new Y.aW({protocol:i,hostname:n,port:r,method:"GET",headers:o,path:s,query:c,body:void 0})})(e,t)}deserialize(e,t){return(async(e,t)=>{if(200!==e.statusCode&&e.statusCode>=300)return(async(e,t)=>{const n={...e,body:await rn(e.body,t)},i=an(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":throw await qt(n,t);case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw await jt(n,t);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw await Ht(n,t);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw await Gt(n,t);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw await Kt(n,t);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw await Yt(n,t);default:const r=n.body;return Bt({output:e,parsedBody:r,errorCode:i})}})(e,t);const n=(0,h.UI)({$metadata:en(e)}),i=(0,h.CE)((0,h.Wh)(await nn(e.body,t)),"body"),r=(0,h.qn)(i,{Channels:e=>((e,t)=>{const n=(e||[]).filter((e=>null!=e)).map((e=>Xt(e,t)));return n})(e,t),NextToken:h.pY});return Object.assign(n,r),n})(e,t)}}class jn extends h.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,a.a3)(t,jn.getEndpointParameterInstructions()));const i=e.concat(this.middlewareStack),{logger:r}=t,o={logger:r,clientName:"ChimeSDKMessagingClient",commandName:"ListSubChannelsCommand",inputFilterSensitiveLog:Pt,outputFilterSensitiveLog:At},{requestHandler:s}=t;return i.resolve((e=>s.handle(e.request,n||{})),o)}serialize(e,t){return(async(e,t)=>{const{hostname:n,protocol:i="https",port:r,path:a}=await t.endpoint(),o=(0,h.UI)({},tn,{"x-amz-chime-bearer":e.ChimeBearer});let s=`${a?.endsWith("/")?a.slice(0,-1):a||""}/channels/{ChannelArn}/subchannels`;s=(0,h.Is)(s,e,"ChannelArn",(()=>e.ChannelArn),"{ChannelArn}",!1);const c=(0,h.UI)({"max-results":[()=>void 0!==e.MaxResults,()=>e.MaxResults.toString()],"next-token":[,e.NextToken]});return new Y.aW({protocol:i,hostname:n,port:r,method:"GET",headers:o,path:s,query:c,body:void 0})})(e,t)}deserialize(e,t){return(async(e,t)=>{if(200!==e.statusCode&&e.statusCode>=300)return(async(e,t)=>{const n={...e,body:await rn(e.body,t)},i=an(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":throw await qt(n,t);case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw await jt(n,t);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw await Ht(n,t);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw await Gt(n,t);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw await Kt(n,t);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw await Yt(n,t);default:const r=n.body;return Bt({output:e,parsedBody:r,errorCode:i})}})(e,t);const n=(0,h.UI)({$metadata:en(e)}),i=(0,h.CE)((0,h.Wh)(await nn(e.body,t)),"body"),r=(0,h.qn)(i,{ChannelArn:h.pY,NextToken:h.pY,SubChannels:h.F3});return Object.assign(n,r),n})(e,t)}}class Wn extends h.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,a.a3)(t,Wn.getEndpointParameterInstructions()));const i=e.concat(this.middlewareStack),{logger:r}=t,o={logger:r,clientName:"ChimeSDKMessagingClient",commandName:"ListTagsForResourceCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:Tt},{requestHandler:s}=t;return i.resolve((e=>s.handle(e.request,n||{})),o)}serialize(e,t){return(async(e,t)=>{const{hostname:n,protocol:i="https",port:r,path:a}=await t.endpoint(),o=`${a?.endsWith("/")?a.slice(0,-1):a||""}/tags`,s=(0,h.UI)({arn:[,(0,h.CE)(e.ResourceARN,"ResourceARN")]});return new Y.aW({protocol:i,hostname:n,port:r,method:"GET",headers:{},path:o,query:s,body:void 0})})(e,t)}deserialize(e,t){return(async(e,t)=>{if(200!==e.statusCode&&e.statusCode>=300)return(async(e,t)=>{const n={...e,body:await rn(e.body,t)},i=an(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":throw await qt(n,t);case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw await jt(n,t);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw await Ht(n,t);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw await Gt(n,t);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw await Kt(n,t);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw await Yt(n,t);default:const r=n.body;return Bt({output:e,parsedBody:r,errorCode:i})}})(e,t);const n=(0,h.UI)({$metadata:en(e)}),i=(0,h.CE)((0,h.Wh)(await nn(e.body,t)),"body"),r=(0,h.qn)(i,{Tags:h.F3});return Object.assign(n,r),n})(e,t)}}class $n extends h.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,a.a3)(t,$n.getEndpointParameterInstructions()));const i=e.concat(this.middlewareStack),{logger:r}=t,o={logger:r,clientName:"ChimeSDKMessagingClient",commandName:"PutChannelExpirationSettingsCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:e=>e},{requestHandler:s}=t;return i.resolve((e=>s.handle(e.request,n||{})),o)}serialize(e,t){return(async(e,t)=>{const{hostname:n,protocol:i="https",port:r,path:a}=await t.endpoint(),o=(0,h.UI)({},tn,{"content-type":"application/json","x-amz-chime-bearer":e.ChimeBearer});let s,c=`${a?.endsWith("/")?a.slice(0,-1):a||""}/channels/{ChannelArn}/expiration-settings`;return c=(0,h.Is)(c,e,"ChannelArn",(()=>e.ChannelArn),"{ChannelArn}",!1),s=JSON.stringify((0,h.qn)(e,{ExpirationSettings:e=>(0,h.F3)(e)})),new Y.aW({protocol:i,hostname:n,port:r,method:"PUT",headers:o,path:c,body:s})})(e,t)}deserialize(e,t){return(async(e,t)=>{if(200!==e.statusCode&&e.statusCode>=300)return(async(e,t)=>{const n={...e,body:await rn(e.body,t)},i=an(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":throw await qt(n,t);case"ConflictException":case"com.amazonaws.chimesdkmessaging#ConflictException":throw await Vt(n,t);case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw await jt(n,t);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw await Ht(n,t);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw await Gt(n,t);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw await Kt(n,t);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw await Yt(n,t);default:const r=n.body;return Bt({output:e,parsedBody:r,errorCode:i})}})(e,t);const n=(0,h.UI)({$metadata:en(e)}),i=(0,h.CE)((0,h.Wh)(await nn(e.body,t)),"body"),r=(0,h.qn)(i,{ChannelArn:h.pY,ExpirationSettings:h.F3});return Object.assign(n,r),n})(e,t)}}class Hn extends h.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,a.a3)(t,Hn.getEndpointParameterInstructions()));const i=e.concat(this.middlewareStack),{logger:r}=t,o={logger:r,clientName:"ChimeSDKMessagingClient",commandName:"PutChannelMembershipPreferencesCommand",inputFilterSensitiveLog:Mt,outputFilterSensitiveLog:Rt},{requestHandler:s}=t;return i.resolve((e=>s.handle(e.request,n||{})),o)}serialize(e,t){return(async(e,t)=>{const{hostname:n,protocol:i="https",port:r,path:a}=await t.endpoint(),o=(0,h.UI)({},tn,{"content-type":"application/json","x-amz-chime-bearer":e.ChimeBearer});let s,c=`${a?.endsWith("/")?a.slice(0,-1):a||""}/channels/{ChannelArn}/memberships/{MemberArn}/preferences`;return c=(0,h.Is)(c,e,"ChannelArn",(()=>e.ChannelArn),"{ChannelArn}",!1),c=(0,h.Is)(c,e,"MemberArn",(()=>e.MemberArn),"{MemberArn}",!1),s=JSON.stringify((0,h.qn)(e,{Preferences:e=>(0,h.F3)(e)})),new Y.aW({protocol:i,hostname:n,port:r,method:"PUT",headers:o,path:c,body:s})})(e,t)}deserialize(e,t){return(async(e,t)=>{if(200!==e.statusCode&&e.statusCode>=300)return(async(e,t)=>{const n={...e,body:await rn(e.body,t)},i=an(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":throw await qt(n,t);case"ConflictException":case"com.amazonaws.chimesdkmessaging#ConflictException":throw await Vt(n,t);case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw await jt(n,t);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw await Ht(n,t);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw await Gt(n,t);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw await Kt(n,t);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw await Yt(n,t);default:const r=n.body;return Bt({output:e,parsedBody:r,errorCode:i})}})(e,t);const n=(0,h.UI)({$metadata:en(e)}),i=(0,h.CE)((0,h.Wh)(await nn(e.body,t)),"body"),r=(0,h.qn)(i,{ChannelArn:h.pY,Member:h.F3,Preferences:h.F3});return Object.assign(n,r),n})(e,t)}}class Gn extends h.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,a.a3)(t,Gn.getEndpointParameterInstructions()));const i=e.concat(this.middlewareStack),{logger:r}=t,o={logger:r,clientName:"ChimeSDKMessagingClient",commandName:"PutMessagingStreamingConfigurationsCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:e=>e},{requestHandler:s}=t;return i.resolve((e=>s.handle(e.request,n||{})),o)}serialize(e,t){return(async(e,t)=>{const{hostname:n,protocol:i="https",port:r,path:a}=await t.endpoint();let o,s=`${a?.endsWith("/")?a.slice(0,-1):a||""}/app-instances/{AppInstanceArn}/streaming-configurations`;return s=(0,h.Is)(s,e,"AppInstanceArn",(()=>e.AppInstanceArn),"{AppInstanceArn}",!1),o=JSON.stringify((0,h.qn)(e,{StreamingConfigurations:e=>(0,h.F3)(e)})),new Y.aW({protocol:i,hostname:n,port:r,method:"PUT",headers:{"content-type":"application/json"},path:s,body:o})})(e,t)}deserialize(e,t){return(async(e,t)=>{if(200!==e.statusCode&&e.statusCode>=300)return(async(e,t)=>{const n={...e,body:await rn(e.body,t)},i=an(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":throw await qt(n,t);case"ConflictException":case"com.amazonaws.chimesdkmessaging#ConflictException":throw await Vt(n,t);case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw await jt(n,t);case"NotFoundException":case"com.amazonaws.chimesdkmessaging#NotFoundException":throw await Wt(n,t);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw await Ht(n,t);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw await Gt(n,t);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw await Kt(n,t);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw await Yt(n,t);default:const r=n.body;return Bt({output:e,parsedBody:r,errorCode:i})}})(e,t);const n=(0,h.UI)({$metadata:en(e)}),i=(0,h.CE)((0,h.Wh)(await nn(e.body,t)),"body"),r=(0,h.qn)(i,{StreamingConfigurations:h.F3});return Object.assign(n,r),n})(e,t)}}class Kn extends h.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,a.a3)(t,Kn.getEndpointParameterInstructions()));const i=e.concat(this.middlewareStack),{logger:r}=t,o={logger:r,clientName:"ChimeSDKMessagingClient",commandName:"RedactChannelMessageCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:e=>e},{requestHandler:s}=t;return i.resolve((e=>s.handle(e.request,n||{})),o)}serialize(e,t){return(async(e,t)=>{const{hostname:n,protocol:i="https",port:r,path:a}=await t.endpoint(),o=(0,h.UI)({},tn,{"content-type":"application/json","x-amz-chime-bearer":e.ChimeBearer});let s=`${a?.endsWith("/")?a.slice(0,-1):a||""}/channels/{ChannelArn}/messages/{MessageId}`;s=(0,h.Is)(s,e,"ChannelArn",(()=>e.ChannelArn),"{ChannelArn}",!1),s=(0,h.Is)(s,e,"MessageId",(()=>e.MessageId),"{MessageId}",!1);const c=(0,h.UI)({operation:[,"redact"]});let d;return d=JSON.stringify((0,h.qn)(e,{SubChannelId:[]})),new Y.aW({protocol:i,hostname:n,port:r,method:"POST",headers:o,path:s,query:c,body:d})})(e,t)}deserialize(e,t){return(async(e,t)=>{if(200!==e.statusCode&&e.statusCode>=300)return(async(e,t)=>{const n={...e,body:await rn(e.body,t)},i=an(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":throw await qt(n,t);case"ConflictException":case"com.amazonaws.chimesdkmessaging#ConflictException":throw await Vt(n,t);case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw await jt(n,t);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw await Ht(n,t);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw await Gt(n,t);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw await Kt(n,t);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw await Yt(n,t);default:const r=n.body;return Bt({output:e,parsedBody:r,errorCode:i})}})(e,t);const n=(0,h.UI)({$metadata:en(e)}),i=(0,h.CE)((0,h.Wh)(await nn(e.body,t)),"body"),r=(0,h.qn)(i,{ChannelArn:h.pY,MessageId:h.pY,SubChannelId:h.pY});return Object.assign(n,r),n})(e,t)}}class Yn extends h.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,a.a3)(t,Yn.getEndpointParameterInstructions()));const i=e.concat(this.middlewareStack),{logger:r}=t,o={logger:r,clientName:"ChimeSDKMessagingClient",commandName:"SearchChannelsCommand",inputFilterSensitiveLog:Ft,outputFilterSensitiveLog:_t},{requestHandler:s}=t;return i.resolve((e=>s.handle(e.request,n||{})),o)}serialize(e,t){return(async(e,t)=>{const{hostname:n,protocol:i="https",port:r,path:a}=await t.endpoint(),o=(0,h.UI)({},tn,{"content-type":"application/json","x-amz-chime-bearer":e.ChimeBearer}),s=`${a?.endsWith("/")?a.slice(0,-1):a||""}/channels`,c=(0,h.UI)({operation:[,"search"],"max-results":[()=>void 0!==e.MaxResults,()=>e.MaxResults.toString()],"next-token":[,e.NextToken]});let d;return d=JSON.stringify((0,h.qn)(e,{Fields:e=>(0,h.F3)(e)})),new Y.aW({protocol:i,hostname:n,port:r,method:"POST",headers:o,path:s,query:c,body:d})})(e,t)}deserialize(e,t){return(async(e,t)=>{if(200!==e.statusCode&&e.statusCode>=300)return(async(e,t)=>{const n={...e,body:await rn(e.body,t)},i=an(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":throw await qt(n,t);case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw await jt(n,t);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw await Ht(n,t);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw await Gt(n,t);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw await Kt(n,t);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw await Yt(n,t);default:const r=n.body;return Bt({output:e,parsedBody:r,errorCode:i})}})(e,t);const n=(0,h.UI)({$metadata:en(e)}),i=(0,h.CE)((0,h.Wh)(await nn(e.body,t)),"body"),r=(0,h.qn)(i,{Channels:e=>Qt(e,t),NextToken:h.pY});return Object.assign(n,r),n})(e,t)}}class Jn extends h.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,a.a3)(t,Jn.getEndpointParameterInstructions()));const i=e.concat(this.middlewareStack),{logger:r}=t,o={logger:r,clientName:"ChimeSDKMessagingClient",commandName:"SendChannelMessageCommand",inputFilterSensitiveLog:Ot,outputFilterSensitiveLog:e=>e},{requestHandler:s}=t;return i.resolve((e=>s.handle(e.request,n||{})),o)}serialize(e,t){return(async(e,t)=>{const{hostname:n,protocol:i="https",port:r,path:a}=await t.endpoint(),o=(0,h.UI)({},tn,{"content-type":"application/json","x-amz-chime-bearer":e.ChimeBearer});let s,c=`${a?.endsWith("/")?a.slice(0,-1):a||""}/channels/{ChannelArn}/messages`;return c=(0,h.Is)(c,e,"ChannelArn",(()=>e.ChannelArn),"{ChannelArn}",!1),s=JSON.stringify((0,h.qn)(e,{ClientRequestToken:[!0,e=>e??(0,J.Z)()],Content:[],ContentType:[],MessageAttributes:e=>(0,h.F3)(e),Metadata:[],Persistence:[],PushNotification:e=>(0,h.F3)(e),SubChannelId:[],Target:e=>(0,h.F3)(e),Type:[]})),new Y.aW({protocol:i,hostname:n,port:r,method:"POST",headers:o,path:c,body:s})})(e,t)}deserialize(e,t){return(async(e,t)=>{if(201!==e.statusCode&&e.statusCode>=300)return(async(e,t)=>{const n={...e,body:await rn(e.body,t)},i=an(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":throw await qt(n,t);case"ConflictException":case"com.amazonaws.chimesdkmessaging#ConflictException":throw await Vt(n,t);case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw await jt(n,t);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw await Ht(n,t);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw await Gt(n,t);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw await Kt(n,t);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw await Yt(n,t);default:const r=n.body;return Bt({output:e,parsedBody:r,errorCode:i})}})(e,t);const n=(0,h.UI)({$metadata:en(e)}),i=(0,h.CE)((0,h.Wh)(await nn(e.body,t)),"body"),r=(0,h.qn)(i,{ChannelArn:h.pY,MessageId:h.pY,Status:h.F3,SubChannelId:h.pY});return Object.assign(n,r),n})(e,t)}}class Xn extends h.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,a.a3)(t,Xn.getEndpointParameterInstructions()));const i=e.concat(this.middlewareStack),{logger:r}=t,o={logger:r,clientName:"ChimeSDKMessagingClient",commandName:"TagResourceCommand",inputFilterSensitiveLog:Ut,outputFilterSensitiveLog:e=>e},{requestHandler:s}=t;return i.resolve((e=>s.handle(e.request,n||{})),o)}serialize(e,t){return(async(e,t)=>{const{hostname:n,protocol:i="https",port:r,path:a}=await t.endpoint(),o=`${a?.endsWith("/")?a.slice(0,-1):a||""}/tags`,s=(0,h.UI)({operation:[,"tag-resource"]});let c;return c=JSON.stringify((0,h.qn)(e,{ResourceARN:[],Tags:e=>(0,h.F3)(e)})),new Y.aW({protocol:i,hostname:n,port:r,method:"POST",headers:{"content-type":"application/json"},path:o,query:s,body:c})})(e,t)}deserialize(e,t){return(async(e,t)=>{if(204!==e.statusCode&&e.statusCode>=300)return(async(e,t)=>{const n={...e,body:await rn(e.body,t)},i=an(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":throw await qt(n,t);case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw await jt(n,t);case"ResourceLimitExceededException":case"com.amazonaws.chimesdkmessaging#ResourceLimitExceededException":throw await $t(n,t);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw await Ht(n,t);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw await Gt(n,t);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw await Kt(n,t);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw await Yt(n,t);default:const r=n.body;return Bt({output:e,parsedBody:r,errorCode:i})}})(e,t);const n=(0,h.UI)({$metadata:en(e)});return await(0,h.Wg)(e.body,t),n})(e,t)}}class Zn extends h.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,a.a3)(t,Zn.getEndpointParameterInstructions()));const i=e.concat(this.middlewareStack),{logger:r}=t,o={logger:r,clientName:"ChimeSDKMessagingClient",commandName:"UntagResourceCommand",inputFilterSensitiveLog:Nt,outputFilterSensitiveLog:e=>e},{requestHandler:s}=t;return i.resolve((e=>s.handle(e.request,n||{})),o)}serialize(e,t){return(async(e,t)=>{const{hostname:n,protocol:i="https",port:r,path:a}=await t.endpoint(),o=`${a?.endsWith("/")?a.slice(0,-1):a||""}/tags`,s=(0,h.UI)({operation:[,"untag-resource"]});let c;return c=JSON.stringify((0,h.qn)(e,{ResourceARN:[],TagKeys:e=>(0,h.F3)(e)})),new Y.aW({protocol:i,hostname:n,port:r,method:"POST",headers:{"content-type":"application/json"},path:o,query:s,body:c})})(e,t)}deserialize(e,t){return(async(e,t)=>{if(204!==e.statusCode&&e.statusCode>=300)return(async(e,t)=>{const n={...e,body:await rn(e.body,t)},i=an(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":throw await qt(n,t);case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw await jt(n,t);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw await Ht(n,t);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw await Gt(n,t);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw await Kt(n,t);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw await Yt(n,t);default:const r=n.body;return Bt({output:e,parsedBody:r,errorCode:i})}})(e,t);const n=(0,h.UI)({$metadata:en(e)});return await(0,h.Wg)(e.body,t),n})(e,t)}}class Qn extends h.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,a.a3)(t,Qn.getEndpointParameterInstructions()));const i=e.concat(this.middlewareStack),{logger:r}=t,o={logger:r,clientName:"ChimeSDKMessagingClient",commandName:"UpdateChannelCommand",inputFilterSensitiveLog:zt,outputFilterSensitiveLog:e=>e},{requestHandler:s}=t;return i.resolve((e=>s.handle(e.request,n||{})),o)}serialize(e,t){return(async(e,t)=>{const{hostname:n,protocol:i="https",port:r,path:a}=await t.endpoint(),o=(0,h.UI)({},tn,{"content-type":"application/json","x-amz-chime-bearer":e.ChimeBearer});let s,c=`${a?.endsWith("/")?a.slice(0,-1):a||""}/channels/{ChannelArn}`;return c=(0,h.Is)(c,e,"ChannelArn",(()=>e.ChannelArn),"{ChannelArn}",!1),s=JSON.stringify((0,h.qn)(e,{Metadata:[],Mode:[],Name:[]})),new Y.aW({protocol:i,hostname:n,port:r,method:"PUT",headers:o,path:c,body:s})})(e,t)}deserialize(e,t){return(async(e,t)=>{if(200!==e.statusCode&&e.statusCode>=300)return(async(e,t)=>{const n={...e,body:await rn(e.body,t)},i=an(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":throw await qt(n,t);case"ConflictException":case"com.amazonaws.chimesdkmessaging#ConflictException":throw await Vt(n,t);case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw await jt(n,t);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw await Ht(n,t);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw await Gt(n,t);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw await Kt(n,t);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw await Yt(n,t);default:const r=n.body;return Bt({output:e,parsedBody:r,errorCode:i})}})(e,t);const n=(0,h.UI)({$metadata:en(e)}),i=(0,h.CE)((0,h.Wh)(await nn(e.body,t)),"body"),r=(0,h.qn)(i,{ChannelArn:h.pY});return Object.assign(n,r),n})(e,t)}}class ei extends h.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,a.a3)(t,ei.getEndpointParameterInstructions()));const i=e.concat(this.middlewareStack),{logger:r}=t,o={logger:r,clientName:"ChimeSDKMessagingClient",commandName:"UpdateChannelFlowCommand",inputFilterSensitiveLog:Dt,outputFilterSensitiveLog:e=>e},{requestHandler:s}=t;return i.resolve((e=>s.handle(e.request,n||{})),o)}serialize(e,t){return(async(e,t)=>{const{hostname:n,protocol:i="https",port:r,path:a}=await t.endpoint();let o,s=`${a?.endsWith("/")?a.slice(0,-1):a||""}/channel-flows/{ChannelFlowArn}`;return s=(0,h.Is)(s,e,"ChannelFlowArn",(()=>e.ChannelFlowArn),"{ChannelFlowArn}",!1),o=JSON.stringify((0,h.qn)(e,{Name:[],Processors:e=>(0,h.F3)(e)})),new Y.aW({protocol:i,hostname:n,port:r,method:"PUT",headers:{"content-type":"application/json"},path:s,body:o})})(e,t)}deserialize(e,t){return(async(e,t)=>{if(200!==e.statusCode&&e.statusCode>=300)return(async(e,t)=>{const n={...e,body:await rn(e.body,t)},i=an(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":throw await qt(n,t);case"ConflictException":case"com.amazonaws.chimesdkmessaging#ConflictException":throw await Vt(n,t);case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw await jt(n,t);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw await Ht(n,t);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw await Gt(n,t);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw await Kt(n,t);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw await Yt(n,t);default:const r=n.body;return Bt({output:e,parsedBody:r,errorCode:i})}})(e,t);const n=(0,h.UI)({$metadata:en(e)}),i=(0,h.CE)((0,h.Wh)(await nn(e.body,t)),"body"),r=(0,h.qn)(i,{ChannelFlowArn:h.pY});return Object.assign(n,r),n})(e,t)}}class ti extends h.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,a.a3)(t,ti.getEndpointParameterInstructions()));const i=e.concat(this.middlewareStack),{logger:r}=t,o={logger:r,clientName:"ChimeSDKMessagingClient",commandName:"UpdateChannelMessageCommand",inputFilterSensitiveLog:Lt,outputFilterSensitiveLog:e=>e},{requestHandler:s}=t;return i.resolve((e=>s.handle(e.request,n||{})),o)}serialize(e,t){return(async(e,t)=>{const{hostname:n,protocol:i="https",port:r,path:a}=await t.endpoint(),o=(0,h.UI)({},tn,{"content-type":"application/json","x-amz-chime-bearer":e.ChimeBearer});let s,c=`${a?.endsWith("/")?a.slice(0,-1):a||""}/channels/{ChannelArn}/messages/{MessageId}`;return c=(0,h.Is)(c,e,"ChannelArn",(()=>e.ChannelArn),"{ChannelArn}",!1),c=(0,h.Is)(c,e,"MessageId",(()=>e.MessageId),"{MessageId}",!1),s=JSON.stringify((0,h.qn)(e,{Content:[],ContentType:[],Metadata:[],SubChannelId:[]})),new Y.aW({protocol:i,hostname:n,port:r,method:"PUT",headers:o,path:c,body:s})})(e,t)}deserialize(e,t){return(async(e,t)=>{if(200!==e.statusCode&&e.statusCode>=300)return(async(e,t)=>{const n={...e,body:await rn(e.body,t)},i=an(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":throw await qt(n,t);case"ConflictException":case"com.amazonaws.chimesdkmessaging#ConflictException":throw await Vt(n,t);case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw await jt(n,t);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw await Ht(n,t);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw await Gt(n,t);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw await Kt(n,t);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw await Yt(n,t);default:const r=n.body;return Bt({output:e,parsedBody:r,errorCode:i})}})(e,t);const n=(0,h.UI)({$metadata:en(e)}),i=(0,h.CE)((0,h.Wh)(await nn(e.body,t)),"body"),r=(0,h.qn)(i,{ChannelArn:h.pY,MessageId:h.pY,Status:h.F3,SubChannelId:h.pY});return Object.assign(n,r),n})(e,t)}}class ni extends h.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,a.a3)(t,ni.getEndpointParameterInstructions()));const i=e.concat(this.middlewareStack),{logger:r}=t,o={logger:r,clientName:"ChimeSDKMessagingClient",commandName:"UpdateChannelReadMarkerCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:e=>e},{requestHandler:s}=t;return i.resolve((e=>s.handle(e.request,n||{})),o)}serialize(e,t){return(async(e,t)=>{const{hostname:n,protocol:i="https",port:r,path:a}=await t.endpoint(),o=(0,h.UI)({},tn,{"x-amz-chime-bearer":e.ChimeBearer});let s=`${a?.endsWith("/")?a.slice(0,-1):a||""}/channels/{ChannelArn}/readMarker`;return s=(0,h.Is)(s,e,"ChannelArn",(()=>e.ChannelArn),"{ChannelArn}",!1),new Y.aW({protocol:i,hostname:n,port:r,method:"PUT",headers:o,path:s,body:void 0})})(e,t)}deserialize(e,t){return(async(e,t)=>{if(200!==e.statusCode&&e.statusCode>=300)return(async(e,t)=>{const n={...e,body:await rn(e.body,t)},i=an(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":throw await qt(n,t);case"ConflictException":case"com.amazonaws.chimesdkmessaging#ConflictException":throw await Vt(n,t);case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw await jt(n,t);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw await Ht(n,t);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw await Gt(n,t);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw await Kt(n,t);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw await Yt(n,t);default:const r=n.body;return Bt({output:e,parsedBody:r,errorCode:i})}})(e,t);const n=(0,h.UI)({$metadata:en(e)}),i=(0,h.CE)((0,h.Wh)(await nn(e.body,t)),"body"),r=(0,h.qn)(i,{ChannelArn:h.pY});return Object.assign(n,r),n})(e,t)}}const ii={AssociateChannelFlowCommand:on,BatchCreateChannelMembershipCommand:sn,ChannelFlowCallbackCommand:cn,CreateChannelCommand:ln,CreateChannelBanCommand:dn,CreateChannelFlowCommand:un,CreateChannelMembershipCommand:hn,CreateChannelModeratorCommand:pn,DeleteChannelCommand:fn,DeleteChannelBanCommand:mn,DeleteChannelFlowCommand:gn,DeleteChannelMembershipCommand:wn,DeleteChannelMessageCommand:yn,DeleteChannelModeratorCommand:vn,DeleteMessagingStreamingConfigurationsCommand:bn,DescribeChannelCommand:En,DescribeChannelBanCommand:Sn,DescribeChannelFlowCommand:Cn,DescribeChannelMembershipCommand:xn,DescribeChannelMembershipForAppInstanceUserCommand:In,DescribeChannelModeratedByAppInstanceUserCommand:kn,DescribeChannelModeratorCommand:Pn,DisassociateChannelFlowCommand:An,GetChannelMembershipPreferencesCommand:Tn,GetChannelMessageCommand:Mn,GetChannelMessageStatusCommand:Rn,GetMessagingSessionEndpointCommand:Fn,GetMessagingStreamingConfigurationsCommand:_n,ListChannelBansCommand:On,ListChannelFlowsCommand:Un,ListChannelMembershipsCommand:Nn,ListChannelMembershipsForAppInstanceUserCommand:zn,ListChannelMessagesCommand:Dn,ListChannelModeratorsCommand:Ln,ListChannelsCommand:qn,ListChannelsAssociatedWithChannelFlowCommand:Bn,ListChannelsModeratedByAppInstanceUserCommand:Vn,ListSubChannelsCommand:jn,ListTagsForResourceCommand:Wn,PutChannelExpirationSettingsCommand:$n,PutChannelMembershipPreferencesCommand:Hn,PutMessagingStreamingConfigurationsCommand:Gn,RedactChannelMessageCommand:Kn,SearchChannelsCommand:Yn,SendChannelMessageCommand:Jn,TagResourceCommand:Xn,UntagResourceCommand:Zn,UpdateChannelCommand:Qn,UpdateChannelFlowCommand:ei,UpdateChannelMessageCommand:ti,UpdateChannelReadMarkerCommand:ni};class ri extends G{}(0,h.TW)(ii,ri);const ai=async(e,t,...n)=>await e.send(new On(t),...n);async function*oi(e,t,...n){let i,r=e.startingToken||void 0,a=!0;for(;a;){if(t.NextToken=r,t.MaxResults=e.pageSize,!(e.client instanceof G))throw new Error("Invalid client, expected ChimeSDKMessaging | ChimeSDKMessagingClient");i=await ai(e.client,t,...n),yield i;const o=r;r=i.NextToken,a=!(!r||e.stopOnSameToken&&r===o)}}const si=async(e,t,...n)=>await e.send(new Un(t),...n);async function*ci(e,t,...n){let i,r=e.startingToken||void 0,a=!0;for(;a;){if(t.NextToken=r,t.MaxResults=e.pageSize,!(e.client instanceof G))throw new Error("Invalid client, expected ChimeSDKMessaging | ChimeSDKMessagingClient");i=await si(e.client,t,...n),yield i;const o=r;r=i.NextToken,a=!(!r||e.stopOnSameToken&&r===o)}}const di=async(e,t,...n)=>await e.send(new zn(t),...n);async function*li(e,t,...n){let i,r=e.startingToken||void 0,a=!0;for(;a;){if(t.NextToken=r,t.MaxResults=e.pageSize,!(e.client instanceof G))throw new Error("Invalid client, expected ChimeSDKMessaging | ChimeSDKMessagingClient");i=await di(e.client,t,...n),yield i;const o=r;r=i.NextToken,a=!(!r||e.stopOnSameToken&&r===o)}}const ui=async(e,t,...n)=>await e.send(new Nn(t),...n);async function*hi(e,t,...n){let i,r=e.startingToken||void 0,a=!0;for(;a;){if(t.NextToken=r,t.MaxResults=e.pageSize,!(e.client instanceof G))throw new Error("Invalid client, expected ChimeSDKMessaging | ChimeSDKMessagingClient");i=await ui(e.client,t,...n),yield i;const o=r;r=i.NextToken,a=!(!r||e.stopOnSameToken&&r===o)}}const pi=async(e,t,...n)=>await e.send(new Dn(t),...n);async function*mi(e,t,...n){let i,r=e.startingToken||void 0,a=!0;for(;a;){if(t.NextToken=r,t.MaxResults=e.pageSize,!(e.client instanceof G))throw new Error("Invalid client, expected ChimeSDKMessaging | ChimeSDKMessagingClient");i=await pi(e.client,t,...n),yield i;const o=r;r=i.NextToken,a=!(!r||e.stopOnSameToken&&r===o)}}const fi=async(e,t,...n)=>await e.send(new Ln(t),...n);async function*gi(e,t,...n){let i,r=e.startingToken||void 0,a=!0;for(;a;){if(t.NextToken=r,t.MaxResults=e.pageSize,!(e.client instanceof G))throw new Error("Invalid client, expected ChimeSDKMessaging | ChimeSDKMessagingClient");i=await fi(e.client,t,...n),yield i;const o=r;r=i.NextToken,a=!(!r||e.stopOnSameToken&&r===o)}}const wi=async(e,t,...n)=>await e.send(new Bn(t),...n);async function*yi(e,t,...n){let i,r=e.startingToken||void 0,a=!0;for(;a;){if(t.NextToken=r,t.MaxResults=e.pageSize,!(e.client instanceof G))throw new Error("Invalid client, expected ChimeSDKMessaging | ChimeSDKMessagingClient");i=await wi(e.client,t,...n),yield i;const o=r;r=i.NextToken,a=!(!r||e.stopOnSameToken&&r===o)}}const vi=async(e,t,...n)=>await e.send(new Vn(t),...n);async function*bi(e,t,...n){let i,r=e.startingToken||void 0,a=!0;for(;a;){if(t.NextToken=r,t.MaxResults=e.pageSize,!(e.client instanceof G))throw new Error("Invalid client, expected ChimeSDKMessaging | ChimeSDKMessagingClient");i=await vi(e.client,t,...n),yield i;const o=r;r=i.NextToken,a=!(!r||e.stopOnSameToken&&r===o)}}const Si=async(e,t,...n)=>await e.send(new qn(t),...n);async function*Ei(e,t,...n){let i,r=e.startingToken||void 0,a=!0;for(;a;){if(t.NextToken=r,t.MaxResults=e.pageSize,!(e.client instanceof G))throw new Error("Invalid client, expected ChimeSDKMessaging | ChimeSDKMessagingClient");i=await Si(e.client,t,...n),yield i;const o=r;r=i.NextToken,a=!(!r||e.stopOnSameToken&&r===o)}}const Ci=async(e,t,...n)=>await e.send(new jn(t),...n);async function*xi(e,t,...n){let i,r=e.startingToken||void 0,a=!0;for(;a;){if(t.NextToken=r,t.MaxResults=e.pageSize,!(e.client instanceof G))throw new Error("Invalid client, expected ChimeSDKMessaging | ChimeSDKMessagingClient");i=await Ci(e.client,t,...n),yield i;const o=r;r=i.NextToken,a=!(!r||e.stopOnSameToken&&r===o)}}const Ii=async(e,t,...n)=>await e.send(new Yn(t),...n);async function*ki(e,t,...n){let i,r=e.startingToken||void 0,a=!0;for(;a;){if(t.NextToken=r,t.MaxResults=e.pageSize,!(e.client instanceof G))throw new Error("Invalid client, expected ChimeSDKMessaging | ChimeSDKMessagingClient");i=await Ii(e.client,t,...n),yield i;const o=r;r=i.NextToken,a=!(!r||e.stopOnSameToken&&r===o)}}},8876:(e,t,n)=>{"use strict";var i;n.d(t,{JY:()=>r,Fh:()=>a,Xb:()=>c}),function(e){e.ENV="env",e.CONFIG="shared config entry"}(i||(i={}));const r=!1,a=!1,o=e=>"string"==typeof e&&(e.startsWith("fips-")||e.endsWith("-fips")),s=e=>o(e)?["fips-aws-global","aws-fips"].includes(e)?"us-east-1":e.replace(/fips-(dkr-|prod-)?|-fips/,""):e,c=e=>{const{region:t,useFipsEndpoint:n}=e;if(!t)throw new Error("Region is missing");return{...e,region:async()=>{if("string"==typeof t)return s(t);const e=await t();return s(e)},useFipsEndpoint:async()=>{const e="string"==typeof t?t:await t();return!!o(e)||("function"!=typeof n?Promise.resolve(!!n):n())}}}},6582:(e,t,n)=>{"use strict";n.d(t,{B:()=>o,C:()=>c});var i=n(8365),r=n(6528);function a(e=0){return new Promise(((t,n)=>{e&&setTimeout((()=>{const t=new Error(`Request did not complete within ${e} ms`);t.name="TimeoutError",n(t)}),e)}))}class o{constructor(e){"function"==typeof e?this.configProvider=e().then((e=>e||{})):(this.config=e??{},this.configProvider=Promise.resolve(this.config))}destroy(){}async handle(e,{abortSignal:t}={}){this.config||(this.config=await this.configProvider);const n=this.config.requestTimeout;if(t?.aborted){const e=new Error("Request aborted");return e.name="AbortError",Promise.reject(e)}let o=e.path;const s=function(e){const t=[];for(let n of Object.keys(e).sort()){const i=e[n];if(n=(0,r.i)(n),Array.isArray(i))for(let e=0,a=i.length;e<a;e++)t.push(`${n}=${(0,r.i)(i[e])}`);else{let e=n;(i||"string"==typeof i)&&(e+=`=${(0,r.i)(i)}`),t.push(e)}}return t.join("&")}(e.query||{});s&&(o+=`?${s}`),e.fragment&&(o+=`#${e.fragment}`);let c="";null==e.username&&null==e.password||(c=`${e.username??""}:${e.password??""}@`);const{port:d,method:l}=e,u=`${e.protocol}//${c}${e.hostname}${d?`:${d}`:""}${o}`,h={body:"GET"===l||"HEAD"===l?void 0:e.body,headers:new Headers(e.headers),method:l};"undefined"!=typeof AbortController&&(h.signal=t);const p=new Request(u,h),m=[fetch(p).then((e=>{const t=e.headers,n={};for(const e of t.entries())n[e[0]]=e[1];return null!=e.body?{response:new i.Zn({headers:n,reason:e.statusText,statusCode:e.status,body:e.body})}:e.blob().then((t=>({response:new i.Zn({headers:n,reason:e.statusText,statusCode:e.status,body:t})})))})),a(n)];return t&&m.push(new Promise(((e,n)=>{t.onabort=()=>{const e=new Error("Request aborted");e.name="AbortError",n(e)}}))),Promise.race(m)}}var s=n(7849);const c=e=>"function"==typeof Blob&&e instanceof Blob?async function(e){const t=await function(e){return new Promise(((t,n)=>{const i=new FileReader;i.onloadend=()=>{if(2!==i.readyState)return n(new Error("Reader aborted too early"));const e=i.result??"",r=e.indexOf(","),a=r>-1?r+1:e.length;t(e.substring(a))},i.onabort=()=>n(new Error("Read aborted")),i.onerror=()=>n(i.error),i.readAsDataURL(e)}))}(e),n=(0,s.G)(t);return new Uint8Array(n)}(e):async function(e){let t=new Uint8Array(0);const n=e.getReader();let i=!1;for(;!i;){const{done:e,value:r}=await n.read();if(r){const e=t;t=new Uint8Array(e.length+r.length),t.set(e),t.set(r,e.length)}i=e}return t}(e)},871:(e,t,n)=>{"use strict";n.d(t,{n:()=>i});const i=e=>()=>Promise.reject(e)},7085:(e,t,n)=>{"use strict";n.d(t,{VG:()=>o});var i=n(8365);const r="content-length",a={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},o=e=>({applyToStack:t=>{var n;t.add((n=e.bodyLengthChecker,e=>async t=>{const a=t.request;if(i.aW.isInstance(a)){const{body:e,headers:t}=a;if(e&&-1===Object.keys(t).map((e=>e.toLowerCase())).indexOf(r))try{const t=n(e);a.headers={...a.headers,[r]:String(t)}}catch(e){}}return e({...t,request:a})}),a)}})},4618:(e,t,n)=>{"use strict";n.d(t,{a3:()=>l,uW:()=>p});var i=n(8493);const r=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,a=/(\d+\.){3}\d+/,o=/\.\./,s=(e,t,n)=>{const i=async()=>{const i=n[e]??n[t];return"function"==typeof i?i():i};return"endpoint"===e||"endpoint"===t?async()=>{const e=await i();if(e&&"object"==typeof e){if("url"in e)return e.url.href;if("hostname"in e){const{protocol:t,hostname:n,port:i,path:r}=e;return`${t}//${n}${i?":"+i:""}${r}`}}return e}:i},c=async(e,t,n)=>{const i={},c=t?.getEndpointParameterInstructions?.()||{};for(const[t,r]of Object.entries(c))switch(r.type){case"staticContextParams":i[t]=r.value;break;case"contextParams":i[t]=e[r.name];break;case"clientContextParams":case"builtInParams":i[t]=await s(r.name,t,n)();break;default:throw new Error("Unrecognized endpoint parameter instruction: "+JSON.stringify(r))}return 0===Object.keys(c).length&&Object.assign(i,n),"s3"===String(n.serviceId).toLowerCase()&&await(async e=>{const t=e?.Bucket||"";if("string"==typeof e.Bucket&&(e.Bucket=t.replace(/#/g,encodeURIComponent("#")).replace(/\?/g,encodeURIComponent("?"))),(e=>{const[t,n,i,r,a,o]=e.split(":"),s="arn"===t&&e.split(":").length>=6,c=5===[t,n,i,a,o].filter(Boolean).length;if(s&&!c)throw new Error(`Invalid ARN: ${e} was an invalid ARN.`);return!!("arn"===t&&n&&i&&a&&o)})(t)){if(!0===e.ForcePathStyle)throw new Error("Path-style addressing cannot be used with ARN buckets")}else n=t,(!r.test(n)||a.test(n)||o.test(n)||-1!==t.indexOf(".")&&!String(e.Endpoint).startsWith("http:")||t.toLowerCase()!==t||t.length<3)&&(e.ForcePathStyle=!0);var n;return e.DisableMultiRegionAccessPoints&&(e.disableMultiRegionAccessPoints=!0,e.DisableMRAP=!0),e})(i),i},d={step:"serialize",tags:["ENDPOINT_PARAMETERS","ENDPOINT_V2","ENDPOINT"],name:"endpointV2Middleware",override:!0,relation:"before",toMiddleware:i.JK.name},l=(e,t)=>({applyToStack:n=>{n.addRelativeTo((({config:e,instructions:t})=>(n,i)=>async r=>{const a=await(async(e,t,n,i)=>{const r=await c(e,t,n);if("function"!=typeof n.endpointProvider)throw new Error("config.endpointProvider is not set.");return n.endpointProvider(r,i)})(r.input,{getEndpointParameterInstructions:()=>t},{...e},i);i.endpointV2=a,i.authSchemes=a.properties?.authSchemes;const o=i.authSchemes?.[0];return o&&(i.signing_region=o.signingRegion,i.signing_service=o.signingName),n({...r})})({config:e,instructions:t}),d)}});var u=n(5115),h=n(6795);const p=e=>{const t=e.tls??!0,{endpoint:n}=e,i=null!=n?async()=>(e=>"object"==typeof e?"url"in e?(0,h.e)(e.url):e:(0,h.e)(e))(await(0,u.$)(n)()):void 0,r=!!n;return{...e,endpoint:i,tls:t,isCustomEndpoint:r,useDualstackEndpoint:(0,u.$)(e.useDualstackEndpoint??!1),useFipsEndpoint:(0,u.$)(e.useFipsEndpoint??!1)}}},6848:(e,t,n)=>{"use strict";n.d(t,{G2:()=>o,S8:()=>r});var i=n(8365);function r(e){return e}const a={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},o=e=>({applyToStack:t=>{t.add((e=>t=>async n=>{if(!i.aW.isInstance(n.request))return t(n);const{request:r}=n,{handlerProtocol:a=""}=e.requestHandler.metadata||{};if(a.indexOf("h2")>=0&&!r.headers[":authority"])delete r.headers.host,r.headers[":authority"]="";else if(!r.headers.host){let e=r.hostname;null!=r.port&&(e+=`:${r.port}`),r.headers.host=e}return t(n)})(e),a)}})},2831:(e,t,n)=>{"use strict";n.d(t,{cV:()=>r});const i={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},r=e=>({applyToStack:e=>{e.add(((e,t)=>async n=>{try{const i=await e(n),{clientName:r,commandName:a,logger:o,dynamoDbDocumentClientOptions:s={}}=t,{overrideInputFilterSensitiveLog:c,overrideOutputFilterSensitiveLog:d}=s,l=c??t.inputFilterSensitiveLog,u=d??t.outputFilterSensitiveLog,{$metadata:h,...p}=i.output;return o?.info?.({clientName:r,commandName:a,input:l(n.input),output:u(p),metadata:h}),i}catch(e){const{clientName:i,commandName:r,logger:a,dynamoDbDocumentClientOptions:o={}}=t,{overrideInputFilterSensitiveLog:s}=o,c=s??t.inputFilterSensitiveLog;throw a?.error?.({clientName:i,commandName:r,input:c(n.input),error:e,metadata:e.$metadata}),e}}),i)}})},1769:(e,t,n)=>{"use strict";n.d(t,{eV:()=>o});var i=n(8365);const r="X-Amzn-Trace-Id",a={step:"build",tags:["RECURSION_DETECTION"],name:"recursionDetectionMiddleware",override:!0,priority:"low"},o=e=>({applyToStack:t=>{t.add((e=>t=>async n=>{const{request:a}=n;if(!i.aW.isInstance(a)||"node"!==e.runtime||a.headers.hasOwnProperty(r))return t(n);const o=process.env.AWS_LAMBDA_FUNCTION_NAME,s=process.env._X_AMZN_TRACE_ID,c=e=>"string"==typeof e&&e.length>0;return c(o)&&c(s)&&(a.headers[r]=s),t({...n,request:a})})(e),a)}})},7669:(e,t,n)=>{"use strict";n.d(t,{NQ:()=>h,BC:()=>o});var i=n(9082),r=n(8365),a=n(5115);i.J;const o=e=>{const{retryStrategy:t}=e,n=(0,a.$)(e.maxAttempts??i.J);return{...e,maxAttempts:n,retryStrategy:async()=>t||(await(0,a.$)(e.retryMode)()===i.Ul.ADAPTIVE?new i.AY(n):new i.Uz(n))}};i.CA;var s=n(8971),c=n(4586);const d=e=>{const t={errorType:l(e)},n=p(e.$response);return n&&(t.retryAfterHint=n),t},l=e=>(0,s.pK)(e)?"THROTTLING":(0,s.iH)(e)?"TRANSIENT":(0,s.o7)(e)?"SERVER_ERROR":"CLIENT_ERROR",u={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},h=e=>({applyToStack:t=>{t.add((e=>(t,n)=>async a=>{let o=await e.retryStrategy();const s=await e.maxAttempts();if(!(e=>void 0!==e.acquireInitialRetryToken&&void 0!==e.refreshRetryTokenForRetry&&void 0!==e.recordSuccess)(o))return o?.mode&&(n.userAgent=[...n.userAgent||[],["cfg/retry-mode",o.mode]]),o.retry(t,a);{let e=await o.acquireInitialRetryToken(n.partition_id),u=new Error,h=0,p=0;const{request:m}=a;for(r.aW.isInstance(m)&&(m.headers[i.lk]=(0,c.Z)());;)try{r.aW.isInstance(m)&&(m.headers[i.r5]=`attempt=${h+1}; max=${s}`);const{response:n,output:c}=await t(a);return o.recordSuccess(e),c.$metadata.attempts=h+1,c.$metadata.totalRetryDelay=p,{response:n,output:c}}catch(t){const n=d(t);u=(l=t)instanceof Error?l:l instanceof Object?Object.assign(new Error,l):"string"==typeof l?new Error(l):new Error(`AWS SDK error wrapper for ${l}`);try{e=await o.refreshRetryTokenForRetry(e,n)}catch(e){throw u.$metadata||(u.$metadata={}),u.$metadata.attempts=h+1,u.$metadata.totalRetryDelay=p,u}h=e.getRetryCount();const i=e.getRetryDelay();p+=i,await new Promise((e=>setTimeout(e,i)))}}var l})(e),u)}}),p=e=>{if(!r.Zn.isInstance(e))return;const t=Object.keys(e.headers).find((e=>"retry-after"===e.toLowerCase()));if(!t)return;const n=e.headers[t],i=Number(n);return Number.isNaN(i)?new Date(n):new Date(1e3*i)}},8493:(e,t,n)=>{"use strict";n.d(t,{p2:()=>s,JK:()=>o});const i=(e,t)=>(n,i)=>async i=>{const{response:r}=await n(i);try{return{response:r,output:await t(r,e)}}catch(e){if(Object.defineProperty(e,"$response",{value:r}),!("$metadata"in e)){const t="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";e.message+="\n  "+t}throw e}},r=(e,t)=>(n,i)=>async r=>{const a=i.endpointV2?.url&&e.urlParser?async()=>e.urlParser(i.endpointV2.url):e.endpoint;if(!a)throw new Error("No valid endpoint provider available.");const o=await t(r.input,{...e,endpoint:a});return n({...r,request:o})},a={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},o={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function s(e,t,n){return{applyToStack:s=>{s.add(i(e,n),a),s.add(r(e,t),o)}}}},4307:(e,t,n)=>{"use strict";n.d(t,{yt:()=>re,A$:()=>X});var i,r=n(4689),a=(n(4079),n(3538));class o{constructor(e){if(this.bytes=e,8!==e.byteLength)throw new Error("Int64 buffers must be exactly 8 bytes")}static fromNumber(e){if(e>0x8000000000000000||e<-0x8000000000000000)throw new Error(`${e} is too large (or, if negative, too small) to represent as an Int64`);const t=new Uint8Array(8);for(let n=7,i=Math.abs(Math.round(e));n>-1&&i>0;n--,i/=256)t[n]=i;return e<0&&s(t),new o(t)}valueOf(){const e=this.bytes.slice(0),t=128&e[0];return t&&s(e),parseInt((0,a.toHex)(e),16)*(t?-1:1)}toString(){return String(this.valueOf())}}function s(e){for(let t=0;t<8;t++)e[t]^=255;for(let t=7;t>-1&&(e[t]++,0===e[t]);t--);}class c{constructor(e,t){this.toUtf8=e,this.fromUtf8=t}format(e){const t=[];for(const n of Object.keys(e)){const i=this.fromUtf8(n);t.push(Uint8Array.from([i.byteLength]),i,this.formatHeaderValue(e[n]))}const n=new Uint8Array(t.reduce(((e,t)=>e+t.byteLength),0));let i=0;for(const e of t)n.set(e,i),i+=e.byteLength;return n}formatHeaderValue(e){switch(e.type){case"boolean":return Uint8Array.from([e.value?0:1]);case"byte":return Uint8Array.from([2,e.value]);case"short":const t=new DataView(new ArrayBuffer(3));return t.setUint8(0,3),t.setInt16(1,e.value,!1),new Uint8Array(t.buffer);case"integer":const n=new DataView(new ArrayBuffer(5));return n.setUint8(0,4),n.setInt32(1,e.value,!1),new Uint8Array(n.buffer);case"long":const i=new Uint8Array(9);return i[0]=5,i.set(e.value.bytes,1),i;case"binary":const r=new DataView(new ArrayBuffer(3+e.value.byteLength));r.setUint8(0,6),r.setUint16(1,e.value.byteLength,!1);const s=new Uint8Array(r.buffer);return s.set(e.value,3),s;case"string":const c=this.fromUtf8(e.value),d=new DataView(new ArrayBuffer(3+c.byteLength));d.setUint8(0,7),d.setUint16(1,c.byteLength,!1);const l=new Uint8Array(d.buffer);return l.set(c,3),l;case"timestamp":const u=new Uint8Array(9);return u[0]=8,u.set(o.fromNumber(e.value.valueOf()).bytes,1),u;case"uuid":if(!y.test(e.value))throw new Error(`Invalid UUID received: ${e.value}`);const h=new Uint8Array(17);return h[0]=9,h.set((0,a.fromHex)(e.value.replace(/\-/g,"")),1),h}}parse(e){const t={};let n=0;for(;n<e.byteLength;){const i=e.getUint8(n++),r=this.toUtf8(new Uint8Array(e.buffer,e.byteOffset+n,i));switch(n+=i,e.getUint8(n++)){case 0:t[r]={type:d,value:!0};break;case 1:t[r]={type:d,value:!1};break;case 2:t[r]={type:l,value:e.getInt8(n++)};break;case 3:t[r]={type:u,value:e.getInt16(n,!1)},n+=2;break;case 4:t[r]={type:h,value:e.getInt32(n,!1)},n+=4;break;case 5:t[r]={type:p,value:new o(new Uint8Array(e.buffer,e.byteOffset+n,8))},n+=8;break;case 6:const i=e.getUint16(n,!1);n+=2,t[r]={type:m,value:new Uint8Array(e.buffer,e.byteOffset+n,i)},n+=i;break;case 7:const s=e.getUint16(n,!1);n+=2,t[r]={type:f,value:this.toUtf8(new Uint8Array(e.buffer,e.byteOffset+n,s))},n+=s;break;case 8:t[r]={type:g,value:new Date(new o(new Uint8Array(e.buffer,e.byteOffset+n,8)).valueOf())},n+=8;break;case 9:const c=new Uint8Array(e.buffer,e.byteOffset+n,16);n+=16,t[r]={type:w,value:`${(0,a.toHex)(c.subarray(0,4))}-${(0,a.toHex)(c.subarray(4,6))}-${(0,a.toHex)(c.subarray(6,8))}-${(0,a.toHex)(c.subarray(8,10))}-${(0,a.toHex)(c.subarray(10))}`};break;default:throw new Error("Unrecognized header type tag")}}return t}}!function(e){e[e.boolTrue=0]="boolTrue",e[e.boolFalse=1]="boolFalse",e[e.byte=2]="byte",e[e.short=3]="short",e[e.integer=4]="integer",e[e.long=5]="long",e[e.byteArray=6]="byteArray",e[e.string=7]="string",e[e.timestamp=8]="timestamp",e[e.uuid=9]="uuid"}(i||(i={}));const d="boolean",l="byte",u="short",h="integer",p="long",m="binary",f="string",g="timestamp",w="uuid",y=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/;Symbol.asyncIterator,Symbol.asyncIterator,Symbol.asyncIterator,Symbol.asyncIterator;var v=n(5115),b=n(6521),S=n(2498);const E=e=>"string"==typeof e?(0,S.$)(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e),C="X-Amz-Date",x="X-Amz-Signature",I="X-Amz-Security-Token",k="authorization",P=C.toLowerCase(),A=[k,P,"date"],T=x.toLowerCase(),M="x-amz-content-sha256",R=I.toLowerCase(),F={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},_=/^proxy-/,O=/^sec-/,U="AWS4-HMAC-SHA256",N="AWS4-HMAC-SHA256-PAYLOAD",z="aws4_request",D={},L=[],B=(e,t,n)=>`${e}/${t}/${n}/${z}`,q=(e,t,n)=>{const i=new e(t);return i.update(E(n)),i.digest()},V=({headers:e},t,n)=>{const i={};for(const r of Object.keys(e).sort()){if(null==e[r])continue;const a=r.toLowerCase();(a in F||t?.has(a)||_.test(a)||O.test(a))&&(!n||n&&!n.has(a))||(i[a]=e[r].trim().replace(/\s+/g," "))}return i};var j=n(6528);const W=async({headers:e,body:t},n)=>{for(const t of Object.keys(e))if(t.toLowerCase()===M)return e[t];if(null==t)return"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855";if("string"==typeof t||ArrayBuffer.isView(t)||(i=t,"function"==typeof ArrayBuffer&&i instanceof ArrayBuffer||"[object ArrayBuffer]"===Object.prototype.toString.call(i))){const e=new n;return e.update(E(t)),(0,a.toHex)(await e.digest())}var i;return"UNSIGNED-PAYLOAD"},$=({headers:e,query:t,...n})=>({...n,headers:{...e},query:t?H(t):void 0}),H=e=>Object.keys(e).reduce(((t,n)=>{const i=e[n];return{...t,[n]:Array.isArray(i)?[...i]:i}}),{}),G=e=>{e="function"==typeof e.clone?e.clone():$(e);for(const t of Object.keys(e.headers))A.indexOf(t.toLowerCase())>-1&&delete e.headers[t];return e};class K{constructor({applyChecksum:e,credentials:t,region:n,service:i,sha256:r,uriEscapePath:a=!0}){this.headerMarshaller=new c(b.G,S.$),this.service=i,this.sha256=r,this.uriEscapePath=a,this.applyChecksum="boolean"!=typeof e||e,this.regionProvider=(0,v.$)(n),this.credentialProvider=(0,v.$)(t)}async presign(e,t={}){const{signingDate:n=new Date,expiresIn:i=3600,unsignableHeaders:r,unhoistableHeaders:a,signableHeaders:o,signingRegion:s,signingService:c}=t,d=await this.credentialProvider();this.validateResolvedCredentials(d);const l=s??await this.regionProvider(),{longDate:u,shortDate:h}=Y(n);if(i>604800)return Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future");const p=B(h,l,c??this.service),m=((e,t={})=>{const{headers:n,query:i={}}="function"==typeof e.clone?e.clone():$(e);for(const e of Object.keys(n)){const r=e.toLowerCase();"x-amz-"!==r.slice(0,6)||t.unhoistableHeaders?.has(r)||(i[e]=n[e],delete n[e])}return{...e,headers:n,query:i}})(G(e),{unhoistableHeaders:a});d.sessionToken&&(m.query[I]=d.sessionToken),m.query["X-Amz-Algorithm"]=U,m.query["X-Amz-Credential"]=`${d.accessKeyId}/${p}`,m.query[C]=u,m.query["X-Amz-Expires"]=i.toString(10);const f=V(m,r,o);return m.query["X-Amz-SignedHeaders"]=J(f),m.query[x]=await this.getSignature(u,p,this.getSigningKey(d,l,h,c),this.createCanonicalRequest(m,f,await W(e,this.sha256))),m}async sign(e,t){return"string"==typeof e?this.signString(e,t):e.headers&&e.payload?this.signEvent(e,t):e.message?this.signMessage(e,t):this.signRequest(e,t)}async signEvent({headers:e,payload:t},{signingDate:n=new Date,priorSignature:i,signingRegion:r,signingService:o}){const s=r??await this.regionProvider(),{shortDate:c,longDate:d}=Y(n),l=B(c,s,o??this.service),u=await W({headers:{},body:t},this.sha256),h=new this.sha256;h.update(e);const p=(0,a.toHex)(await h.digest()),m=[N,d,l,i,p,u].join("\n");return this.signString(m,{signingDate:n,signingRegion:s,signingService:o})}async signMessage(e,{signingDate:t=new Date,signingRegion:n,signingService:i}){return this.signEvent({headers:this.headerMarshaller.format(e.message.headers),payload:e.message.body},{signingDate:t,signingRegion:n,signingService:i,priorSignature:e.priorSignature}).then((t=>({message:e.message,signature:t})))}async signString(e,{signingDate:t=new Date,signingRegion:n,signingService:i}={}){const r=await this.credentialProvider();this.validateResolvedCredentials(r);const o=n??await this.regionProvider(),{shortDate:s}=Y(t),c=new this.sha256(await this.getSigningKey(r,o,s,i));return c.update(E(e)),(0,a.toHex)(await c.digest())}async signRequest(e,{signingDate:t=new Date,signableHeaders:n,unsignableHeaders:i,signingRegion:r,signingService:a}={}){const o=await this.credentialProvider();this.validateResolvedCredentials(o);const s=r??await this.regionProvider(),c=G(e),{longDate:d,shortDate:l}=Y(t),u=B(l,s,a??this.service);c.headers[P]=d,o.sessionToken&&(c.headers[R]=o.sessionToken);const h=await W(c,this.sha256);!((e,t)=>{e=e.toLowerCase();for(const n of Object.keys(t))if(e===n.toLowerCase())return!0;return!1})(M,c.headers)&&this.applyChecksum&&(c.headers[M]=h);const p=V(c,i,n),m=await this.getSignature(d,u,this.getSigningKey(o,s,l,a),this.createCanonicalRequest(c,p,h));return c.headers[k]=`${U} Credential=${o.accessKeyId}/${u}, SignedHeaders=${J(p)}, Signature=${m}`,c}createCanonicalRequest(e,t,n){const i=Object.keys(t).sort();return`${e.method}\n${this.getCanonicalPath(e)}\n${(({query:e={}})=>{const t=[],n={};for(const i of Object.keys(e).sort()){if(i.toLowerCase()===T)continue;t.push(i);const r=e[i];"string"==typeof r?n[i]=`${(0,j.i)(i)}=${(0,j.i)(r)}`:Array.isArray(r)&&(n[i]=r.slice(0).sort().reduce(((e,t)=>e.concat([`${(0,j.i)(i)}=${(0,j.i)(t)}`])),[]).join("&"))}return t.map((e=>n[e])).filter((e=>e)).join("&")})(e)}\n${i.map((e=>`${e}:${t[e]}`)).join("\n")}\n\n${i.join(";")}\n${n}`}async createStringToSign(e,t,n){const i=new this.sha256;i.update(E(n));const r=await i.digest();return`${U}\n${e}\n${t}\n${(0,a.toHex)(r)}`}getCanonicalPath({path:e}){if(this.uriEscapePath){const t=[];for(const n of e.split("/"))0!==n?.length&&"."!==n&&(".."===n?t.pop():t.push(n));const n=`${e?.startsWith("/")?"/":""}${t.join("/")}${t.length>0&&e?.endsWith("/")?"/":""}`;return encodeURIComponent(n).replace(/%2F/g,"/")}return e}async getSignature(e,t,n,i){const r=await this.createStringToSign(e,t,i),o=new this.sha256(await n);return o.update(E(r)),(0,a.toHex)(await o.digest())}getSigningKey(e,t,n,i){return(async(e,t,n,i,r)=>{const o=await q(e,t.secretAccessKey,t.accessKeyId),s=`${n}:${i}:${r}:${(0,a.toHex)(o)}:${t.sessionToken}`;if(s in D)return D[s];for(L.push(s);L.length>50;)delete D[L.shift()];let c=`AWS4${t.secretAccessKey}`;for(const t of[n,i,r,z])c=await q(e,c,t);return D[s]=c})(this.sha256,e,n,t,i||this.service)}validateResolvedCredentials(e){if("object"!=typeof e||"string"!=typeof e.accessKeyId||"string"!=typeof e.secretAccessKey)throw new Error("Resolved credential object is not valid")}}const Y=e=>{const t=(n=e,(e=>"number"==typeof e?new Date(1e3*e):"string"==typeof e?Number(e)?new Date(1e3*Number(e)):new Date(e):e)(n).toISOString().replace(/\.\d{3}Z$/,"Z")).replace(/[\-:]/g,"");var n;return{longDate:t,shortDate:t.slice(0,8)}},J=e=>Object.keys(e).sort().join(";"),X=e=>{const t=e.credentials?Z(e.credentials):e.credentialDefaultProvider(e),{signingEscapePath:n=!0,systemClockOffset:i=e.systemClockOffset||0,sha256:r}=e;let a;return a=e.signer?(0,v.$)(e.signer):e.regionInfoProvider?()=>(0,v.$)(e.region)().then((async t=>[await e.regionInfoProvider(t,{useFipsEndpoint:await e.useFipsEndpoint(),useDualstackEndpoint:await e.useDualstackEndpoint()})||{},t])).then((([i,a])=>{const{signingRegion:o,signingService:s}=i;e.signingRegion=e.signingRegion||o||a,e.signingName=e.signingName||s||e.serviceId;const c={...e,credentials:t,region:e.signingRegion,service:e.signingName,sha256:r,uriEscapePath:n};return new(e.signerConstructor||K)(c)})):async i=>{const a=(i=Object.assign({},{name:"sigv4",signingName:e.signingName||e.defaultSigningName,signingRegion:await(0,v.$)(e.region)(),properties:{}},i)).signingRegion,o=i.signingName;e.signingRegion=e.signingRegion||a,e.signingName=e.signingName||o||e.serviceId;const s={...e,credentials:t,region:e.signingRegion,service:e.signingName,sha256:r,uriEscapePath:n};return new(e.signerConstructor||K)(s)},{...e,systemClockOffset:i,signingEscapePath:n,credentials:t,signer:a}},Z=e=>"function"==typeof e?(0,r.H)(e,(e=>void 0!==e.expiration&&e.expiration.getTime()-Date.now()<3e5),(e=>void 0!==e.expiration)):(0,v.$)(e);var Q=n(8365);const ee=e=>new Date(Date.now()+e),te=(e,t)=>{const n=Date.parse(e);return((e,t)=>Math.abs(ee(t).getTime()-e)>=3e5)(n,t)?n-Date.now():t},ne=e=>Q.Zn.isInstance(e)?e.headers?.date??e.headers?.Date:void 0,ie={name:"awsAuthMiddleware",tags:["SIGNATURE","AWSAUTH"],relation:"after",toMiddleware:"retryMiddleware",override:!0},re=e=>({applyToStack:t=>{t.addRelativeTo((e=>(t,n)=>async function(i){if(!Q.aW.isInstance(i.request))return t(i);const r=n.endpointV2?.properties?.authSchemes?.[0],a="sigv4a"===r?.name?r?.signingRegionSet?.join(","):void 0,o=await e.signer(r),s=await t({...i,request:await o.sign(i.request,{signingDate:ee(e.systemClockOffset),signingRegion:a||n.signing_region,signingService:n.signing_service})}).catch((t=>{const n=t.ServerTime??ne(t.$response);throw n&&(e.systemClockOffset=te(n,e.systemClockOffset)),t})),c=ne(s.response);return c&&(e.systemClockOffset=te(c,e.systemClockOffset)),s})(e),ie)}})},6835:(e,t,n)=>{"use strict";function i(e){return{...e,customUserAgent:"string"==typeof e.customUserAgent?[[e.customUserAgent]]:e.customUserAgent}}n.d(t,{XJ:()=>h,er:()=>i});var r=n(8365),a=n(1065);const o="user-agent",s="x-amz-user-agent",c=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g,d=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w\#]/g,l=e=>{const t=e[0].split("/").map((e=>e.replace(c,"-"))).join("/"),n=e[1]?.replace(d,"-"),i=t.indexOf("/"),r=t.substring(0,i);let a=t.substring(i+1);return"api"===r&&(a=a.toLowerCase()),[r,a,n].filter((e=>e&&e.length>0)).reduce(((e,t,n)=>{switch(n){case 0:return t;case 1:return`${e}/${t}`;default:return`${e}#${t}`}}),"")},u={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},h=e=>({applyToStack:t=>{var n;t.add((n=e,(e,t)=>async i=>{const{request:c}=i;if(!r.aW.isInstance(c))return e(i);const{headers:d}=c,u=t?.userAgent?.map(l)||[],h=(await n.defaultUserAgentProvider()).map(l),p=n?.customUserAgent?.map(l)||[],m=(0,a.Qj)(),f=(m?[m]:[]).concat([...h,...u,...p]).join(" "),g=[...h.filter((e=>e.startsWith("aws-sdk-"))),...p].join(" ");return"browser"!==n.runtime?(g&&(d[s]=d[s]?`${d[o]} ${g}`:g),d[o]=f):d[s]=f,e({...i,request:c})}),u)}})},4689:(e,t,n)=>{"use strict";n.d(t,{H:()=>i});const i=(e,t,n)=>{let i,r,a,o=!1;const s=async()=>{r||(r=e());try{i=await r,a=!0,o=!1}finally{r=void 0}return i};return void 0===t?async e=>(a&&!e?.forceRefresh||(i=await s()),i):async e=>(a&&!e?.forceRefresh||(i=await s()),o?i:n&&!n(i)?(o=!0,i):t(i)?(await s(),i):i)}},8365:(e,t,n)=>{"use strict";var i,r;n.d(t,{aW:()=>a,Zn:()=>o}),(r=i||(i={}))[r.HEADER=0]="HEADER",r[r.TRAILER=1]="TRAILER";class a{constructor(e){this.method=e.method||"GET",this.hostname=e.hostname||"localhost",this.port=e.port,this.query=e.query||{},this.headers=e.headers||{},this.body=e.body,this.protocol=e.protocol?":"!==e.protocol.slice(-1)?`${e.protocol}:`:e.protocol:"https:",this.path=e.path?"/"!==e.path.charAt(0)?`/${e.path}`:e.path:"/",this.username=e.username,this.password=e.password,this.fragment=e.fragment}static isInstance(e){if(!e)return!1;const t=e;return"method"in t&&"protocol"in t&&"hostname"in t&&"path"in t&&"object"==typeof t.query&&"object"==typeof t.headers}clone(){const e=new a({...this,headers:{...this.headers}});var t;return e.query&&(e.query=(t=e.query,Object.keys(t).reduce(((e,n)=>{const i=t[n];return{...e,[n]:Array.isArray(i)?[...i]:i}}),{}))),e}}class o{constructor(e){this.statusCode=e.statusCode,this.reason=e.reason,this.headers=e.headers||{},this.body=e.body}static isInstance(e){if(!e)return!1;const t=e;return"number"==typeof t.statusCode&&"object"==typeof t.headers}}},8971:(e,t,n)=>{"use strict";n.d(t,{o7:()=>d,pK:()=>s,iH:()=>c});const i=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],r=["AbortError","TimeoutError","RequestTimeout","RequestTimeoutException"],a=[500,502,503,504],o=["ECONNRESET","ECONNREFUSED","EPIPE","ETIMEDOUT"],s=e=>429===e.$metadata?.httpStatusCode||i.includes(e.name)||1==e.$retryable?.throttling,c=e=>r.includes(e.name)||o.includes(e?.code||"")||a.includes(e.$metadata?.httpStatusCode||0),d=e=>{if(void 0!==e.$metadata?.httpStatusCode){const t=e.$metadata.httpStatusCode;return 500<=t&&t<=599&&!c(e)}return!1}},4152:(e,t,n)=>{"use strict";n.d(t,{KU:()=>s,mY:()=>p,vk:()=>i,oc:()=>m,sI:()=>V,F3:()=>ie,Wg:()=>h,TW:()=>f,to:()=>j,zE:()=>g,u$:()=>v,CE:()=>E,Fx:()=>w,Wh:()=>C,pY:()=>x,jc:()=>G,sT:()=>K,jv:()=>H,UI:()=>J,KX:()=>_,aH:()=>F,Is:()=>ne,AF:()=>P,qn:()=>X,PC:()=>W});class i{trace(){}debug(){}info(){}warn(){}error(){}}const r=()=>{let e=[],t=[];const n=new Set,i=n=>(e.forEach((e=>{n.add(e.middleware,{...e})})),t.forEach((e=>{n.addRelativeTo(e.middleware,{...e})})),n),s=e=>{const t=[];return e.before.forEach((e=>{0===e.before.length&&0===e.after.length?t.push(e):t.push(...s(e))})),t.push(e),e.after.reverse().forEach((e=>{0===e.before.length&&0===e.after.length?t.push(e):t.push(...s(e))})),t},c=(n=!1)=>{const i=[],r=[],c={};var d;return e.forEach((e=>{const t={...e,before:[],after:[]};t.name&&(c[t.name]=t),i.push(t)})),t.forEach((e=>{const t={...e,before:[],after:[]};t.name&&(c[t.name]=t),r.push(t)})),r.forEach((e=>{if(e.toMiddleware){const t=c[e.toMiddleware];if(void 0===t){if(n)return;throw new Error(`${e.toMiddleware} is not found when adding ${e.name||"anonymous"} middleware ${e.relation} ${e.toMiddleware}`)}"after"===e.relation&&t.after.push(e),"before"===e.relation&&t.before.push(e)}})),(d=i,d.sort(((e,t)=>a[t.step]-a[e.step]||o[t.priority||"normal"]-o[e.priority||"normal"]))).map(s).reduce(((e,t)=>(e.push(...t),e)),[])},d={add:(t,i={})=>{const{name:r,override:a}=i,o={step:"initialize",priority:"normal",middleware:t,...i};if(r){if(n.has(r)){if(!a)throw new Error(`Duplicate middleware name '${r}'`);const t=e.findIndex((e=>e.name===r)),n=e[t];if(n.step!==o.step||n.priority!==o.priority)throw new Error(`"${r}" middleware with ${n.priority} priority in ${n.step} step cannot be overridden by same-name middleware with ${o.priority} priority in ${o.step} step.`);e.splice(t,1)}n.add(r)}e.push(o)},addRelativeTo:(e,i)=>{const{name:r,override:a}=i,o={middleware:e,...i};if(r){if(n.has(r)){if(!a)throw new Error(`Duplicate middleware name '${r}'`);const e=t.findIndex((e=>e.name===r)),n=t[e];if(n.toMiddleware!==o.toMiddleware||n.relation!==o.relation)throw new Error(`"${r}" middleware ${n.relation} "${n.toMiddleware}" middleware cannot be overridden by same-name middleware ${o.relation} "${o.toMiddleware}" middleware.`);t.splice(e,1)}n.add(r)}t.push(o)},clone:()=>i(r()),use:e=>{e.applyToStack(d)},remove:i=>"string"==typeof i?(i=>{let r=!1;const a=e=>!e.name||e.name!==i||(r=!0,n.delete(i),!1);return e=e.filter(a),t=t.filter(a),r})(i):(i=>{let r=!1;const a=e=>e.middleware!==i||(r=!0,e.name&&n.delete(e.name),!1);return e=e.filter(a),t=t.filter(a),r})(i),removeByTag:i=>{let r=!1;const a=e=>{const{tags:t,name:a}=e;return!t||!t.includes(i)||(a&&n.delete(a),r=!0,!1)};return e=e.filter(a),t=t.filter(a),r},concat:e=>{const t=i(r());return t.use(e),t},applyToStack:i,identify:()=>c(!0).map((e=>e.name+": "+(e.tags||[]).join(","))),resolve:(e,t)=>{for(const n of c().map((e=>e.middleware)).reverse())e=n(e,t);return e}};return d},a={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},o={high:3,normal:2,low:1};class s{constructor(e){this.middlewareStack=r(),this.config=e}send(e,t,n){const i="function"!=typeof t?t:void 0,r="function"==typeof t?t:n,a=e.resolveMiddleware(this.middlewareStack,this.config,i);if(!r)return a(e).then((e=>e.output));a(e).then((e=>r(null,e.output)),(e=>r(e))).catch((()=>{}))}destroy(){this.config.requestHandler.destroy&&this.config.requestHandler.destroy()}}var c=n(7849),d=n(6521),l=n(2498);class u extends Uint8Array{static fromString(e,t="utf-8"){if("string"==typeof e)return function(e,t){return"base64"===t?u.mutate((0,c.G)(e)):u.mutate((0,l.$)(e))}(e,t);throw new Error(`Unsupported conversion from ${typeof e} to Uint8ArrayBlobAdapter.`)}static mutate(e){return Object.setPrototypeOf(e,u.prototype),e}transformToString(e="utf-8"){return function(e,t="utf-8"){return"base64"===t?(0,c.s)(e):(0,d.G)(e)}(this,e)}}n(6582),n(3538);const h=async(e=new Uint8Array,t)=>{if(e instanceof Uint8Array)return u.mutate(e);if(!e)return u.mutate(new Uint8Array);const n=t.streamCollector(e);return u.mutate(await n)};class p{constructor(){this.middlewareStack=r()}}const m="***SensitiveInformation***",f=(e,t)=>{for(const n of Object.keys(e)){const i=e[n],r=async function(e,t,n){const r=new i(e);if("function"==typeof t)this.send(r,t);else{if("function"!=typeof n)return this.send(r,t);if("object"!=typeof t)throw new Error("Expected http options but got "+typeof t);this.send(r,t||{},n)}},a=(n[0].toLowerCase()+n.slice(1)).replace(/Command$/,"");t.prototype[a]=r}},g=e=>{if(null!=e){if("number"==typeof e){if(0!==e&&1!==e||T.warn(A(`Expected boolean, got ${typeof e}: ${e}`)),0===e)return!1;if(1===e)return!0}if("string"==typeof e){const t=e.toLowerCase();if("false"!==t&&"true"!==t||T.warn(A(`Expected boolean, got ${typeof e}: ${e}`)),"false"===t)return!1;if("true"===t)return!0}if("boolean"==typeof e)return e;throw new TypeError(`Expected boolean, got ${typeof e}: ${e}`)}},w=e=>{if(null!=e){if("string"==typeof e){const t=parseFloat(e);if(!Number.isNaN(t))return String(t)!==String(e)&&T.warn(A(`Expected number but observed string: ${e}`)),t}if("number"==typeof e)return e;throw new TypeError(`Expected number, got ${typeof e}: ${e}`)}},y=Math.ceil(2**127*(2-2**-23)),v=e=>b(e,32),b=(e,t)=>{const n=(e=>{if(null!=e){if(Number.isInteger(e)&&!Number.isNaN(e))return e;throw new TypeError(`Expected integer, got ${typeof e}: ${e}`)}})(e);if(void 0!==n&&S(n,t)!==n)throw new TypeError(`Expected ${t}-bit integer, got ${e}`);return n},S=(e,t)=>{switch(t){case 32:return Int32Array.of(e)[0];case 16:return Int16Array.of(e)[0];case 8:return Int8Array.of(e)[0]}},E=(e,t)=>{if(null==e){if(t)throw new TypeError(`Expected a non-null value for ${t}`);throw new TypeError("Expected a non-null value")}return e},C=e=>{if(null==e)return;if("object"==typeof e&&!Array.isArray(e))return e;const t=Array.isArray(e)?"array":typeof e;throw new TypeError(`Expected object, got ${t}: ${e}`)},x=e=>{if(null!=e){if("string"==typeof e)return e;if(["boolean","number","bigint"].includes(typeof e))return T.warn(A(`Expected string, got ${typeof e}: ${e}`)),String(e);throw new TypeError(`Expected string, got ${typeof e}: ${e}`)}},I=/(-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?)|(-?Infinity)|(NaN)/g,k=e=>{const t=e.match(I);if(null===t||t[0].length!==e.length)throw new TypeError("Expected real number, got implicit NaN");return parseFloat(e)},P=e=>v("string"==typeof e?k(e):e),A=e=>String(new TypeError(e).stack||e).split("\n").slice(0,5).filter((e=>!e.includes("stackTraceWarning"))).join("\n"),T={warn:console.warn},M=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],R=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(([-+]\d{2}\:\d{2})|[zZ])$/),F=e=>{if(null==e)return;if("string"!=typeof e)throw new TypeError("RFC-3339 date-times must be expressed as strings");const t=R.exec(e);if(!t)throw new TypeError("Invalid RFC-3339 date-time value");const[n,i,r,a,o,s,c,d,l]=t,u=(e=>(e=>b(e,16))("string"==typeof e?k(e):e))(q(i)),h=D(r,"month",1,12),p=D(a,"day",1,31),m=O(u,h,p,{hours:o,minutes:s,seconds:c,fractionalMilliseconds:d});return"Z"!=l.toUpperCase()&&m.setTime(m.getTime()-B(l)),m},_=e=>{if(null==e)return;let t;if("number"==typeof e)t=e;else{if("string"!=typeof e)throw new TypeError("Epoch timestamps must be expressed as floating point numbers or their string representation");t=(e=>w("string"==typeof e?k(e):e))(e)}if(Number.isNaN(t)||t===1/0||t===-1/0)throw new TypeError("Epoch timestamps must be valid, non-Infinite, non-NaN numerics");return new Date(Math.round(1e3*t))},O=(e,t,n,i)=>{const r=t-1;return N(e,r,n),new Date(Date.UTC(e,r,n,D(i.hours,"hour",0,23),D(i.minutes,"minute",0,59),D(i.seconds,"seconds",0,60),L(i.fractionalMilliseconds)))},U=[31,28,31,30,31,30,31,31,30,31,30,31],N=(e,t,n)=>{let i=U[t];if(1===t&&z(e)&&(i=29),n>i)throw new TypeError(`Invalid day for ${M[t]} in ${e}: ${n}`)},z=e=>e%4==0&&(e%100!=0||e%400==0),D=(e,t,n,i)=>{const r=(e=>(e=>b(e,8))("string"==typeof e?k(e):e))(q(e));if(r<n||r>i)throw new TypeError(`${t} must be between ${n} and ${i}, inclusive`);return r},L=e=>null==e?0:1e3*(e=>(e=>{const t=w(e);if(void 0!==t&&!Number.isNaN(t)&&t!==1/0&&t!==-1/0&&Math.abs(t)>y)throw new TypeError(`Expected 32-bit float, got ${e}`);return t})("string"==typeof e?k(e):e))("0."+e),B=e=>{const t=e[0];let n=1;if("+"==t)n=1;else{if("-"!=t)throw new TypeError(`Offset direction, ${t}, must be "+" or "-"`);n=-1}return n*(60*Number(e.substring(1,3))+Number(e.substring(4,6)))*60*1e3},q=e=>{let t=0;for(;t<e.length-1&&"0"===e.charAt(t);)t++;return 0===t?e:e.slice(t)};class V extends Error{constructor(e){super(e.message),Object.setPrototypeOf(this,V.prototype),this.name=e.name,this.$fault=e.$fault,this.$metadata=e.$metadata}}const j=(e,t={})=>{Object.entries(t).filter((([,e])=>void 0!==e)).forEach((([t,n])=>{null!=e[t]&&""!==e[t]||(e[t]=n)}));const n=e.message||e.Message||"UnknownError";return e.message=n,delete e.Message,e},W=e=>({output:t,parsedBody:n,errorCode:i})=>{(({output:e,parsedBody:t,exceptionCtor:n,errorCode:i})=>{const r=$(e),a=r.httpStatusCode?r.httpStatusCode+"":void 0,o=new n({name:t?.code||t?.Code||i||a||"UnknownError",$fault:"client",$metadata:r});throw j(o,t)})({output:t,parsedBody:n,exceptionCtor:e,errorCode:i})},$=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),H=e=>{switch(e){case"standard":case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"mobile":return{retryMode:"standard",connectionTimeout:3e4};default:return{}}};function G(e){return encodeURIComponent(e).replace(/[!'()*]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}const K=e=>{const t="#text";for(const n in e)e.hasOwnProperty(n)&&void 0!==e[n][t]?e[n]=e[n][t]:"object"==typeof e[n]&&null!==e[n]&&(e[n]=K(e[n]));return e},Y=function(){const e=Object.getPrototypeOf(this).constructor,t=new(Function.bind.apply(String,[null,...arguments]));return Object.setPrototypeOf(t,e.prototype),t};function J(e,t,n){let i,r,a;if(void 0===t&&void 0===n)i={},a=e;else{if(i=e,"function"==typeof t)return r=t,a=n,Z(i,r,a);a=t}for(const e of Object.keys(a))Array.isArray(a[e])?Q(i,null,a,e):i[e]=a[e];return i}Y.prototype=Object.create(String.prototype,{constructor:{value:Y,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf(Y,String);const X=(e,t)=>{const n={};for(const i in t)Q(n,e,t,i);return n},Z=(e,t,n)=>J(e,Object.entries(n).reduce(((e,[n,i])=>(Array.isArray(i)?e[n]=i:e[n]="function"==typeof i?[t,i()]:[t,i],e)),{})),Q=(e,t,n,i)=>{if(null!==t){let r=n[i];"function"==typeof r&&(r=[,r]);const[a=ee,o=te,s=i]=r;return void(("function"==typeof a&&a(t[s])||"function"!=typeof a&&a)&&(e[i]=o(t[s])))}let[r,a]=n[i];if("function"==typeof a){let t;const n=void 0===r&&null!=(t=a()),o="function"==typeof r&&!!r(void 0)||"function"!=typeof r&&!!r;n?e[i]=t:o&&(e[i]=a())}else{const t=void 0===r&&null!=a,n="function"==typeof r&&!!r(a)||"function"!=typeof r&&!!r;(t||n)&&(e[i]=a)}},ee=e=>null!=e,te=e=>e,ne=(e,t,n,i,r,a)=>{if(null==t||void 0===t[n])throw new Error("No value provided for input HTTP label: "+n+".");{const t=i();if(t.length<=0)throw new Error("Empty value provided for input HTTP label: "+n+".");e=e.replace(r,a?t.split("/").map((e=>G(e))).join("/"):G(t))}return e},ie=e=>{if(null==e)return{};if(Array.isArray(e))return e.filter((e=>null!=e));if("object"==typeof e){const t={};for(const n of Object.keys(e))null!=e[n]&&(t[n]=ie(e[n]));return t}return e}},6795:(e,t,n)=>{"use strict";n.d(t,{e:()=>i});const i=e=>{if("string"==typeof e)return i(new URL(e));const{hostname:t,pathname:n,port:r,protocol:a,search:o}=e;let s;return o&&(s=function(e){const t={};if(e=e.replace(/^\?/,""))for(const n of e.split("&")){let[e,i=null]=n.split("=");e=decodeURIComponent(e),i&&(i=decodeURIComponent(i)),e in t?Array.isArray(t[e])?t[e].push(i):t[e]=[t[e],i]:t[e]=i}return t}(o)),{hostname:t,port:r?parseInt(r):void 0,protocol:a,path:n,query:s}}},7849:(e,t,n)=>{"use strict";n.d(t,{G:()=>c,s:()=>d});const i={},r=new Array(64);for(let e=0,t="A".charCodeAt(0),n="Z".charCodeAt(0);e+t<=n;e++){const n=String.fromCharCode(e+t);i[n]=e,r[e]=n}for(let e=0,t="a".charCodeAt(0),n="z".charCodeAt(0);e+t<=n;e++){const n=String.fromCharCode(e+t),a=e+26;i[n]=a,r[a]=n}for(let e=0;e<10;e++){i[e.toString(10)]=e+52;const t=e.toString(10),n=e+52;i[t]=n,r[n]=t}i["+"]=62,r[62]="+",i["/"]=63,r[63]="/";const a=6,o=8,s=63,c=e=>{let t=e.length/4*3;"=="===e.slice(-2)?t-=2:"="===e.slice(-1)&&t--;const n=new ArrayBuffer(t),r=new DataView(n);for(let t=0;t<e.length;t+=4){let n=0,s=0;for(let r=t,o=t+3;r<=o;r++)if("="!==e[r]){if(!(e[r]in i))throw new TypeError(`Invalid character ${e[r]} in base64 string.`);n|=i[e[r]]<<(o-r)*a,s+=a}else n>>=a;const c=t/4*3;n>>=s%o;const d=Math.floor(s/o);for(let e=0;e<d;e++){const t=(d-e-1)*o;r.setUint8(c+e,(n&255<<t)>>t)}}return new Uint8Array(n)};function d(e){let t="";for(let n=0;n<e.length;n+=3){let i=0,c=0;for(let t=n,r=Math.min(n+3,e.length);t<r;t++)i|=e[t]<<(r-t-1)*o,c+=o;const d=Math.ceil(c/a);i<<=d*a-c;for(let e=1;e<=d;e++){const n=(d-e)*a;t+=r[(i&s<<n)>>n]}t+="==".slice(0,4-d)}return t}},6524:(e,t,n)=>{"use strict";n.d(t,{W:()=>i});const i=e=>{if("string"==typeof e){let t=e.length;for(let n=t-1;n>=0;n--){const i=e.charCodeAt(n);i>127&&i<=2047?t++:i>2047&&i<=65535&&(t+=2),i>=56320&&i<=57343&&n--}return t}if("number"==typeof e.byteLength)return e.byteLength;if("number"==typeof e.size)return e.size;throw new Error(`Body Length computation failed for ${e}`)}},2971:(e,t,n)=>{"use strict";n.d(t,{j:()=>s});var i=n(4689),r=n(1206),a=n.n(r);const o=["in-region","cross-region","mobile","standard","legacy"],s=({defaultsMode:e}={})=>(0,i.H)((async()=>{const t="function"==typeof e?await e():e;switch(t?.toLowerCase()){case"auto":return Promise.resolve(c()?"mobile":"standard");case"mobile":case"in-region":case"cross-region":case"standard":case"legacy":return Promise.resolve(t?.toLocaleLowerCase());case void 0:return Promise.resolve("legacy");default:throw new Error(`Invalid parameter for "defaultsMode", expect ${o.join(", ")}, got ${t}`)}})),c=()=>{const e="undefined"!=typeof window&&window?.navigator?.userAgent?a().parse(window.navigator.userAgent):void 0,t=e?.platform?.type;return"tablet"===t||"mobile"===t}},1065:(e,t,n)=>{"use strict";n.d(t,{Qj:()=>u,B1:()=>G});var i={};n.r(i),n.d(i,{getUserAgentPrefix:()=>u,isVirtualHostableS3Bucket:()=>v,parseArn:()=>b,partition:()=>c,setPartitionInfo:()=>d,useDefaultPartitionInfo:()=>l});var r={};n.r(r),n.d(r,{aws:()=>i,booleanEquals:()=>S,getAttr:()=>E,isSet:()=>C,isValidHostLabel:()=>y,not:()=>x,parseURL:()=>M,stringEquals:()=>R,substring:()=>F,uriEncode:()=>_});const a=JSON.parse('{"partitions":[{"id":"aws","outputs":{"dnsSuffix":"amazonaws.com","dualStackDnsSuffix":"api.aws","name":"aws","supportsDualStack":true,"supportsFIPS":true},"regionRegex":"^(us|eu|ap|sa|ca|me|af)\\\\-\\\\w+\\\\-\\\\d+$","regions":{"af-south-1":{"description":"Africa (Cape Town)"},"ap-east-1":{"description":"Asia Pacific (Hong Kong)"},"ap-northeast-1":{"description":"Asia Pacific (Tokyo)"},"ap-northeast-2":{"description":"Asia Pacific (Seoul)"},"ap-northeast-3":{"description":"Asia Pacific (Osaka)"},"ap-south-1":{"description":"Asia Pacific (Mumbai)"},"ap-south-2":{"description":"Asia Pacific (Hyderabad)"},"ap-southeast-1":{"description":"Asia Pacific (Singapore)"},"ap-southeast-2":{"description":"Asia Pacific (Sydney)"},"ap-southeast-3":{"description":"Asia Pacific (Jakarta)"},"ap-southeast-4":{"description":"Asia Pacific (Melbourne)"},"aws-global":{"description":"AWS Standard global region"},"ca-central-1":{"description":"Canada (Central)"},"eu-central-1":{"description":"Europe (Frankfurt)"},"eu-central-2":{"description":"Europe (Zurich)"},"eu-north-1":{"description":"Europe (Stockholm)"},"eu-south-1":{"description":"Europe (Milan)"},"eu-south-2":{"description":"Europe (Spain)"},"eu-west-1":{"description":"Europe (Ireland)"},"eu-west-2":{"description":"Europe (London)"},"eu-west-3":{"description":"Europe (Paris)"},"me-central-1":{"description":"Middle East (UAE)"},"me-south-1":{"description":"Middle East (Bahrain)"},"sa-east-1":{"description":"South America (Sao Paulo)"},"us-east-1":{"description":"US East (N. Virginia)"},"us-east-2":{"description":"US East (Ohio)"},"us-west-1":{"description":"US West (N. California)"},"us-west-2":{"description":"US West (Oregon)"}}},{"id":"aws-cn","outputs":{"dnsSuffix":"amazonaws.com.cn","dualStackDnsSuffix":"api.amazonwebservices.com.cn","name":"aws-cn","supportsDualStack":true,"supportsFIPS":true},"regionRegex":"^cn\\\\-\\\\w+\\\\-\\\\d+$","regions":{"aws-cn-global":{"description":"AWS China global region"},"cn-north-1":{"description":"China (Beijing)"},"cn-northwest-1":{"description":"China (Ningxia)"}}},{"id":"aws-us-gov","outputs":{"dnsSuffix":"amazonaws.com","dualStackDnsSuffix":"api.aws","name":"aws-us-gov","supportsDualStack":true,"supportsFIPS":true},"regionRegex":"^us\\\\-gov\\\\-\\\\w+\\\\-\\\\d+$","regions":{"aws-us-gov-global":{"description":"AWS GovCloud (US) global region"},"us-gov-east-1":{"description":"AWS GovCloud (US-East)"},"us-gov-west-1":{"description":"AWS GovCloud (US-West)"}}},{"id":"aws-iso","outputs":{"dnsSuffix":"c2s.ic.gov","dualStackDnsSuffix":"c2s.ic.gov","name":"aws-iso","supportsDualStack":false,"supportsFIPS":true},"regionRegex":"^us\\\\-iso\\\\-\\\\w+\\\\-\\\\d+$","regions":{"aws-iso-global":{"description":"AWS ISO (US) global region"},"us-iso-east-1":{"description":"US ISO East"},"us-iso-west-1":{"description":"US ISO WEST"}}},{"id":"aws-iso-b","outputs":{"dnsSuffix":"sc2s.sgov.gov","dualStackDnsSuffix":"sc2s.sgov.gov","name":"aws-iso-b","supportsDualStack":false,"supportsFIPS":true},"regionRegex":"^us\\\\-isob\\\\-\\\\w+\\\\-\\\\d+$","regions":{"aws-iso-b-global":{"description":"AWS ISOB (US) global region"},"us-isob-east-1":{"description":"US ISOB East (Ohio)"}}},{"id":"aws-iso-e","outputs":{"dnsSuffix":"cloud.adc-e.uk","dualStackDnsSuffix":"cloud.adc-e.uk","name":"aws-iso-e","supportsDualStack":false,"supportsFIPS":true},"regionRegex":"^eu\\\\-isoe\\\\-\\\\w+\\\\-\\\\d+$","regions":{}},{"id":"aws-iso-f","outputs":{"dnsSuffix":"csp.hci.ic.gov","dualStackDnsSuffix":"csp.hci.ic.gov","name":"aws-iso-f","supportsDualStack":false,"supportsFIPS":true},"regionRegex":"^us\\\\-isof\\\\-\\\\w+\\\\-\\\\d+$","regions":{}}],"version":"1.1"}');let o=a,s="";const c=e=>{const{partitions:t}=o;for(const n of t){const{regions:t,outputs:i}=n;for(const[n,r]of Object.entries(t))if(n===e)return{...i,...r}}for(const n of t){const{regionRegex:t,outputs:i}=n;if(new RegExp(t).test(e))return{...i}}const n=t.find((e=>"aws"===e.id));if(!n)throw new Error("Provided region was not found in the partition array or regex, and default partition with id 'aws' doesn't exist.");return{...n.outputs}},d=(e,t="")=>{o=e,s=t},l=()=>{d(a,"")},u=()=>s,h="endpoints";function p(e){return"object"!=typeof e||null==e?e:"ref"in e?`$${p(e.ref)}`:"fn"in e?`${e.fn}(${(e.argv||[]).map(p).join(", ")})`:JSON.stringify(e,null,2)}class m extends Error{constructor(e){super(e),this.name="EndpointError"}}const f=new RegExp("^(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}$"),g=e=>f.test(e)||e.startsWith("[")&&e.endsWith("]"),w=new RegExp("^(?!.*-$)(?!-)[a-zA-Z0-9-]{1,63}$"),y=(e,t=!1)=>{if(!t)return w.test(e);const n=e.split(".");for(const e of n)if(!y(e))return!1;return!0},v=(e,t=!1)=>{if(t){for(const t of e.split("."))if(!v(t))return!1;return!0}return!(!y(e)||e.length<3||e.length>63||e!==e.toLowerCase()||g(e))},b=e=>{const t=e.split(":");if(t.length<6)return null;const[n,i,r,a,o,...s]=t;return"arn"!==n||""===i||""===r||""===s[0]?null:{partition:i,service:r,region:a,accountId:o,resourceId:s[0].includes("/")?s[0].split("/"):s}},S=(e,t)=>e===t,E=(e,t)=>(e=>{const t=e.split("."),n=[];for(const i of t){const t=i.indexOf("[");if(-1!==t){if(i.indexOf("]")!==i.length-1)throw new m(`Path: '${e}' does not end with ']'`);const r=i.slice(t+1,-1);if(Number.isNaN(parseInt(r)))throw new m(`Invalid array index: '${r}' in path: '${e}'`);0!==t&&n.push(i.slice(0,t)),n.push(r)}else n.push(i)}return n})(t).reduce(((n,i)=>{if("object"!=typeof n)throw new m(`Index '${i}' in '${t}' not found in '${JSON.stringify(e)}'`);return Array.isArray(n)?n[parseInt(i)]:n[i]}),e),C=e=>null!=e,x=e=>!e;var I,k,P,A;!function(e){e.HEADER="header",e.QUERY="query"}(I||(I={})),function(e){e.AAAA="AAAA",e.A="A"}(k||(k={})),function(e){e.HTTP="http",e.HTTPS="https"}(P||(P={})),function(e){e.HTTP_0_9="http/0.9",e.HTTP_1_0="http/1.0",e.TDS_8_0="tds/8.0"}(A||(A={}));const T={[P.HTTP]:80,[P.HTTPS]:443},M=e=>{const t=(()=>{try{if(e instanceof URL)return e;if("object"==typeof e&&"hostname"in e){const{hostname:t,port:n,protocol:i="",path:r="",query:a={}}=e,o=new URL(`${i}//${t}${n?`:${n}`:""}${r}`);return o.search=Object.entries(a).map((([e,t])=>`${e}=${t}`)).join("&"),o}return new URL(e)}catch(e){return null}})();if(!t)return console.error(`Unable to parse ${JSON.stringify(e)} as a whatwg URL.`),null;const n=t.href,{host:i,hostname:r,pathname:a,protocol:o,search:s}=t;if(s)return null;const c=o.slice(0,-1);if(!Object.values(P).includes(c))return null;const d=g(r);return{scheme:c,authority:`${i}${n.includes(`${i}:${T[c]}`)||"string"==typeof e&&e.includes(`${i}:${T[c]}`)?`:${T[c]}`:""}`,path:a,normalizedPath:a.endsWith("/")?a:`${a}/`,isIp:d}},R=(e,t)=>e===t,F=(e,t,n,i)=>t>=n||e.length<n?null:i?e.substring(e.length-n,e.length-t):e.substring(t,n),_=e=>encodeURIComponent(e).replace(/[!*'()]/g,(e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`)),O=(e,t)=>{const n=[],i={...t.endpointParams,...t.referenceRecord};let r=0;for(;r<e.length;){const t=e.indexOf("{",r);if(-1===t){n.push(e.slice(r));break}n.push(e.slice(r,t));const a=e.indexOf("}",t);if(-1===a){n.push(e.slice(t));break}"{"===e[t+1]&&"}"===e[a+1]&&(n.push(e.slice(t+1,a)),r=a+2);const o=e.substring(t+1,a);if(o.includes("#")){const[e,t]=o.split("#");n.push(E(i[e],t))}else n.push(i[o]);r=a+1}return n.join("")},U=(e,t,n)=>{if("string"==typeof e)return O(e,n);if(e.fn)return N(e,n);if(e.ref)return(({ref:e},t)=>({...t.endpointParams,...t.referenceRecord}[e]))(e,n);throw new m(`'${t}': ${String(e)} is not a string, function or reference.`)},N=({fn:e,argv:t},n)=>{const i=t.map((e=>["boolean","number"].includes(typeof e)?e:U(e,"arg",n)));return e.split(".").reduce(((e,t)=>e[t]),r)(...i)},z=({assign:e,...t},n)=>{if(e&&e in n.referenceRecord)throw new m(`'${e}' is already defined in Reference Record.`);const i=N(t,n);return n.logger?.debug?.(h,`evaluateCondition: ${p(t)} = ${p(i)}`),{result:""===i||!!i,...null!=e&&{toAssign:{name:e,value:i}}}},D=(e=[],t)=>{const n={};for(const i of e){const{result:e,toAssign:r}=z(i,{...t,referenceRecord:{...t.referenceRecord,...n}});if(!e)return{result:e};r&&(n[r.name]=r.value,t.logger?.debug?.(h,`assign: ${r.name} := ${p(r.value)}`))}return{result:!0,referenceRecord:n}},L=(e,t)=>Object.entries(e).reduce(((e,[n,i])=>({...e,[n]:i.map((e=>{const i=U(e,"Header value entry",t);if("string"!=typeof i)throw new m(`Header '${n}' value '${i}' is not a string`);return i}))})),{}),B=(e,t)=>{if(Array.isArray(e))return e.map((e=>B(e,t)));switch(typeof e){case"string":return O(e,t);case"object":if(null===e)throw new m(`Unexpected endpoint property: ${e}`);return q(e,t);case"boolean":return e;default:throw new m("Unexpected endpoint property type: "+typeof e)}},q=(e,t)=>Object.entries(e).reduce(((e,[n,i])=>({...e,[n]:B(i,t)})),{}),V=(e,t)=>{const n=U(e,"Endpoint URL",t);if("string"==typeof n)try{return new URL(n)}catch(e){throw console.error(`Failed to construct URL with ${n}`,e),e}throw new m("Endpoint URL must be a string, got "+typeof n)},j=(e,t)=>{const{conditions:n,endpoint:i}=e,{result:r,referenceRecord:a}=D(n,t);if(!r)return;const o={...t,referenceRecord:{...t.referenceRecord,...a}},{url:s,properties:c,headers:d}=i;return t.logger?.debug?.(h,`Resolving endpoint from template: ${p(i)}`),{...null!=d&&{headers:L(d,o)},...null!=c&&{properties:q(c,o)},url:V(s,o)}},W=(e,t)=>{const{conditions:n,error:i}=e,{result:r,referenceRecord:a}=D(n,t);if(r)throw new m(U(i,"Error",{...t,referenceRecord:{...t.referenceRecord,...a}}))},$=(e,t)=>{const{conditions:n,rules:i}=e,{result:r,referenceRecord:a}=D(n,t);if(r)return H(i,{...t,referenceRecord:{...t.referenceRecord,...a}})},H=(e,t)=>{for(const n of e)if("endpoint"===n.type){const e=j(n,t);if(e)return e}else if("error"===n.type)W(n,t);else{if("tree"!==n.type)throw new m(`Unknown endpoint rule: ${n}`);{const e=$(n,t);if(e)return e}}throw new m("Rules evaluation failed")},G=(e,t)=>{const{endpointParams:n,logger:i}=t,{parameters:r,rules:a}=e;t.logger?.debug?.(`${h} Initial EndpointParams: ${p(n)}`);const o=Object.entries(r).filter((([,e])=>null!=e.default)).map((([e,t])=>[e,t.default]));if(o.length>0)for(const[e,t]of o)n[e]=n[e]??t;const s=Object.entries(r).filter((([,e])=>e.required)).map((([e])=>e));for(const e of s)if(null==n[e])throw new m(`Missing required parameter: '${e}'`);const c=H(a,{endpointParams:n,logger:i,referenceRecord:{}});if(t.endpointParams?.Endpoint)try{const e=new URL(t.endpointParams.Endpoint),{protocol:n,port:i}=e;c.url.protocol=n,c.url.port=i}catch(e){}return t.logger?.debug?.(`${h} Resolved endpoint: ${p(c)}`),c}},3538:(e,t,n)=>{"use strict";n.r(t),n.d(t,{fromHex:()=>a,toHex:()=>o});const i={},r={};for(let e=0;e<256;e++){let t=e.toString(16).toLowerCase();1===t.length&&(t=`0${t}`),i[e]=t,r[t]=e}function a(e){if(e.length%2!=0)throw new Error("Hex encoded strings must have an even number length");const t=new Uint8Array(e.length/2);for(let n=0;n<e.length;n+=2){const i=e.slice(n,n+2).toLowerCase();if(!(i in r))throw new Error(`Cannot decode unrecognized sequence ${i} as hexadecimal`);t[n/2]=r[i]}return t}function o(e){let t="";for(let n=0;n<e.byteLength;n++)t+=i[e[n]];return t}},6495:(e,t,n)=>{"use strict";n.r(t),n.d(t,{locateWindow:()=>r});const i={};function r(){return"undefined"!=typeof window?window:"undefined"!=typeof self?self:i}},5115:(e,t,n)=>{"use strict";n.d(t,{$:()=>i});const i=e=>{if("function"==typeof e)return e;const t=Promise.resolve(e);return()=>t}},9082:(e,t,n)=>{"use strict";var i;n.d(t,{AY:()=>h,J:()=>r,CA:()=>a,lk:()=>c,r5:()=>d,Ul:()=>i,Uz:()=>u}),function(e){e.STANDARD="standard",e.ADAPTIVE="adaptive"}(i||(i={}));const r=3,a=i.STANDARD;var o=n(8971);class s{constructor(e){this.currentCapacity=0,this.enabled=!1,this.lastMaxRate=0,this.measuredTxRate=0,this.requestCount=0,this.lastTimestamp=0,this.timeWindow=0,this.beta=e?.beta??.7,this.minCapacity=e?.minCapacity??1,this.minFillRate=e?.minFillRate??.5,this.scaleConstant=e?.scaleConstant??.4,this.smooth=e?.smooth??.8;const t=this.getCurrentTimeInSeconds();this.lastThrottleTime=t,this.lastTxRateBucket=Math.floor(this.getCurrentTimeInSeconds()),this.fillRate=this.minFillRate,this.maxCapacity=this.minCapacity}getCurrentTimeInSeconds(){return Date.now()/1e3}async getSendToken(){return this.acquireTokenBucket(1)}async acquireTokenBucket(e){if(this.enabled){if(this.refillTokenBucket(),e>this.currentCapacity){const t=(e-this.currentCapacity)/this.fillRate*1e3;await new Promise((e=>setTimeout(e,t)))}this.currentCapacity=this.currentCapacity-e}}refillTokenBucket(){const e=this.getCurrentTimeInSeconds();if(!this.lastTimestamp)return void(this.lastTimestamp=e);const t=(e-this.lastTimestamp)*this.fillRate;this.currentCapacity=Math.min(this.maxCapacity,this.currentCapacity+t),this.lastTimestamp=e}updateClientSendingRate(e){let t;if(this.updateMeasuredRate(),(0,o.pK)(e)){const e=this.enabled?Math.min(this.measuredTxRate,this.fillRate):this.measuredTxRate;this.lastMaxRate=e,this.calculateTimeWindow(),this.lastThrottleTime=this.getCurrentTimeInSeconds(),t=this.cubicThrottle(e),this.enableTokenBucket()}else this.calculateTimeWindow(),t=this.cubicSuccess(this.getCurrentTimeInSeconds());const n=Math.min(t,2*this.measuredTxRate);this.updateTokenBucketRate(n)}calculateTimeWindow(){this.timeWindow=this.getPrecise(Math.pow(this.lastMaxRate*(1-this.beta)/this.scaleConstant,1/3))}cubicThrottle(e){return this.getPrecise(e*this.beta)}cubicSuccess(e){return this.getPrecise(this.scaleConstant*Math.pow(e-this.lastThrottleTime-this.timeWindow,3)+this.lastMaxRate)}enableTokenBucket(){this.enabled=!0}updateTokenBucketRate(e){this.refillTokenBucket(),this.fillRate=Math.max(e,this.minFillRate),this.maxCapacity=Math.max(e,this.minCapacity),this.currentCapacity=Math.min(this.currentCapacity,this.maxCapacity)}updateMeasuredRate(){const e=this.getCurrentTimeInSeconds(),t=Math.floor(2*e)/2;if(this.requestCount++,t>this.lastTxRateBucket){const e=this.requestCount/(t-this.lastTxRateBucket);this.measuredTxRate=this.getPrecise(e*this.smooth+this.measuredTxRate*(1-this.smooth)),this.requestCount=0,this.lastTxRateBucket=t}}getPrecise(e){return parseFloat(e.toFixed(8))}}const c="amz-sdk-invocation-id",d="amz-sdk-request",l=({retryDelay:e,retryCount:t,retryCost:n})=>({getRetryCount:()=>t,getRetryDelay:()=>Math.min(2e4,e),getRetryCost:()=>n});class u{constructor(e){this.maxAttempts=e,this.mode=i.STANDARD,this.capacity=500,this.retryBackoffStrategy=(()=>{let e=100;return{computeNextBackoffDelay:t=>Math.floor(Math.min(2e4,Math.random()*2**t*e)),setDelayBase:t=>{e=t}}})(),this.maxAttemptsProvider="function"==typeof e?e:async()=>e}async acquireInitialRetryToken(e){return l({retryDelay:100,retryCount:0})}async refreshRetryTokenForRetry(e,t){const n=await this.getMaxAttempts();if(this.shouldRetry(e,t,n)){const n=t.errorType;this.retryBackoffStrategy.setDelayBase("THROTTLING"===n?500:100);const i=this.retryBackoffStrategy.computeNextBackoffDelay(e.getRetryCount()),r=t.retryAfterHint?Math.max(t.retryAfterHint.getTime()-Date.now()||0,i):i,a=this.getCapacityCost(n);return this.capacity-=a,l({retryDelay:r,retryCount:e.getRetryCount()+1,retryCost:a})}throw new Error("No retry token available")}recordSuccess(e){this.capacity=Math.max(500,this.capacity+(e.getRetryCost()??1))}getCapacity(){return this.capacity}async getMaxAttempts(){try{return await this.maxAttemptsProvider()}catch(e){return console.warn(`Max attempts provider could not resolve. Using default of ${r}`),r}}shouldRetry(e,t,n){return e.getRetryCount()<n&&this.capacity>=this.getCapacityCost(t.errorType)&&this.isRetryableError(t.errorType)}getCapacityCost(e){return"TRANSIENT"===e?10:5}isRetryableError(e){return"THROTTLING"===e||"TRANSIENT"===e}}class h{constructor(e,t){this.maxAttemptsProvider=e,this.mode=i.ADAPTIVE;const{rateLimiter:n}=t??{};this.rateLimiter=n??new s,this.standardRetryStrategy=new u(e)}async acquireInitialRetryToken(e){return await this.rateLimiter.getSendToken(),this.standardRetryStrategy.acquireInitialRetryToken(e)}async refreshRetryTokenForRetry(e,t){return this.rateLimiter.updateClientSendingRate(t),this.standardRetryStrategy.refreshRetryTokenForRetry(e,t)}recordSuccess(e){this.rateLimiter.updateClientSendingRate({}),this.standardRetryStrategy.recordSuccess(e)}}},6528:(e,t,n)=>{"use strict";n.d(t,{i:()=>i});const i=e=>encodeURIComponent(e).replace(/[!'()*]/g,r),r=e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`},7915:(e,t,n)=>{"use strict";n.d(t,{f:()=>a});var i=n(1206),r=n.n(i);const a=({serviceId:e,clientVersion:t})=>async()=>{const n="undefined"!=typeof window&&window?.navigator?.userAgent?r().parse(window.navigator.userAgent):void 0,i=[["aws-sdk-js",t],["ua","2.0"],[`os/${n?.os?.name||"other"}`,n?.os?.version],["lang/js"],["md/browser",`${n?.browser?.name??"unknown"}_${n?.browser?.version??"unknown"}`]];return e&&i.push([`api/${e}`,t]),i}},470:(e,t,n)=>{"use strict";n.r(t),n.d(t,{fromUtf8:()=>i,toUtf8:()=>r});const i=e=>"function"==typeof TextEncoder?function(e){return(new TextEncoder).encode(e)}(e):(e=>{const t=[];for(let n=0,i=e.length;n<i;n++){const i=e.charCodeAt(n);if(i<128)t.push(i);else if(i<2048)t.push(i>>6|192,63&i|128);else if(n+1<e.length&&55296==(64512&i)&&56320==(64512&e.charCodeAt(n+1))){const r=65536+((1023&i)<<10)+(1023&e.charCodeAt(++n));t.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}else t.push(i>>12|224,i>>6&63|128,63&i|128)}return Uint8Array.from(t)})(e),r=e=>"function"==typeof TextDecoder?function(e){return new TextDecoder("utf-8").decode(e)}(e):(e=>{let t="";for(let n=0,i=e.length;n<i;n++){const i=e[n];if(i<128)t+=String.fromCharCode(i);else if(192<=i&&i<224){const r=e[++n];t+=String.fromCharCode((31&i)<<6|63&r)}else if(240<=i&&i<365){const r="%"+[i,e[++n],e[++n],e[++n]].map((e=>e.toString(16))).join("%");t+=decodeURIComponent(r)}else t+=String.fromCharCode((15&i)<<12|(63&e[++n])<<6|63&e[++n])}return t})(e)},2498:(e,t,n)=>{"use strict";n.d(t,{$:()=>i});const i=e=>(new TextEncoder).encode(e)},6521:(e,t,n)=>{"use strict";n.d(t,{G:()=>i});const i=e=>new TextDecoder("utf-8").decode(e)},4537:e=>{"use strict";e.exports=function(e,t){for(var n=new Array(arguments.length-1),i=0,r=2,a=!0;r<arguments.length;)n[i++]=arguments[r++];return new Promise((function(r,o){n[i]=function(e){if(a)if(a=!1,e)o(e);else{for(var t=new Array(arguments.length-1),n=0;n<t.length;)t[n++]=arguments[n];r.apply(null,t)}};try{e.apply(t||null,n)}catch(e){a&&(a=!1,o(e))}}))}},7419:(e,t)=>{"use strict";var n=t;n.length=function(e){var t=e.length;if(!t)return 0;for(var n=0;--t%4>1&&"="===e.charAt(t);)++n;return Math.ceil(3*e.length)/4-n};for(var i=new Array(64),r=new Array(123),a=0;a<64;)r[i[a]=a<26?a+65:a<52?a+71:a<62?a-4:a-59|43]=a++;n.encode=function(e,t,n){for(var r,a=null,o=[],s=0,c=0;t<n;){var d=e[t++];switch(c){case 0:o[s++]=i[d>>2],r=(3&d)<<4,c=1;break;case 1:o[s++]=i[r|d>>4],r=(15&d)<<2,c=2;break;case 2:o[s++]=i[r|d>>6],o[s++]=i[63&d],c=0}s>8191&&((a||(a=[])).push(String.fromCharCode.apply(String,o)),s=0)}return c&&(o[s++]=i[r],o[s++]=61,1===c&&(o[s++]=61)),a?(s&&a.push(String.fromCharCode.apply(String,o.slice(0,s))),a.join("")):String.fromCharCode.apply(String,o.slice(0,s))};var o="invalid encoding";n.decode=function(e,t,n){for(var i,a=n,s=0,c=0;c<e.length;){var d=e.charCodeAt(c++);if(61===d&&s>1)break;if(void 0===(d=r[d]))throw Error(o);switch(s){case 0:i=d,s=1;break;case 1:t[n++]=i<<2|(48&d)>>4,i=d,s=2;break;case 2:t[n++]=(15&i)<<4|(60&d)>>2,i=d,s=3;break;case 3:t[n++]=(3&i)<<6|d,s=0}}if(1===s)throw Error(o);return n-a},n.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}},9211:e=>{"use strict";function t(){this._listeners={}}e.exports=t,t.prototype.on=function(e,t,n){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:t,ctx:n||this}),this},t.prototype.off=function(e,t){if(void 0===e)this._listeners={};else if(void 0===t)this._listeners[e]=[];else for(var n=this._listeners[e],i=0;i<n.length;)n[i].fn===t?n.splice(i,1):++i;return this},t.prototype.emit=function(e){var t=this._listeners[e];if(t){for(var n=[],i=1;i<arguments.length;)n.push(arguments[i++]);for(i=0;i<t.length;)t[i].fn.apply(t[i++].ctx,n)}return this}},945:e=>{"use strict";function t(e){return"undefined"!=typeof Float32Array?function(){var t=new Float32Array([-0]),n=new Uint8Array(t.buffer),i=128===n[3];function r(e,i,r){t[0]=e,i[r]=n[0],i[r+1]=n[1],i[r+2]=n[2],i[r+3]=n[3]}function a(e,i,r){t[0]=e,i[r]=n[3],i[r+1]=n[2],i[r+2]=n[1],i[r+3]=n[0]}function o(e,i){return n[0]=e[i],n[1]=e[i+1],n[2]=e[i+2],n[3]=e[i+3],t[0]}function s(e,i){return n[3]=e[i],n[2]=e[i+1],n[1]=e[i+2],n[0]=e[i+3],t[0]}e.writeFloatLE=i?r:a,e.writeFloatBE=i?a:r,e.readFloatLE=i?o:s,e.readFloatBE=i?s:o}():function(){function t(e,t,n,i){var r=t<0?1:0;if(r&&(t=-t),0===t)e(1/t>0?0:2147483648,n,i);else if(isNaN(t))e(2143289344,n,i);else if(t>34028234663852886e22)e((r<<31|2139095040)>>>0,n,i);else if(t<11754943508222875e-54)e((r<<31|Math.round(t/1401298464324817e-60))>>>0,n,i);else{var a=Math.floor(Math.log(t)/Math.LN2);e((r<<31|a+127<<23|8388607&Math.round(t*Math.pow(2,-a)*8388608))>>>0,n,i)}}function o(e,t,n){var i=e(t,n),r=2*(i>>31)+1,a=i>>>23&255,o=8388607&i;return 255===a?o?NaN:r*(1/0):0===a?1401298464324817e-60*r*o:r*Math.pow(2,a-150)*(o+8388608)}e.writeFloatLE=t.bind(null,n),e.writeFloatBE=t.bind(null,i),e.readFloatLE=o.bind(null,r),e.readFloatBE=o.bind(null,a)}(),"undefined"!=typeof Float64Array?function(){var t=new Float64Array([-0]),n=new Uint8Array(t.buffer),i=128===n[7];function r(e,i,r){t[0]=e,i[r]=n[0],i[r+1]=n[1],i[r+2]=n[2],i[r+3]=n[3],i[r+4]=n[4],i[r+5]=n[5],i[r+6]=n[6],i[r+7]=n[7]}function a(e,i,r){t[0]=e,i[r]=n[7],i[r+1]=n[6],i[r+2]=n[5],i[r+3]=n[4],i[r+4]=n[3],i[r+5]=n[2],i[r+6]=n[1],i[r+7]=n[0]}function o(e,i){return n[0]=e[i],n[1]=e[i+1],n[2]=e[i+2],n[3]=e[i+3],n[4]=e[i+4],n[5]=e[i+5],n[6]=e[i+6],n[7]=e[i+7],t[0]}function s(e,i){return n[7]=e[i],n[6]=e[i+1],n[5]=e[i+2],n[4]=e[i+3],n[3]=e[i+4],n[2]=e[i+5],n[1]=e[i+6],n[0]=e[i+7],t[0]}e.writeDoubleLE=i?r:a,e.writeDoubleBE=i?a:r,e.readDoubleLE=i?o:s,e.readDoubleBE=i?s:o}():function(){function t(e,t,n,i,r,a){var o=i<0?1:0;if(o&&(i=-i),0===i)e(0,r,a+t),e(1/i>0?0:2147483648,r,a+n);else if(isNaN(i))e(0,r,a+t),e(2146959360,r,a+n);else if(i>17976931348623157e292)e(0,r,a+t),e((o<<31|2146435072)>>>0,r,a+n);else{var s;if(i<22250738585072014e-324)e((s=i/5e-324)>>>0,r,a+t),e((o<<31|s/4294967296)>>>0,r,a+n);else{var c=Math.floor(Math.log(i)/Math.LN2);1024===c&&(c=1023),e(4503599627370496*(s=i*Math.pow(2,-c))>>>0,r,a+t),e((o<<31|c+1023<<20|1048576*s&1048575)>>>0,r,a+n)}}}function o(e,t,n,i,r){var a=e(i,r+t),o=e(i,r+n),s=2*(o>>31)+1,c=o>>>20&2047,d=4294967296*(1048575&o)+a;return 2047===c?d?NaN:s*(1/0):0===c?5e-324*s*d:s*Math.pow(2,c-1075)*(d+4503599627370496)}e.writeDoubleLE=t.bind(null,n,0,4),e.writeDoubleBE=t.bind(null,i,4,0),e.readDoubleLE=o.bind(null,r,0,4),e.readDoubleBE=o.bind(null,a,4,0)}(),e}function n(e,t,n){t[n]=255&e,t[n+1]=e>>>8&255,t[n+2]=e>>>16&255,t[n+3]=e>>>24}function i(e,t,n){t[n]=e>>>24,t[n+1]=e>>>16&255,t[n+2]=e>>>8&255,t[n+3]=255&e}function r(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}function a(e,t){return(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}e.exports=t(t)},7199:module=>{"use strict";function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(e){}return null}module.exports=inquire},3130:e=>{"use strict";e.exports=function(e,t,n){var i=n||8192,r=i>>>1,a=null,o=i;return function(n){if(n<1||n>r)return e(n);o+n>i&&(a=e(i),o=0);var s=t.call(a,o,o+=n);return 7&o&&(o=1+(7|o)),s}}},4997:(e,t)=>{"use strict";var n=t;n.length=function(e){for(var t=0,n=0,i=0;i<e.length;++i)(n=e.charCodeAt(i))<128?t+=1:n<2048?t+=2:55296==(64512&n)&&56320==(64512&e.charCodeAt(i+1))?(++i,t+=4):t+=3;return t},n.read=function(e,t,n){if(n-t<1)return"";for(var i,r=null,a=[],o=0;t<n;)(i=e[t++])<128?a[o++]=i:i>191&&i<224?a[o++]=(31&i)<<6|63&e[t++]:i>239&&i<365?(i=((7&i)<<18|(63&e[t++])<<12|(63&e[t++])<<6|63&e[t++])-65536,a[o++]=55296+(i>>10),a[o++]=56320+(1023&i)):a[o++]=(15&i)<<12|(63&e[t++])<<6|63&e[t++],o>8191&&((r||(r=[])).push(String.fromCharCode.apply(String,a)),o=0);return r?(o&&r.push(String.fromCharCode.apply(String,a.slice(0,o))),r.join("")):String.fromCharCode.apply(String,a.slice(0,o))},n.write=function(e,t,n){for(var i,r,a=n,o=0;o<e.length;++o)(i=e.charCodeAt(o))<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296==(64512&i)&&56320==(64512&(r=e.charCodeAt(o+1)))?(i=65536+((1023&i)<<10)+(1023&r),++o,t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128);return n-a}},5044:(e,t,n)=>{"use strict";var i,r,a,o,s;n.d(t,{aW:()=>c,Lb:()=>d}),function(e){e.HEADER="header",e.QUERY="query"}(i||(i={})),function(e){e.HTTP="http",e.HTTPS="https"}(r||(r={})),(s=a||(a={}))[s.HEADER=0]="HEADER",s[s.TRAILER=1]="TRAILER",function(e){e.HTTP_0_9="http/0.9",e.HTTP_1_0="http/1.0",e.TDS_8_0="tds/8.0"}(o||(o={}));class c{constructor(e){this.method=e.method||"GET",this.hostname=e.hostname||"localhost",this.port=e.port,this.query=e.query||{},this.headers=e.headers||{},this.body=e.body,this.protocol=e.protocol?":"!==e.protocol.slice(-1)?`${e.protocol}:`:e.protocol:"https:",this.path=e.path?"/"!==e.path.charAt(0)?`/${e.path}`:e.path:"/",this.username=e.username,this.password=e.password,this.fragment=e.fragment}static isInstance(e){if(!e)return!1;const t=e;return"method"in t&&"protocol"in t&&"hostname"in t&&"path"in t&&"object"==typeof t.query&&"object"==typeof t.headers}clone(){const e=new c({...this,headers:{...this.headers}});var t;return e.query&&(e.query=(t=e.query,Object.keys(t).reduce(((e,n)=>{const i=t[n];return{...e,[n]:Array.isArray(i)?[...i]:i}}),{}))),e}}function d(e){return/^[a-z0-9][a-z0-9\.\-]*[a-z0-9]$/.test(e)}},8320:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,a){function o(e){try{c(i.next(e))}catch(e){a(e)}}function s(e){try{c(i.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const r=n(3922);t.default=class{constructor(e,t,n,i=1e3,r=200){this.realtimeController=e,this.selfAttendeeId=t,this.hasBandwidthPriorityCallback=n,this.waitIntervalMs=i,this.updateIntervalMs=r,this.speakerScores={},this.speakerMuteState={},this.detectorCallbackToHandler=new Map,this.detectorCallbackToScoresTimer=new Map,this.detectorCallbackToActivityTimer=new Map,this.hasBandwidthPriority=!1,this.mostRecentUpdateTimestamp={}}needUpdate(e){return!this.activeSpeakers||0===this.speakerScores[e]&&this.activeSpeakers.includes(e)||this.speakerScores[e]>0&&!this.activeSpeakers.includes(e)}updateActiveSpeakers(e,t,n){if(!this.needUpdate(n))return;const i=[],r=Object.keys(this.speakerScores);for(let e=0;e<r.length;e++){const t=r[e];i.push({attendeeId:t,activeScore:this.speakerScores[t]})}const a=i.sort(((e,t)=>t.activeScore-e.activeScore)).filter((function(e){return e.activeScore>0})).map((function(e){return e.attendeeId}));this.activeSpeakers=a,t(a);const o=a.length>0&&a[0]===this.selfAttendeeId&&e.prioritizeVideoSendBandwidthForActiveSpeaker();this.hasBandwidthPriority!==o&&(this.hasBandwidthPriority=o,this.hasBandwidthPriorityCallback(o))}updateScore(e,t,n,i,r){const a=e.calculateScore(n,i,r);this.speakerScores[n]!==a&&(this.speakerScores[n]=a,this.mostRecentUpdateTimestamp[n]=Date.now(),this.updateActiveSpeakers(e,t,n))}subscribe(e,t,n,i){const a=(n,i)=>{if(!i)return this.speakerScores[n]=0,this.mostRecentUpdateTimestamp[n]=Date.now(),void this.updateActiveSpeakers(e,t,n);this.realtimeController.realtimeSubscribeToVolumeIndicator(n,((n,i,r,a)=>{this.mostRecentUpdateTimestamp[n]=Date.now(),null!==r&&(this.speakerMuteState[n]=r),this.updateScore(e,t,n,i,r)}))};this.detectorCallbackToHandler.set(t,a);const o=new r.default(this.updateIntervalMs);if(o.start((()=>{for(const n in this.speakerScores)Date.now()-this.mostRecentUpdateTimestamp[n]>this.waitIntervalMs&&this.updateScore(e,t,n,0,this.speakerMuteState[n])})),this.detectorCallbackToActivityTimer.set(t,o),n&&i){const e=new r.default(i);e.start((()=>{n(this.speakerScores)})),this.detectorCallbackToScoresTimer.set(t,e)}this.realtimeController.realtimeSubscribeToAttendeeIdPresence(a)}unsubscribe(e){const t=this.detectorCallbackToHandler.get(e);this.detectorCallbackToHandler.delete(e),t&&this.realtimeController.realtimeUnsubscribeToAttendeeIdPresence(t);const n=this.detectorCallbackToActivityTimer.get(e);n&&(n.stop(),this.detectorCallbackToActivityTimer.delete(e));const i=this.detectorCallbackToScoresTimer.get(e);i&&(i.stop(),this.detectorCallbackToHandler.delete(e))}destroy(){return i(this,void 0,void 0,(function*(){for(const e of this.detectorCallbackToHandler.values())this.realtimeController.realtimeUnsubscribeToAttendeeIdPresence(e);for(const e of this.detectorCallbackToActivityTimer.values())e.stop();for(const e of this.detectorCallbackToScoresTimer.values())e.stop();this.detectorCallbackToHandler.clear(),this.detectorCallbackToActivityTimer.clear(),this.detectorCallbackToScoresTimer.clear()}))}}},2363:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{constructor(e=.9,t=.01,n=.2,i=.2){this.speakerWeight=e,this.cutoffThreshold=t,this.silenceThreshold=n,this.takeoverRate=i,this.volumes={}}calculateScore(e,t,n){(n||null===t)&&(t=0),this.volumes.hasOwnProperty(e)||(this.volumes[e]=0),t=t>this.silenceThreshold?1:0;const i=this.volumes[e]*this.speakerWeight+t*(1-this.speakerWeight);this.volumes[e]=i;for(const n in this.volumes)n!==e&&(this.volumes[n]=Math.max(this.volumes[n]-this.takeoverRate*t,0));return i<this.cutoffThreshold?0:i}prioritizeVideoSendBandwidthForActiveSpeaker(){return!0}}},7535:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});class n{constructor(e,t){this.appName=e,this.appVersion=t}static create(e,t){const i=/^[a-zA-Z0-9]+[a-zA-Z0-9_-]*[a-zA-Z0-9]+$/g;if(!e||e.length>32)throw new Error("appName should be a valid string and 1 to 32 characters in length");if(!i.test(e))throw new Error(`appName must satisfy ${i} regular expression`);if(!t||t.length>32)throw new Error("appVersion should be a valid string and 1 to 32 characters in length");if(!/^(0|[1-9]\d*)\.(0|[1-9]\d*)\.(0|[1-9]\d*)(?:-((?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\.(?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\+([0-9a-zA-Z-]+(?:\.[0-9a-zA-Z-]+)*))?$/gm.test(t))throw new Error("appVersion must satisfy Semantic Versioning format");return new n(e,t)}}t.default=n},7602:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{}},6802:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,a){function o(e){try{c(i.next(e))}catch(e){a(e)}}function s(e){try{c(i.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const r=n(543),a=n(7797);t.default=class{constructor(e){this.logger=e,this.audioDevice=null,this.audioElement=null,this.audioStream=null,this.browserBehavior=new r.default,this.observers=new Set}bindAudioElement(e){return i(this,void 0,void 0,(function*(){if(!e)throw new Error(`Cannot bind audio element: ${e}`);return this.audioElement=e,this.audioElement.autoplay=!0,this.bindAudioMix()}))}unbindAudioElement(){this.audioElement&&(this.audioElement.srcObject=null,this.audioElement=null,this.forEachObserver((e=>{this.audioStream&&e.meetingAudioStreamBecameInactive(this.audioStream)})))}bindAudioStream(e){return i(this,void 0,void 0,(function*(){if(e){this.audioStream=e;try{yield this.bindAudioMix()}catch(e){this.logger&&this.logger.warn(`Failed to bind audio stream: ${e}`)}}}))}bindAudioDevice(e){return i(this,void 0,void 0,(function*(){if(e&&!this.browserBehavior.supportsSetSinkId())throw new Error("Cannot select audio output device. This browser does not support setSinkId.");return this.audioDevice=e,this.bindAudioMix()}))}forEachObserver(e){for(const t of this.observers)a.default.nextTick((()=>{e(t)}))}bindAudioMix(){var e,t;return i(this,void 0,void 0,(function*(){if(!this.audioElement)return;const n=this.audioElement.srcObject;this.audioStream&&(this.audioElement.srcObject=this.audioStream),n!==this.audioStream&&this.forEachObserver((e=>{n&&e.meetingAudioStreamBecameInactive(n),this.audioStream&&e.meetingAudioStreamBecameActive(this.audioStream)}));const i=(null===(e=this.audioDevice)||void 0===e?void 0:e.deviceId)!==this.audioElement.sinkId;if(i&&void 0===this.audioElement.sinkId)throw new Error("Cannot select audio output device. This browser does not support setSinkId.");const r=this.audioDevice?this.audioDevice.deviceId:"";if(r===this.audioElement.sinkId)return;const a=this.audioElement,o=this.audioStream;if(this.browserBehavior.hasChromiumWebRTC()&&(a.srcObject=null),i)try{yield a.setSinkId(r)}catch(e){throw null===(t=this.logger)||void 0===t||t.error(`Failed to set sinkId for audio element: ${e}`),e}this.browserBehavior.hasChromiumWebRTC()&&(a.srcObject=o)}))}getCurrentMeetingAudioStream(){return i(this,void 0,void 0,(function*(){return this.audioStream}))}addAudioMixObserver(e){return i(this,void 0,void 0,(function*(){this.observers.add(e)}))}removeAudioMixObserver(e){return i(this,void 0,void 0,(function*(){this.observers.delete(e)}))}audioOutputDidChange(e){return i(this,void 0,void 0,(function*(){return this.logger.info("Receive an audio output change event"),this.bindAudioDevice(e)}))}}},3765:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});class n{constructor(e=null){this.audioBitrateBps=e}static fullbandSpeechMono(){return new n(4e4)}static fullbandMusicMono(){return new n(64e3)}static fullbandMusicStereo(){return new n(128e3)}isStereo(){return 128e3===this.audioBitrateBps}}t.default=n},1876:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_VIDEO_SUBSCRIPTION_LIMIT=void 0,t.DEFAULT_VIDEO_SUBSCRIPTION_LIMIT=25,t.default=class{constructor(){this.logger=null,this.browserBehavior=null,this.meetingSessionConfiguration=null,this.signalingClient=null,this.peer=null,this.previousSdpOffer=null,this.sdpOfferInit=null,this.audioVideoController=null,this.realtimeController=null,this.videoTileController=null,this.mediaStreamBroker=null,this.activeAudioInput=void 0,this.activeVideoInput=void 0,this.audioMixController=null,this.transceiverController=null,this.indexFrame=null,this.iceCandidates=[],this.iceCandidateHandler=null,this.iceGatheringStateEventHandler=null,this.sdpAnswer=null,this.turnCredentials=null,this.reconnectController=null,this.removableObservers=[],this.audioProfile=null,this.videoStreamIndex=null,this.videoDownlinkBandwidthPolicy=null,this.videoUplinkBandwidthPolicy=null,this.lastKnownVideoAvailability=null,this.videoCaptureAndEncodeParameter=null,this.videosToReceive=null,this.lastVideosToReceive=null,this.videoSubscriptions=null,this.videoSubscriptionLimit=t.DEFAULT_VIDEO_SUBSCRIPTION_LIMIT,this.previousSdpAnswerAsString="",this.serverSupportsCompression=!1,this.videoSendCodecPreferences=[],this.currentVideoSendCodec=void 0,this.meetingSupportedVideoSendCodecPreferences=void 0,this.videosPaused=null,this.videoDuplexMode=null,this.volumeIndicatorAdapter=null,this.statsCollector=null,this.connectionMonitor=null,this.videoInputAttachedTimestampMs=0,this.audioDeviceInformation={},this.videoDeviceInformation={},this.enableSimulcast=!1,this.eventController=null,this.signalingOpenDurationMs=null,this.iceGatheringDurationMs=null,this.startAudioVideoTimestamp=null,this.attendeePresenceDurationMs=null,this.meetingStartDurationMs=null,this.poorConnectionCount=0,this.maxVideoTileCount=0,this.startTimeMs=null}resetConnectionSpecificState(){this.peer&&this.peer.close(),this.peer=null,this.previousSdpOffer=null,this.sdpOfferInit=null,void 0!==this.transceiverController&&this.transceiverController.reset(),this.indexFrame=null,this.iceCandidates=[],this.iceCandidateHandler=null,this.sdpAnswer=null,this.turnCredentials=null,this.videoDownlinkBandwidthPolicy.reset(),this.videoUplinkBandwidthPolicy.reset&&this.videoUplinkBandwidthPolicy.reset(),this.lastVideosToReceive=null,this.videoSubscriptions=null,this.videoSubscriptionLimit=t.DEFAULT_VIDEO_SUBSCRIPTION_LIMIT,this.previousSdpAnswerAsString="",this.serverSupportsCompression=!1,this.currentVideoSendCodec=void 0,this.meetingSupportedVideoSendCodecPreferences=void 0,this.videoDuplexMode=null}}},9059:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,a){function o(e){try{c(i.next(e))}catch(e){a(e)}}function s(e){try{c(i.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const r=n(8320),a=n(6802),o=n(3765),s=n(543),c=n(6688),d=n(8581),l=n(3789),u=n(5687),h=n(5723),p=n(214),m=n(7500),f=n(983),g=n(7797),w=n(9678),y=n(3860),v=n(9553),b=n(3013),S=n(1208),E=n(9416),C=n(9101),x=n(289),I=n(8597),k=n(8358),P=n(3216),A=n(7408),T=n(5482),M=n(1129),R=n(6240),F=n(1960),_=n(6180),O=n(2748),U=n(1981),N=n(4543),z=n(8556),D=n(9945),L=n(1209),B=n(5547),q=n(120),V=n(9560),j=n(9485),W=n(7079),$=n(4833),H=n(5275),G=n(5924),K=n(250),Y=n(6171),J=n(365),X=n(816),Z=n(5785),Q=n(9354),ee=n(8660),te=n(1133),ne=n(5185),ie=n(2880),re=n(1508),ae=n(1318),oe=n(4242),se=n(2958),ce=n(4922),de=n(4450),le=n(2472),ue=n(9751),he=n(1876);class pe{constructor(e,t,n,i,r,s){this._audioProfile=new o.default,this.connectionHealthData=new c.default,this.observerQueue=new Set,this.meetingSessionContext=new he.default,this.enableSimulcast=!1,this.useUpdateTransceiverControllerForUplink=!1,this.totalRetryCount=0,this.startAudioVideoTimestamp=0,this.mayNeedRenegotiationForSimulcastLayerChange=!1,this.promotedToPrimaryMeeting=!1,this.hasGetRTCPeerConnectionStatsDeprecationMessageBeenSent=!1,this.receiveIndexTask=void 0,this.monitorTask=void 0,this.destroyed=!1,this._logger=t,this.sessionStateController=new w.default(this._logger),this._configuration=e,this._webSocketAdapter=n,this._realtimeController=new f.default(i),this._realtimeController.realtimeSetLocalAttendeeId(e.credentials.attendeeId,e.credentials.externalUserId),this._mediaStreamBroker=i,this._reconnectController=r,this._videoTileController=new se.default(new ce.default,this,this._logger),this._audioMixController=new a.default(this._logger),this._mediaStreamBroker.addMediaStreamBrokerObserver(this._audioMixController),this.meetingSessionContext.logger=this._logger,this._eventController=s}destroy(){return i(this,void 0,void 0,(function*(){this.observerQueue.clear(),this._mediaStreamBroker.removeMediaStreamBrokerObserver(this._audioMixController),this.destroyed=!0}))}get configuration(){return this._configuration}get realtimeController(){return this._realtimeController}get activeSpeakerDetector(){return this._activeSpeakerDetector||(this._activeSpeakerDetector=new r.default(this._realtimeController,this._configuration.credentials.attendeeId,this.handleHasBandwidthPriority.bind(this))),this._activeSpeakerDetector}get videoTileController(){return this._videoTileController}get audioMixController(){return this._audioMixController}get logger(){return this._logger}get rtcPeerConnection(){return this.meetingSessionContext&&this.meetingSessionContext.peer||null}get mediaStreamBroker(){return this._mediaStreamBroker}get eventController(){return this._eventController}getRTCPeerConnectionStats(e){return this.hasGetRTCPeerConnectionStatsDeprecationMessageBeenSent||(this.logger.warn("The `getRTCPeerConnectionStats()` is on its way to be deprecated. It makes an additional call to the `getStats` API and therefore may cause slight performance degradation. Please use the new API `clientMetricReport.getRTCStatsReport()` returned by `metricsDidReceive(clientMetricReport)` callback instead."),this.hasGetRTCPeerConnectionStatsDeprecationMessageBeenSent=!0),this.rtcPeerConnection?this.rtcPeerConnection.getStats(e):null}setAudioProfile(e){this._audioProfile=e}addObserver(e){this.logger.info("adding meeting observer"),this.observerQueue.add(e)}removeObserver(e){this.logger.info("removing meeting observer"),this.observerQueue.delete(e)}forEachObserver(e){for(const t of this.observerQueue)g.default.nextTick((()=>{this.observerQueue.has(t)&&e(t)}))}initSignalingClient(){this.connectionHealthData.reset(),this.meetingSessionContext.signalingClient||(this.meetingSessionContext=new he.default,this.meetingSessionContext.logger=this.logger,this.meetingSessionContext.eventController=this.eventController,this.meetingSessionContext.browserBehavior=new s.default,this.meetingSessionContext.videoSendCodecPreferences=this.videoSendCodecPreferences,this.meetingSessionContext.meetingSessionConfiguration=this.configuration,this.meetingSessionContext.signalingClient=new S.default(this._webSocketAdapter,this.logger))}uninstallPreStartObserver(){this.meetingSessionContext.signalingClient.removeObserver(this.preStartObserver),this.preStartObserver=void 0}prestart(){return this.logger.info("Pre-connecting signaling connection."),this.createOrReuseSignalingTask().run().then((()=>{const e=()=>i(this,void 0,void 0,(function*(){this.logger.info("Early connection closed; discarding signaling task."),this.signalingTask=void 0,this.uninstallPreStartObserver()}));this.preStartObserver={handleSignalingClientEvent(t){t.type===E.default.WebSocketClosed&&e()}},this.meetingSessionContext.signalingClient.registerObserver(this.preStartObserver)})).catch((e=>{this.logger.error(`Signaling task pre-start failed: ${e}`),this.signalingTask=void 0}))}start(e){this.startReturningPromise(e).then((()=>{this.logger.info("start completed")})).catch((e=>{this.logger.error(`start failed: ${e}`)}))}startReturningPromise(e){return!0===(null==e?void 0:e.signalingOnly)?this.prestart():(this.activeSpeakerDetector,new Promise(((e,t)=>{this.sessionStateController.perform(y.default.Connect,(()=>{this.actionConnect(!1).then(e).catch(t)}))})))}connectWithPromises(e){const t=this.meetingSessionContext;this.monitorTask=new U.default(t,this.configuration.connectionHealthPolicyConfiguration,this.connectionHealthData);const n=this.monitorTask.once(),i=new L.default(t).once();this.receiveIndexTask=new V.default(t),this.monitorTask.pauseResubscribeCheck(),this.receiveIndexTask.pauseIngestion();const r=new W.default(this.logger,"Signaling",[this.createOrReuseSignalingTask(),new O.default(t),new j.default(t),new F.default(t),new B.default(t),this.receiveIndexTask]).once(),a=new T.default(t).once(r),o=new k.default(t).once(a,i),s=new M.default(t).once(o),c=new $.default(t).once(s),d=new R.default(t).once(c),l=new G.default(t).once(d);return new W.default(this.logger,this.wrapTaskName("AudioVideoStart"),[n,((e,t)=>new K.default(this.logger,t,e))(this.configuration.connectionTimeoutMs,new W.default(this.logger,"Peer",[l,e?new K.default(this.logger,new z.default(this.logger,"FinalizeConnection",[new Y.default(t),new H.default(t)]),this.meetingSessionContext.meetingSessionConfiguration.attendeePresenceTimeoutMs):new H.default(t)]))])}actionConnect(e){var t;return i(this,void 0,void 0,(function*(){this.initSignalingClient(),this.uninstallPreStartObserver(),this.meetingSessionContext.mediaStreamBroker=this._mediaStreamBroker,this.meetingSessionContext.realtimeController=this._realtimeController,this.meetingSessionContext.audioMixController=this._audioMixController,this.meetingSessionContext.audioVideoController=this,this.enableSimulcast=this.configuration.enableSimulcastForUnifiedPlanChromiumBasedBrowsers&&(new s.default).hasChromiumWebRTC();const n=!!this.configuration.urls.audioHostURL;if(n?this.enableSimulcast?(this.logger.info("Using transceiver controller with simulcast support"),new p.default(this.configuration.credentials.attendeeId).hasModality(p.default.MODALITY_CONTENT)?this.meetingSessionContext.transceiverController=new X.default(this.logger,this.meetingSessionContext.browserBehavior):this.meetingSessionContext.transceiverController=new Z.default(this.logger,this.meetingSessionContext.browserBehavior)):(this.logger.info("Using default transceiver controller"),this.meetingSessionContext.transceiverController=new J.default(this.logger,this.meetingSessionContext.browserBehavior)):(this.logger.info("Using video only transceiver controller"),this.meetingSessionContext.transceiverController=new Q.default(this.logger,this.meetingSessionContext.browserBehavior)),this.meetingSessionContext.volumeIndicatorAdapter=new ue.default(this.logger,this._realtimeController,pe.MIN_VOLUME_DECIBELS,pe.MAX_VOLUME_DECIBELS,this.configuration.credentials.attendeeId),this.meetingSessionContext.videoTileController=this._videoTileController,this.meetingSessionContext.videoDownlinkBandwidthPolicy=this.configuration.videoDownlinkBandwidthPolicy,this.meetingSessionContext.videoUplinkBandwidthPolicy=this.configuration.videoUplinkBandwidthPolicy,this.meetingSessionContext.enableSimulcast=this.enableSimulcast,this.enableSimulcast){let e=this.meetingSessionContext.videoUplinkBandwidthPolicy;e||(e=new de.default(this.configuration.credentials.attendeeId,this.meetingSessionContext.logger),this.meetingSessionContext.videoUplinkBandwidthPolicy=e),e.addObserver(this),this.meetingSessionContext.videoDownlinkBandwidthPolicy||(this.meetingSessionContext.videoDownlinkBandwidthPolicy=new ie.default(this.meetingSessionContext.logger)),this.meetingSessionContext.videoStreamIndex=new oe.default(this.logger)}else this.meetingSessionContext.enableSimulcast=!1,this.meetingSessionContext.videoStreamIndex=new ae.default(this.logger),this.meetingSessionContext.videoUplinkBandwidthPolicy||(this.meetingSessionContext.videoUplinkBandwidthPolicy=new le.default(this.configuration.credentials.attendeeId,!this.meetingSessionContext.browserBehavior.disableResolutionScaleDown(),this.meetingSessionContext.logger,this.meetingSessionContext.browserBehavior)),this.meetingSessionContext.videoDownlinkBandwidthPolicy||(this.meetingSessionContext.videoDownlinkBandwidthPolicy=new ne.default(this.configuration.credentials.attendeeId)),this.meetingSessionContext.videoUplinkBandwidthPolicy.setTransceiverController&&this.meetingSessionContext.videoUplinkBandwidthPolicy.updateTransceiverController&&(this.useUpdateTransceiverControllerForUplink=!0,this.meetingSessionContext.videoUplinkBandwidthPolicy.setTransceiverController(this.meetingSessionContext.transceiverController)),this.meetingSessionContext.audioProfile=this._audioProfile;this.meetingSessionContext.videoUplinkBandwidthPolicy&&this.maxUplinkBandwidthKbps&&this.meetingSessionContext.videoUplinkBandwidthPolicy.setIdealMaxBandwidthKbps(this.maxUplinkBandwidthKbps),this.meetingSessionContext.videoDownlinkBandwidthPolicy.bindToTileController&&this.meetingSessionContext.videoDownlinkBandwidthPolicy.bindToTileController(this._videoTileController),this.meetingSessionContext.lastKnownVideoAvailability=new h.default,this.meetingSessionContext.videoCaptureAndEncodeParameter=new te.default(0,0,0,0,!1),this.meetingSessionContext.videosToReceive=new re.default,this.meetingSessionContext.videosPaused=new re.default,this.meetingSessionContext.statsCollector=new I.default(this,this.logger),this.meetingSessionContext.connectionMonitor=new d.default(this,this._realtimeController,this.connectionHealthData,new m.default(this.meetingSessionContext.signalingClient,pe.PING_PONG_INTERVAL_MS,this.logger),this.meetingSessionContext.statsCollector),this.meetingSessionContext.reconnectController=this._reconnectController,this.meetingSessionContext.videoDeviceInformation={},e||(this.totalRetryCount=0,this._reconnectController.reset(),this.startAudioVideoTimestamp=Date.now(),this.forEachObserver((e=>{ee.Maybe.of(e.audioVideoDidStartConnecting).map((t=>t.bind(e)(!1)))})),null===(t=this.eventController)||void 0===t||t.publishEvent("meetingStartRequested")),this.meetingSessionContext.startAudioVideoTimestamp=this.startAudioVideoTimestamp,this._reconnectController.hasStartedConnectionAttempt()?this._reconnectController.startedConnectionAttempt(!1):this._reconnectController.startedConnectionAttempt(!0);const r=n&&this.meetingSessionContext.meetingSessionConfiguration.attendeePresenceTimeoutMs>0;this.logger.info("Needs to wait for attendee presence? "+r);const a=this.connectWithPromises(r);try{yield a.run(),this.connectionHealthData.setConnectionStartTime(),this._mediaStreamBroker.addMediaStreamBrokerObserver(this),this.sessionStateController.perform(y.default.FinishConnecting,(()=>{this.eventController&&(this.meetingSessionContext.meetingStartDurationMs=Date.now()-this.startAudioVideoTimestamp,this.eventController.publishEvent("meetingStartSucceeded",{maxVideoTileCount:this.meetingSessionContext.maxVideoTileCount,poorConnectionCount:this.meetingSessionContext.poorConnectionCount,retryCount:this.totalRetryCount,signalingOpenDurationMs:this.meetingSessionContext.signalingOpenDurationMs,iceGatheringDurationMs:this.meetingSessionContext.iceGatheringDurationMs,meetingStartDurationMs:this.meetingSessionContext.meetingStartDurationMs})),this.meetingSessionContext.startTimeMs=Date.now(),this.actionFinishConnecting()}))}catch(e){this.signalingTask=void 0;const t=new l.default(this.getMeetingStatusCode(e)||u.default.TaskFailed);if(this.logger.info(`Start failed: ${t} due to error ${e}.`),this.sessionStateController.state()===v.default.NotConnected)return void this.logger.info("Start failed and not connected. Not cleaning up.");this.sessionStateController.perform(y.default.Fail,(()=>i(this,void 0,void 0,(function*(){yield this.actionDisconnect(t,!0,e),this.handleMeetingSessionStatus(t,e)||this.notifyStop(t,e)}))))}}))}createOrReuseSignalingTask(){return this.signalingTask||(this.initSignalingClient(),this.signalingTask=new K.default(this.logger,new N.default(this.meetingSessionContext),this.configuration.connectionTimeoutMs).once()),this.signalingTask}actionFinishConnecting(){this.signalingTask=void 0,this.meetingSessionContext.videoDuplexMode=x.SdkStreamServiceType.RX,this.meetingSessionContext.enableSimulcast||(this.useUpdateTransceiverControllerForUplink?this.meetingSessionContext.videoUplinkBandwidthPolicy.updateTransceiverController():this.enforceBandwidthLimitationForSender(this.meetingSessionContext.videoCaptureAndEncodeParameter.encodeBitrates()[0])),this.forEachObserver((e=>{ee.Maybe.of(e.audioVideoDidStart).map((t=>t.bind(e)()))})),this._reconnectController.reset(),this.receiveIndexTask.resumeIngestion(),this.monitorTask.resumeResubscribeCheck()}stopReturningPromise(){var e;return this.sessionStateController.state()===v.default.NotConnected?(null===(e=this.meetingSessionContext.signalingClient)||void 0===e||e.closeConnection(),this.cleanUpMediaStreamsAfterStop(),Promise.resolve()):new Promise(((e,t)=>{this.sessionStateController.perform(y.default.Disconnect,(()=>{this._reconnectController.disableReconnect(),this.logger.info("attendee left meeting, session will not be reconnected"),this.actionDisconnect(new l.default(u.default.Left),!1,null).then(e).catch(t)}))}))}stop(){this.stopReturningPromise()}actionDisconnect(e,t,n){return i(this,void 0,void 0,(function*(){try{yield new W.default(this.logger,this.wrapTaskName("AudioVideoStop"),[new K.default(this.logger,new _.default(this.meetingSessionContext),this.configuration.connectionTimeoutMs)]).run()}catch(e){this.logger.info("fail to stop")}try{const e=[new K.default(this.logger,new A.default(this.meetingSessionContext),this.configuration.connectionTimeoutMs)];this.cleanUpMediaStreamsAfterStop(),yield new W.default(this.logger,this.wrapTaskName("AudioVideoClean"),e).run()}catch(e){this.logger.info("fail to clean")}this.sessionStateController.perform(y.default.FinishDisconnecting,(()=>{t||this.notifyStop(e,n)}))}))}update(e={needsRenegotiation:!0}){let t=e.needsRenegotiation;if(t||(t=void 0===this.meetingSessionContext.peer),t||(t=!this.updateRemoteVideosFromLastVideosToReceive()),t||(t=!this.updateLocalVideoFromPolicy()),this.meetingSessionContext.lastVideosToReceive=this.meetingSessionContext.videosToReceive,!t)return this.logger.info("Update request does not require resubscribe"),this.actionFinishUpdating(),!0;this.logger.info("Update request requires resubscribe");const n=this.sessionStateController.perform(y.default.Update,(()=>{this.actionUpdateWithRenegotiation(!0)}));return n===b.default.Transitioned||n===b.default.DeferredTransition}updateRemoteVideosFromLastVideosToReceive(){var e,t;const n=this.meetingSessionContext;if((null===(e=n.videosToReceive)||void 0===e?void 0:e.empty())||(null===(t=n.lastVideosToReceive)||void 0===t?void 0:t.empty()))return!1;if(!(n.transceiverController&&n.transceiverController.getMidForStreamId&&n.transceiverController.setStreamIdForMid&&n.videosToReceive.forEach&&n.signalingClient.remoteVideoUpdate&&n.videoStreamIndex.overrideStreamIdMappings))return!1;let i=[];const r=new Map;let a=[];if(null===n.lastVideosToReceive)i=n.videosToReceive.array();else{const e=n.videoStreamIndex;n.videosToReceive.forEach((t=>{if(n.lastVideosToReceive.contain(t))return;let a=!1;n.lastVideosToReceive.forEach((n=>{a||e.StreamIdsInSameGroup(n,t)&&(r.set(n,t),a=!0)})),a||i.push(t)})),a=n.lastVideosToReceive.array().filter((e=>{const t=n.videosToReceive.contain(e),i=r.has(e);return!t&&!i}))}this.logger.info(`Request to update remote videos with added: ${i}, updated: ${[...r.entries()]}, removed: ${a}`);const o=[];for(const[e,t]of r.entries()){const i=new C.default;if(i.streamId=t,i.attendeeId=n.videoStreamIndex.attendeeIdForStreamId(t),i.mid=n.transceiverController.getMidForStreamId(e),void 0===i.mid)return this.logger.info(`No MID found for stream ID ${e}, cannot update stream without renegotiation`),!1;if(o.push(i),n.transceiverController.setStreamIdForMid(i.mid,t),n.videoStreamIndex.overrideStreamIdMappings(e,t),n.videoTileController.haveVideoTileForAttendeeId(i.attendeeId)){const e=n.videoTileController.getVideoTileForAttendeeId(i.attendeeId);if(!e.setStreamId)return!1;e.setStreamId(t)}}return 0!==o.length&&n.signalingClient.remoteVideoUpdate(o,[]),0===i.length&&0===a.length&&(n.videoStreamIndex.subscribeFrameSent(),!0)}updateLocalVideoFromPolicy(){if(this.meetingSessionContext.enableSimulcast){const e=this.meetingSessionContext.videoUplinkBandwidthPolicy.chooseEncodingParameters();if(this.mayNeedRenegotiationForSimulcastLayerChange&&!this.negotiatedBitrateLayersAllocationRtpHeaderExtension())return this.logger.info("Needs regenotiation for local video simulcast layer change"),this.mayNeedRenegotiationForSimulcastLayerChange=!1,!1;this.meetingSessionContext.transceiverController.setEncodingParameters(e)}else this.meetingSessionContext.videoCaptureAndEncodeParameter=this.meetingSessionContext.videoUplinkBandwidthPolicy.chooseCaptureAndEncodeParameters();return this.logger.info("Updated local video from policy without renegotiation"),!0}negotiatedBitrateLayersAllocationRtpHeaderExtension(){if(!this.meetingSessionContext.transceiverController.localVideoTransceiver())return!1;const e=this.meetingSessionContext.transceiverController.localVideoTransceiver().sender.getParameters();return!(!e||!e.headerExtensions)&&e.headerExtensions.some((e=>"http://www.webrtc.org/experiments/rtp-hdrext/video-layers-allocation00"===e.uri))}restartLocalVideo(e){const t=()=>i(this,void 0,void 0,(function*(){this._videoTileController.hasStartedLocalVideoTile()&&(this.logger.info("stopping local video tile prior to local video restart"),this._videoTileController.stopLocalVideoTile(),this.logger.info("preparing local video restart update"),yield this.actionUpdateWithRenegotiation(!1),this.logger.info("starting local video tile for local video restart"),this._videoTileController.startLocalVideoTile()),this.logger.info("finalizing local video restart update"),yield this.actionUpdateWithRenegotiation(!0),e()})),n=this.sessionStateController.perform(y.default.Update,(()=>{t()}));return n===b.default.Transitioned||n===b.default.DeferredTransition}replaceLocalVideo(e){return i(this,void 0,void 0,(function*(){if(!e||e.getVideoTracks().length<1)throw new Error("could not acquire video track");if(!this.meetingSessionContext||!this.meetingSessionContext.peer)throw new Error("no active meeting and peer connection");const t=this.meetingSessionContext.videoTileController.getLocalVideoTile();if(t){const n=t.state(),i=e.getVideoTracks()[0].getSettings();t.bindVideoStream(n.boundAttendeeId,!0,e,i.width,i.height,n.streamId,n.boundExternalUserId)}yield this.meetingSessionContext.transceiverController.setVideoInput(e.getVideoTracks()[0]),this.meetingSessionContext.activeVideoInput=e,this.logger.info("Local video input is updated")}))}replaceLocalAudio(e){return i(this,void 0,void 0,(function*(){if(!e||e.getAudioTracks().length<1)throw new Error("could not acquire audio track");if(!this.meetingSessionContext||!this.meetingSessionContext.peer)throw new Error("no active meeting and peer connection");if(this.connectionHealthData.reset(),this.connectionHealthData.setConnectionStartTime(),!(yield this.meetingSessionContext.transceiverController.replaceAudioTrack(e.getAudioTracks()[0])))throw new Error("Failed to replace audio track");this.meetingSessionContext.activeAudioInput=e,this.logger.info("Local audio input is updated")}))}actionUpdateWithRenegotiation(e){return i(this,void 0,void 0,(function*(){this.monitorTask.pauseResubscribeCheck(),this.receiveIndexTask.pauseIngestion();try{yield new W.default(this.logger,this.wrapTaskName("AudioVideoUpdate"),[new q.default(this.meetingSessionContext),new K.default(this.logger,new W.default(this.logger,"UpdateSession",[new k.default(this.meetingSessionContext),new M.default(this.meetingSessionContext),new $.default(this.meetingSessionContext),new R.default(this.meetingSessionContext),new G.default(this.meetingSessionContext),new H.default(this.meetingSessionContext)]),this.configuration.connectionTimeoutMs)]).run(),e&&this.sessionStateController.perform(y.default.FinishUpdating,(()=>{this.actionFinishUpdating()}))}catch(e){this.sessionStateController.perform(y.default.FinishUpdating,(()=>{const t=new l.default(this.getMeetingStatusCode(e)||u.default.TaskFailed);t.statusCode()!==u.default.IncompatibleSDP&&this.logger.info("failed to update audio-video session"),this.handleMeetingSessionStatus(t,e)}))}}))}notifyStop(e,t){var n;if(this.forEachObserver((t=>{ee.Maybe.of(t.audioVideoDidStop).map((n=>n.bind(t)(e)))})),this.promotedToPrimaryMeeting&&t&&this.forEachObserver((e=>{this.promotedToPrimaryMeeting=!1,ee.Maybe.of(e.audioVideoWasDemotedFromPrimaryMeeting).map((t=>t.bind(e)(new l.default(u.default.SignalingInternalServerError))))})),this.eventController){const{signalingOpenDurationMs:i,poorConnectionCount:r,startTimeMs:a,iceGatheringDurationMs:o,attendeePresenceDurationMs:s,meetingStartDurationMs:c}=this.meetingSessionContext,d={maxVideoTileCount:this.meetingSessionContext.maxVideoTileCount,meetingDurationMs:null===a?0:Math.round(Date.now()-a),meetingStatus:u.default[e.statusCode()],signalingOpenDurationMs:i,iceGatheringDurationMs:o,attendeePresenceDurationMs:s,poorConnectionCount:r,meetingStartDurationMs:c,retryCount:this.totalRetryCount},l=t&&t.message||(null===(n=e.toString)||void 0===n?void 0:n.call(e))||"";0===d.meetingDurationMs?(d.meetingErrorMessage=l,delete d.meetingDurationMs,delete d.attendeePresenceDurationMs,delete d.meetingStartDurationMs,this.eventController.publishEvent("meetingStartFailed",d)):e.isFailure()||e.isAudioConnectionFailure()?(d.meetingErrorMessage=l,this.eventController.publishEvent("meetingFailed",d)):this.eventController.publishEvent("meetingEnded",d)}}actionFinishUpdating(){if(!this.meetingSessionContext.enableSimulcast)if(this.useUpdateTransceiverControllerForUplink)this.meetingSessionContext.videoUplinkBandwidthPolicy.updateTransceiverController();else{const e=this.meetingSessionContext.videoCaptureAndEncodeParameter.encodeBitrates()[0];this.enforceBandwidthLimitationForSender(e)}this.monitorTask.resumeResubscribeCheck(),this.receiveIndexTask.resumeIngestion(),this.logger.info("updated audio-video session")}reconnect(e,t){const n=this._reconnectController.retryWithBackoff((()=>i(this,void 0,void 0,(function*(){this.sessionStateController.state()===v.default.NotConnected?this.sessionStateController.perform(y.default.Connect,(()=>{this.actionConnect(!0)})):this.sessionStateController.perform(y.default.Reconnect,(()=>{this.actionReconnect(e)})),this.totalRetryCount+=1}))),(()=>{this.logger.info("canceled retry")}));return n||this.sessionStateController.perform(y.default.Fail,(()=>{this.actionDisconnect(e,!1,t)})),n}actionReconnect(e){return i(this,void 0,void 0,(function*(){this._reconnectController.hasStartedConnectionAttempt()||(this._reconnectController.startedConnectionAttempt(!1),this.forEachObserver((e=>{ee.Maybe.of(e.audioVideoDidStartConnecting).map((t=>t.bind(e)(!0)))}))),this.meetingSessionContext.volumeIndicatorAdapter.onReconnect(),this.connectionHealthData.reset();try{yield new W.default(this.logger,this.wrapTaskName("AudioVideoReconnect"),[new K.default(this.logger,new W.default(this.logger,"Media",[new P.default(this.meetingSessionContext),new W.default(this.logger,"Signaling",[new N.default(this.meetingSessionContext),new F.default(this.meetingSessionContext),new B.default(this.meetingSessionContext)]),new T.default(this.meetingSessionContext)]),this.configuration.connectionTimeoutMs),new q.default(this.meetingSessionContext),new K.default(this.logger,new W.default(this.logger,"UpdateSession",[new k.default(this.meetingSessionContext),new M.default(this.meetingSessionContext),new $.default(this.meetingSessionContext),new R.default(this.meetingSessionContext),new G.default(this.meetingSessionContext),new H.default(this.meetingSessionContext)]),this.configuration.connectionTimeoutMs)]).run(),this.sessionStateController.perform(y.default.FinishConnecting,(()=>{if(this.eventController){const{signalingOpenDurationMs:t,poorConnectionCount:n,startTimeMs:i,iceGatheringDurationMs:r,attendeePresenceDurationMs:a,meetingStartDurationMs:o}=this.meetingSessionContext,s={maxVideoTileCount:this.meetingSessionContext.maxVideoTileCount,meetingDurationMs:Math.round(Date.now()-i),meetingStatus:u.default[e.statusCode()],signalingOpenDurationMs:t,iceGatheringDurationMs:r,attendeePresenceDurationMs:a,poorConnectionCount:n,meetingStartDurationMs:o,retryCount:this.totalRetryCount};this.eventController.publishEvent("meetingReconnected",s)}this.actionFinishConnecting()}))}catch(e){this.sessionStateController.perform(y.default.FinishConnecting,(()=>{this.logger.info("failed to reconnect audio-video session");const t=new l.default(this.getMeetingStatusCode(e)||u.default.TaskFailed);this.handleMeetingSessionStatus(t,e)}))}this.connectionHealthData.setConnectionStartTime()}))}wrapTaskName(e){return`${e}/${this.configuration.meetingId}/${this.configuration.credentials.attendeeId}`}cleanUpMediaStreamsAfterStop(){this._mediaStreamBroker.removeMediaStreamBrokerObserver(this),this.meetingSessionContext.activeAudioInput=void 0,this.meetingSessionContext.activeVideoInput=void 0}getMeetingStatusCode(e){const t=/the meeting status code: (\d+)/.exec(e&&e.message);return t&&t.length>1?Number.parseInt(t[1],10):null}enforceBandwidthLimitationForSender(e){return i(this,void 0,void 0,(function*(){yield this.meetingSessionContext.transceiverController.setVideoSendingBitrateKbps(e)}))}handleMeetingSessionStatus(e,t){if(this.logger.info(`handling status: ${u.default[e.statusCode()]}`),e.isTerminal()||this.meetingSessionContext.statsCollector&&this.meetingSessionContext.statsCollector.logMeetingSessionStatus(e),e.statusCode()===u.default.IncompatibleSDP)return this.restartLocalVideo((()=>{this.logger.info("handled incompatible SDP by attempting to restart video")})),!0;if(e.statusCode()===u.default.VideoCallSwitchToViewOnly)return this._videoTileController.removeLocalVideoTile(),this.forEachObserver((e=>{ee.Maybe.of(e.videoSendDidBecomeUnavailable).map((t=>t.bind(e)()))})),!1;if(e.statusCode()===u.default.AudioVideoWasRemovedFromPrimaryMeeting)return this.forEachObserver((t=>{ee.Maybe.of(t.audioVideoWasDemotedFromPrimaryMeeting).map((n=>n.bind(t)(e)))})),!1;if(e.isTerminal()&&(this.logger.error("session will not be reconnected"),this.meetingSessionContext.reconnectController&&this.meetingSessionContext.reconnectController.disableReconnect()),(e.isFailure()||e.isTerminal())&&this.meetingSessionContext.reconnectController){const n=this.reconnect(e,t);return n?this.logger.warn(`will retry due to status code ${u.default[e.statusCode()]}${t?` and error: ${t.message}`:""}`):this.logger.error(`failed with status code ${u.default[e.statusCode()]}${t?` and error: ${t.message}`:""}`),n}return!1}setVideoMaxBandwidthKbps(e){if(e<=0)throw new Error("Max bandwidth kbps has to be greater than 0");this.meetingSessionContext&&this.meetingSessionContext.videoUplinkBandwidthPolicy&&(this.logger.info(`video send has ideal max bandwidth ${e} kbps`),this.meetingSessionContext.videoUplinkBandwidthPolicy.setIdealMaxBandwidthKbps(e)),this.maxUplinkBandwidthKbps=e}handleHasBandwidthPriority(e){return i(this,void 0,void 0,(function*(){if(this.meetingSessionContext&&this.meetingSessionContext.videoUplinkBandwidthPolicy&&!this.meetingSessionContext.enableSimulcast){if(this.useUpdateTransceiverControllerForUplink)return this.meetingSessionContext.videoUplinkBandwidthPolicy.setHasBandwidthPriority(e),void(yield this.meetingSessionContext.videoUplinkBandwidthPolicy.updateTransceiverController());const t=this.meetingSessionContext.videoUplinkBandwidthPolicy.maxBandwidthKbps();this.meetingSessionContext.videoUplinkBandwidthPolicy.setHasBandwidthPriority(e);const n=this.meetingSessionContext.videoUplinkBandwidthPolicy.maxBandwidthKbps();t!==n&&(this.logger.info(`video send bandwidth priority ${e} max has changed from ${t} kbps to ${n} kbps`),yield this.enforceBandwidthLimitationForSender(n))}}))}pauseReceivingStream(e){this.meetingSessionContext&&this.meetingSessionContext.signalingClient&&this.meetingSessionContext.signalingClient.pause([e])}resumeReceivingStream(e){this.meetingSessionContext&&this.meetingSessionContext.signalingClient&&this.meetingSessionContext.signalingClient.resume([e])}setVideoCodecSendPreferences(e){this.videoSendCodecPreferences=e,this.meetingSessionContext.videoSendCodecPreferences=e,this.update({needsRenegotiation:!0})}getRemoteVideoSources(){const{videoStreamIndex:e}=this.meetingSessionContext;if(!e)return this.logger.info("meeting has not started"),[];const t=this.configuration.credentials.attendeeId;return e.allVideoSendingSourcesExcludingSelf(t)}encodingSimulcastLayersDidChange(e){this.mayNeedRenegotiationForSimulcastLayerChange=!0,this.forEachObserver((t=>{ee.Maybe.of(t.encodingSimulcastLayersDidChange).map((n=>n.bind(t)(e)))}))}promoteToPrimaryMeeting(e){return this.actionPromoteToPrimaryMeeting(e)}actionPromoteToPrimaryMeeting(e){return i(this,void 0,void 0,(function*(){let t=new l.default(u.default.SignalingRequestFailed);return yield new W.default(this.logger,this.wrapTaskName("PromoteToPrimaryMeeting"),[new K.default(this.logger,new D.default(this.meetingSessionContext,e,(e=>{t=e})),this.configuration.connectionTimeoutMs)]).run(),this.promotedToPrimaryMeeting=t.statusCode()===u.default.OK,t}))}demoteFromPrimaryMeeting(){this.meetingSessionContext.signalingClient.demoteFromPrimaryMeeting(),this.forEachObserver((e=>{ee.Maybe.of(e.audioVideoWasDemotedFromPrimaryMeeting).map((t=>t.bind(e)(new l.default(u.default.OK))))}))}videoInputDidChange(e){return i(this,void 0,void 0,(function*(){this.logger.info("Receive a video input change event"),this.meetingSessionContext&&this.meetingSessionContext.peer?this._videoTileController.hasStartedLocalVideoTile()&&(e?yield this.replaceLocalVideo(e):this._videoTileController.stopLocalVideoTile()):this.logger.info("Skip updating video input because there is no active meeting and peer connection")}))}audioInputDidChange(e){return i(this,void 0,void 0,(function*(){if(this.logger.info("Receive an audio input change event"),this.meetingSessionContext&&this.meetingSessionContext.peer){if(!e)try{e=yield this.mediaStreamBroker.acquireAudioInputStream()}catch(e){return void this.logger.error("Could not acquire audio track from mediaStreamBroker")}yield this.replaceLocalAudio(e)}else this.logger.info("Skip updating audio input because there is no active meeting and peer connection")}))}}t.default=pe,pe.MIN_VOLUME_DECIBELS=-42,pe.MAX_VOLUME_DECIBELS=-14,pe.PING_PONG_INTERVAL_MS=1e4},9836:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(8434),r=n(3831),a=n(209),o=n(4015),s=n(589),c=n(8015),d=n(3789),l=n(5687),u=n(6057),h=n(9141),p=n(7631),m=n(9059);class f extends m.default{constructor(e){const t=new s.default;t.meetingId="",t.externalMeetingId="",t.credentials=new c.default,t.credentials.attendeeId="",t.credentials.joinToken="",t.urls=new u.default,t.urls.turnControlURL="",t.urls.audioHostURL="",t.urls.signalingURL="wss://localhost/";const n=new a.default;super(e||t,n,new p.default(new a.default),new o.default,new h.default(0,new i.default(0,0,0)),new r.default(e||t,n))}setAudioProfile(e){}start(){}stop(){}promoteToPrimaryMeeting(e){return Promise.resolve(new d.default(l.default.OK))}demoteFromPrimaryMeeting(){}}t.default=f},8538:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,a){function o(e){try{c(i.next(e))}catch(e){a(e)}}function s(e){try{c(i.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const r=n(7170);t.default=class{constructor(e,t,n,i,r,a){this.audioVideoController=e,this.videoTileController=t,this.realtimeController=n,this.audioMixController=i,this.deviceController=r,this.contentShareController=a}addObserver(e){this.audioVideoController.addObserver(e),this.trace("addObserver")}removeObserver(e){this.audioVideoController.removeObserver(e),this.trace("removeObserver")}setAudioProfile(e){this.trace("setAudioProfile",e),this.audioVideoController.setAudioProfile(e)}start(e){this.audioVideoController.start(e),this.trace("start")}stop(){this.audioVideoController.stop(),this.trace("stop")}getRTCPeerConnectionStats(e){return this.trace("getRTCPeerConnectionStats",e?e.id:null),this.audioVideoController.getRTCPeerConnectionStats(e)}bindAudioElement(e){const t=this.audioMixController.bindAudioElement(e);return this.trace("bindAudioElement",e.id,t),t}unbindAudioElement(){this.audioMixController.unbindAudioElement(),this.trace("unbindAudioElement")}getCurrentMeetingAudioStream(){return this.trace("getCurrentConferenceStream"),this.audioMixController.getCurrentMeetingAudioStream()}addAudioMixObserver(e){this.trace("addAudioMixObserver"),this.audioMixController.addAudioMixObserver(e)}removeAudioMixObserver(e){this.trace("removeAudioMixObserver"),this.audioMixController.removeAudioMixObserver(e)}bindVideoElement(e,t){this.videoTileController.bindVideoElement(e,t),this.trace("bindVideoElement",{tileId:e,videoElementId:t.id})}unbindVideoElement(e,t=!0){this.videoTileController.unbindVideoElement(e,t),this.trace("unbindVideoElement",{tileId:e,cleanUpVideoElement:t})}startLocalVideoTile(){const e=this.videoTileController.startLocalVideoTile();return this.trace("startLocalVideoTile",null,e),e}stopLocalVideoTile(){this.videoTileController.stopLocalVideoTile(),this.trace("stopLocalVideoTile")}hasStartedLocalVideoTile(){const e=this.videoTileController.hasStartedLocalVideoTile();return this.trace("hasStartedLocalVideoTile",null,e),e}removeLocalVideoTile(){this.videoTileController.removeLocalVideoTile(),this.trace("removeLocalVideoTile")}getLocalVideoTile(){const e=this.videoTileController.getLocalVideoTile();return this.trace("getLocalVideoTile"),e}pauseVideoTile(e){this.videoTileController.pauseVideoTile(e),this.trace("pauseVideoTile",e)}unpauseVideoTile(e){this.videoTileController.unpauseVideoTile(e),this.trace("unpauseVideoTile",e)}getVideoTile(e){const t=this.videoTileController.getVideoTile(e);return this.trace("getVideoTile",e),t}getAllRemoteVideoTiles(){const e=this.videoTileController.getAllRemoteVideoTiles();return this.trace("getAllRemoteVideoTiles"),e}getAllVideoTiles(){const e=this.videoTileController.getAllVideoTiles();return this.trace("getAllVideoTiles"),e}addVideoTile(){const e=this.videoTileController.addVideoTile();return this.trace("addVideoTile",null,e.state()),e}removeVideoTile(e){this.videoTileController.removeVideoTile(e),this.trace("removeVideoTile",e)}removeVideoTilesByAttendeeId(e){const t=this.videoTileController.removeVideoTilesByAttendeeId(e);return this.trace("removeVideoTilesByAttendeeId",e,t),t}removeAllVideoTiles(){this.videoTileController.removeAllVideoTiles(),this.trace("removeAllVideoTiles")}captureVideoTile(e){const t=this.videoTileController.captureVideoTile(e);return this.trace("captureVideoTile",e),t}realtimeSubscribeToAttendeeIdPresence(e){this.realtimeController.realtimeSubscribeToAttendeeIdPresence(e),this.trace("realtimeSubscribeToAttendeeIdPresence")}realtimeUnsubscribeToAttendeeIdPresence(e){this.realtimeController.realtimeUnsubscribeToAttendeeIdPresence(e),this.trace("realtimeUnsubscribeToAttendeeIdPresence")}realtimeSetCanUnmuteLocalAudio(e){this.realtimeController.realtimeSetCanUnmuteLocalAudio(e),this.trace("realtimeSetCanUnmuteLocalAudio",e)}realtimeSubscribeToSetCanUnmuteLocalAudio(e){this.realtimeController.realtimeSubscribeToSetCanUnmuteLocalAudio(e),this.trace("realtimeSubscribeToSetCanUnmuteLocalAudio")}realtimeUnsubscribeToSetCanUnmuteLocalAudio(e){this.realtimeController.realtimeUnsubscribeToSetCanUnmuteLocalAudio(e),this.trace("realtimeUnsubscribeToSetCanUnmuteLocalAudio")}realtimeCanUnmuteLocalAudio(){const e=this.realtimeController.realtimeCanUnmuteLocalAudio();return this.trace("realtimeCanUnmuteLocalAudio",null,e),e}realtimeMuteLocalAudio(){this.realtimeController.realtimeMuteLocalAudio(),this.trace("realtimeMuteLocalAudio")}realtimeUnmuteLocalAudio(){const e=this.realtimeController.realtimeUnmuteLocalAudio();return this.trace("realtimeUnmuteLocalAudio"),e}realtimeSubscribeToMuteAndUnmuteLocalAudio(e){this.realtimeController.realtimeSubscribeToMuteAndUnmuteLocalAudio(e),this.trace("realtimeSubscribeToMuteAndUnmuteLocalAudio")}realtimeUnsubscribeToMuteAndUnmuteLocalAudio(e){this.realtimeController.realtimeUnsubscribeToMuteAndUnmuteLocalAudio(e),this.trace("realtimeUnsubscribeToMuteAndUnmuteLocalAudio")}realtimeIsLocalAudioMuted(){const e=this.realtimeController.realtimeIsLocalAudioMuted();return this.trace("realtimeIsLocalAudioMuted"),e}realtimeSubscribeToVolumeIndicator(e,t){this.realtimeController.realtimeSubscribeToVolumeIndicator(e,t),this.trace("realtimeSubscribeToVolumeIndicator",e)}realtimeUnsubscribeFromVolumeIndicator(e,t){this.realtimeController.realtimeUnsubscribeFromVolumeIndicator(e,t),this.trace("realtimeUnsubscribeFromVolumeIndicator",e,t)}realtimeSubscribeToLocalSignalStrengthChange(e){this.realtimeController.realtimeSubscribeToLocalSignalStrengthChange(e),this.trace("realtimeSubscribeToLocalSignalStrengthChange")}realtimeUnsubscribeToLocalSignalStrengthChange(e){this.realtimeController.realtimeUnsubscribeToLocalSignalStrengthChange(e),this.trace("realtimeUnsubscribeToLocalSignalStrengthChange")}realtimeSendDataMessage(e,t,n){this.realtimeController.realtimeSendDataMessage(e,t,n),this.trace("realtimeSendDataMessage")}realtimeSubscribeToReceiveDataMessage(e,t){this.realtimeController.realtimeSubscribeToReceiveDataMessage(e,t),this.trace("realtimeSubscribeToReceiveDataMessage")}realtimeUnsubscribeFromReceiveDataMessage(e){this.realtimeController.realtimeUnsubscribeFromReceiveDataMessage(e),this.trace("realtimeUnsubscribeFromReceiveDataMessage")}realtimeSubscribeToFatalError(e){this.realtimeController.realtimeSubscribeToFatalError(e),this.trace("realtimeSubscribeToFatalError")}realtimeUnsubscribeToFatalError(e){this.realtimeController.realtimeUnsubscribeToFatalError(e),this.trace("realtimeUnsubscribeToFatalError")}subscribeToActiveSpeakerDetector(e,t,n,i){this.audioVideoController.activeSpeakerDetector.subscribe(e,t,n,i),this.trace("subscribeToActiveSpeakerDetector")}unsubscribeFromActiveSpeakerDetector(e){this.audioVideoController.activeSpeakerDetector.unsubscribe(e),this.trace("unsubscribeFromActiveSpeakerDetector")}listAudioInputDevices(e=!1){return i(this,void 0,void 0,(function*(){const t=yield this.deviceController.listAudioInputDevices(e);return this.trace("listAudioInputDevices",e,t),t}))}listVideoInputDevices(e=!1){return i(this,void 0,void 0,(function*(){const t=yield this.deviceController.listVideoInputDevices(e);return this.trace("listVideoInputDevices",e,t),t}))}listAudioOutputDevices(e=!1){return i(this,void 0,void 0,(function*(){const t=yield this.deviceController.listAudioOutputDevices(e);return this.trace("listAudioOutputDevices",e,t),t}))}startAudioInput(e){return i(this,void 0,void 0,(function*(){return this.trace("startAudioInput",e),this.deviceController.startAudioInput(e)}))}stopAudioInput(){return i(this,void 0,void 0,(function*(){return this.trace("stopAudioInput"),this.deviceController.stopAudioInput()}))}startVideoInput(e){return i(this,void 0,void 0,(function*(){return r.isVideoTransformDevice(e)?this.trace("startVideoInput with transform device"):this.trace("startVideoInput",e),this.deviceController.startVideoInput(e)}))}stopVideoInput(){return i(this,void 0,void 0,(function*(){return this.trace("stopVideoInput"),this.deviceController.stopVideoInput()}))}chooseAudioOutput(e){const t=this.deviceController.chooseAudioOutput(e);return this.trace("chooseAudioOutput",e),t}addDeviceChangeObserver(e){this.deviceController.addDeviceChangeObserver(e),this.trace("addDeviceChangeObserver")}removeDeviceChangeObserver(e){this.deviceController.removeDeviceChangeObserver(e),this.trace("removeDeviceChangeObserver")}createAnalyserNodeForAudioInput(){const e=this.deviceController.createAnalyserNodeForAudioInput();return this.trace("createAnalyserNodeForAudioInput"),e}startVideoPreviewForVideoInput(e){this.deviceController.startVideoPreviewForVideoInput(e),this.trace("startVideoPreviewForVideoInput",e.id)}stopVideoPreviewForVideoInput(e){this.deviceController.stopVideoPreviewForVideoInput(e),this.trace("stopVideoPreviewForVideoInput",e.id)}setDeviceLabelTrigger(e){this.deviceController.setDeviceLabelTrigger(e),this.trace("setDeviceLabelTrigger")}mixIntoAudioInput(e){const t=this.deviceController.mixIntoAudioInput(e);return this.trace("mixIntoAudioInput",e.id),t}chooseVideoInputQuality(e,t,n){this.deviceController.chooseVideoInputQuality(e,t,n),this.trace("chooseVideoInputQuality",{width:e,height:t,frameRate:n})}setVideoMaxBandwidthKbps(e){this.audioVideoController.setVideoMaxBandwidthKbps(e),this.trace("setVideoMaxBandwidthKbps",e)}setVideoCodecSendPreferences(e){this.audioVideoController.setVideoCodecSendPreferences(e),this.trace("setVideoCodecSendPreferences",e)}getVideoInputQualitySettings(){const e=this.deviceController.getVideoInputQualitySettings();return this.trace("getVideoInputQualitySettings"),e}setContentAudioProfile(e){this.trace("setContentAudioProfile",e),this.contentShareController.setContentAudioProfile(e)}enableSimulcastForContentShare(e,t){this.trace("enableSimulcastForContentShare"),this.contentShareController.enableSimulcastForContentShare(e,t)}startContentShare(e){const t=this.contentShareController.startContentShare(e);return this.trace("startContentShare"),t}startContentShareFromScreenCapture(e,t){const n=this.contentShareController.startContentShareFromScreenCapture(e,t);return this.trace("startContentShareFromScreenCapture"),n}pauseContentShare(){this.contentShareController.pauseContentShare(),this.trace("pauseContentShare")}unpauseContentShare(){this.contentShareController.unpauseContentShare(),this.trace("unpauseContentShare")}stopContentShare(){this.contentShareController.stopContentShare(),this.trace("stopContentShare")}addContentShareObserver(e){this.contentShareController.addContentShareObserver(e),this.trace("addContentShareObserver")}removeContentShareObserver(e){this.contentShareController.removeContentShareObserver(e),this.trace("removeContentShareObserver")}setContentShareVideoCodecPreferences(e){this.contentShareController.setContentShareVideoCodecPreferences(e),this.trace("setContentShareVideoCodecPreferences")}trace(e,t,n){let i=`API/DefaultAudioVideoFacade/${this.audioVideoController.configuration.meetingId}/${this.audioVideoController.configuration.credentials.attendeeId}/${e}`;void 0!==t&&(i+=` ${JSON.stringify(t)}`),void 0!==n&&(i+=` -> ${JSON.stringify(n)}`),this.audioVideoController.logger.info(i)}getRemoteVideoSources(){const e=this.audioVideoController.getRemoteVideoSources();return this.trace("getRemoteVideoSources",null,e),e}get transcriptionController(){return this.realtimeController.transcriptionController}promoteToPrimaryMeeting(e){this.audioVideoController.removeObserver(this),this.audioVideoController.addObserver(this);const t=this.audioVideoController.promoteToPrimaryMeeting(e);return this.trace("promoteToPrimaryMeeting",null,t),t}demoteFromPrimaryMeeting(){this.trace("demoteFromPrimaryMeeting"),this.audioVideoController.demoteFromPrimaryMeeting()}audioVideoWasDemotedFromPrimaryMeeting(e){this.contentShareController.stopContentShare(),this.audioVideoController.removeObserver(this)}}},179:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,a){function o(e){try{c(i.next(e))}catch(e){a(e)}}function s(e){try{c(i.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const r=n(8074),a=n(9734);class o extends r.default{constructor(e,t){super(e,t),this.blurCanvas=document.createElement("canvas"),this.blurCanvasCtx=this.blurCanvas.getContext("2d"),this.blurCanvas.width=this.spec.model.input.width,this.blurCanvas.height=this.spec.model.input.height,this.logger.info("BackgroundBlur processor using builtin blur")}drawImageWithMask(e,t){const n=this.blurredImage,{canvasCtx:i,targetCanvas:r}=this,{width:a,height:o}=r;t&&n?(this.scaledCanvas.getContext("2d").putImageData(t,0,0),this.blurCanvasCtx.putImageData(this.blurredImage,0,0),i.save(),i.clearRect(0,0,a,o),i.drawImage(this.scaledCanvas,0,0,a,o),i.globalCompositeOperation="source-in",i.drawImage(e,0,0,a,o),i.globalCompositeOperation="destination-over",i.drawImage(this.blurCanvas,0,0,a,o),i.restore()):i.clearRect(0,0,a,o)}setBlurStrength(e){if(super.setBlurStrength(e),this.worker){this.modelInitialized=!1,this.worker.postMessage({msg:"destroy"});const e=this.spec.model;this.worker.postMessage({msg:"loadModel",payload:{modelUrl:e.path,inputHeight:e.input.height,inputWidth:e.input.width,inputChannels:4,modelRangeMin:e.input.range[0],modelRangeMax:e.input.range[1],blurPixels:this.blurAmount}})}}setBlurPixels(){this.blurAmount=a.BlurStrengthMapper.getBlurAmount(this._blurStrength,{height:540}),this.logger.info(`background blur amount set to ${this.blurAmount}`)}handleInitialize(e){if(this.logger.info(`received initialize message: ${this.stringify(e)}`),!e.payload)return this.logger.error("failed to initialize module"),void this.initWorkerPromise.reject(new Error("failed to initialize the module"));const t=this.spec.model;this.worker.postMessage({msg:"loadModel",payload:{modelUrl:t.path,inputHeight:t.input.height,inputWidth:t.input.width,inputChannels:4,modelRangeMin:t.input.range[0],modelRangeMax:t.input.range[1],blurPixels:this.blurAmount}}),this.initWorkerPromise.resolve({})}handlePredict(e){this.blurredImage=e.payload.blurOutput,super.handlePredict(e)}destroy(){const e=Object.create(null,{destroy:{get:()=>super.destroy}});var t;return i(this,void 0,void 0,(function*(){e.destroy.call(this),null===(t=this.blurCanvas)||void 0===t||t.remove(),this.blurCanvas=void 0}))}}t.default=o},8074:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,a){function o(e){try{c(i.next(e))}catch(e){a(e)}}function s(e){try{c(i.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const r=n(1851),a=n(9734),o=n(9852);class s extends r.default{constructor(e,t){super("background blur",e,t,new o.default),this.blurAmount=0,this.setBlurStrength(t.blurStrength),this.logger.info("BackgroundBlur processor successfully created"),this.logger.info(`BackgroundBlur spec: ${this.stringify(this.spec)}`),this.logger.info(`BackgroundBlur options: ${this.stringify(t)}`)}validateOptions(e){if(super.validateOptions(e),!e.blurStrength)throw new Error("processor has null options - blurStrength")}initOnFirstExecution(){this.setBlurPixels()}drawImageWithMask(e,t){t||(t=new ImageData(this.spec.model.input.width,this.spec.model.input.height)),this.scaledCanvas.getContext("2d").putImageData(t,0,0);const{canvasCtx:n,targetCanvas:i}=this,{width:r,height:a}=i;n.save(),n.clearRect(0,0,r,a),n.drawImage(this.scaledCanvas,0,0,r,a),n.globalCompositeOperation="source-in",n.drawImage(e,0,0,r,a),n.globalCompositeOperation="destination-over",n.filter=`blur(${this.blurAmount}px)`,n.drawImage(e,0,0,i.width,i.height),n.restore()}setBlurStrength(e){this._blurStrength=e,this.logger.info(`blur strength set to ${this._blurStrength}`),this.setBlurPixels()}setBlurPixels(){this.blurAmount=a.BlurStrengthMapper.getBlurAmount(this._blurStrength,{height:this.sourceHeight}),this.logger.info(`background blur amount set to ${this.blurAmount}`)}addObserver(e){this.delegate.addObserver(e)}removeObserver(e){this.delegate.removeObserver(e)}static isSupported(){return i(this,void 0,void 0,(function*(){const e=document.createElement("canvas"),t=void 0!==e.getContext("2d").filter;return e.remove(),t}))}setEventController(e){this.eventController?this.eventController=e:(this.eventController=e,this.publishBackgroundFilterEvent())}publishBackgroundFilterEvent(){const e={backgroundBlurEnabled:"true",backgroundBlurStrength:this._blurStrength,backgroundReplacementEnabled:"false",backgroundFilterVersion:1};this.eventController.publishEvent("backgroundFilterConfigSelected",e)}}t.default=s},9734:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BlurStrengthMapper=void 0;class n{static getBlurAmount(e,t){if(e<=0)throw new Error(`invalid value for blur strength: ${e}`);return Math.round(e*t.height/this.BLUR_STRENGTH_DIVISOR)}}t.BlurStrengthMapper=n,n.BLUR_STRENGTH_DIVISOR=540,t.default={LOW:7,MEDIUM:15,HIGH:30}},1260:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,a){function o(e){try{c(i.next(e))}catch(e){a(e)}}function s(e){try{c(i.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const r=n(4243),a=n(8030),o=n(813),s=n(2801),c=n(179),d=n(8074),l=n(9734);class u extends s.default{setBlurStrength(){}loadAssets(){return i(this,void 0,void 0,(function*(){}))}addObserver(){}removeObserver(){}}class h extends r.default{static create(e,t){return i(this,void 0,void 0,(function*(){e=h.resolveSpec(e),t=h.resolveOptions(t);const{logger:n}=t,i=yield h.isSupported(e,t);if(n.info(`processor is ${i?"":"not"} supported`),!i)return n.warn("Using no-op processor because background blur is not supported"),new u;let r;return(yield d.default.isSupported())?(n.info("Using browser-provided background blur"),r=new d.default(e,t)):(n.info("Using built-in background blur"),r=new c.default(e,t)),yield r.loadAssets(),r}))}static resolveOptions(e={}){let t=Object.assign({},e);return t.blurStrength||(t.blurStrength=l.default.MEDIUM),t.logger||(t.logger=new a.default("BackgroundBlurProcessor",o.default.INFO)),t=super.resolveOptions(t),t}static isSupported(e,t){return e=h.resolveSpec(e),t=h.resolveOptions(t),super.isSupported(e,t)}}t.default=h},9852:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4627);class r extends i.default{}t.default=r},22:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});class n{constructor(){this.path=null,this.input=null,this.output=null}static builder(){return new n}withDefaultModel(){return this.withSelfieSegmentationDefaults()}withSelfieSegmentationDefaults(){return this.path="https://static.sdkassets.chime.aws/bgblur/models/selfie_segmentation_landscape.tflite",this.input={height:144,width:256,range:[0,1],channels:3},this.output={height:144,width:256,range:[0,1],channels:1},this}withPath(e){return this.path=e,this}withInput(e){return this.input=e,this}withOutput(e){return this.output=e,this}validate(){if(!this.path)throw new Error("model spec path is not set");if(!this.input)throw new Error("model spec input is not set");if(!this.output)throw new Error("model spec output is not set")}build(){return this.validate(),{path:this.path,input:this.input,output:this.output}}}t.default=n},3368:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{constructor(e,t,n,i){this.delegate=e,this.reportingPeriodMillis=t,this.filterCPUUtilization=n,this.logger=i,this._processingFilter=!0,this.lastReportedEventTimestamp=0,this.lastFilterCompleteTimestamp=0,this.filterTotalMillis=0,this.filterCount=0,this.framerate=0,this.filterDurationNotifyMillis=0,this.setSegmentationDuration()}reportEvent(e){const t=e-this.lastReportedEventTimestamp;if(t>=this.reportingPeriodMillis){const n=this.filterCount,i=this.filterTotalMillis;if(this.filterCount=0,this.filterTotalMillis=0,this.lastReportedEventTimestamp=e,0===this.framerate||0===n)return;const r=Math.round(i/n),a=Math.round(this.framerate*(t/1e3))-n,o=Math.round(100*i/t);r>=this.filterDurationNotifyMillis&&this.delegate.filterFrameDurationHigh({framesDropped:a,avgFilterDurationMillis:r,framerate:this.framerate,periodMillis:t}),o>=this.filterCPUUtilization&&this.delegate.filterCPUUtilizationHigh({cpuUtilization:o,filterMillis:i,periodMillis:t})}}setSegmentationDuration(){this.filterDurationNotifyMillis=Math.round(1e3/this.framerate*.8)}frameReceived(e){e!==this.framerate&&(this.framerate=e,this.logger.info(`frame counter setting frame rate to ${this.framerate}`),this.setSegmentationDuration());const t=Date.now();this.reportEvent(t)}filterSubmitted(){this._processingFilter=!0,this.lastFilterCompleteTimestamp=Date.now()}filterComplete(){this.filterTotalMillis+=Date.now()-this.lastFilterCompleteTimestamp,this._processingFilter=!1,this.filterCount++}get processingSegment(){return this._processingFilter}}},1851:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,a){function o(e){try{c(i.next(e))}catch(e){a(e)}}function s(e){try{c(i.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.BackgroundFilterMonitor=void 0;const r=n(5021),a=n(9807),o=n(3368);class s{constructor(){this.value=void 0,this.resolve=null}whenNext(){return this.promise||(this.promise=new Promise((e=>this.resolve=e))),this.promise}next(e){this.value=e,this.resolve(e),delete this.promise}}class c{constructor(e,t,n,i,r){this.targetCanvas=document.createElement("canvas"),this.canvasCtx=this.targetCanvas.getContext("2d"),this.canvasVideoFrameBuffer=new a.default(this.targetCanvas),this.mask$=new s,this.sourceWidth=0,this.sourceHeight=0,this.frameNumber=0,this.videoFramesPerFilterUpdate=1,this.initWorkerPromise=c.createWorkerPromise(),this.loadModelPromise=c.createWorkerPromise(),this.modelInitialized=!1,this.destroyed=!1,this.filterType=e,this.validateSpec(t),this.validateOptions(n),this.spec=t,this.logger=n.logger,this.delegate=i,this.initCPUMonitor(n),this.eventController=r}static createWorkerPromise(){const e={resolve:null,reject:null,promise:null};return e.promise=new Promise(((t,n)=>{e.resolve=t,e.reject=n})),e}validateSpec(e){if(!e)throw new Error("processor has null spec");if(!e.model)throw new Error("processor spec has null model");if(!e.paths)throw new Error("processor spec has null paths")}validateOptions(e){if(!e)throw new Error("processor has null options");if(!e.logger)throw new Error("processor has null options - logger");if(!e.reportingPeriodMillis)throw new Error("processor has null options - reportingPeriodMillis");if(!e.filterCPUUtilization)throw new Error("processor has null options - filterCPUUtilization")}initCPUMonitor(e){this.videoFramesPerFilterUpdate=1,this.frameCounter=new o.default(this.delegate,e.reportingPeriodMillis,e.filterCPUUtilization,this.logger),this.cpuMonitor=new d(5e3,{reduceCPUUtilization:()=>{this.updateVideoFramesPerFilterUpdate(Math.min(this.videoFramesPerFilterUpdate+1,10))},increaseCPUUtilization:()=>{this.updateVideoFramesPerFilterUpdate(Math.max(this.videoFramesPerFilterUpdate-1,1))}}),this.delegate.addObserver(this.cpuMonitor)}stringify(e){return JSON.stringify(e,null,2)}handleInitialize(e){if(this.logger.info(`received initialize message: ${this.stringify(e)}`),!e.payload)return this.logger.error("failed to initialize module"),void this.initWorkerPromise.reject(new Error("failed to initialize the module"));const t=this.spec.model;this.worker.postMessage({msg:"loadModel",payload:{modelUrl:t.path,inputHeight:t.input.height,inputWidth:t.input.width,inputChannels:4,modelRangeMin:t.input.range[0],modelRangeMax:t.input.range[1],blurPixels:0}}),this.initWorkerPromise.resolve({})}handleLoadModel(e){if(this.logger.info(`received load model message: ${this.stringify(e)}`),2!==e.payload)return this.logger.error("failed to load model! status: "+e.payload),void this.loadModelPromise.reject(new Error("failed to load model! status: "+e.payload));this.modelInitialized=!0,this.loadModelPromise.resolve({})}handlePredict(e){this.mask$.next(e.payload.output)}handleWorkerEvent(e){const t=e.data;switch(t.msg){case"initialize":this.handleInitialize(t);break;case"loadModel":this.handleLoadModel(t);break;case"predict":this.handlePredict(t);break;default:this.logger.info(`unexpected event msg: ${this.stringify(t)}`)}}loadAssets(){return i(this,void 0,void 0,(function*(){this.logger.info("start initializing the processor");try{this.worker=yield r.loadWorker(this.spec.paths.worker,"BackgroundFilterWorker",{},null),this.worker.addEventListener("message",(e=>this.handleWorkerEvent(e))),this.worker.postMessage({msg:"initialize",payload:{wasmPath:this.spec.paths.wasm,simdPath:this.spec.paths.simd}}),yield this.initWorkerPromise.promise,this.logger.info(`successfully initialized the ${this.filterType} worker`),yield this.loadModelPromise.promise,this.logger.info(`successfully loaded ${this.filterType} worker segmentation model`)}catch(e){throw new Error(`could not initialize the ${this.filterType} video frame processor due to '${e.message}'`)}this.logger.info(`successfully initialized the ${this.filterType} processor`)}))}process(e){return i(this,void 0,void 0,(function*(){if(this.destroyed)return e;this.frameCounter.frameReceived(e[0].framerate),this.cpuMonitor.frameReceived();const t=e[0].asCanvasElement();if(!t)return e;if(!this.modelInitialized)return e[0]=this.canvasVideoFrameBuffer,e;const n=t.width,i=t.height;if(0===n||0===i)return e;0===this.sourceWidth&&(this.sourceWidth=n,this.sourceHeight=i,this.targetCanvas.width=this.sourceWidth,this.targetCanvas.height=this.sourceHeight,this.logger.info(`${this.filterType} source width: ${this.sourceWidth}`),this.logger.info(`${this.filterType} source height: ${this.sourceHeight}`),this.initOnFirstExecution()),this.sourceWidth===n&&this.sourceHeight===i||(this.sourceWidth=n,this.sourceHeight=i,this.targetCanvas.width=this.sourceWidth,this.targetCanvas.height=this.sourceHeight);try{this.frameCounter.filterSubmitted();let e=this.mask$.value;const n=this.spec.model.input.width/t.width,i=this.spec.model.input.height/t.height;void 0===this.scaledCanvas&&(this.scaledCanvas=document.createElement("canvas"),this.scaledCanvas.width=this.spec.model.input.width,this.scaledCanvas.height=this.spec.model.input.height);const r=this.scaledCanvas.getContext("2d");r.save(),r.scale(n,i),r.drawImage(t,0,0),r.restore();const a=r.getImageData(0,0,this.scaledCanvas.width,this.scaledCanvas.height);if(this.frameNumber%this.videoFramesPerFilterUpdate==0){const t=this.mask$.whenNext();this.worker.postMessage({msg:"predict",payload:a},[a.data.buffer]),e=yield t}this.destroyed||this.drawImageWithMask(t,e)}catch(t){return this.logger.error(`could not process ${this.filterType} frame buffer due to ${t}`),e}finally{this.frameCounter.filterComplete(),this.frameNumber++}return e[0]=this.canvasVideoFrameBuffer,e}))}updateVideoFramesPerFilterUpdate(e){e!==this.videoFramesPerFilterUpdate&&(this.videoFramesPerFilterUpdate=e,this.logger.info(`Adjusting filter rate to compensate for CPU utilization. Filter rate is ${this.videoFramesPerFilterUpdate} video frames per filter.`))}destroy(){var e,t,n,r;return i(this,void 0,void 0,(function*(){this.destroyed=!0,this.delegate.removeObserver(this.cpuMonitor),this.canvasVideoFrameBuffer.destroy(),null===(e=this.worker)||void 0===e||e.postMessage({msg:"destroy"}),null===(t=this.worker)||void 0===t||t.postMessage({msg:"stop"}),null===(n=this.targetCanvas)||void 0===n||n.remove(),this.targetCanvas=void 0,null===(r=this.scaledCanvas)||void 0===r||r.remove(),this.scaledCanvas=void 0,this.logger.info(`${this.filterType} frame process destroyed`)}))}}t.default=c;class d{constructor(e,t){this.monitoringPeriodMillis=e,this.observer=t,this.lastCPUChangeTimestamp=0}filterCPUUtilizationHigh(){const e=Date.now();e-this.lastCPUChangeTimestamp>=this.monitoringPeriodMillis&&(this.lastCPUChangeTimestamp=e,this.observer.reduceCPUUtilization())}frameReceived(){const e=Date.now();e-this.lastCPUChangeTimestamp>=2*this.monitoringPeriodMillis&&(this.lastCPUChangeTimestamp=e,this.observer.increaseCPUUtilization())}}t.BackgroundFilterMonitor=d},4243:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,a){function o(e){try{c(i.next(e))}catch(e){a(e)}}function s(e){try{c(i.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const r=n(5021),a=n(9424),o=n(22),s=n(543),c=n(4046),d=()=>o.default.builder().withSelfieSegmentationDefaults().build(),l="https://static.sdkassets.chime.aws",u={worker:`${l}/bgblur/workers/worker.js`,wasm:`${l}/bgblur/wasm/_cwt-wasm.wasm`,simd:`${l}/bgblur/wasm/_cwt-wasm-simd.wasm`};t.default=class{static defaultAssetSpec(){const e=c.default.sdkVersionSemVer;return{assetGroup:`sdk-${e.major}.${e.minor}`}}static createUrlWithParams(e,t){const n=new URL(e),i=Object.keys(t);for(const e of i)void 0!==t[e]&&n.searchParams.set(e,t[e]);return n.toString()}static resolveSpec(e){const{paths:t=u,model:n=d(),assetGroup:i=this.defaultAssetSpec().assetGroup,revisionID:r=this.defaultAssetSpec().revisionID}=e||{},a={assetGroup:i,revisionID:r,sdk:encodeURIComponent(c.default.sdkVersion),ua:encodeURIComponent(c.default.sdkUserAgentLowResolution)};return t.worker=this.createUrlWithParams(t.worker,a),t.wasm=this.createUrlWithParams(t.wasm,a),t.simd=this.createUrlWithParams(t.simd,a),n.path=this.createUrlWithParams(n.path,a),{paths:t,model:n,assetGroup:i,revisionID:r}}static resolveOptions(e){return e.reportingPeriodMillis||(e.reportingPeriodMillis=1e3),e.filterCPUUtilization?(e.filterCPUUtilization<0||e.filterCPUUtilization>100)&&(e.logger.warn("filterCPUUtilization must be set to a range between 0 and 100 percent. Falling back to default of 30 percent"),e.filterCPUUtilization=30):e.filterCPUUtilization=30,e}static isSupported(e,t){const{logger:n}=t;return"undefined"==typeof globalThis?(n.info("Browser does not have globalThis."),Promise.resolve(!1)):(new s.default).supportsBackgroundFilter()?a.supportsWASM(globalThis,n)?this.supportsBackgroundFilter(globalThis,e,n):(n.info("Browser does not support WASM."),Promise.resolve(!1)):(n.info("Browser is not supported."),Promise.resolve(!1))}static supportsBackgroundFilter(e=globalThis,t,n){return i(this,void 0,void 0,(function*(){if(!a.supportsWorker(e,n))return n.info("Browser does not support web workers."),!1;const i=t.paths.worker;try{const e=yield r.loadWorker(i,"BackgroundFilterWorker",{},null);try{e.terminate()}catch(e){n.info(`Failed to terminate worker. ${e.message}`)}return!0}catch(e){return n.info(`Failed to fetch and instantiate test worker ${e.message}`),!1}}))}}},4627:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{constructor(){this.observers=new Set}addObserver(e){this.observers.add(e)}removeObserver(e){this.observers.delete(e)}filterFrameDurationHigh(e){var t;for(const n of this.observers)null===(t=n.filterFrameDurationHigh)||void 0===t||t.call(n,e)}filterCPUUtilizationHigh(e){var t;for(const n of this.observers)null===(t=n.filterCPUUtilizationHigh)||void 0===t||t.call(n,e)}}},9392:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,a){function o(e){try{c(i.next(e))}catch(e){a(e)}}function s(e){try{c(i.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const r=n(1851),a=n(1447);class o extends r.default{constructor(e,t){super("background replacement",e,t,new a.default),this.replacementBlob=t.imageBlob,this.logger.info("BackgroundReplacement processor successfully created"),this.logger.info(`BackgroundReplacement spec: ${this.stringify(this.spec)}`),this.logger.info(`BackgroundReplacement options: ${this.stringify(t)}`)}setImageBlob(e){return i(this,void 0,void 0,(function*(){this.replacementBlob=e,this.replacementImage=yield o.loadImage(this.createReplacementObjectUrl())}))}initOnFirstExecution(){}drawImageWithMask(e,t){t||(t=new ImageData(this.spec.model.input.width,this.spec.model.input.height)),this.scaledCanvas.getContext("2d").putImageData(t,0,0);const{canvasCtx:n,targetCanvas:i}=this,{width:r,height:a}=i;n.save(),n.clearRect(0,0,r,a),n.drawImage(this.scaledCanvas,0,0,r,a),n.globalCompositeOperation="source-in",n.drawImage(e,0,0,r,a),n.globalCompositeOperation="destination-over",n.drawImage(this.replacementImage,0,0,i.width,i.height),n.restore()}static loadImageExecutor(e,t,n){const i=new Image;i.crossOrigin="Anonymous",i.addEventListener("load",(()=>{e(i)}),!1),i.addEventListener("error",(e=>{t(new Error(`Could not load replacement image ${i.src}: ${e.message}`))}),!1),i.src=n}static loadImage(e){return i(this,void 0,void 0,(function*(){return new Promise(((t,n)=>this.loadImageExecutor(t,n,e)))}))}revokeReplacementObjectUrl(){this.replacementObjectUrl&&URL.revokeObjectURL(this.replacementObjectUrl)}createReplacementObjectUrl(){return this.revokeReplacementObjectUrl(),this.replacementObjectUrl=URL.createObjectURL(this.replacementBlob),this.replacementObjectUrl}loadAssets(){const e=Object.create(null,{loadAssets:{get:()=>super.loadAssets}});return i(this,void 0,void 0,(function*(){this.replacementImage=yield o.loadImage(this.createReplacementObjectUrl()),e.loadAssets.call(this)}))}addObserver(e){this.delegate.addObserver(e)}removeObserver(e){this.delegate.removeObserver(e)}destroy(){const e=Object.create(null,{destroy:{get:()=>super.destroy}});return i(this,void 0,void 0,(function*(){e.destroy.call(this),this.revokeReplacementObjectUrl()}))}setEventController(e){this.eventController?this.eventController=e:(this.eventController=e,this.publishBackgroundFilterEvent())}publishBackgroundFilterEvent(){this.eventController.publishEvent("backgroundFilterConfigSelected",{backgroundBlurEnabled:"false",backgroundBlurStrength:"low",backgroundReplacementEnabled:"true",backgroundFilterVersion:1})}}t.default=o},9854:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,a){function o(e){try{c(i.next(e))}catch(e){a(e)}}function s(e){try{c(i.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const r=n(4243),a=n(8030),o=n(813),s=n(2801),c=n(9392);class d extends s.default{loadAssets(){return i(this,void 0,void 0,(function*(){}))}addObserver(){}removeObserver(){}setImageBlob(){return i(this,void 0,void 0,(function*(){}))}}class l extends r.default{static create(e,t){return i(this,void 0,void 0,(function*(){e=this.resolveSpec(e),t=this.resolveOptions(t),yield this.resolveOptionsAsync(t);const{logger:n}=t;if(!(yield l.isSupported(e,t)))return n.warn("Using no-op processor because background replacement is not supported"),new d;n.info("Using background replacement filter");const i=new c.default(e,t);return yield i.loadAssets(),i}))}static resolveOptions(e={}){const t=Object.assign({},e);return t.logger||(t.logger=new a.default("BackgroundReplacementProcessor",o.default.INFO)),super.resolveOptions(t)}static resolveOptionsAsync(e){return i(this,void 0,void 0,(function*(){if(!e.imageBlob){const t=document.createElement("canvas");t.width=100,t.height=100;const n=t.getContext("2d");n.fillStyle="blue",n.fillRect(0,0,100,100);const i=yield new Promise((e=>{t.toBlob(e)}));e.imageBlob=i}}))}static isSupported(e,t){const n=Object.create(null,{isSupported:{get:()=>super.isSupported}});return i(this,void 0,void 0,(function*(){e=this.resolveSpec(e),t=this.resolveOptions(t),yield this.resolveOptionsAsync(t);const i=t.imageBlob,r=URL.createObjectURL(i);try{yield c.default.loadImage(r)}catch(e){return t.logger.info(`Failed to fetch load replacement image ${e.message}`),!1}finally{URL.revokeObjectURL(r)}return n.isSupported.call(this,e,t)}))}}t.default=l},1447:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4627);class r extends i.default{}t.default=r},8434:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{constructor(e,t,n){this.fixedWaitMs=e,this.shortBackoffMs=t,this.longBackoffMs=n,this.currentRetry=0,this.fixedWaitMs<0&&(this.fixedWaitMs=0),this.shortBackoffMs<0&&(this.shortBackoffMs=0),this.longBackoffMs<0&&(this.longBackoffMs=0),this.reset()}reset(){this.currentRetry=0}nextBackoffAmountMs(){const e=Math.random()*Math.min(this.longBackoffMs,this.shortBackoffMs*Math.pow(2,this.currentRetry))+this.fixedWaitMs;return this.currentRetry+=1,e}}},5640:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(8434),r=n(7300);t.default=class{constructor(e,t,n){this.fixedWaitMs=e,this.shortBackoffMs=t,this.longBackoffMs=n}create(){return new i.default(this.fixedWaitMs,this.shortBackoffMs,this.longBackoffMs)}createWithLimit(e){return new r.default(this.fixedWaitMs,this.shortBackoffMs,this.longBackoffMs,e)}}},7300:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(8434);class r extends i.default{constructor(e,t,n,i){super(e,t,n),this.limit=i,this.attempts=0}nextBackoffAmountMs(){if(this.attempts++,this.attempts>this.limit)throw new Error("retry limit exceeded");return super.nextBackoffAmountMs()}}t.default=r},543:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,a){function o(e){try{c(i.next(e))}catch(e){a(e)}}function s(e){try{c(i.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const r=n(3631),a=n(2238);class o{constructor(){this.FALLBACK_BROWSER={type:"browser",name:"unknown",version:"unknown",os:"unknown"},this.browser=r.detect()||this.FALLBACK_BROWSER,this.uaParserResult=navigator&&navigator.userAgent?new a.UAParser(navigator.userAgent).getResult():null,this.browserSupport={chrome:78,"edge-chromium":79,electron:7,firefox:75,ios:13,safari:13,opera:66,samsung:12,crios:86,fxios:23,"ios-webview":605,"chromium-webview":92},this.browserName={chrome:"Google Chrome","edge-chromium":"Microsoft Edge",electron:"Electron",firefox:"Mozilla Firefox",ios:"Safari iOS",safari:"Safari",opera:"Opera",samsung:"Samsung Internet",crios:"Chrome iOS",fxios:"Firefox iOS","ios-webview":"WKWebView iOS","chromium-webview":"Chrome WebView"},this.chromeLike=["chrome","edge-chromium","chromium-webview","opera","samsung"],this.webkitBrowsers=["crios","fxios","safari","ios","ios-webview","edge-ios"]}version(){return this.browser.version}majorVersion(){return parseInt(this.version().split(".")[0])}osMajorVersion(){return parseInt(this.uaParserResult.os.version.split(".")[0])}name(){return this.browser.name}hasChromiumWebRTC(){for(const e of this.chromeLike)if(e===this.browser.name)return!0;return!1}hasWebKitWebRTC(){for(const e of this.webkitBrowsers)if(e===this.browser.name)return!0;return!1}hasFirefoxWebRTC(){return this.isFirefox()}requiresPlaybackLatencyHintForAudioContext(){return-1!==navigator.userAgent.indexOf("Windows")}supportsCanvasCapturedStreamPlayback(){return!this.isIOSSafari()&&!this.isIOSChrome()&&!this.isIOSFirefox()&&!this.isIOSEdge()||this.isIOSSafari()&&this.majorVersion()>=o.MIN_IOS_SUPPORT_CANVAS_STREAM_PLAYBACK||this.majorVersion()>=o.MIN_IOS_NON_SAFARI_SUPPORT_CANVAS_STREAM_PLAYBACK}supportsBackgroundFilter(){return("safari"!==this.name()||15!==this.majorVersion())&&!!this.supportsCanvasCapturedStreamPlayback()}supportsVideoLayersAllocationRtpHeaderExtension(){return this.hasChromiumWebRTC()}requiresResolutionAlignment(e,t){return this.isAndroid()&&this.isPixel3()?[64*Math.ceil(e/64),64*Math.ceil(t/64)]:[e,t]}requiresCheckForSdpConnectionAttributes(){return!this.isIOSSafari()&&!this.isIOSChrome()&&!this.isIOSFirefox()}requiresIceCandidateGatheringTimeoutWorkaround(){return this.hasChromiumWebRTC()}requiresBundlePolicy(){return"max-bundle"}requiresNoExactMediaStreamConstraints(){return this.isSamsungInternet()}requiresGroupIdMediaStreamConstraints(){return this.isSamsungInternet()}getDisplayMediaAudioCaptureSupport(){return this.isChrome()||this.isEdge()}doesNotSupportMediaDeviceLabels(){return"chromium-webview"===this.browser.name}isSupported(){return!(!this.browserSupport[this.browser.name]||this.majorVersion()<this.browserSupport[this.browser.name]||"firefox"===this.browser.name&&this.isAndroid())}isSimulcastSupported(){return this.hasChromiumWebRTC()}supportDownlinkBandwidthEstimation(){return!this.isFirefox()}supportString(){if(this.isAndroid())return`${this.browserName.chrome} ${this.browserSupport.chrome}+, ${this.browserName.samsung} ${this.browserSupport.samsung}+`;const e=[];for(const t in this.browserSupport)e.push(`${this.browserName[t]} ${this.browserSupport[t]}+`);return e.join(", ")}supportedVideoCodecs(){return i(this,void 0,void 0,(function*(){const e=new RTCPeerConnection;return e.addTransceiver("video",{direction:"inactive",streams:[]}),(yield e.createOffer({offerToReceiveVideo:!0})).sdp.split("\r\n").filter((e=>e.includes("a=rtpmap:"))).map((e=>e.replace(/.* /,"").replace(/\/.*/,""))).filter(((e,t,n)=>n.indexOf(e)===t)).filter((e=>"rtx"!==e&&"red"!==e&&"ulpfec"!==e))}))}supportsSetSinkId(){return"setSinkId"in HTMLAudioElement.prototype}disableResolutionScaleDown(){return this.isAndroid()}disable480pResolutionScaleDown(){return/( Chrome\/98\.)/i.test(navigator.userAgent)&&this.browser.os.startsWith("Windows")}requiresDisablingH264Encoding(){return(this.isIOSSafari()||this.isIOSChrome()||this.isIOSFirefox())&&("15.1.0"===this.version()||/( OS 15_1)/i.test(navigator.userAgent))}requiresVideoPlayWorkaround(){return this.isSafari()}isVideoFxSupportedBrowser(){return this.supportsBackgroundFilter()}isIOSSafari(){return"ios"===this.browser.name||"ios-webview"===this.browser.name||"safari"===this.browser.name&&/( Mac )/i.test(navigator.userAgent)&&navigator.maxTouchPoints>1}isSafari(){return"safari"===this.browser.name||this.isIOSSafari()}isFirefox(){return"firefox"===this.browser.name}isIOSFirefox(){return"fxios"===this.browser.name}isIOSChrome(){return"crios"===this.browser.name}isChrome(){return"chrome"===this.browser.name}isEdge(){return"edge-chromium"===this.browser.name}isIOSEdge(){return"edge-ios"===this.browser.name}isSamsungInternet(){return"samsung"===this.browser.name}isAndroid(){return/(android)/i.test(navigator.userAgent)}isPixel3(){return/( pixel 3)/i.test(navigator.userAgent)}}t.default=o,o.MIN_IOS_SUPPORT_CANVAS_STREAM_PLAYBACK=16,o.MIN_IOS_NON_SAFARI_SUPPORT_CANVAS_STREAM_PLAYBACK=106},4571:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(289),r=n(6196),a=n(9496),o=n(2306);class s{constructor(e,t,n){this.logger=e,this.videoStreamIndex=t,this.selfAttendeeId=n,this.globalMetricReport=new o.default,this.streamMetricReports={},this.rtcStatsReport={},this.currentTimestampMs=0,this.previousTimestampMs=0,this.currentSsrcs={},this.identityValue=(e,t)=>{const n=t?this.streamMetricReports[t]:this.globalMetricReport;return Number(n.currentMetrics[e])},this.decoderLossPercent=(e,t)=>{const n=this.streamMetricReports[t],i=n.currentMetrics.concealedSamples-(n.previousMetrics.concealedSamples||0),r=n.currentMetrics.totalSamplesReceived-(n.previousMetrics.totalSamplesReceived||0);return r<=0||r-i<=0?0:i/r*100},this.packetLossPercent=(e,t)=>{const n=this.streamMetricReports[t],i=n.currentMetrics[e]-(n.previousMetrics[e]||0),r=n.currentMetrics.packetsLost-(n.previousMetrics.packetsLost||0),a=i+r;return a<=0||r<=0?0:100*r/a},this.jitterBufferMs=(e,t)=>{const n=this.streamMetricReports[t],i=n.currentMetrics.jitterBufferDelay-(n.previousMetrics.jitterBufferDelay||0),r=n.currentMetrics.jitterBufferEmittedCount-(n.previousMetrics.jitterBufferEmittedCount||0);return i<=0||r<=0?0:i/r*1e3},this.countPerSecond=(e,t)=>{const n=t?this.streamMetricReports[t]:this.globalMetricReport;let i=(this.currentTimestampMs-this.previousTimestampMs)/1e3;if(i<=0)return 0;this.previousTimestampMs<=0&&(i=1);const r=n.currentMetrics[e]-(n.previousMetrics[e]||0);return r<=0?0:Math.trunc(r/i)},this.bitsPerSecond=(e,t)=>{const n=t?this.streamMetricReports[t]:this.globalMetricReport;let i=(this.currentTimestampMs-this.previousTimestampMs)/1e3;if(i<=0)return 0;this.previousTimestampMs<=0&&(i=1);const r=8*(n.currentMetrics[e]-(n.previousMetrics[e]||0));return r<=0?0:Math.trunc(r/i)},this.secondsToMilliseconds=(e,t)=>{const n=t?this.streamMetricReports[t]:this.globalMetricReport;return Number(1e3*n.currentMetrics[e])},this.averageTimeSpentPerSecondInMilliseconds=(e,t)=>{const n=t?this.streamMetricReports[t]:this.globalMetricReport;let i=(this.currentTimestampMs-this.previousTimestampMs)/1e3;if(i<=0)return 0;this.previousTimestampMs<=0&&(i=1);const r=n.currentMetrics[e]-(n.previousMetrics[e]||0);return r<=0?0:1e3*r/i},this.isHardwareImplementation=(e,t)=>{const n=this.streamMetricReports[t],i=String(n.currentStringMetrics[e]),r=i.includes("ExternalDecoder")||i.includes("ExternalEncoder")||i.includes("EncodeAccelerator")||i.includes("DecodeAccelerator"),a=i.includes("fallback from");return r&&!a?1:0},this.globalMetricMap={retransmittedBytesSent:{transform:this.identityValue,type:i.SdkMetric.Type.VIDEO_RETRANSMIT_BITRATE},totalEncodedBytesTarget:{transform:this.identityValue,type:i.SdkMetric.Type.VIDEO_TARGET_ENCODER_BITRATE},totalPacketSendDelay:{transform:this.identityValue,type:i.SdkMetric.Type.VIDEO_BUCKET_DELAY_MS},packetsDiscardedOnSend:{transform:this.countPerSecond,type:i.SdkMetric.Type.SOCKET_DISCARDED_PPS},availableIncomingBitrate:{transform:this.identityValue,type:i.SdkMetric.Type.VIDEO_AVAILABLE_RECEIVE_BANDWIDTH},availableOutgoingBitrate:{transform:this.identityValue,type:i.SdkMetric.Type.VIDEO_AVAILABLE_SEND_BANDWIDTH},currentRoundTripTime:{transform:this.secondsToMilliseconds,type:i.SdkMetric.Type.STUN_RTT_MS}},this.audioUpstreamMetricMap={jitter:{transform:this.secondsToMilliseconds,type:i.SdkMetric.Type.RTC_MIC_JITTER_MS},packetsSent:{transform:this.countPerSecond,type:i.SdkMetric.Type.RTC_MIC_PPS},bytesSent:{transform:this.bitsPerSecond,type:i.SdkMetric.Type.RTC_MIC_BITRATE},roundTripTime:{transform:this.secondsToMilliseconds,type:i.SdkMetric.Type.RTC_MIC_RTT_MS},packetsLost:{transform:this.packetLossPercent,type:i.SdkMetric.Type.RTC_MIC_FRACTION_PACKET_LOST_PERCENT,source:"packetsSent"}},this.audioDownstreamMetricMap={concealedSamples:{transform:this.countPerSecond},totalSamplesReceived:{transform:this.countPerSecond},decoderLoss:{transform:this.decoderLossPercent,type:i.SdkMetric.Type.RTC_SPK_FRACTION_DECODER_LOSS_PERCENT},packetsReceived:{transform:this.countPerSecond,type:i.SdkMetric.Type.RTC_SPK_PPS},packetsLost:{transform:this.packetLossPercent,type:i.SdkMetric.Type.RTC_SPK_FRACTION_PACKET_LOST_PERCENT,source:"packetsReceived"},jitter:{transform:this.secondsToMilliseconds,type:i.SdkMetric.Type.RTC_SPK_JITTER_MS},jitterBufferDelay:{transform:this.countPerSecond},jitterBufferEmittedCount:{transform:this.countPerSecond},jitterBufferMs:{transform:this.jitterBufferMs,type:i.SdkMetric.Type.RTC_SPK_JITTER_BUFFER_MS},bytesReceived:{transform:this.bitsPerSecond,type:i.SdkMetric.Type.RTC_SPK_BITRATE}},this.videoUpstreamMetricMap={roundTripTime:{transform:this.secondsToMilliseconds,type:i.SdkMetric.Type.VIDEO_SENT_RTT_MS},nackCount:{transform:this.countPerSecond,type:i.SdkMetric.Type.VIDEO_NACKS_RECEIVED},pliCount:{transform:this.countPerSecond,type:i.SdkMetric.Type.VIDEO_PLIS_RECEIVED},firCount:{transform:this.countPerSecond,type:i.SdkMetric.Type.VIDEO_FIRS_RECEIVED},framesPerSecond:{transform:this.identityValue,type:i.SdkMetric.Type.VIDEO_INPUT_FPS},framesEncoded:{transform:this.countPerSecond,type:i.SdkMetric.Type.VIDEO_ENCODE_FPS},packetsSent:{transform:this.countPerSecond,type:i.SdkMetric.Type.VIDEO_SENT_PPS},packetsLost:{transform:this.packetLossPercent,type:i.SdkMetric.Type.VIDEO_SENT_FRACTION_PACKET_LOST_PERCENT,source:"packetsSent"},bytesSent:{transform:this.bitsPerSecond,type:i.SdkMetric.Type.VIDEO_SENT_BITRATE},qpSum:{transform:this.countPerSecond,type:i.SdkMetric.Type.VIDEO_SENT_QP_SUM},frameHeight:{transform:this.identityValue,type:i.SdkMetric.Type.VIDEO_ENCODE_HEIGHT},frameWidth:{transform:this.identityValue,type:i.SdkMetric.Type.VIDEO_ENCODE_WIDTH},jitter:{transform:this.secondsToMilliseconds},totalEncodeTime:{transform:this.averageTimeSpentPerSecondInMilliseconds,type:i.SdkMetric.Type.VIDEO_ENCODE_MS},encoderImplementation:{transform:this.isHardwareImplementation,type:i.SdkMetric.Type.VIDEO_ENCODER_IS_HARDWARE}},this.videoDownstreamMetricMap={packetsReceived:{transform:this.countPerSecond,type:i.SdkMetric.Type.VIDEO_RECEIVED_PPS},packetsLost:{transform:this.packetLossPercent,type:i.SdkMetric.Type.VIDEO_RECEIVED_FRACTION_PACKET_LOST_PERCENT,source:"packetsReceived"},framesReceived:{transform:this.identityValue,type:i.SdkMetric.Type.VIDEO_RECEIVED_FPS},framesDecoded:{transform:this.countPerSecond,type:i.SdkMetric.Type.VIDEO_DECODE_FPS},nackCount:{transform:this.countPerSecond,type:i.SdkMetric.Type.VIDEO_NACKS_SENT},firCount:{transform:this.countPerSecond,type:i.SdkMetric.Type.VIDEO_FIRS_SENT},pliCount:{transform:this.countPerSecond,type:i.SdkMetric.Type.VIDEO_PLIS_SENT},bytesReceived:{transform:this.bitsPerSecond,type:i.SdkMetric.Type.VIDEO_RECEIVED_BITRATE},jitter:{transform:this.secondsToMilliseconds,type:i.SdkMetric.Type.VIDEO_RECEIVED_JITTER_MS},jitterBufferDelay:{transform:this.countPerSecond},jitterBufferEmittedCount:{transform:this.countPerSecond},jitterBufferMs:{transform:this.jitterBufferMs,type:i.SdkMetric.Type.VIDEO_JITTER_BUFFER_MS},qpSum:{transform:this.countPerSecond,type:i.SdkMetric.Type.VIDEO_RECEIVED_QP_SUM},frameHeight:{transform:this.identityValue,type:i.SdkMetric.Type.VIDEO_DECODE_HEIGHT},frameWidth:{transform:this.identityValue,type:i.SdkMetric.Type.VIDEO_DECODE_WIDTH},totalDecodeTime:{transform:this.averageTimeSpentPerSecondInMilliseconds,type:i.SdkMetric.Type.VIDEO_DECODE_MS},decoderImplementation:{transform:this.isHardwareImplementation,type:i.SdkMetric.Type.VIDEO_DECODER_IS_HARDWARE}},this.streamDimensionMap={encoderImplementation:i.SdkStreamDimension.Type.VIDEO_ENCODER_NAME,decoderImplementation:i.SdkStreamDimension.Type.VIDEO_DECODER_NAME},this.observableVideoMetricSpec={videoUpstreamBitrate:{source:"bytesSent",media:a.default.VIDEO,dir:r.default.UPSTREAM},videoUpstreamPacketsSent:{source:"packetsSent",media:a.default.VIDEO,dir:r.default.UPSTREAM},videoUpstreamPacketLossPercent:{source:"packetsLost",media:a.default.VIDEO,dir:r.default.UPSTREAM},videoUpstreamFramesEncodedPerSecond:{source:"framesEncoded",media:a.default.VIDEO,dir:r.default.UPSTREAM},videoUpstreamFrameHeight:{source:"frameHeight",media:a.default.VIDEO,dir:r.default.UPSTREAM},videoUpstreamFrameWidth:{source:"frameWidth",media:a.default.VIDEO,dir:r.default.UPSTREAM},videoUpstreamJitterMs:{source:"jitter",media:a.default.VIDEO,dir:r.default.UPSTREAM},videoUpstreamRoundTripTimeMs:{source:"roundTripTime",media:a.default.VIDEO,dir:r.default.UPSTREAM},videoDownstreamBitrate:{source:"bytesReceived",media:a.default.VIDEO,dir:r.default.DOWNSTREAM},videoDownstreamPacketLossPercent:{source:"packetsLost",media:a.default.VIDEO,dir:r.default.DOWNSTREAM},videoDownstreamPacketsReceived:{source:"packetsReceived",media:a.default.VIDEO,dir:r.default.DOWNSTREAM},videoDownstreamFramesDecodedPerSecond:{source:"framesDecoded",media:a.default.VIDEO,dir:r.default.DOWNSTREAM},videoDownstreamFrameHeight:{source:"frameHeight",media:a.default.VIDEO,dir:r.default.DOWNSTREAM},videoDownstreamFrameWidth:{source:"frameWidth",media:a.default.VIDEO,dir:r.default.DOWNSTREAM},videoDownstreamJitterMs:{source:"jitter",media:a.default.VIDEO,dir:r.default.DOWNSTREAM},videoDownstreamDelayMs:{source:"jitterBufferMs",media:a.default.VIDEO,dir:r.default.DOWNSTREAM}},this.observableMetricSpec={audioPacketsReceived:{source:"packetsReceived",media:a.default.AUDIO,dir:r.default.DOWNSTREAM},audioPacketsReceivedFractionLoss:{source:"packetsLost",media:a.default.AUDIO,dir:r.default.DOWNSTREAM},audioDecoderLoss:{source:"decoderLoss",media:a.default.AUDIO,dir:r.default.DOWNSTREAM},audioPacketsSent:{source:"packetsSent",media:a.default.AUDIO,dir:r.default.UPSTREAM},audioPacketLossPercent:{source:"packetsLost",media:a.default.AUDIO,dir:r.default.UPSTREAM},audioUpstreamRoundTripTimeMs:{source:"roundTripTime",media:a.default.AUDIO,dir:r.default.UPSTREAM},videoUpstreamBitrate:{source:"bytesSent",media:a.default.VIDEO,dir:r.default.UPSTREAM},videoPacketSentPerSecond:{source:"packetsSent",media:a.default.VIDEO,dir:r.default.UPSTREAM},audioSpeakerDelayMs:{source:"jitterBufferMs",media:a.default.AUDIO,dir:r.default.DOWNSTREAM},audioUpstreamJitterMs:{source:"jitter",media:a.default.AUDIO,dir:r.default.UPSTREAM},audioDownstreamJitterMs:{source:"jitter",media:a.default.AUDIO,dir:r.default.DOWNSTREAM},nackCountReceivedPerSecond:{source:"nackCount",media:a.default.VIDEO,dir:r.default.UPSTREAM},availableOutgoingBitrate:{source:"availableOutgoingBitrate"},availableIncomingBitrate:{source:"availableIncomingBitrate"},currentRoundTripTimeMs:{source:"currentRoundTripTime"}}}getMetricMap(e,t){switch(e){case a.default.AUDIO:switch(t){case r.default.UPSTREAM:return this.audioUpstreamMetricMap;case r.default.DOWNSTREAM:return this.audioDownstreamMetricMap}case a.default.VIDEO:switch(t){case r.default.UPSTREAM:return this.videoUpstreamMetricMap;case r.default.DOWNSTREAM:return this.videoDownstreamMetricMap}default:return this.globalMetricMap}}getStreamDimensionMap(){return this.streamDimensionMap}getObservableMetricValue(e){const t=this.observableMetricSpec[e],n=this.getMetricMap(t.media,t.dir)[t.source],{transform:i,source:r}=n;if(!t.hasOwnProperty("media"))return i(r||t.source);for(const e in this.streamMetricReports){const n=this.streamMetricReports[e];if(n.direction===t.dir&&n.mediaType===t.media)return i(r||t.source,Number(e))}return 0}getObservableVideoMetricValue(e,t){const n=this.observableVideoMetricSpec[e],i=this.getMetricMap(n.media,n.dir)[n.source],{transform:r,source:a}=i;return r(a||n.source,t)}getObservableMetrics(){const e={};for(const t in this.observableMetricSpec)e[t]=this.getObservableMetricValue(t);return e}getObservableVideoMetrics(){const e={};if(!this.videoStreamIndex||!this.selfAttendeeId)return this.logger.error("Need to define VideoStreamIndex and selfAttendeeId if using getObservableVideoMetrics API"),e;for(const t in this.streamMetricReports)if(this.streamMetricReports[t].mediaType===a.default.VIDEO){const n={};for(const e in this.observableVideoMetricSpec)if(this.observableVideoMetricSpec[e].dir===this.streamMetricReports[t].direction){const i=this.getObservableVideoMetricValue(e,Number(t));isNaN(i)||(n[e]=i)}const i=this.streamMetricReports[t].streamId,r=i?this.videoStreamIndex.attendeeIdForStreamId(i):this.selfAttendeeId;e[r]=e[r]?e[r]:{},e[r][t]=n}return e}getRTCStatsReport(){return this.rtcStatsReport}clone(){const e=new s(this.logger,this.videoStreamIndex,this.selfAttendeeId);return e.globalMetricReport=this.globalMetricReport,e.streamMetricReports=this.streamMetricReports,e.rtcStatsReport=this.rtcStatsReport,e.currentTimestampMs=this.currentTimestampMs,e.previousTimestampMs=this.previousTimestampMs,e}print(){const e={globalMetricReport:this.globalMetricReport,streamMetricReports:this.streamMetricReports,currentTimestampMs:this.currentTimestampMs,previousTimestampMs:this.previousTimestampMs};this.logger.debug((()=>`Client Metric Report: ${JSON.stringify(e)}`))}removeDestroyedSsrcs(){for(const e in this.streamMetricReports)this.currentSsrcs[e]||delete this.streamMetricReports[e]}}t.default=s},6196:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.ClientMetricReportDirection=void 0,function(e){e[e.UPSTREAM=0]="UPSTREAM",e[e.DOWNSTREAM=1]="DOWNSTREAM"}(n=t.ClientMetricReportDirection||(t.ClientMetricReportDirection={})),t.default=n},9496:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.ClientMetricReportMediaType=void 0,function(e){e[e.AUDIO=0]="AUDIO",e[e.VIDEO=1]="VIDEO"}(n=t.ClientMetricReportMediaType||(t.ClientMetricReportMediaType={})),t.default=n},2770:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{}},2306:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{constructor(){this.previousMetrics={},this.currentMetrics={},this.currentStringMetrics={}}}},2811:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{constructor(){this.previousMetrics={},this.currentMetrics={},this.currentStringMetrics={}}}},3940:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{constructor(e,t,n){this.minHealth=e.minHealth,this.maxHealth=e.maxHealth,this.currentHealth=e.initialHealth,this.currentData=t.clone(),this.name=n}minimumHealth(){return this.minHealth}maximumHealth(){return this.maxHealth}health(){return this.maximumHealth()}update(e){this.currentData=e}getConnectionHealthData(){return this.currentData.clone()}healthy(){return this.health()>this.minimumHealth()}healthIfChanged(){const e=this.health();return e!==this.currentHealth?(this.currentHealth=e,e):null}}},6688:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});class n{constructor(){this.connectionStartTimestampMs=0,this.consecutiveStatsWithNoPackets=0,this.consecutiveStatsWithNoAudioPacketsSent=0,this.lastPacketLossInboundTimestampMs=0,this.lastGoodSignalTimestampMs=0,this.lastWeakSignalTimestampMs=0,this.lastNoSignalTimestampMs=0,this.consecutiveMissedPongs=0,this.packetsReceivedInLastMinute=[],this.fractionPacketsLostInboundInLastMinute=[],this.audioSpeakerDelayMs=0,this.connectionStartTimestampMs=Date.now(),this.lastGoodSignalTimestampMs=Date.now()}static isTimestampRecent(e,t){return Date.now()<e+t}setConnectionStartTime(){this.connectionStartTimestampMs=Date.now(),this.lastGoodSignalTimestampMs=Date.now()}reset(){this.connectionStartTimestampMs=0,this.consecutiveStatsWithNoPackets=0,this.consecutiveStatsWithNoAudioPacketsSent=0,this.lastPacketLossInboundTimestampMs=0,this.lastGoodSignalTimestampMs=0,this.lastWeakSignalTimestampMs=0,this.lastNoSignalTimestampMs=0,this.consecutiveMissedPongs=0,this.packetsReceivedInLastMinute=[],this.fractionPacketsLostInboundInLastMinute=[],this.audioSpeakerDelayMs=0,this.connectionStartTimestampMs=Date.now(),this.lastGoodSignalTimestampMs=Date.now()}isConnectionStartRecent(e){return n.isTimestampRecent(this.connectionStartTimestampMs,e)}isLastPacketLossRecent(e){return n.isTimestampRecent(this.lastPacketLossInboundTimestampMs,e)}isGoodSignalRecent(e){return n.isTimestampRecent(this.lastGoodSignalTimestampMs,e)}isWeakSignalRecent(e){return n.isTimestampRecent(this.lastWeakSignalTimestampMs,e)}isNoSignalRecent(e){return n.isTimestampRecent(this.lastNoSignalTimestampMs,e)}clone(){const e=new n;return e.connectionStartTimestampMs=this.connectionStartTimestampMs,e.consecutiveStatsWithNoPackets=this.consecutiveStatsWithNoPackets,e.consecutiveStatsWithNoAudioPacketsSent=this.consecutiveStatsWithNoAudioPacketsSent,e.lastPacketLossInboundTimestampMs=this.lastPacketLossInboundTimestampMs,e.lastGoodSignalTimestampMs=this.lastGoodSignalTimestampMs,e.lastWeakSignalTimestampMs=this.lastWeakSignalTimestampMs,e.lastNoSignalTimestampMs=this.lastNoSignalTimestampMs,e.consecutiveMissedPongs=this.consecutiveMissedPongs,e.packetsReceivedInLastMinute=this.packetsReceivedInLastMinute.slice(0),e.fractionPacketsLostInboundInLastMinute=this.fractionPacketsLostInboundInLastMinute.slice(0),e.audioSpeakerDelayMs=this.audioSpeakerDelayMs,e}setConsecutiveMissedPongs(e){this.consecutiveMissedPongs=e}setConsecutiveStatsWithNoPackets(e){this.consecutiveStatsWithNoPackets=e}setConsecutiveStatsWithNoAudioPacketsSent(e){this.consecutiveStatsWithNoAudioPacketsSent=e}setLastPacketLossInboundTimestampMs(e){this.lastPacketLossInboundTimestampMs=e}setLastNoSignalTimestampMs(e){this.lastNoSignalTimestampMs=e}setLastWeakSignalTimestampMs(e){this.lastWeakSignalTimestampMs=e}setLastGoodSignalTimestampMs(e){this.lastGoodSignalTimestampMs=e}setAudioSpeakerDelayMs(e){this.audioSpeakerDelayMs=e}}t.default=n},3731:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{constructor(){this.minHealth=0,this.maxHealth=1,this.initialHealth=1,this.connectionUnhealthyThreshold=25,this.noSignalThresholdTimeMs=1e4,this.connectionWaitTimeMs=1e4,this.zeroBarsNoSignalTimeMs=5e3,this.oneBarWeakSignalTimeMs=5e3,this.twoBarsTimeMs=5e3,this.threeBarsTimeMs=1e4,this.fourBarsTimeMs=2e4,this.fiveBarsTimeMs=6e4,this.cooldownTimeMs=6e4,this.pastSamplesToConsider=15,this.goodSignalTimeMs=15e3,this.fractionalLoss=.5,this.packetsExpected=50,this.maximumTimesToWarn=2,this.missedPongsLowerThreshold=1,this.missedPongsUpperThreshold=4,this.maximumAudioDelayMs=6e4,this.maximumAudioDelayDataPoints=10,this.sendingAudioFailureSamplesToConsider=2,this.sendingAudioFailureInitialWaitTimeMs=3e3}}},9708:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(3940);class r extends i.default{constructor(e,t,n){super(t,n,"Reconnection Health"),this.logger=e,this.audioDelayPointsOverMaximum=0,r.CONNECTION_UNHEALTHY_THRESHOLD=t.connectionUnhealthyThreshold,r.CONNECTION_WAIT_TIME_MS=t.connectionWaitTimeMs,r.MISSED_PONGS_THRESHOLD=t.missedPongsUpperThreshold,r.MAXIMUM_AUDIO_DELAY_MS=t.maximumAudioDelayMs,r.MAXIMUM_AUDIO_DELAY_DATA_POINTS=t.maximumAudioDelayDataPoints}health(){if(this.currentData.isConnectionStartRecent(r.CONNECTION_WAIT_TIME_MS))return 1;const e=this.currentData.consecutiveStatsWithNoPackets>=r.CONNECTION_UNHEALTHY_THRESHOLD,t=this.currentData.consecutiveMissedPongs>=r.MISSED_PONGS_THRESHOLD;this.currentData.audioSpeakerDelayMs>r.MAXIMUM_AUDIO_DELAY_MS?this.audioDelayPointsOverMaximum+=1:this.audioDelayPointsOverMaximum=0;const n=this.audioDelayPointsOverMaximum>r.MAXIMUM_AUDIO_DELAY_DATA_POINTS;return n&&(this.audioDelayPointsOverMaximum=0),e||t||n?(this.logger.warn(`reconnection recommended due to: no packets received: ${e}, missed pongs: ${t}, bad audio delay: ${n}`),0):1}}t.default=r},2977:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(3940);class r extends i.default{constructor(e,t,n){super(t,n,"Sending Audio Health"),this.logger=e,this.sendingAudioFailureSamplesToConsider=t.sendingAudioFailureSamplesToConsider>0?t.sendingAudioFailureSamplesToConsider:1,this.sendingAudioFailureInitialWaitTimeMs=t.sendingAudioFailureInitialWaitTimeMs,this.maximumTimesToWarn=t.maximumTimesToWarn,this.coolDownTimeMs=t.cooldownTimeMs,this.lastWarnTimestampMs=0,this.warnCount=0}isSendingAudioUnhealthy(){const e=!this.currentData.isConnectionStartRecent(this.sendingAudioFailureInitialWaitTimeMs),t=this.currentData.consecutiveStatsWithNoAudioPacketsSent>=this.sendingAudioFailureSamplesToConsider;return e&&t}health(){if(this.isSendingAudioUnhealthy()){const e=Date.now()-this.lastWarnTimestampMs<this.coolDownTimeMs;return this.currentHealth>this.minimumHealth()&&!e?(this.logger.warn(`Sending Audio is unhealthy for ${this.sendingAudioFailureSamplesToConsider} seconds consecutively.`),this.warnCount++,this.warnCount>this.maximumTimesToWarn?(this.logger.warn("SendingAudioFailure health policy maximum warnings breached. Falling back to reporting healthy."),this.maximumHealth()):(this.lastWarnTimestampMs=Date.now(),this.minimumHealth())):this.currentHealth}return this.maximumHealth()}}t.default=r},1922:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(3940);class r extends i.default{constructor(e,t){super(e,t,"Unusable Audio Warning"),this.coolDownTimeMs=e.cooldownTimeMs,this.pastSamplesToConsider=e.pastSamplesToConsider,this.fractionalLoss=e.fractionalLoss,this.packetsExpected=e.packetsExpected,this.maximumTimesToWarn=e.maximumTimesToWarn,this.lastWarnTimestampMs=0,this.warnCount=0}calculateFractionalLoss(){if(this.currentData.packetsReceivedInLastMinute.length<this.pastSamplesToConsider)return 0;const e=this.pastSamplesToConsider,t=e*this.packetsExpected;let n=0;for(let t=0;t<e;t++)n+=this.currentData.packetsReceivedInLastMinute[t];return Math.min(Math.max(1-n/t,0),1)}health(){return Date.now()-this.lastWarnTimestampMs<this.coolDownTimeMs?this.currentHealth:this.calculateFractionalLoss()>=this.fractionalLoss?0!==this.currentHealth&&(this.lastWarnTimestampMs=Date.now(),this.warnCount++,this.warnCount>this.maximumTimesToWarn)?1:0:1}}t.default=r},8581:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(8660);t.default=class{constructor(e,t,n,i,r){this.audioVideoController=e,this.realtimeController=t,this.connectionHealthData=n,this.pingPong=i,this.statsCollector=r,this.isActive=!1,this.hasSeenValidPacketMetricsBefore=!1,this.realtimeController.realtimeSubscribeToLocalSignalStrengthChange((e=>{this.isActive&&this.receiveSignalStrengthChange(e)}))}start(){this.isActive=!0,this.pingPong.addObserver(this),this.pingPong.start(),this.audioVideoController.addObserver(this)}stop(){this.isActive=!1,this.pingPong.removeObserver(this),this.pingPong.stop(),this.audioVideoController.removeObserver(this)}receiveSignalStrengthChange(e){0===e?this.connectionHealthData.setLastNoSignalTimestampMs(Date.now()):e<=.5?this.connectionHealthData.setLastWeakSignalTimestampMs(Date.now()):this.connectionHealthData.setLastGoodSignalTimestampMs(Date.now()),this.updateConnectionHealth()}didReceivePong(e,t,n){this.connectionHealthData.setConsecutiveMissedPongs(0),this.statsCollector.logLatency("ping_pong",t),this.statsCollector.logLatency("ping_pong_clock_skew",n),this.updateConnectionHealth()}didMissPongs(){this.connectionHealthData.setConsecutiveMissedPongs(this.connectionHealthData.consecutiveMissedPongs+1),this.updateConnectionHealth()}metricsDidReceive(e){let t=0,n=0;const i=e.getObservableMetrics(),r=i.audioPacketsReceived,a=i.audioPacketsReceivedFractionLoss,o=i.audioSpeakerDelayMs;"number"!=typeof o||isNaN(o)||this.connectionHealthData.setAudioSpeakerDelayMs(o),"number"==typeof r&&"number"==typeof a&&(t=r,n=a,t<0||n<0||(this.addToMinuteWindow(this.connectionHealthData.packetsReceivedInLastMinute,t),this.addToMinuteWindow(this.connectionHealthData.fractionPacketsLostInboundInLastMinute,n),t>0?(this.hasSeenValidPacketMetricsBefore=!0,this.connectionHealthData.setConsecutiveStatsWithNoPackets(0)):this.hasSeenValidPacketMetricsBefore&&this.connectionHealthData.setConsecutiveStatsWithNoPackets(this.connectionHealthData.consecutiveStatsWithNoPackets+1),(0===t||n>0)&&this.connectionHealthData.setLastPacketLossInboundTimestampMs(Date.now()),"number"==typeof i.audioPacketsSent&&this.updateAudioPacketsSentInConnectionHealth(i.audioPacketsSent),this.updateConnectionHealth()))}updateAudioPacketsSentInConnectionHealth(e){e>0?this.connectionHealthData.setConsecutiveStatsWithNoAudioPacketsSent(0):this.connectionHealthData.setConsecutiveStatsWithNoAudioPacketsSent(this.connectionHealthData.consecutiveStatsWithNoAudioPacketsSent+1)}addToMinuteWindow(e,t){e.unshift(t),e.length>60&&e.pop()}updateConnectionHealth(){this.audioVideoController.forEachObserver((e=>{i.Maybe.of(e.connectionHealthDidChange).map((t=>t.bind(e)(this.connectionHealthData.clone())))}))}}},8890:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.Modality="#content"}(n||(n={})),t.default=n},8370:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,a){function o(e){try{c(i.next(e))}catch(e){a(e)}}function s(e){try{c(i.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const r=n(543),a=n(4142);class o{constructor(e){this.logger=e}get mediaStream(){return this._mediaStream}set mediaStream(e){this._mediaStream=e}acquireAudioInputStream(){return i(this,void 0,void 0,(function*(){return 0===this._mediaStream.getAudioTracks().length?(this.logger.info("No audio stream available. Synthesizing an audio stream."),a.default.synthesizeAudioDevice(0)):this._mediaStream}))}acquireVideoInputStream(){return i(this,void 0,void 0,(function*(){return this._mediaStream}))}acquireDisplayInputStream(e){return i(this,void 0,void 0,(function*(){return e&&e.video&&e.video.mandatory&&e.video.mandatory.chromeMediaSource&&e.video.mandatory.chromeMediaSourceId?navigator.mediaDevices.getUserMedia(e):navigator.mediaDevices.getDisplayMedia(e)}))}acquireScreenCaptureDisplayInputStream(e,t){return i(this,void 0,void 0,(function*(){return this.acquireDisplayInputStream(this.screenCaptureDisplayMediaConstraints(e,t))}))}screenCaptureDisplayMediaConstraints(e,t){return{audio:!(e||!(new r.default).getDisplayMediaAudioCaptureSupport()),video:Object.assign(Object.assign({},!e&&{frameRate:{max:t||o.defaultFrameRate}}),e&&{mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:e,maxFrameRate:t||o.defaultFrameRate}})}}toggleMediaStream(e){let t=!1;if(this.mediaStream)for(let n=0;n<this.mediaStream.getTracks().length;n++)this.mediaStream.getTracks()[n].enabled!==e&&(this.mediaStream.getTracks()[n].enabled=e,t=!0);return t}cleanup(){if(this.mediaStream)for(let e=0;e<this.mediaStream.getTracks().length;e++)this.mediaStream.getTracks()[e].stop();this.mediaStream=null}muteLocalAudioInputStream(){throw new Error("unsupported")}unmuteLocalAudioInputStream(){throw new Error("unsupported")}addMediaStreamBrokerObserver(e){}removeMediaStreamBrokerObserver(e){}}t.default=o,o.defaultFrameRate=15},8023:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,a){function o(e){try{c(i.next(e))}catch(e){a(e)}}function s(e){try{c(i.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const r=n(589),a=n(8015),o=n(214),s=n(7797),c=n(8660),d=n(3879),l=n(8890);t.default=class{constructor(e,t,n){this.mediaStreamBroker=e,this.contentAudioVideo=t,this.attendeeAudioVideo=n,this.observerQueue=new Set,this.destroyed=!1,this.contentAudioVideo.addObserver(this),this.setupContentShareEvents()}static createContentShareMeetingSessionConfigure(e){const t=new r.default;return t.meetingId=e.meetingId,t.externalMeetingId=e.externalMeetingId,t.urls=e.urls,t.disablePeriodicKeyframeRequestOnContentSender=e.disablePeriodicKeyframeRequestOnContentSender,t.credentials=new a.default,t.credentials.attendeeId=e.credentials.attendeeId+l.default.Modality,t.credentials.externalUserId=e.credentials.externalUserId,t.credentials.joinToken=e.credentials.joinToken+l.default.Modality,t}setContentAudioProfile(e){this.contentAudioVideo.setAudioProfile(e)}enableSimulcastForContentShare(e,t){e?(this.contentAudioVideo.configuration.enableSimulcastForUnifiedPlanChromiumBasedBrowsers=!0,this.contentAudioVideo.configuration.videoUplinkBandwidthPolicy=new d.default(this.contentAudioVideo.logger,t)):(this.contentAudioVideo.configuration.enableSimulcastForUnifiedPlanChromiumBasedBrowsers=!1,this.contentAudioVideo.configuration.videoUplinkBandwidthPolicy=void 0)}startContentShare(e){return i(this,void 0,void 0,(function*(){if(e){this.mediaStreamBroker.mediaStream=e;for(let e=0;e<this.mediaStreamBroker.mediaStream.getTracks().length;e++)this.mediaStreamBroker.mediaStream.getTracks()[e].addEventListener("ended",(()=>{this.stopContentShare()}));this.contentAudioVideo.start()}}))}startContentShareFromScreenCapture(e,t){return i(this,void 0,void 0,(function*(){const n=yield this.mediaStreamBroker.acquireScreenCaptureDisplayInputStream(e,t);return yield this.startContentShare(n),n}))}pauseContentShare(){this.mediaStreamBroker.toggleMediaStream(!1)&&this.forEachContentShareObserver((e=>{c.Maybe.of(e.contentShareDidPause).map((t=>t.call(e)))}))}unpauseContentShare(){this.mediaStreamBroker.toggleMediaStream(!0)&&this.forEachContentShareObserver((e=>{c.Maybe.of(e.contentShareDidUnpause).map((t=>t.call(e)))}))}setContentShareVideoCodecPreferences(e){this.contentAudioVideo.setVideoCodecSendPreferences(e)}destroy(){return i(this,void 0,void 0,(function*(){this.contentAudioVideo&&(this.destroyed=!0,this.contentAudioVideo.removeObserver(this),this.stopContentShare(),this.observerQueue.clear(),this.contentAudioVideo=void 0,this.attendeeAudioVideo=void 0,this.mediaStreamBroker=void 0)}))}stopContentShare(){this.contentAudioVideo.stop(),this.mediaStreamBroker.cleanup()}addContentShareObserver(e){this.observerQueue.add(e)}removeContentShareObserver(e){this.observerQueue.delete(e)}forEachContentShareObserver(e){for(const t of this.observerQueue)s.default.nextTick((()=>{this.observerQueue.has(t)&&e(t)}))}audioVideoDidStart(){this.mediaStreamBroker.mediaStream.getVideoTracks().length>0&&this.contentAudioVideo.videoTileController.startLocalVideoTile()}audioVideoDidStop(e){this.mediaStreamBroker.cleanup(),this.contentShareTile&&(this.attendeeAudioVideo.videoTileController.removeVideoTile(this.contentShareTile.id()),this.contentShareTile=null),this.forEachContentShareObserver((e=>{c.Maybe.of(e.contentShareDidStop).map((t=>t.call(e)))}))}setupContentShareEvents(){this.attendeeAudioVideo.realtimeController.realtimeSubscribeToAttendeeIdPresence(((e,t,n,i)=>{const r=new o.default(e).hasModality(o.default.MODALITY_CONTENT),a=new o.default(e).base()===this.attendeeAudioVideo.configuration.credentials.attendeeId;if(!r||!a||!t||this.contentShareTile)return;const s=this.mediaStreamBroker.mediaStream;if(null==s?void 0:s.getVideoTracks().length){this.contentShareTile=this.attendeeAudioVideo.videoTileController.addVideoTile();const e=s.getVideoTracks()[0];let t,n;if(e.getSettings){const i=e.getSettings();t=i.width,n=i.height}else{const i=e.getCapabilities();t=i.width,n=i.height}this.contentShareTile.bindVideoStream(this.contentAudioVideo.configuration.credentials.attendeeId,!1,s,t,n,null,this.contentAudioVideo.configuration.credentials.externalUserId)}this.forEachContentShareObserver((e=>{c.Maybe.of(e.contentShareDidStart).map((t=>t.call(e)))}))}))}}},7237:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});class i{static register(){"document"in n.g&&document.addEventListener&&i.shouldRegisterCSPMonitor&&(i.added||(document.addEventListener("securitypolicyviolation",i.listener),i.added=!0))}static unregister(){"document"in n.g&&document.removeEventListener&&(document.removeEventListener("securitypolicyviolation",i.listener),i.loggers=new Set,i.added=!1)}static disable(){i.shouldRegisterCSPMonitor=!1,i.unregister()}static addLogger(e){e&&i.loggers.add(e)}static removeLogger(e){e&&i.loggers.delete(e)}}t.default=i,i.loggers=new Set,i.shouldRegisterCSPMonitor=!0,i.added=!1,i.listener=e=>{const t=`Security Policy Violation\nBlocked URI: ${e.blockedURI}\nViolated Directive: ${e.violatedDirective}\nOriginal Policy: ${e.originalPolicy}\nDocument URI: ${e.documentURI}\nSource File: ${e.sourceFile}\nLine No.: ${e.lineNumber}\n`;for(const e of i.loggers)e.error(t);0===i.loggers.size&&console.error(t)}},1018:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{constructor(e,t,n,i,r,a){this.timestampMs=e,this.topic=t,this.data=n,this.senderAttendeeId=i,this.senderExternalUserId=r,this.throttled=!!a}text(){return(new TextDecoder).decode(this.data)}json(){return JSON.parse((new TextDecoder).decode(this.data))}}},146:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isDestroyable=void 0,t.isDestroyable=function(e){return e&&"destroy"in e}},1746:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isAudioTransformDevice=void 0,t.isAudioTransformDevice=function(e){return!!e&&"object"==typeof e&&"mute"in e&&"stop"in e&&"intrinsicDevice"in e}},4142:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,a){function o(e){try{c(i.next(e))}catch(e){a(e)}}function s(e){try{c(i.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const r=n(543),a=n(6354),o=n(7797),s=n(1515),c=n(8660),d=n(1944),l=n(3327),u=n(1746),h=n(8128),p=n(5348),m=n(1238),f=n(3110),g=n(4842),w=n(6991),y=n(6950),v=n(4500),b=n(7170);class S{constructor(e,t,n=new r.default,i){this.logger=e,this.browserBehavior=n,this.eventController=i,this.deviceInfoCache=null,this.activeDevices={audio:null,video:null},this.chosenVideoTransformDevice=null,this.audioOutputDeviceId=void 0,this.deviceChangeObservers=new Set,this.mediaStreamBrokerObservers=new Set,this.deviceLabelTrigger=()=>navigator.mediaDevices.getUserMedia({audio:!0,video:!0}),this.audioInputDestinationNode=null,this.audioInputSourceNode=null,this.videoInputQualitySettings=null,this.useWebAudio=!1,this.useMediaConstraintsFallback=!0,this.audioInputTaskQueue=new s.default,this.videoInputTaskQueue=new s.default,this.muted=!1,this.mediaStreamMuteObserver=(e,t)=>{for(const n of this.deviceChangeObservers)o.default.nextTick((()=>{this.deviceChangeObservers.has(n)&&n.audioInputMuteStateChanged&&n.audioInputMuteStateChanged(e,t)}))},this.alreadyHandlingDeviceChange=!1;const{enableWebAudio:c=!1,useMediaConstraintsFallback:d=!0}=t||{};this.useWebAudio=c,this.useMediaConstraintsFallback=d,this.videoInputQualitySettings=new v.default(S.defaultVideoWidth,S.defaultVideoHeight,S.defaultVideoFrameRate);const l=this.browserBehavior.requiresResolutionAlignment(this.videoInputQualitySettings.videoWidth,this.videoInputQualitySettings.videoHeight);this.videoInputQualitySettings.videoWidth=l[0],this.videoInputQualitySettings.videoHeight=l[1],this.logger.info(`DefaultDeviceController video dimension ${this.videoInputQualitySettings.videoWidth} x ${this.videoInputQualitySettings.videoHeight}`);try{this.mediaDeviceWrapper=(new a.default).create();const e=navigator.mediaDevices.getSupportedConstraints();this.logger.info(`Supported Constraints in this browser ${JSON.stringify(e)}`)}catch(t){e.error(t.message)}}isWatchingForDeviceChanges(){return!!this.onDeviceChangeCallback}ensureWatchingDeviceChanges(){var e;this.isWatchingForDeviceChanges()||(this.logger.info("Starting devicechange listener."),this.onDeviceChangeCallback=()=>{this.logger.info("Device change event callback is triggered"),this.handleDeviceChange()},null===(e=this.mediaDeviceWrapper)||void 0===e||e.addEventListener("devicechange",this.onDeviceChangeCallback))}stopWatchingDeviceChanges(){var e;this.isWatchingForDeviceChanges()&&(this.logger.info("Stopping devicechange listener."),null===(e=this.mediaDeviceWrapper)||void 0===e||e.removeEventListener("devicechange",this.onDeviceChangeCallback),this.onDeviceChangeCallback=void 0)}shouldObserveDeviceChanges(){return!!this.deviceChangeObservers.size||(this.activeDevices.audio&&null!==this.activeDevices.audio.constraints||this.activeDevices.video&&null!==this.activeDevices.video.constraints||!!this.audioOutputDeviceId)}watchForDeviceChangesIfNecessary(){this.shouldObserveDeviceChanges()?this.ensureWatchingDeviceChanges():this.stopWatchingDeviceChanges()}destroy(){return i(this,void 0,void 0,(function*(){this.stopWatchingDeviceChanges(),yield this.stopAudioInput(),yield this.stopVideoInput()}))}listAudioInputDevices(e=!1){return i(this,void 0,void 0,(function*(){const t=yield this.listDevicesOfKind("audioinput",e);return this.trace("listAudioInputDevices",e,t),t}))}listVideoInputDevices(e=!1){return i(this,void 0,void 0,(function*(){const t=yield this.listDevicesOfKind("videoinput",e);return this.trace("listVideoInputDevices",e,t),t}))}listAudioOutputDevices(e=!1){return i(this,void 0,void 0,(function*(){const t=yield this.listDevicesOfKind("audiooutput",e);return this.trace("listAudioOutputDevices",e,t),t}))}pushAudioMeetingStateForPermissions(e){var t;null===(t=this.eventController)||void 0===t||t.publishEvent(void 0===e?"audioInputUnselected":"audioInputSelected")}pushVideoMeetingStateForPermissions(e){var t;null===(t=this.eventController)||void 0===t||t.publishEvent(void 0===e?"videoInputUnselected":"videoInputSelected")}startAudioInput(e){return i(this,void 0,void 0,(function*(){return yield this.audioInputTaskQueue.add((()=>this.startAudioInputTask(e)))}))}startAudioInputTask(e){var t;return i(this,void 0,void 0,(function*(){if(void 0!==e)try{return u.isAudioTransformDevice(e)?(this.logger.info(`Choosing transform input device ${e}`),yield this.chooseAudioTransformInputDevice(e)):(this.logger.info(`Choosing intrinsic audio input device ${e}`),this.removeTransform(),yield this.chooseInputIntrinsicDevice("audio",e)),this.trace("startAudioInputDevice",e,"success"),this.useWebAudio?(this.attachAudioInputStreamToAudioContext(this.activeDevices.audio.stream),this.pushAudioMeetingStateForPermissions(this.getMediaStreamDestinationNode().stream),yield null===(t=this.transform)||void 0===t?void 0:t.device.mute(this.muted),this.getMediaStreamDestinationNode().stream):(this.publishAudioInputDidChangeEvent(this.activeDevices.audio.stream),this.activeDevices.audio.stream)}catch(e){throw e}else this.logger.error("Audio input device cannot be undefined")}))}stopAudioInput(){return i(this,void 0,void 0,(function*(){return this.audioInputTaskQueue.add((()=>this.stopAudioInputTask()))}))}stopAudioInputTask(){return i(this,void 0,void 0,(function*(){try{if(this.useWebAudio)return void this.releaseAudioTransformStream();this.stopTracksAndRemoveCallbacks("audio")}finally{this.watchForDeviceChangesIfNecessary(),this.publishAudioInputDidChangeEvent(void 0)}}))}chooseAudioTransformInputDevice(e){var t;return i(this,void 0,void 0,(function*(){if((null===(t=this.transform)||void 0===t?void 0:t.device)===e)return;if(!this.useWebAudio)throw new Error("Cannot apply transform device without enabling Web Audio.");const n=S.getAudioContext();if(n instanceof OfflineAudioContext);else switch(n.state){case"running":break;case"closed":throw new Error("Cannot choose a transform device with a closed audio context.");case"suspended":yield n.resume()}let i;try{i=yield e.createAudioNode(n)}catch(e){throw this.logger.error(`Unable to create transform device node: ${e}.`),e}const r=yield e.intrinsicDevice();yield this.chooseInputIntrinsicDevice("audio",r),this.logger.debug(`Got inner stream: ${r}.`),this.setTransform(e,i)}))}chooseVideoTransformInputDevice(e){var t;return i(this,void 0,void 0,(function*(){if(this.eventController&&e instanceof d.default&&e.passEventControllerToProcessors(this.eventController),e===this.chosenVideoTransformDevice)return void this.logger.info("Reselecting same VideoTransformDevice");const n=this.chosenVideoTransformDevice;n&&this.logger.info("Switched from previous VideoTransformDevice");const i=!!n,r=yield e.intrinsicDevice();if(!this.isMediaStreamReusableByDeviceId(null===(t=this.activeDevices.video)||void 0===t?void 0:t.stream,r))return this.logger.info("video transform device needs new intrinsic device"),i&&n.onOutputStreamDisconnect(),this.chosenVideoTransformDevice=e,this.activeDevices.video=null,yield this.chooseInputIntrinsicDevice("video",r),this.logger.info("apply processors to transform"),void(yield this.chosenVideoTransformDevice.transformStream(this.activeDevices.video.stream));this.chosenVideoTransformDevice=e,this.logger.info("video transform device uses previous stream"),this.logger.info("apply processors to transform"),yield e.transformStream(this.activeDevices.video.stream)}))}startVideoInput(e){return i(this,void 0,void 0,(function*(){return yield this.videoInputTaskQueue.add((()=>this.startVideoInputTask(e)))}))}startVideoInputTask(e){return i(this,void 0,void 0,(function*(){if(e)try{return b.isVideoTransformDevice(e)?(this.logger.info(`Choosing video transform device ${e}`),yield this.chooseVideoTransformInputDevice(e),this.publishVideoInputDidChangeEvent(this.chosenVideoTransformDevice.outputMediaStream),this.chosenVideoTransformDevice.outputMediaStream):(this.chosenVideoInputIsTransformDevice()&&(this.chosenVideoTransformDevice.onOutputStreamDisconnect(),this.chosenVideoTransformDevice=null),yield this.chooseInputIntrinsicDevice("video",e),this.trace("startVideoInputDevice",e),this.publishVideoInputDidChangeEvent(this.activeDevices.video.stream),this.activeDevices.video.stream)}catch(e){throw e}else this.logger.error("Invalid video input device")}))}stopVideoInput(){return i(this,void 0,void 0,(function*(){return this.videoInputTaskQueue.add((()=>this.stopVideoInputTask()))}))}stopVideoInputTask(){return i(this,void 0,void 0,(function*(){try{if(this.chosenVideoInputIsTransformDevice())return void this.releaseVideoTransformStream();this.stopTracksAndRemoveCallbacks("video")}finally{this.watchForDeviceChangesIfNecessary(),this.publishVideoInputDidChangeEvent(void 0)}}))}chooseAudioOutput(e){return i(this,void 0,void 0,(function*(){this.audioOutputDeviceId=e,this.watchForDeviceChangesIfNecessary();const t=this.deviceInfoFromDeviceId("audiooutput",this.audioOutputDeviceId);this.publishAudioOutputDidChangeEvent(t),this.trace("chooseAudioOutput",e,null)}))}addDeviceChangeObserver(e){this.logger.info("adding device change observer"),this.deviceChangeObservers.add(e),this.watchForDeviceChangesIfNecessary(),this.trace("addDeviceChangeObserver")}removeDeviceChangeObserver(e){this.logger.info("removing device change observer"),this.deviceChangeObservers.delete(e),this.watchForDeviceChangesIfNecessary(),this.trace("removeDeviceChangeObserver")}createAnalyserNodeForAudioInput(){var e,t;if(!this.activeDevices.audio)return null;const n=null===(t=null===(e=this.transform)||void 0===e?void 0:e.nodes)||void 0===t?void 0:t.end;if(n){const e=n.context.createAnalyser();return e.removeOriginalInputs=()=>{try{n.disconnect(e)}catch(e){}},n.connect(e),e}return this.createAnalyserNodeForRawAudioInput()}createAnalyserNodeForRawAudioInput(){return this.activeDevices.audio?this.createAnalyserNodeForStream(this.activeDevices.audio.stream):null}createAnalyserNodeForStream(e){const t=S.getAudioContext(),n=t.createAnalyser(),i=t.createMediaStreamSource(e);return i.connect(n),this.trace("createAnalyserNodeForAudioInput"),n.removeOriginalInputs=()=>{try{i.disconnect(n)}catch(e){}},n}startVideoPreviewForVideoInput(e){if(!this.activeDevices.video)return this.logger.warn("cannot bind video preview since video input device has not been chosen"),void this.trace("startVideoPreviewForVideoInput",e.id);l.default.connectVideoStreamToVideoElement(this.chosenVideoTransformDevice?this.chosenVideoTransformDevice.outputMediaStream:this.activeDevices.video.stream,e,!0),this.trace("startVideoPreviewForVideoInput",e.id)}stopVideoPreviewForVideoInput(e){l.default.disconnectVideoStreamFromVideoElement(e,!1),this.trace("stopVideoPreviewForVideoInput",e.id)}setDeviceLabelTrigger(e){if(this.deviceInfoCache)for(const e of this.deviceInfoCache)if(!e.label){this.deviceInfoCache=null;break}this.deviceLabelTrigger=e,this.trace("setDeviceLabelTrigger")}mixIntoAudioInput(e){let t=null;return this.useWebAudio?(t=S.getAudioContext().createMediaStreamSource(e),t.connect(this.getMediaStreamOutputNode())):this.logger.warn("WebAudio is not enabled, mixIntoAudioInput will not work"),this.trace("mixIntoAudioInput",e.id),t}chooseVideoInputQuality(e,t,n){const i=this.browserBehavior.requiresResolutionAlignment(e,t);this.videoInputQualitySettings=new v.default(i[0],i[1],n)}getVideoInputQualitySettings(){return this.videoInputQualitySettings}acquireAudioInputStream(){return i(this,void 0,void 0,(function*(){return this.activeDevices.audio||(this.logger.info("No audio device chosen, creating empty audio device"),yield this.startAudioInput(null)),this.useWebAudio?this.getMediaStreamDestinationNode().stream:this.activeDevices.audio.stream}))}acquireVideoInputStream(){return i(this,void 0,void 0,(function*(){if(!this.activeDevices.video)throw new Error("No video device chosen");return this.chosenVideoInputIsTransformDevice()?this.chosenVideoTransformDevice.outputMediaStream:this.activeDevices.video.stream}))}acquireDisplayInputStream(e){return i(this,void 0,void 0,(function*(){throw new Error("unsupported")}))}releaseAudioTransformStream(){this.logger.info("Stopping audio track for Web Audio graph"),this.stopTracksAndRemoveCallbacks("audio"),this.logger.info("Removing audio transform, if there is one."),this.removeTransform(),this.audioInputSourceNode&&(this.audioInputSourceNode.disconnect(),this.audioInputSourceNode=void 0),this.audioInputDestinationNode&&(this.audioInputDestinationNode.disconnect(),this.audioInputDestinationNode=void 0)}releaseVideoTransformStream(){this.logger.info("Stopping video track for transform"),this.stopTracksAndRemoveCallbacks("video"),this.logger.info("Disconnecting video transform"),this.chosenVideoTransformDevice.onOutputStreamDisconnect(),this.chosenVideoTransformDevice=null}stopTracksAndRemoveCallbacks(e){const t=this.activeDevices[e];if(!t)return;const n=t.endedCallback,i=t.trackMuteCallback,r=t.trackUnmuteCallback;for(const a of t.stream.getTracks())a.stop(),n&&a.removeEventListener("ended",n),i&&a.removeEventListener("mute",i),r&&a.removeEventListener("unmute",r),delete t.endedCallback,delete t.trackMuteCallback,delete t.trackUnmuteCallback,delete this.activeDevices[e]}chosenVideoInputIsTransformDevice(){return!!this.chosenVideoTransformDevice}muteLocalAudioInputStream(){this.toggleLocalAudioInputStream(!1)}unmuteLocalAudioInputStream(){this.toggleLocalAudioInputStream(!0)}toggleLocalAudioInputStream(e){var t;let n=this.activeDevices.audio;if(this.useWebAudio&&(n=this.getMediaStreamDestinationNode()),n){for(const t of n.stream.getTracks())t.enabled!==e&&(t.enabled=e);this.muted!==!e&&(this.muted=!e,null===(t=this.transform)||void 0===t||t.device.mute(this.muted))}}static getIntrinsicDeviceId(e){if(!e)return;if("string"==typeof e)return e;if(e.id)return e.id;const t=e.deviceId;if(!t)return;if("string"==typeof t||Array.isArray(t))return t;const n=t;return"string"==typeof n.exact||Array.isArray(n.exact)?n.exact:void 0}static createEmptyAudioDevice(){return S.synthesizeAudioDevice(0)}static synthesizeAudioDevice(e){const t=S.getAudioContext(),n=t.createMediaStreamDestination();if(e){const i=t.createGain();i.gain.value=.1,i.connect(n);const r=t.createOscillator();r.frequency.value=e,r.connect(i),r.start()}else{const e=t.createBufferSource();try{e.buffer=t.createBuffer(1,5*t.sampleRate,t.sampleRate)}catch(n){if(!n||"NotSupportedError"!==n.name)throw n;e.buffer=t.createBuffer(1,5*S.defaultSampleRate,S.defaultSampleRate)}e.buffer.getChannelData(0)[0]=3e-4,e.loop=!0,e.connect(n),e.start()}return n.stream}listDevicesOfKind(e,t){return i(this,void 0,void 0,(function*(){return!t&&null!==this.deviceInfoCache&&this.isWatchingForDeviceChanges()||(yield this.updateDeviceInfoCacheFromBrowser()),this.listCachedDevicesOfKind(e)}))}updateDeviceInfoCacheFromBrowser(){var e,t;return i(this,void 0,void 0,(function*(){if("undefined"==typeof MediaDeviceInfo)return void(this.deviceInfoCache=[]);let n=yield navigator.mediaDevices.enumerateDevices(),i=!0;for(const e of n)if(!e.label){i=!1;break}if(!i)try{this.logger.info("attempting to trigger media device labels since they are hidden");const e=yield this.deviceLabelTrigger();n=yield navigator.mediaDevices.enumerateDevices();for(const t of e.getTracks())t.stop()}catch(n){this.logger.info("unable to get media device labels"),null===(e=this.eventController)||void 0===e||e.publishEvent("audioInputFailed",{audioInputErrorMessage:this.getErrorMessage(n)}),null===(t=this.eventController)||void 0===t||t.publishEvent("videoInputFailed",{videoInputErrorMessage:this.getErrorMessage(n)})}this.logger.debug(`Update device info cache with devices: ${JSON.stringify(n)}`),this.deviceInfoCache=n}))}listCachedDevicesOfKind(e){const t=[];if(this.deviceInfoCache)for(const n of this.deviceInfoCache)n.kind===e&&t.push(n);return t}handleDeviceChange(){return i(this,void 0,void 0,(function*(){if(null===this.deviceInfoCache)return;if(this.alreadyHandlingDeviceChange)return void o.default.nextTick((()=>{this.handleDeviceChange()}));this.alreadyHandlingDeviceChange=!0;const e=this.listCachedDevicesOfKind("audioinput"),t=this.listCachedDevicesOfKind("videoinput"),n=this.listCachedDevicesOfKind("audiooutput");yield this.updateDeviceInfoCacheFromBrowser();const i=this.listCachedDevicesOfKind("audioinput"),r=this.listCachedDevicesOfKind("videoinput"),a=this.listCachedDevicesOfKind("audiooutput");this.forEachObserver((o=>{this.areDeviceListsEqual(e,i)||c.Maybe.of(o.audioInputsChanged).map((e=>e.bind(o)(i))),this.areDeviceListsEqual(t,r)||c.Maybe.of(o.videoInputsChanged).map((e=>e.bind(o)(r))),this.areDeviceListsEqual(n,a)||c.Maybe.of(o.audioOutputsChanged).map((e=>e.bind(o)(a)))})),this.alreadyHandlingDeviceChange=!1}))}handleDeviceStreamEnded(e,t){return i(this,void 0,void 0,(function*(){try{"audio"===e?(this.logger.warn("Audio input device which was active is no longer available, resetting to null device"),yield this.startAudioInput(null)):(this.logger.warn("Video input device which was active is no longer available, stopping video"),yield this.stopVideoInput())}catch(e){this.logger.error("Failed to choose null device after stream ended.")}"audio"===e?this.forEachObserver((e=>{c.Maybe.of(e.audioInputStreamEnded).map((n=>n.bind(e)(t)))})):this.forEachObserver((e=>{c.Maybe.of(e.videoInputStreamEnded).map((n=>n.bind(e)(t)))}))}))}forEachObserver(e){for(const t of this.deviceChangeObservers)o.default.nextTick((()=>{this.deviceChangeObservers.has(t)&&e(t)}))}forEachMediaStreamBrokerObserver(e){for(const t of this.mediaStreamBrokerObservers)e(t)}areDeviceListsEqual(e,t){return JSON.stringify(e.map((e=>JSON.stringify(e))).sort())===JSON.stringify(t.map((e=>JSON.stringify(e))).sort())}intrinsicDeviceAsMediaStream(e){return e&&e.id?e:null}hasSameMediaStreamId(e,t,n){var i,r,a,o;let s;return"audio"===e?(s=null==n?void 0:n.audio.streamId,!!s&&s===(null===(r=null===(i=t.constraints)||void 0===i?void 0:i.audio)||void 0===r?void 0:r.streamId)):(s=null==n?void 0:n.video.streamId,!!s&&s===(null===(o=null===(a=null==t?void 0:t.constraints)||void 0===a?void 0:a.video)||void 0===o?void 0:o.streamId))}hasSameGroupId(e,t,n){if(""===e)return!0;const i=S.getIntrinsicDeviceId(n);return this.logger.debug(`Checking deviceIds ${i} of type ${typeof i} with groupId ${e}`),"string"==typeof i&&e===this.getGroupIdFromDeviceId(t,i)}getGroupIdFromDeviceId(e,t){if(null!==this.deviceInfoCache){const n=this.listCachedDevicesOfKind(`${e}input`).find((e=>e.deviceId===t));if(n&&n.groupId)return this.logger.debug(`GroupId of deviceId ${t} found in cache is ${n.groupId}`),n.groupId}return this.logger.debug(`GroupId of deviceId ${t} found in cache is empty`),""}handleGetUserMediaError(e,t){if(!e)throw new p.default(e);switch(e.name){case"NotReadableError":case"TrackStartError":throw new f.default(e);case"NotFoundError":case"DevicesNotFoundError":throw new m.default(e);case"NotAllowedError":case"PermissionDeniedError":case"SecurityError":throw t&&t<S.permissionDeniedOriginDetectionThresholdMs?new w.default(e,"Permission denied by browser"):new w.default(e,"Permission denied by user");case"OverconstrainedError":case"ConstraintNotSatisfiedError":throw new g.default(e);case"TypeError":throw new y.default(e);default:throw new p.default(e)}}matchesDeviceSelection(e,t,n,i){return!!(n&&n.stream.active&&(this.hasSameMediaStreamId(e,n,i)||null!==n.groupId&&this.hasSameGroupId(n.groupId,e,t)))&&(this.logger.debug(`Compare current device constraint ${JSON.stringify(n.constraints)} to proposed constraints ${JSON.stringify(i)}`),n.matchesConstraints(i))}chooseInputIntrinsicDevice(e,t){var n,r;return i(this,void 0,void 0,(function*(){const i=this.getMediaStreamConstraints(e,t);if(this.matchesDeviceSelection(e,t,this.activeDevices[e],i))return void this.logger.info(`reusing existing ${e} input device`);this.activeDevices[e]&&this.activeDevices[e].stream&&this.stopTracksAndRemoveCallbacks(e);const a=Date.now(),o=new h.default;try{this.logger.info(`requesting new ${e} device with constraint ${JSON.stringify(i)}`);const n=this.intrinsicDeviceAsMediaStream(t);"audio"===e&&null===t?(o.stream=S.createEmptyAudioDevice(),o.constraints=null):n?(this.logger.info(`using media stream ${n.id} for ${e} device`),o.stream=n,o.constraints=i):(o.stream=yield navigator.mediaDevices.getUserMedia(i),o.constraints=i),yield this.handleNewInputDevice(e,o)}catch(s){const c=this.getErrorMessage(s);"audio"===e?null===(n=this.eventController)||void 0===n||n.publishEvent("audioInputFailed",{audioInputErrorMessage:c}):null===(r=this.eventController)||void 0===r||r.publishEvent("videoInputFailed",{videoInputErrorMessage:c}),this.logger.error(`failed to get ${e} device for constraints ${JSON.stringify(i)}: ${c}`);let d=!0;if(s&&"constraint"in s&&(this.logger.error(`Over-constrained by constraint: ${s.constraint}`),this.useMediaConstraintsFallback)){const n=this.getMediaStreamConstraints(e,t,!0),r=JSON.stringify(n);if(r!==JSON.stringify(i)){this.logger.info(`retry requesting new ${e} device with minimal constraint ${r}`);try{o.stream=yield navigator.mediaDevices.getUserMedia(n),o.constraints=n,yield this.handleNewInputDevice(e,o),d=!1}catch(t){this.logger.error(`failed to get ${e} device for constraints ${r}: ${this.getErrorMessage(t)}`)}}}if(d){if("audio"===e){this.logger.info(`choosing null ${e} device instead`);try{o.stream=S.createEmptyAudioDevice(),o.constraints=null,yield this.handleNewInputDevice(e,o)}catch(t){this.logger.error(`failed to choose null ${e} device. ${t.name}: ${t.message}`)}}this.handleGetUserMediaError(s,Date.now()-a)}}finally{this.watchForDeviceChangesIfNecessary()}}))}getErrorMessage(e){return e?e.name&&e.message?`${e.name}: ${e.message}`:e.name?e.name:e.message?e.message:"UnknownError":"UnknownError"}handleNewInputDevice(e,t){var n;return i(this,void 0,void 0,(function*(){this.logger.info(`got ${e} device for constraints ${JSON.stringify(t.constraints)}`);const i=null===(n=this.getMediaTrackSettings(t.stream))||void 0===n?void 0:n.deviceId;t.groupId=i?this.getGroupIdFromDeviceId(e,i):"",this.activeDevices[e]=t,this.logger.debug(`Set activeDevice to ${JSON.stringify(t)}`),this.watchForDeviceChangesIfNecessary();const r=t.stream.getTracks()[0];if(r&&(t.endedCallback=()=>{this.activeDevices[e]&&this.activeDevices[e].stream===t.stream&&(this.handleDeviceStreamEnded(e,i),delete t.endedCallback)},r.addEventListener("ended",t.endedCallback,{once:!0})),"audio"===e){const e=t.stream.getAudioTracks()[0];if(e){const n=e.getSettings().deviceId||t.stream;t.trackMuteCallback=()=>{this.mediaStreamMuteObserver(n,!0)},t.trackUnmuteCallback=()=>{this.mediaStreamMuteObserver(n,!1)},e.addEventListener("mute",t.trackMuteCallback,{once:!1}),e.addEventListener("unmute",t.trackUnmuteCallback,{once:!1}),this.logger.debug("Notifying mute state after selection"),e.muted?t.trackMuteCallback():t.trackUnmuteCallback()}}}))}calculateMediaStreamConstraints(e,t,n,i){if(i&&1===this.listCachedDevicesOfKind(`${e}input`).length)return!0;const r={};return this.browserBehavior.requiresNoExactMediaStreamConstraints()?r.deviceId=t:r.deviceId={exact:t},n&&(r.groupId=n),i?r:"video"===e?(r.width={ideal:this.videoInputQualitySettings.videoWidth},r.height={ideal:this.videoInputQualitySettings.videoHeight},r.frameRate={ideal:this.videoInputQualitySettings.videoFrameRate},r):(this.supportSampleRateConstraint()&&(r.sampleRate={ideal:S.defaultSampleRate}),this.supportSampleSizeConstraint()&&(r.sampleSize={ideal:S.defaultSampleSize}),this.supportChannelCountConstraint()&&(r.channelCount={ideal:S.defaultChannelCount}),Object.assign({echoCancellation:!0,googEchoCancellation:!0,googEchoCancellation2:!0,googAutoGainControl:!0,googAutoGainControl2:!0,googNoiseSuppression:!0,googNoiseSuppression2:!0,googHighpassFilter:!0},r))}getMediaStreamConstraintsFromTrackConstraints(e,t){return"audio"===e?{audio:t}:{video:t}}getMediaStreamConstraints(e,t,n=!1){let i={};if(!t)return null;const r=this.intrinsicDeviceAsMediaStream(t);if(r)return i.streamId=r.id,this.getMediaStreamConstraintsFromTrackConstraints(e,i);if("string"==typeof t){let r="";return this.browserBehavior.requiresGroupIdMediaStreamConstraints()&&(null!==this.deviceInfoCache?r=this.getGroupIdFromDeviceId(e,t):this.logger.error("Device cache is not populated. Please make sure to call list devices first")),i=this.calculateMediaStreamConstraints(e,t,r,n),this.getMediaStreamConstraintsFromTrackConstraints(e,i)}return function(e){return"object"==typeof e&&"deviceId"in e&&"groupId"in e&&"kind"in e&&"label"in e}(t)?(i=this.calculateMediaStreamConstraints(e,t.deviceId,t.groupId,n),this.getMediaStreamConstraintsFromTrackConstraints(e,i)):(i=t,this.getMediaStreamConstraintsFromTrackConstraints(e,i))}deviceInfoFromDeviceId(e,t){if(null===this.deviceInfoCache)return null;for(const n of this.deviceInfoCache)if(n.kind===e&&n.deviceId===t)return n;return null}hasAppliedTransform(){return!!this.transform}isMediaStreamReusableByDeviceId(e,t){if(!e||!e.active||!t)return!1;if(t.id)return e.id===t.id;const n=this.getMediaTrackSettings(e);if(!n.deviceId)return!1;const i=S.getIntrinsicDeviceId(t);return"string"==typeof i&&n.deviceId===i}getMediaTrackSettings(e){var t;return null===(t=e.getTracks()[0])||void 0===t?void 0:t.getSettings()}reconnectAudioInputs(){if(!this.audioInputSourceNode)return;this.audioInputSourceNode.disconnect();const e=this.getMediaStreamOutputNode();this.audioInputSourceNode.connect(e)}setTransform(e,t){var n,i;null===(i=null===(n=this.transform)||void 0===n?void 0:n.nodes)||void 0===i||i.end.disconnect(),this.transform={nodes:t,device:e};const r=null==t?void 0:t.end,a=this.getMediaStreamDestinationNode();this.logger.debug(`Connecting transform node ${r} to destination ${a}.`),null==r||r.connect(a),this.reconnectAudioInputs()}removeTransform(){var e;const t=this.transform;if(t)return null===(e=this.transform.nodes)||void 0===e||e.end.disconnect(),this.transform=void 0,this.reconnectAudioInputs(),t}attachAudioInputStreamToAudioContext(e){var t;null===(t=this.audioInputSourceNode)||void 0===t||t.disconnect(),this.audioInputSourceNode=S.getAudioContext().createMediaStreamSource(e);const n=this.getMediaStreamOutputNode();this.audioInputSourceNode.connect(n)}getMediaStreamDestinationNode(){return this.audioInputDestinationNode||(this.audioInputDestinationNode=S.getAudioContext().createMediaStreamDestination()),this.audioInputDestinationNode}getMediaStreamOutputNode(){var e,t;return(null===(t=null===(e=this.transform)||void 0===e?void 0:e.nodes)||void 0===t?void 0:t.start)||this.getMediaStreamDestinationNode()}static setDefaultLatencyHint(e){S.defaultLatencyHint=e}static getAudioContext(){if(!S.audioContext){const e={};navigator.mediaDevices.getSupportedConstraints().sampleRate&&(e.sampleRate=S.defaultSampleRate),(new r.default).requiresPlaybackLatencyHintForAudioContext()&&(e.latencyHint="playback"),S.defaultLatencyHint&&(e.latencyHint=S.defaultLatencyHint),S.audioContext=new(window.AudioContext||window.webkitAudioContext)(e)}return S.audioContext}static closeAudioContext(){if(S.audioContext)try{S.audioContext.close()}catch(e){}S.audioContext=null}addMediaStreamBrokerObserver(e){this.mediaStreamBrokerObservers.add(e)}removeMediaStreamBrokerObserver(e){this.mediaStreamBrokerObservers.delete(e)}publishVideoInputDidChangeEvent(e){this.forEachMediaStreamBrokerObserver((t=>{t.videoInputDidChange&&t.videoInputDidChange(e)})),this.pushVideoMeetingStateForPermissions(e)}publishAudioInputDidChangeEvent(e){this.forEachMediaStreamBrokerObserver((t=>{t.audioInputDidChange&&t.audioInputDidChange(e)})),this.pushAudioMeetingStateForPermissions(e)}publishAudioOutputDidChangeEvent(e){this.forEachMediaStreamBrokerObserver((t=>{t.audioOutputDidChange&&t.audioOutputDidChange(e)}))}supportSampleRateConstraint(){return this.useWebAudio&&!!navigator.mediaDevices.getSupportedConstraints().sampleRate}supportSampleSizeConstraint(){return this.useWebAudio&&!!navigator.mediaDevices.getSupportedConstraints().sampleSize}supportChannelCountConstraint(){return this.useWebAudio&&!!navigator.mediaDevices.getSupportedConstraints().channelCount}trace(e,t,n){let i=`API/DefaultDeviceController/${e}`;void 0!==t&&(i+=` ${JSON.stringify(t)}`),void 0!==n&&(i+=` -> ${JSON.stringify(n)}`),this.logger.info(i)}}t.default=S,S.permissionDeniedOriginDetectionThresholdMs=500,S.defaultVideoWidth=960,S.defaultVideoHeight=540,S.defaultVideoFrameRate=15,S.defaultSampleRate=48e3,S.defaultSampleSize=16,S.defaultChannelCount=1,S.audioContext=null},8128:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{constructor(){this.groupId=""}matchesConstraints(e){return JSON.stringify(this.constraints)===JSON.stringify(e)}}},5348:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});class n extends Error{constructor(e,t){super(t||"Error fetching device."),this.cause=e,this.name="GetUserMediaError"}}t.default=n},6154:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,a){function o(e){try{c(i.next(e))}catch(e){a(e)}}function s(e){try{c(i.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.NoOpDeviceControllerWithEventController=void 0;const r=n(4015);class a extends r.default{constructor(e){super(),this.destroyed=!1}destroy(){return i(this,void 0,void 0,(function*(){this.destroyed=!0}))}listAudioInputDevices(){return Promise.resolve([])}listVideoInputDevices(){return Promise.resolve([])}listAudioOutputDevices(){return Promise.resolve([])}startAudioInput(e){return Promise.reject()}stopAudioInput(){return Promise.resolve()}startVideoInput(e){return Promise.reject()}stopVideoInput(){return Promise.resolve()}chooseAudioOutput(e){return Promise.reject()}addDeviceChangeObserver(e){}removeDeviceChangeObserver(e){}createAnalyserNodeForAudioInput(){return null}startVideoPreviewForVideoInput(e){}stopVideoPreviewForVideoInput(e){}setDeviceLabelTrigger(e){}mixIntoAudioInput(e){return null}chooseVideoInputQuality(e,t,n){}getVideoInputQualitySettings(){return null}}t.default=a,t.NoOpDeviceControllerWithEventController=class extends a{constructor(e){super(),this.eventController=e}}},1238:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(5348);class r extends i.default{constructor(e){super(e),this.name="NotFoundError"}}t.default=r},3110:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(5348);class r extends i.default{constructor(e){super(e),this.name="NotReadableError"}}t.default=r},4842:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(5348);class r extends i.default{constructor(e,t){super(e),this.constraint=t,this.name="OverconstrainedError"}}t.default=r},6991:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(5348);class r extends i.default{constructor(e,t){super(e,t),this.name="PermissionDeniedError"}}t.default=r},7786:function(e,t){"use strict";var n=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,a){function o(e){try{c(i.next(e))}catch(e){a(e)}}function s(e){try{c(i.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{constructor(e){this.inner=e}mute(e){return n(this,void 0,void 0,(function*(){}))}stop(){var e;return n(this,void 0,void 0,(function*(){null===(e=this.node)||void 0===e||e.disconnect()}))}intrinsicDevice(){return n(this,void 0,void 0,(function*(){return this.inner}))}createAudioNode(e){var t;return n(this,void 0,void 0,(function*(){return null===(t=this.node)||void 0===t||t.disconnect(),this.node=yield this.createSingleAudioNode(e),{start:this.node,end:this.node}}))}}},6950:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(5348);class r extends i.default{constructor(e){super(e),this.name="TypeError"}}t.default=r},4500:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{constructor(e,t,n){this.videoWidth=e,this.videoHeight=t,this.videoFrameRate=n}}},7170:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isVideoTransformDevice=void 0,t.isVideoTransformDevice=function(e){return!!e&&"object"==typeof e&&"transformStream"in e&&"stop"in e&&"intrinsicDevice"in e}},8236:function(e,t){"use strict";var n=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,a){function o(e){try{c(i.next(e))}catch(e){a(e)}}function s(e){try{c(i.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{constructor(e,t){if(this.devicePixelRatioSource=e,this.observerQueue=new Set,this.mediaQueryListener=()=>{this.observerQueue.forEach((e=>{e.devicePixelRatioChanged(this.devicePixelRatioSource.devicePixelRatio())}))},"undefined"==typeof window)return;const n=matchMedia(`(resolution: ${this.devicePixelRatioSource.devicePixelRatio()}dppx)`);"function"==typeof n.addEventListener?(n.addEventListener("change",this.mediaQueryListener),this.mediaQueryList=n):"function"==typeof n.addListener?(n.addListener(this.mediaQueryListener),this.mediaQueryList=n):t.warn("ignoring DefaultDevicePixelRatioMonitor")}destroy(){return n(this,void 0,void 0,(function*(){this.mediaQueryList&&("function"==typeof this.mediaQueryList.addEventListener?this.mediaQueryList.removeEventListener("change",this.mediaQueryListener):this.mediaQueryList.removeListener(this.mediaQueryListener)),delete this.mediaQueryListener,this.observerQueue.clear()}))}registerObserver(e){this.observerQueue.add(e),e.devicePixelRatioChanged(this.devicePixelRatioSource.devicePixelRatio())}removeObserver(e){this.observerQueue.delete(e)}}},9190:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{devicePixelRatio(){return"undefined"!=typeof window&&window&&window.devicePixelRatio?window.devicePixelRatio:1}}},3520:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,a){function o(e){try{c(i.next(e))}catch(e){a(e)}}function s(e){try{c(i.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((i=i.apply(e,t||[])).next())}))},r=this&&this.__rest||function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n};Object.defineProperty(t,"__esModule",{value:!0});const a=n(8434),o=n(3922),s=n(8627),c=n(8690);class d{constructor(e,t,n,a,o){this.buffer=[],this.bufferSize=0,this.maxBufferItemCapacityBytes=0,this.ingestionEventSize=0,this.flushIntervalMs=0,this.flushSize=0,this.failedIngestionEvents=[],this.retryCountLimit=15,this.lock=!1,this.cancellableEvents=new Map,this.attributesToFilter=["externalUserId","externalMeetingId","timestampMs"],this.deepCopyCurrentIngestionEvent=e=>({type:e.type,v:e.v,payloads:[...e.payloads]}),this.sendEvents=()=>i(this,void 0,void 0,(function*(){if(this.lock)return;const e=this.getItems(this.flushSize);if(0===e.length)return;this.lock=!0;const t=this.makeRequestBody(e);let n=!1;const i=Date.now();"firefox"===this.metadata.browserName.toLowerCase()&&this.cancellableEvents.set(i,e);try{this.logger.debug(`Event Reporting - InMemoryJSONEventBuffer - sendEvents - sending body ${t}`);const e=yield this.send(t);if(this.cancellableEvents.delete(i),e.ok)try{const n=yield e.json();this.logger.debug(`Event Reporting - InMemoryJSONEventBuffer - sendEvents - send successful events: ${t} message: ${JSON.stringify(n)}`)}catch(e){this.logger.warn(`Event Reporting - InMemoryJSONEventBuffer - sendEvents error reading OK response ${e} for events ${t}`)}else this.logger.error(`Event Reporting - InMemoryJSONEventBuffer - sendEvents - Failed to send events ${t} with response status ${e.status}`),n=!0}catch(e){n=!0,this.logger.warn(`Event Reporting - InMemoryJSONEventBuffer - sendEvents - Error in sending events ${t} to the ingestion endpoint ${e}`)}finally{this.lock=!1}n&&(this.cancellableEvents.delete(i),this.failedIngestionEvents.push(...e))}));const c=new s.default(o).getParserResult(),{browserMajorVersion:d}=c,l=r(c,["browserMajorVersion"]),u=t.toJSON(),{type:h,v:p}=u,m=r(u,["type","v"]);this.authenticationToken=t.getAuthenticationToken(),this.metadata=Object.assign(Object.assign({},l),m),Object.keys(this.metadata).forEach((e=>this.attributesToFilter.push(e))),this.type=h,this.v=p,this.ingestionURL=n,this.logger=o,this.importantEvents=new Set(a);const{maxBufferCapacityKb:f,totalBufferItems:g,flushSize:w,flushIntervalMs:y,retryCountLimit:v}=e;this.maxBufferCapacityBytes=1024*f,this.totalBufferItems=g,this.maxBufferItemCapacityBytes=Math.round(this.maxBufferCapacityBytes/g),this.flushIntervalMs=y,this.flushSize=w,this.retryCountLimit=v,this.currentIngestionEvent=this.initializeAndGetCurrentIngestionEvent(),this.beaconEventListener=e=>this.beaconEventHandler(e),this.addEventListeners()}addEventListeners(){this.beaconEventListener&&"window"in n.g&&window.addEventListener&&"document"in n.g&&document.addEventListener&&(this.logger.debug("Event Reporting - InMemoryJSONEventBuffer - addEventListeners - adding pagehide and visibility change event listeners"),window.addEventListener("pagehide",this.beaconEventListener),document.addEventListener("visibilitychange",this.beaconEventListener))}beaconEventHandler(e){("visibilitychange"===e.type&&"hidden"===document.visibilityState||"pagehide"===e.type)&&(this.logger.debug("Event Reporting - InMemoryJSONEventBuffer - beaconEventHandler is triggered calling sendBeacon"),this.sendBeacon())}removeEventListeners(){this.beaconEventListener&&"window"in n.g&&window.removeEventListener&&"document"in n.g&&document.removeEventListener&&(window.removeEventListener("pagehide",this.beaconEventListener),document.removeEventListener("visibilitychange",this.beaconEventListener),this.logger.debug("Event Reporting - InMemoryJSONEventBuffer - removeEventListeners - removing pagehide and visibility change event listeners"))}start(){var e;this.removeEventListeners(),this.addEventListeners(),null===(e=this.intervalScheduler)||void 0===e||e.stop(),this.intervalScheduler=new o.default(this.flushIntervalMs),this.intervalScheduler.start((()=>this.sendEvents()))}stop(){var e;null===(e=this.intervalScheduler)||void 0===e||e.stop(),this.intervalScheduler=void 0,this.sendBeacon(),this.removeEventListeners()}addItem(e){return i(this,void 0,void 0,(function*(){this.logger.debug(`Event Reporting - InMemoryJSONEventBuffer - addItem - received event ${JSON.stringify(e)}`);const{name:t,ts:n,attributes:i}=e,r=i&&this.filterAttributes(i,this.attributesToFilter),a=Object.assign({name:t,ts:n},r);this.logger.debug(`Event Reporting - InMemoryJSONEventBuffer - addItem - event after filtering attributes ${JSON.stringify(a)}`);const o=this.getSize(a);if(o>d.MAX_ITEM_SIZE_BYTES_ALLOWED)throw new Error(`Event Reporting - Item to be added has size ${o} bytes. Item cannot exceed max item size allowed of ${d.MAX_ITEM_SIZE_BYTES_ALLOWED} bytes.`);if(this.importantEvents.has(t))return this.logger.debug(`Event Reporting - InMemoryJSONEventBuffer - addItem - sending important event ${JSON.stringify(a)}`),void this.sendEventImmediately({name:t,ts:n,attributes:r});if(this.isFull())throw this.logger.warn("Event Reporting - Event buffer is full"),new Error("Buffer full");if(this.currentIngestionEvent.payloads.push(a),this.ingestionEventSize+=o,this.bufferItemThresholdReached(o)){const e=this.deepCopyCurrentIngestionEvent(this.currentIngestionEvent);this.buffer.push(e),this.bufferSize+=this.ingestionEventSize,this.currentIngestionEvent=this.initializeAndGetCurrentIngestionEvent(),this.logger.debug(`Event Reporting - InMemoryJSONEventBuffer - addItem - buffer item threshold reached updated buffer ${JSON.stringify(this.buffer)}`)}}))}filterAttributes(e,t){const n=new Set(t);return Object.keys(e).filter((e=>n.has(e))).forEach((t=>delete e[t])),e}initializeAndGetCurrentIngestionEvent(){const e={type:this.type,v:this.v,payloads:[]};return this.ingestionEventSize=this.getSize(e),e}bufferItemThresholdReached(e){return e+this.ingestionEventSize>=this.maxBufferItemCapacityBytes||this.currentIngestionEvent.payloads.length===d.MAX_PAYLOAD_ITEMS}getSize(e){let t=0;if("object"==typeof e)for(const[n,i]of Object.entries(e))t+=this.getPrimitiveSize(n),t+=this.getSize(i);else t+=this.getPrimitiveSize(e);return t}getPrimitiveSize(e){let t=0;return"string"==typeof e?t+=2*e.length:"number"==typeof e&&(t+=8),t}isFull(){return this.bufferSize===this.maxBufferCapacityBytes||this.buffer.length===this.totalBufferItems}isEmpty(){return 0===this.buffer.length||0===this.bufferSize}getItems(e,t=0){return this.isEmpty()?[]:(e=Math.min(this.buffer.length,e+1),this.buffer.splice(t,e))}makeBeaconRequestBody(e){const t={metadata:this.metadata,events:e,authorization:this.authenticationToken};return JSON.stringify(t)}makeRequestBody(e){const t={metadata:this.metadata,events:e};return JSON.stringify(t)}sendEventImmediately(e){return i(this,void 0,void 0,(function*(){this.logger.debug(`Event Reporting - InMemoryJSONEventBuffer - sendEventImmediately - important event received ${JSON.stringify(e)}`);const{name:t,ts:n,attributes:i}=e,r={type:this.type,v:this.v,payloads:[Object.assign({name:t,ts:n},i)]};let a=!1,o=null;const s=this.makeRequestBody([r]);try{if(o=yield this.send(s),o.ok){try{const e=yield o.json();this.logger.debug(`Event Reporting - InMemoryJSONEventBuffer - sendEventImmediately - send successful event: ${s}, message: ${JSON.stringify(e)}`)}catch(e){this.logger.warn(`Event Reporting - InMemoryJSONEventBuffer - sendEventImmediately - Error reading OK response ${e} for event ${s}`)}return}this.logger.error(`Event Reporting - InMemoryJSONEventBuffer - sendEventImmediately - Failed to send an important event ${s} with response status ${o.status}`),a=!0}catch(e){this.logger.warn(`Event Reporting - There may be a failure in sending an important event ${s} to the ingestion endpoint ${e}.`),a=!0;try{if("firefox"===this.metadata.browserName.toLowerCase()){const e=this.makeBeaconRequestBody([r]);this.logger.debug(`Event Reporting - InMemoryJSONEventBuffer - sendEventImmediately - beaconing data out ${e}`),a=!navigator.sendBeacon(`${this.ingestionURL}?beacon=1`,e)}}catch(e){this.logger.warn(`Event Reporting - Error sending beacon for an important event ${s}`),a=!0}}a&&(this.logger.debug(`Event Reporting - InMemoryJSONEventBuffer - sendEventImmediately - pushing to failed events ${s}`),this.failedIngestionEvents.push(r))}))}send(e){return i(this,void 0,void 0,(function*(){const t=new a.default(d.RETRY_FIXED_BACKOFF_WAIT_MS,d.RETRY_SHORT_BACKOFF_MS,d.RETRY_LONG_BACKOFF_MS);try{let n=0;for(;n<this.retryCountLimit;){const i=yield fetch(this.ingestionURL,{method:"POST",headers:{Authorization:`Bearer ${this.authenticationToken}`},body:e});if(i.ok||!d.SENDING_FAILURE_CODES.has(i.status))return i;if(this.logger.warn(`Will retry sending failure for ${e} due to status code ${i.status}.`),n++,n<this.retryCountLimit){const e=t.nextBackoffAmountMs();yield c.wait(e)}}if(n===this.retryCountLimit)throw new Error(`Retry count limit reached for ${e}`)}catch(e){throw e}}))}sendBeacon(){return i(this,void 0,void 0,(function*(){const e=this.buffer;if(this.logger.debug(`Event Reporting - InMemoryJSONEventBuffer - sendBeacon - clearing out buffer events ${JSON.stringify(e)}`),this.buffer=[],this.currentIngestionEvent.payloads.length>0){const t=this.deepCopyCurrentIngestionEvent(this.currentIngestionEvent);e.push(t),this.logger.debug(`Event Reporting - InMemoryJSONEventBuffer - sendBeacon - clearing out current ingestion event ${JSON.stringify(t)}`),this.currentIngestionEvent=this.initializeAndGetCurrentIngestionEvent()}if(this.failedIngestionEvents.length>0){const t=this.failedIngestionEvents.map((e=>this.deepCopyCurrentIngestionEvent(e)));e.push(...t),this.logger.debug(`Event Reporting - InMemoryJSONEventBuffer - sendBeacon - clearing out any failed ingestion event ${JSON.stringify(t)}`),this.failedIngestionEvents=[]}if(this.cancellableEvents.size>0&&(this.cancellableEvents.forEach((t=>{e.push(...t),this.logger.debug(`Event Reporting - InMemoryJSONEventBuffer - sendBeacon - clearing out each cancellable event ${JSON.stringify(t)}`)})),this.cancellableEvents.clear()),0===e.length)return;const t=this.makeBeaconRequestBody(e);this.logger.debug(`Event Reporting - InMemoryJSONEventBuffer - sendBeacon - beacon data to send ${t}`);try{navigator.sendBeacon(`${this.ingestionURL}?beacon=1`,t)||this.logger.warn(`Event Reporting - Browser failed to queue beacon data ${t}`)}catch(e){this.logger.warn(`Event Reporting - Sending beacon data ${t} failed with error ${e}`)}}))}reset(){this.maxBufferCapacityBytes=0,this.totalBufferItems=0,this.buffer=[],this.bufferSize=0,this.maxBufferItemCapacityBytes=0,this.ingestionEventSize=0,this.flushIntervalMs=0,this.flushSize=0,this.failedIngestionEvents=[],this.lock=!1,this.beaconEventListener=void 0,this.cancellableEvents.clear()}destroy(){return i(this,void 0,void 0,(function*(){this.stop(),this.reset()}))}}t.default=d,d.SENDING_FAILURE_CODES=new Set([408,429,500,502,503,504]),d.RETRY_FIXED_BACKOFF_WAIT_MS=0,d.RETRY_SHORT_BACKOFF_MS=1e3,d.RETRY_LONG_BACKOFF_MS=15e3,d.MAX_PAYLOAD_ITEMS=2,d.MAX_ITEM_SIZE_BYTES_ALLOWED=3e3},7700:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{constructor(e=5e3,t=2,n=64,i=100,r=15){this.flushIntervalMs=e,this.flushSize=t,this.maxBufferCapacityKb=n,this.totalBufferItems=i,this.retryCountLimit=r}}},3831:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,a){function o(e){try{c(i.next(e))}catch(e){a(e)}}function s(e){try{c(i.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const r=n(2238),a=n(146),o=n(5680),s=n(6366),c=n(9385),d=n(7797),l=n(4046),u=n(731);class h{constructor(e,t,n){var i,a,o,s,c,d,l;this.meetingHistoryStates=[],this.observerSet=new Set,this.destroyed=!1,this.logger=t,this.configuration=e,this.setupEventReporter(e,t,n);try{this.parserResult=navigator&&navigator.userAgent?new r.UAParser(navigator.userAgent).getResult():null}catch(e){this.logger.error(e.message)}this.browserMajorVersion=(null===(o=null===(a=null===(i=this.parserResult)||void 0===i?void 0:i.browser)||void 0===a?void 0:a.version)||void 0===o?void 0:o.split(".")[0])||h.UNAVAILABLE,this.browserName=(null===(s=this.parserResult)||void 0===s?void 0:s.browser.name)||h.UNAVAILABLE,this.browserVersion=(null===(c=this.parserResult)||void 0===c?void 0:c.browser.version)||h.UNAVAILABLE,this.deviceName=[(null===(d=this.parserResult)||void 0===d?void 0:d.device.vendor)||"",(null===(l=this.parserResult)||void 0===l?void 0:l.device.model)||""].join(" ").trim()||h.UNAVAILABLE}addObserver(e){this.observerSet.add(e)}removeObserver(e){this.observerSet.delete(e)}forEachObserver(e){for(const t of this.observerSet)d.default.nextTick((()=>{this.observerSet.has(t)&&e(t)}))}publishEvent(e,t){return i(this,void 0,void 0,(function*(){const n=Date.now();this.meetingHistoryStates.push({name:e,timestampMs:n});const i=Object.freeze(Object.assign(this.getAttributes(n),t));this.forEachObserver((t=>{t.eventDidReceive(e,i)})),this.reportEvent(e,n,t)}))}reportEvent(e,t,n){var r;return i(this,void 0,void 0,(function*(){let i;try{n&&(i=u.default(n)),yield null===(r=this.eventReporter)||void 0===r?void 0:r.reportEvent(t,e,i)}catch(e){this.logger.error(`Error reporting event ${e}`)}}))}setupEventReporter(e,t,n){if(n)this._eventReporter=n;else if(e.urls){const n=e.urls.eventIngestionURL;if(n){this.logger.info("Event ingestion URL is present in the configuration");const{meetingId:i,credentials:{attendeeId:r,joinToken:a}}=e,d=new c.default(i,r,a),l=new o.default(d,n);this._eventReporter=new s.default(l,t)}}}getAttributes(e){var t,n;return{attendeeId:this.configuration.credentials.attendeeId,browserMajorVersion:this.browserMajorVersion,browserName:this.browserName,browserVersion:this.browserVersion,deviceName:this.deviceName,externalMeetingId:"string"==typeof this.configuration.externalMeetingId?this.configuration.externalMeetingId:"",externalUserId:this.configuration.credentials.externalUserId,meetingHistory:this.meetingHistoryStates,meetingId:this.configuration.meetingId,osName:(null===(t=this.parserResult)||void 0===t?void 0:t.os.name)||h.UNAVAILABLE,osVersion:(null===(n=this.parserResult)||void 0===n?void 0:n.os.version)||h.UNAVAILABLE,sdkVersion:l.default.sdkVersion,sdkName:l.default.sdkName,timestampMs:e}}get eventReporter(){return this._eventReporter}destroy(){return i(this,void 0,void 0,(function*(){a.isDestroyable(this.eventReporter)&&(yield this.eventReporter.destroy()),this.logger=void 0,this.configuration=void 0,this._eventReporter=void 0,this.destroyed=!0}))}}t.default=h,h.UNAVAILABLE="Unavailable"},731:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=e=>{const t={};for(const[n,i]of Object.entries(e))if(null!=i&&""!==i){if("number"!=typeof i&&"string"!=typeof i)throw new TypeError("Unhandled type received while flattening attributes.");t[n]=i}return t}},5680:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(7700);t.default=class{constructor(e,t,n=new i.default){this.eventsClientConfiguration=e,this.ingestionURL=t,this.eventBufferConfiguration=n}}},6366:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,a){function o(e){try{c(i.next(e))}catch(e){a(e)}}function s(e){try{c(i.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const r=n(146),a=n(3520);t.default=class{constructor(e,t){this.reportingEvents=!1,this.importantEvents=["meetingEnded","meetingFailed","meetingStartFailed","audioInputFailed","videoInputFailed","meetingStartSucceeded"],this.destroyed=!1;const{eventsClientConfiguration:n,ingestionURL:i,eventBufferConfiguration:r}=e,{eventsToIgnore:o}=n;this.eventBuffer=new a.default(r,n,i,this.importantEvents,t),this.logger=t,this.eventsToIgnore=o,this.start()}start(){if(!this.reportingEvents)try{this.eventBuffer.start(),this.logger.info("Event reporting started"),this.reportingEvents=!0}catch(e){this.logger.error(`Event Reporting - Error starting the event buffer ${e}`)}}stop(){if(this.reportingEvents)try{this.eventBuffer.stop(),this.logger.info("Event reporting stopped"),this.reportingEvents=!1}catch(e){this.logger.error(`Event Reporting - Error stopping the event buffer ${e}`)}}reportEvent(e,t,n){return i(this,void 0,void 0,(function*(){if(this.logger.debug(`Event Reporting - DefaultMeetingEventReporter - event received in reportEvent ${e}, ${t}, ${JSON.stringify(n)}`),this.eventsToIgnore.includes(t))this.logger.debug(`Event Reporting - DefaultMeetingEventReporter - ${t} event will be ignored as it is in events to ignore`);else try{this.logger.debug("Event Reporting - DefaultMeetingEventReporter - adding item to event buffer"),yield this.eventBuffer.addItem({ts:e,name:t,attributes:n})}catch(e){this.logger.error(`Event Reporting - Error adding event to buffer ${e}`)}}))}destroy(){return i(this,void 0,void 0,(function*(){this.destroyed=!0,this.stop(),r.isDestroyable(this.eventBuffer)&&this.eventBuffer.destroy(),this.eventBuffer=void 0}))}}},732:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{constructor(){}reportEvent(e,t,n){}start(){}stop(){}}},9385:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{constructor(e,t,n,i=[]){this.type="Meet",this.v=1,this.meetingId=e,this.attendeeId=t,this.eventsToIgnore=i,this.authenticationToken=n}getAuthenticationToken(){return this.authenticationToken}toJSON(){const e={};return e.type=this.type,e.v=this.v,e.meetingId=this.meetingId,e.attendeeId=this.attendeeId,e}}},3204:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultEventController=t.DefaultDevicePixelRatioMonitor=t.DefaultDeviceController=t.DefaultContentShareController=t.DefaultBrowserBehavior=t.DefaultAudioVideoFacade=t.DefaultAudioVideoController=t.DefaultAudioMixController=t.DefaultActiveSpeakerPolicy=t.DefaultActiveSpeakerDetector=t.DataMessage=t.CreateSDPTask=t.CreatePeerConnectionTask=t.ContentShareMediaStreamBroker=t.ContentShareConstants=t.ConsoleLogger=t.ConnectionHealthPolicyConfiguration=t.ConnectionHealthData=t.ClientVideoStreamReceivingReport=t.ClientMetricReportMediaType=t.ClientMetricReportDirection=t.ClientMetricReport=t.CleanStoppedSessionTask=t.CleanRestartedSessionTask=t.CheckVideoInputFeedback=t.CheckVideoConnectivityFeedback=t.CheckNetworkUDPConnectivityFeedback=t.CheckNetworkTCPConnectivityFeedback=t.CheckContentShareConnectivityFeedback=t.CheckCameraResolutionFeedback=t.CheckAudioOutputFeedback=t.CheckAudioInputFeedback=t.CheckAudioConnectivityFeedback=t.CanvasVideoFrameBuffer=t.CSPMonitor=t.BitrateParameters=t.BaseTask=t.BaseConnectionHealthPolicy=t.BackgroundReplacementVideoFrameProcessor=t.BackgroundFilterVideoFrameProcessor=t.BackgroundBlurVideoFrameProcessor=t.BackgroundBlurStrength=t.AudioVideoControllerState=t.AudioProfile=t.AudioLogEvent=t.Attendee=t.AttachMediaInputTask=t.AsyncScheduler=t.ApplicationMetadata=t.AllHighestVideoBandwidthPolicy=void 0,t.MeetingSessionCredentials=t.MeetingSessionConfiguration=t.MeetingReadinessCheckerConfiguration=t.MeetingEventsClientConfiguration=t.MediaDeviceProxyHandler=t.Maybe=t.LogLevel=t.Log=t.ListenForVolumeIndicatorsTask=t.LeaveAndReceiveLeaveAckTask=t.JoinAndReceiveIndexTask=t.IntervalScheduler=t.InMemoryJSONEventBuffer=t.GlobalMetricReport=t.GetUserMediaError=t.FullJitterLimitedBackoff=t.FullJitterBackoffFactory=t.FullJitterBackoff=t.FinishGatheringICECandidatesTask=t.EventIngestionConfiguration=t.EventBufferConfiguration=t.DeviceSelection=t.DevicePixelRatioWindowSource=t.DefaultWebSocketAdapter=t.DefaultVolumeIndicatorAdapter=t.DefaultVideoTransformDevice=t.DefaultVideoTileFactory=t.DefaultVideoTileController=t.DefaultVideoTile=t.DefaultVideoStreamIndex=t.DefaultVideoStreamIdSet=t.DefaultVideoFrameProcessorPipeline=t.DefaultVideoCaptureAndEncodeParameter=t.DefaultUserAgentParser=t.DefaultTranscriptionController=t.DefaultTransceiverController=t.DefaultSimulcastUplinkPolicyForContentShare=t.DefaultSimulcastUplinkPolicy=t.DefaultSignalingClient=t.DefaultSigV4=t.DefaultSessionStateController=t.DefaultReconnectController=t.DefaultRealtimeController=t.DefaultPingPong=t.DefaultModality=t.DefaultMessagingSession=t.DefaultMeetingSession=t.DefaultMeetingReadinessChecker=t.DefaultMeetingEventReporter=t.DefaultMediaDeviceFactory=void 0,t.SDPMediaSection=t.SDPCandidateType=t.SDP=t.RunnableTask=t.ReconnectionHealthPolicy=t.ReceiveVideoStreamIndexTask=t.ReceiveVideoInputTask=t.ReceiveTURNCredentialsTask=t.ReceiveAudioInputTask=t.RealtimeVolumeIndicator=t.RealtimeState=t.RealtimeAttendeePositionInFrame=t.PromoteToPrimaryMeetingTask=t.PromiseQueue=t.PrefetchSortBy=t.PrefetchOn=t.PermissionDeniedError=t.ParallelGroupTask=t.POSTLogger=t.OverconstrainedError=t.OpenSignalingConnectionTask=t.OnceTask=t.NotReadableError=t.NotFoundError=t.None=t.NoVideoUplinkBandwidthPolicy=t.NoVideoDownlinkBandwidthPolicy=t.NoOpVideoFrameProcessor=t.NoOpVideoElementFactory=t.NoOpTask=t.NoOpMediaStreamBroker=t.NoOpLogger=t.NoOpEventReporter=t.NoOpDeviceController=t.NoOpDebugLogger=t.NoOpAudioVideoController=t.NScaleVideoUplinkBandwidthPolicy=t.MutableVideoPreferences=t.MultiLogger=t.MonitorTask=t.ModelSpecBuilder=t.MessagingSessionConfiguration=t.Message=t.MeetingSessionVideoAvailability=t.MeetingSessionURLs=t.MeetingSessionTURNCredentials=t.MeetingSessionStatusCode=t.MeetingSessionStatus=t.MeetingSessionLifecycleEventCondition=t.MeetingSessionLifecycleEvent=void 0,t.VideoPriorityBasedPolicyConfig=t.VideoPriorityBasedPolicy=t.VideoPreferences=t.VideoPreference=t.VideoOnlyTransceiverController=t.VideoLogEvent=t.VideoFxProcessor=t.VideoCodecCapability=t.VideoAdaptiveProbePolicy=t.Versioning=t.UnusableAudioWarningConnectionHealthPolicy=t.TypeError=t.TranscriptionStatusType=t.TranscriptionStatus=t.TranscriptResult=t.TranscriptLanguageWithScore=t.TranscriptItemType=t.TranscriptItem=t.TranscriptEntity=t.TranscriptAlternative=t.Transcript=t.TimeoutTask=t.TimeoutScheduler=t.TaskStatus=t.TargetDisplaySize=t.SubscribeAndReceiveSubscribeAckTask=t.StreamMetricReport=t.Some=t.SingleNodeAudioTransformDevice=t.SimulcastVideoStreamIndex=t.SimulcastTransceiverController=t.SimulcastLayers=t.SimulcastContentShareTransceiverController=t.SignalingClientVideoSubscriptionConfiguration=t.SignalingClientSubscribe=t.SignalingClientJoin=t.SignalingClientEventType=t.SignalingClientEvent=t.SignalingClientConnectionRequest=t.SignalingAndMetricsConnectionMonitor=t.SetRemoteDescriptionTask=t.SetLocalDescriptionTask=t.SessionStateControllerTransitionResult=t.SessionStateControllerState=t.SessionStateControllerDeferPriority=t.SessionStateControllerAction=t.ServerSideNetworkAdaption=t.SerialGroupTask=t.SendingAudioFailureConnectionHealthPolicy=t.SendAndReceiveDataMessagesTask=void 0,t.isVideoTransformDevice=t.isDestroyable=t.isAudioTransformDevice=t.ZLIBTextCompressor=t.WebSocketReadyState=t.WaitForAttendeePresenceTask=t.VoiceFocusTransformDevice=t.VoiceFocusDeviceTransformer=t.VideoTileState=t.VideoStreamDescription=t.VideoSource=t.VideoQualitySettings=void 0;const i=n(5185);t.AllHighestVideoBandwidthPolicy=i.default;const r=n(7535);t.ApplicationMetadata=r.default;const a=n(7797);t.AsyncScheduler=a.default;const o=n(8358);t.AttachMediaInputTask=o.default;const s=n(7602);t.Attendee=s.default;const c=n(9880);t.AudioLogEvent=c.default;const d=n(3765);t.AudioProfile=d.default;const l=n(1876);t.AudioVideoControllerState=l.default;const u=n(9734);t.BackgroundBlurStrength=u.default;const h=n(1260);t.BackgroundBlurVideoFrameProcessor=h.default;const p=n(4243);t.BackgroundFilterVideoFrameProcessor=p.default;const m=n(9854);t.BackgroundReplacementVideoFrameProcessor=m.default;const f=n(3940);t.BaseConnectionHealthPolicy=f.default;const g=n(1789);t.BaseTask=g.default;const w=n(9394);t.BitrateParameters=w.default;const y=n(7237);t.CSPMonitor=y.default;const v=n(9807);t.CanvasVideoFrameBuffer=v.default;const b=n(2084);t.CheckAudioConnectivityFeedback=b.default;const S=n(8892);t.CheckAudioInputFeedback=S.default;const E=n(9333);t.CheckAudioOutputFeedback=E.default;const C=n(1087);t.CheckCameraResolutionFeedback=C.default;const x=n(2606);t.CheckContentShareConnectivityFeedback=x.default;const I=n(7415);t.CheckNetworkTCPConnectivityFeedback=I.default;const k=n(4299);t.CheckNetworkUDPConnectivityFeedback=k.default;const P=n(6818);t.CheckVideoConnectivityFeedback=P.default;const A=n(1737);t.CheckVideoInputFeedback=A.default;const T=n(3216);t.CleanRestartedSessionTask=T.default;const M=n(7408);t.CleanStoppedSessionTask=M.default;const R=n(4571);t.ClientMetricReport=R.default;const F=n(6196);t.ClientMetricReportDirection=F.default;const _=n(9496);t.ClientMetricReportMediaType=_.default;const O=n(2770);t.ClientVideoStreamReceivingReport=O.default;const U=n(6688);t.ConnectionHealthData=U.default;const N=n(3731);t.ConnectionHealthPolicyConfiguration=N.default;const z=n(8030);t.ConsoleLogger=z.default;const D=n(8890);t.ContentShareConstants=D.default;const L=n(8370);t.ContentShareMediaStreamBroker=L.default;const B=n(5482);t.CreatePeerConnectionTask=B.default;const q=n(1129);t.CreateSDPTask=q.default;const V=n(1018);t.DataMessage=V.default;const j=n(8320);t.DefaultActiveSpeakerDetector=j.default;const W=n(2363);t.DefaultActiveSpeakerPolicy=W.default;const $=n(6802);t.DefaultAudioMixController=$.default;const H=n(9059);t.DefaultAudioVideoController=H.default;const G=n(8538);t.DefaultAudioVideoFacade=G.default;const K=n(543);t.DefaultBrowserBehavior=K.default;const Y=n(8023);t.DefaultContentShareController=Y.default;const J=n(4142);t.DefaultDeviceController=J.default;const X=n(8236);t.DefaultDevicePixelRatioMonitor=X.default;const Z=n(3831);t.DefaultEventController=Z.default;const Q=n(6354);t.DefaultMediaDeviceFactory=Q.default;const ee=n(6366);t.DefaultMeetingEventReporter=ee.default;const te=n(3980);t.DefaultMeetingReadinessChecker=te.default;const ne=n(4202);t.DefaultMeetingSession=ne.default;const ie=n(8947);t.DefaultMessagingSession=ie.default;const re=n(214);t.DefaultModality=re.default;const ae=n(7500);t.DefaultPingPong=ae.default;const oe=n(983);t.DefaultRealtimeController=oe.default;const se=n(9141);t.DefaultReconnectController=se.default;const ce=n(9678);t.DefaultSessionStateController=ce.default;const de=n(334);t.DefaultSigV4=de.default;const le=n(1208);t.DefaultSignalingClient=le.default;const ue=n(4450);t.DefaultSimulcastUplinkPolicy=ue.default;const he=n(3879);t.DefaultSimulcastUplinkPolicyForContentShare=he.default;const pe=n(365);t.DefaultTransceiverController=pe.default;const me=n(5308);t.DefaultTranscriptionController=me.default;const fe=n(8627);t.DefaultUserAgentParser=fe.default;const ge=n(1133);t.DefaultVideoCaptureAndEncodeParameter=ge.default;const we=n(8919);t.DefaultVideoFrameProcessorPipeline=we.default;const ye=n(1508);t.DefaultVideoStreamIdSet=ye.default;const ve=n(1318);t.DefaultVideoStreamIndex=ve.default;const be=n(3327);t.DefaultVideoTile=be.default;const Se=n(2958);t.DefaultVideoTileController=Se.default;const Ee=n(4922);t.DefaultVideoTileFactory=Ee.default;const Ce=n(1944);t.DefaultVideoTransformDevice=Ce.default;const xe=n(9751);t.DefaultVolumeIndicatorAdapter=xe.default;const Ie=n(7631);t.DefaultWebSocketAdapter=Ie.default;const ke=n(9190);t.DevicePixelRatioWindowSource=ke.default;const Pe=n(8128);t.DeviceSelection=Pe.default;const Ae=n(7700);t.EventBufferConfiguration=Ae.default;const Te=n(5680);t.EventIngestionConfiguration=Te.default;const Me=n(6240);t.FinishGatheringICECandidatesTask=Me.default;const Re=n(8434);t.FullJitterBackoff=Re.default;const Fe=n(5640);t.FullJitterBackoffFactory=Fe.default;const _e=n(7300);t.FullJitterLimitedBackoff=_e.default;const Oe=n(5348);t.GetUserMediaError=Oe.default;const Ue=n(2306);t.GlobalMetricReport=Ue.default;const Ne=n(3520);t.InMemoryJSONEventBuffer=Ne.default;const ze=n(3922);t.IntervalScheduler=ze.default;const De=n(1960);t.JoinAndReceiveIndexTask=De.default;const Le=n(6180);t.LeaveAndReceiveLeaveAckTask=Le.default;const Be=n(2748);t.ListenForVolumeIndicatorsTask=Be.default;const qe=n(1329);t.Log=qe.default;const Ve=n(813);t.LogLevel=Ve.default;const je=n(4236);t.MediaDeviceProxyHandler=je.default;const We=n(9385);t.MeetingEventsClientConfiguration=We.default;const $e=n(3990);t.MeetingReadinessCheckerConfiguration=$e.default;const He=n(589);t.MeetingSessionConfiguration=He.default;const Ge=n(8015);t.MeetingSessionCredentials=Ge.default;const Ke=n(7604);t.MeetingSessionLifecycleEvent=Ke.default;const Ye=n(1296);t.MeetingSessionLifecycleEventCondition=Ye.default;const Je=n(3789);t.MeetingSessionStatus=Je.default;const Xe=n(5687);t.MeetingSessionStatusCode=Xe.default;const Ze=n(7215);t.MeetingSessionTURNCredentials=Ze.default;const Qe=n(6057);t.MeetingSessionURLs=Qe.default;const et=n(5723);t.MeetingSessionVideoAvailability=et.default;const tt=n(9358);t.Message=tt.default;const nt=n(4323);t.MessagingSessionConfiguration=nt.default;const it=n(22);t.ModelSpecBuilder=it.default;const rt=n(1981);t.MonitorTask=rt.default;const at=n(9938);t.MultiLogger=at.default;const ot=n(2472);t.NScaleVideoUplinkBandwidthPolicy=ot.default;const st=n(9836);t.NoOpAudioVideoController=st.default;const ct=n(209);t.NoOpDebugLogger=ct.default;const dt=n(6154);t.NoOpDeviceController=dt.default;const lt=n(732);t.NoOpEventReporter=lt.default;const ut=n(7434);t.NoOpLogger=ut.default;const ht=n(4015);t.NoOpMediaStreamBroker=ht.default;const pt=n(8831);t.NoOpTask=pt.default;const mt=n(3663);t.NoOpVideoElementFactory=mt.default;const ft=n(2801);t.NoOpVideoFrameProcessor=ft.default;const gt=n(5319);t.NoVideoDownlinkBandwidthPolicy=gt.default;const wt=n(657);t.NoVideoUplinkBandwidthPolicy=wt.default;const yt=n(1238);t.NotFoundError=yt.default;const vt=n(3110);t.NotReadableError=vt.default;const bt=n(1124);t.OnceTask=bt.default;const St=n(4543);t.OpenSignalingConnectionTask=St.default;const Et=n(4842);t.OverconstrainedError=Et.default;const Ct=n(5013);t.POSTLogger=Ct.default;const xt=n(8556);t.ParallelGroupTask=xt.default;const It=n(6991);t.PermissionDeniedError=It.default;const kt=n(106);t.PrefetchOn=kt.default;const Pt=n(3938);t.PrefetchSortBy=Pt.default;const At=n(1515);t.PromiseQueue=At.default;const Tt=n(9945);t.PromoteToPrimaryMeetingTask=Tt.default;const Mt=n(5910);t.RealtimeAttendeePositionInFrame=Mt.default;const Rt=n(9825);t.RealtimeState=Rt.default;const Ft=n(9576);t.RealtimeVolumeIndicator=Ft.default;const _t=n(1209);t.ReceiveAudioInputTask=_t.default;const Ot=n(5547);t.ReceiveTURNCredentialsTask=Ot.default;const Ut=n(120);t.ReceiveVideoInputTask=Ut.default;const Nt=n(9560);t.ReceiveVideoStreamIndexTask=Nt.default;const zt=n(9708);t.ReconnectionHealthPolicy=zt.default;const Dt=n(4191);t.RunnableTask=Dt.default;const Lt=n(326);t.SDP=Lt.default;const Bt=n(4076);t.SDPCandidateType=Bt.default;const qt=n(302);t.SDPMediaSection=qt.default;const Vt=n(9485);t.SendAndReceiveDataMessagesTask=Vt.default;const jt=n(2977);t.SendingAudioFailureConnectionHealthPolicy=jt.default;const Wt=n(7079);t.SerialGroupTask=Wt.default;const $t=n(7103);t.ServerSideNetworkAdaption=$t.default;const Ht=n(3860);t.SessionStateControllerAction=Ht.default;const Gt=n(6850);t.SessionStateControllerDeferPriority=Gt.default;const Kt=n(9553);t.SessionStateControllerState=Kt.default;const Yt=n(3013);t.SessionStateControllerTransitionResult=Yt.default;const Jt=n(4833);t.SetLocalDescriptionTask=Jt.default;const Xt=n(5275);t.SetRemoteDescriptionTask=Xt.default;const Zt=n(8581);t.SignalingAndMetricsConnectionMonitor=Zt.default;const Qt=n(3920);t.SignalingClientConnectionRequest=Qt.default;const en=n(2902);t.SignalingClientEvent=en.default;const tn=n(9416);t.SignalingClientEventType=tn.default;const nn=n(2168);t.SignalingClientJoin=nn.default;const rn=n(6729);t.SignalingClientSubscribe=rn.default;const an=n(9101);t.SignalingClientVideoSubscriptionConfiguration=an.default;const on=n(816);t.SimulcastContentShareTransceiverController=on.default;const sn=n(7606);t.SimulcastLayers=sn.default;const cn=n(5785);t.SimulcastTransceiverController=cn.default;const dn=n(4242);t.SimulcastVideoStreamIndex=dn.default;const ln=n(7786);t.SingleNodeAudioTransformDevice=ln.default;const un=n(2811);t.StreamMetricReport=un.default;const hn=n(5924);t.SubscribeAndReceiveSubscribeAckTask=hn.default;const pn=n(2721);t.TargetDisplaySize=pn.default;const mn=n(8082);t.TaskStatus=mn.default;const fn=n(4929);t.TimeoutScheduler=fn.default;const gn=n(250);t.TimeoutTask=gn.default;const wn=n(4739);t.Transcript=wn.default;const yn=n(2471);t.TranscriptAlternative=yn.default;const vn=n(7210);t.TranscriptEntity=vn.default;const bn=n(1741);t.TranscriptItem=bn.default;const Sn=n(6864);t.TranscriptItemType=Sn.default;const En=n(9063);t.TranscriptLanguageWithScore=En.default;const Cn=n(5323);t.TranscriptResult=Cn.default;const xn=n(1288);t.TranscriptionStatus=xn.default;const In=n(1326);t.TranscriptionStatusType=In.default;const kn=n(6950);t.TypeError=kn.default;const Pn=n(1922);t.UnusableAudioWarningConnectionHealthPolicy=Pn.default;const An=n(4046);t.Versioning=An.default;const Tn=n(2880);t.VideoAdaptiveProbePolicy=Tn.default;const Mn=n(2330);t.VideoCodecCapability=Mn.default;const Rn=n(7746);t.VideoFxProcessor=Rn.default;const Fn=n(155);t.VideoLogEvent=Fn.default;const _n=n(9354);t.VideoOnlyTransceiverController=_n.default;const On=n(1754);t.VideoPreference=On.default;const Un=n(1819);t.VideoPreferences=Un.default;const Nn=n(4992);t.VideoPriorityBasedPolicy=Nn.default;const zn=n(1034);t.VideoPriorityBasedPolicyConfig=zn.default;const Dn=n(4500);t.VideoQualitySettings=Dn.default;const Ln=n(60);t.VideoSource=Ln.default;const Bn=n(6876);t.VideoStreamDescription=Bn.default;const qn=n(7804);t.VideoTileState=qn.default;const Vn=n(2497);t.VoiceFocusDeviceTransformer=Vn.default;const jn=n(8878);t.VoiceFocusTransformDevice=jn.default;const Wn=n(6171);t.WaitForAttendeePresenceTask=Wn.default;const $n=n(7387);t.WebSocketReadyState=$n.default;const Hn=n(6128);t.ZLIBTextCompressor=Hn.default;const Gn=n(1819);Object.defineProperty(t,"MutableVideoPreferences",{enumerable:!0,get:function(){return Gn.MutableVideoPreferences}});const Kn=n(8660);Object.defineProperty(t,"Some",{enumerable:!0,get:function(){return Kn.Some}}),Object.defineProperty(t,"None",{enumerable:!0,get:function(){return Kn.None}}),Object.defineProperty(t,"Maybe",{enumerable:!0,get:function(){return Kn.Maybe}});const Yn=n(1746);Object.defineProperty(t,"isAudioTransformDevice",{enumerable:!0,get:function(){return Yn.isAudioTransformDevice}});const Jn=n(146);Object.defineProperty(t,"isDestroyable",{enumerable:!0,get:function(){return Jn.isDestroyable}});const Xn=n(7170);Object.defineProperty(t,"isVideoTransformDevice",{enumerable:!0,get:function(){return Xn.isVideoTransformDevice}})},8030:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(813);t.default=class{constructor(e,t=i.default.WARN){this.name=e,this.level=t}info(e){this.log(i.default.INFO,e)}warn(e){this.log(i.default.WARN,e)}error(e){this.log(i.default.ERROR,e)}debug(e){i.default.DEBUG<this.level||("string"==typeof e?this.log(i.default.DEBUG,e):e?this.log(i.default.DEBUG,e()):this.log(i.default.DEBUG,""+e))}setLogLevel(e){this.level=e}getLogLevel(){return this.level}log(e,t){if(e<this.level)return;const n=`${(new Date).toISOString()} [${i.default[e]}] ${this.name} - ${t}`;switch(e){case i.default.ERROR:console.error(n);break;case i.default.WARN:console.warn(n);break;case i.default.DEBUG:console.debug(n.replace(/\\r\\n/g,"\n"));break;case i.default.INFO:console.info(n)}}}},1329:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{constructor(e,t,n,i){this.sequenceNumber=e,this.message=t,this.timestampMs=n,this.logLevel=i}}},813:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.LogLevel=void 0,function(e){e[e.DEBUG=0]="DEBUG",e[e.INFO=1]="INFO",e[e.WARN=2]="WARN",e[e.ERROR=3]="ERROR",e[e.OFF=4]="OFF"}(n=t.LogLevel||(t.LogLevel={})),t.default=n},9938:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(813);t.default=class{constructor(...e){this._loggers=e}info(e){for(const t of this._loggers)t.info(e)}warn(e){for(const t of this._loggers)t.warn(e)}error(e){for(const t of this._loggers)t.error(e)}debug(e){let t,n;n="string"==typeof e?e:e?()=>(t||(t=e()),t):""+e;for(const e of this._loggers)e.debug(n)}setLogLevel(e){for(const t of this._loggers)t.setLogLevel(e)}getLogLevel(){for(const e of this._loggers)return e.getLogLevel();return i.default.OFF}}},209:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(813),r=n(7434);class a extends r.default{constructor(){super(i.default.DEBUG)}}t.default=a},7434:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(813);t.default=class{constructor(e=i.default.OFF){this.level=e}info(e){}warn(e){}error(e){}debug(e){i.default.DEBUG<this.level||"string"!=typeof e&&e()}setLogLevel(e){this.level=e}getLogLevel(){return this.level}}},5013:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,a){function o(e){try{c(i.next(e))}catch(e){a(e)}}function s(e){try{c(i.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const r=n(3922),a=n(1329),o=n(813);class s{constructor(e){this.logCapture=[],this.lock=!1,this.sequenceNumber=0;const{url:t,batchSize:n=s.BATCH_SIZE,intervalMs:i=s.INTERVAL_MS,logLevel:r=o.default.WARN,metadata:a,headers:c}=e;this.url=t,this.batchSize=n,this.intervalMs=i,this.logLevel=r,this.metadata=a,this.headers=c,this.start(),this.eventListener=()=>{this.stop()},this.addEventListener()}addEventListener(){this.eventListener&&"window"in n.g&&window.addEventListener&&window.addEventListener("unload",this.eventListener)}removeEventListener(){this.eventListener&&"window"in n.g&&window.removeEventListener&&window.removeEventListener("unload",this.eventListener)}debug(e){o.default.DEBUG<this.logLevel||("string"==typeof e?this.log(o.default.DEBUG,e):e?this.log(o.default.DEBUG,e()):this.log(o.default.DEBUG,""+e))}info(e){this.log(o.default.INFO,e)}warn(e){this.log(o.default.WARN,e)}error(e){this.log(o.default.ERROR,e)}setLogLevel(e){this.logLevel=e}getLogLevel(){return this.logLevel}getLogCaptureSize(){return this.logCapture.length}start(){this.addEventListener(),this.intervalScheduler=new r.default(this.intervalMs),this.intervalScheduler.start((()=>i(this,void 0,void 0,(function*(){if(!0===this.lock||0===this.getLogCaptureSize())return;this.lock=!0;const e=this.logCapture.slice(0,this.batchSize),t=this.makeRequestBody(e);try{200===(yield fetch(this.url,Object.assign({method:"POST",body:t},this.headers?{headers:this.headers}:{}))).status&&(this.logCapture=this.logCapture.slice(e.length))}catch(e){console.warn("[POSTLogger] "+e.message)}finally{this.lock=!1}}))))}stop(){var e;null===(e=this.intervalScheduler)||void 0===e||e.stop(),this.intervalScheduler=void 0,this.removeEventListener();const t=this.makeRequestBody(this.logCapture);navigator.sendBeacon(this.url,t)}destroy(){return i(this,void 0,void 0,(function*(){this.stop(),this.metadata=void 0,this.headers=void 0,this.logCapture=[],this.sequenceNumber=0,this.lock=!1,this.batchSize=0,this.intervalMs=0,this.url=void 0}))}makeRequestBody(e){return JSON.stringify(Object.assign(Object.assign({},this.metadata),{logs:e}))}log(e,t){if(e<this.logLevel)return;const n=Date.now();this.logCapture.push(new a.default(this.sequenceNumber,t,n,o.default[e])),this.sequenceNumber+=1}}t.default=s,s.BATCH_SIZE=85,s.INTERVAL_MS=2e3},6354:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4236);t.default=class{constructor(){this.isMediaDevicesSupported="undefined"!=typeof navigator&&!!navigator.mediaDevices}create(){if(this.isMediaDevicesSupported)return new Proxy(navigator.mediaDevices,new i.default);throw new Error("navigator.mediaDevices is not supported")}}},4236:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,a){function o(e){try{c(i.next(e))}catch(e){a(e)}}function s(e){try{c(i.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const r=n(7797),a=n(3922);class o{constructor(){this.scheduler=null,this.devices=null,this.deviceChangeListeners=new Set,this.get=(e,t,n)=>{if(!Reflect.has(e,t))return;if(!("ondevicechange"in navigator.mediaDevices)){if("addEventListener"===t)return this.patchAddEventListener(e,t,n);if("removeEventListener"===t)return this.patchRemoveEventListener(e,t,n)}const i=Reflect.get(e,t,n);return"function"==typeof i?i.bind(e):i},this.patchAddEventListener=(e,t,n)=>{const i=Reflect.get(e,t,n);return(t,n,r)=>{if("devicechange"!==t)return Reflect.apply(i,e,[t,n,r]);this.deviceChangeListeners.add(n),this.scheduler||(this.scheduler=new a.default(o.INTERVAL_MS),this.scheduler.start(this.pollDeviceLists))}},this.patchRemoveEventListener=(e,t,n)=>{const i=Reflect.get(e,t,n);return(t,n,r)=>{if("devicechange"!==t)return Reflect.apply(i,e,[t,n,r]);this.deviceChangeListeners.delete(n),0===this.deviceChangeListeners.size&&this.scheduler&&(this.scheduler.stop(),this.scheduler=null)}},this.pollDeviceLists=()=>i(this,void 0,void 0,(function*(){const e=yield this.sortedDeviceList();this.devices&&(e.length!==this.devices.length||e.some(((e,t)=>e.deviceId!==this.devices[t].deviceId)))&&this.handleDeviceChangeEvent(),this.devices=e}))}sortedDeviceList(){return i(this,void 0,void 0,(function*(){return(yield navigator.mediaDevices.enumerateDevices()).sort(((e,t)=>e.deviceId<t.deviceId?1:e.deviceId>t.deviceId?-1:0))}))}handleDeviceChangeEvent(){for(const e of this.deviceChangeListeners)r.default.nextTick((()=>{if(this.deviceChangeListeners.has(e)){const t=new Event("devicechange");"function"==typeof e?e(t):e.handleEvent(t)}}))}}t.default=o,o.INTERVAL_MS=1e3},4015:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{acquireAudioInputStream(){return Promise.reject()}acquireVideoInputStream(){return Promise.reject()}acquireDisplayInputStream(e){return Promise.reject()}muteLocalAudioInputStream(){}unmuteLocalAudioInputStream(){}addMediaStreamBrokerObserver(e){}removeMediaStreamBrokerObserver(e){}}},2084:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.CheckAudioConnectivityFeedback=void 0,function(e){e[e.Succeeded=0]="Succeeded",e[e.AudioInputRequestFailed=1]="AudioInputRequestFailed",e[e.AudioInputPermissionDenied=2]="AudioInputPermissionDenied",e[e.ConnectionFailed=3]="ConnectionFailed",e[e.AudioNotReceived=4]="AudioNotReceived"}(n=t.CheckAudioConnectivityFeedback||(t.CheckAudioConnectivityFeedback={})),t.default=n},8892:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.CheckAudioInputFeedback=void 0,function(e){e[e.Succeeded=0]="Succeeded",e[e.Failed=1]="Failed",e[e.PermissionDenied=2]="PermissionDenied"}(n=t.CheckAudioInputFeedback||(t.CheckAudioInputFeedback={})),t.default=n},9333:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.CheckAudioOutputFeedback=void 0,function(e){e[e.Succeeded=0]="Succeeded",e[e.Failed=1]="Failed"}(n=t.CheckAudioOutputFeedback||(t.CheckAudioOutputFeedback={})),t.default=n},1087:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.CheckCameraResolutionFeedback=void 0,function(e){e[e.Succeeded=0]="Succeeded",e[e.Failed=1]="Failed",e[e.ResolutionNotSupported=2]="ResolutionNotSupported",e[e.PermissionDenied=3]="PermissionDenied"}(n=t.CheckCameraResolutionFeedback||(t.CheckCameraResolutionFeedback={})),t.default=n},2606:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.CheckContentShareConnectivityFeedback=void 0,function(e){e[e.Succeeded=0]="Succeeded",e[e.Failed=1]="Failed",e[e.PermissionDenied=2]="PermissionDenied",e[e.TimedOut=3]="TimedOut",e[e.ConnectionFailed=4]="ConnectionFailed"}(n=t.CheckContentShareConnectivityFeedback||(t.CheckContentShareConnectivityFeedback={})),t.default=n},7415:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.CheckNetworkTCPConnectivityFeedback=void 0,function(e){e[e.Succeeded=0]="Succeeded",e[e.MeetingSessionURLsNotInitialized=1]="MeetingSessionURLsNotInitialized",e[e.ConnectionFailed=2]="ConnectionFailed",e[e.ICENegotiationFailed=3]="ICENegotiationFailed"}(n=t.CheckNetworkTCPConnectivityFeedback||(t.CheckNetworkTCPConnectivityFeedback={})),t.default=n},4299:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.CheckNetworkUDPConnectivityFeedback=void 0,function(e){e[e.Succeeded=0]="Succeeded",e[e.MeetingSessionURLsNotInitialized=1]="MeetingSessionURLsNotInitialized",e[e.ConnectionFailed=2]="ConnectionFailed",e[e.ICENegotiationFailed=3]="ICENegotiationFailed"}(n=t.CheckNetworkUDPConnectivityFeedback||(t.CheckNetworkUDPConnectivityFeedback={})),t.default=n},6818:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.CheckVideoConnectivityFeedback=void 0,function(e){e[e.Succeeded=0]="Succeeded",e[e.VideoInputRequestFailed=1]="VideoInputRequestFailed",e[e.VideoInputPermissionDenied=2]="VideoInputPermissionDenied",e[e.ConnectionFailed=3]="ConnectionFailed",e[e.VideoNotSent=4]="VideoNotSent"}(n=t.CheckVideoConnectivityFeedback||(t.CheckVideoConnectivityFeedback={})),t.default=n},1737:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.CheckVideoInputFeedback=void 0,function(e){e[e.Succeeded=0]="Succeeded",e[e.Failed=1]="Failed",e[e.PermissionDenied=2]="PermissionDenied"}(n=t.CheckVideoInputFeedback||(t.CheckVideoInputFeedback={})),t.default=n},3980:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,a){function o(e){try{c(i.next(e))}catch(e){a(e)}}function s(e){try{c(i.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const r=n(6802),a=n(543),o=n(4142),s=n(6991),c=n(1789),d=n(250),l=n(2084),u=n(8892),h=n(9333),p=n(1087),m=n(2606),f=n(7415),g=n(4299),w=n(6818),y=n(1737),v=n(3990);class b{constructor(e,t,n=new v.default){this.logger=e,this.meetingSession=t,this.configuration=n,this.browserBehavior=new a.default}static delay(e){return i(this,void 0,void 0,(function*(){return new Promise((t=>setTimeout(t,e)))}))}checkAudioInput(e){return i(this,void 0,void 0,(function*(){try{return yield this.meetingSession.audioVideo.startAudioInput(e),yield this.meetingSession.audioVideo.stopAudioInput(),u.default.Succeeded}catch(e){return this.logger.error(`MeetingReadinessChecker: Audio input check failed with error ${e}`),e instanceof s.default?u.default.PermissionDenied:u.default.Failed}}))}checkAudioOutput(e,t,n=null){return i(this,void 0,void 0,(function*(){try{const i=e?o.default.getIntrinsicDeviceId(e):"";return yield this.playTone(i,this.configuration.audioOutputFrequency,n),(yield t())?h.default.Succeeded:h.default.Failed}catch(e){return this.logger.error(`MeetingReadinessChecker: Audio output check failed with error: ${e}`),h.default.Failed}finally{this.stopTone()}}))}playTone(e,t,n){return i(this,void 0,void 0,(function*(){const i=this.configuration.audioOutputGain;this.oscillatorNode&&this.stopTone(),this.audioContext=o.default.getAudioContext(),this.gainNode=this.audioContext.createGain(),this.gainNode.gain.value=0,this.oscillatorNode=this.audioContext.createOscillator(),this.oscillatorNode.frequency.value=t,this.oscillatorNode.connect(this.gainNode),this.destinationStream=this.audioContext.createMediaStreamDestination(),this.gainNode.connect(this.destinationStream);const a=this.audioContext.currentTime+.1;this.gainNode.gain.linearRampToValueAtTime(0,a),this.gainNode.gain.linearRampToValueAtTime(i,a+.1),this.oscillatorNode.start();const s=new r.default(this.logger);try{this.browserBehavior.supportsSetSinkId()&&(yield s.bindAudioDevice({deviceId:e}))}catch(e){this.logger.error(`Failed to bind audio device: ${e}`)}try{yield s.bindAudioElement(n||new Audio)}catch(e){this.logger.error(`Failed to bind audio element: ${e}`)}yield s.bindAudioStream(this.destinationStream.stream)}))}stopTone(){if(!(this.audioContext&&this.gainNode&&this.oscillatorNode&&this.destinationStream))return;const e=this.configuration.audioOutputGain,t=this.audioContext.currentTime;this.gainNode.gain.linearRampToValueAtTime(e,t+.1+1),this.gainNode.gain.linearRampToValueAtTime(0,t+.2+1),this.oscillatorNode.stop(),this.oscillatorNode.disconnect(this.gainNode),this.gainNode.disconnect(this.destinationStream),this.oscillatorNode=null,this.gainNode=null,this.destinationStream=null}checkVideoInput(e){return i(this,void 0,void 0,(function*(){try{return yield this.meetingSession.audioVideo.startVideoInput(e),yield this.meetingSession.audioVideo.stopVideoInput(),y.default.Succeeded}catch(e){return this.logger.error(`MeetingReadinessChecker: Video check failed with error ${e}`),e instanceof s.default?y.default.PermissionDenied:y.default.Failed}}))}checkCameraResolution(e,t,n){return i(this,void 0,void 0,(function*(){let i;try{const r=o.default.getIntrinsicDeviceId(e),a={video:this.calculateVideoConstraint(r,t,n)};i=yield navigator.mediaDevices.getUserMedia(a)}catch(e){return this.logger.error(`MeetingReadinessChecker: Camera resolution check with width: ${t} height ${n} failed with error ${e}`),e&&"OverconstrainedError"===e.name?p.default.ResolutionNotSupported:e&&"NotAllowedError"===e.name?p.default.PermissionDenied:p.default.Failed}finally{i&&i.getTracks().forEach((function(e){e.stop()}))}return p.default.Succeeded}))}calculateVideoConstraint(e,t,n){const i=this.browserBehavior.requiresResolutionAlignment(t,n),r={};return this.browserBehavior.requiresNoExactMediaStreamConstraints()?(r.deviceId=e,r.width=t,r.height=n):(r.deviceId={exact:e},r.width={exact:i[0]},r.height={exact:i[1]}),r}checkContentShareConnectivity(e){return i(this,void 0,void 0,(function*(){let t=!1,n=!1;const r={contentShareDidStart:()=>{t=!0}},a={audioVideoDidStart:()=>{n=!0}};try{return this.meetingSession.audioVideo.addObserver(a),this.meetingSession.audioVideo.start(),this.meetingSession.audioVideo.addContentShareObserver(r),yield this.meetingSession.audioVideo.startContentShareFromScreenCapture(e),yield this.executeTimeoutTask((()=>i(this,void 0,void 0,(function*(){return n&&t})))),n?(yield this.stopMeeting(),t?m.default.Succeeded:m.default.TimedOut):m.default.ConnectionFailed}catch(e){return this.logger.error(`MeetingReadinessChecker: Content share check failed with error ${e}`),"NotAllowedError"===e.name?m.default.PermissionDenied:m.default.Failed}finally{this.meetingSession.audioVideo.removeObserver(a),this.meetingSession.audioVideo.stopContentShare(),this.meetingSession.audioVideo.removeContentShareObserver(r)}}))}checkAudioConnectivity(e){return i(this,void 0,void 0,(function*(){let t=!1;const n={packetsReceived:0},r=this.meetingSession.audioVideo,a={metricsDidReceive(e){e.getRTCStatsReport().forEach((e=>{"inbound-rtp"===e.type&&"audio"===e.mediaType&&(n.packetsReceived=e.packetsReceived)}))}},o=(e,n,i,r)=>{e===this.meetingSession.configuration.credentials.attendeeId&&n&&(t=!0)};try{yield r.startAudioInput(e)}catch(e){return this.logger.error(`MeetingReadinessChecker: Failed to get audio input device with error ${e}`),e instanceof s.default?l.default.AudioInputPermissionDenied:l.default.AudioInputRequestFailed}return r.realtimeSubscribeToAttendeeIdPresence(o),r.addObserver(a),(yield this.startMeeting())?(yield this.executeTimeoutTask((()=>i(this,void 0,void 0,(function*(){return this.isAudioConnectionSuccessful(t,n)})))),r.removeObserver(a),r.realtimeUnsubscribeToAttendeeIdPresence(o),yield this.stopMeeting(),yield this.meetingSession.audioVideo.stopAudioInput(),this.isAudioConnectionSuccessful(t,n)?l.default.Succeeded:l.default.AudioNotReceived):(r.removeObserver(a),r.realtimeUnsubscribeToAttendeeIdPresence(o),yield this.meetingSession.audioVideo.stopAudioInput(),l.default.ConnectionFailed)}))}checkVideoConnectivity(e){return i(this,void 0,void 0,(function*(){const t=this.meetingSession.audioVideo;let n=0;const r={metricsDidReceive(e){e.getRTCStatsReport().forEach((e=>{"outbound-rtp"===e.type&&"video"===e.mediaType&&(n=e.packetsSent)}))}};try{yield t.startVideoInput(e)}catch(e){return this.logger.error(`MeetingReadinessChecker: Failed to get video input device with error ${e}`),e instanceof s.default?w.default.VideoInputPermissionDenied:w.default.VideoInputRequestFailed}return t.addObserver(r),(yield this.startMeeting())?(t.startLocalVideoTile(),yield this.executeTimeoutTask((()=>i(this,void 0,void 0,(function*(){return n>0})))),yield t.stopVideoInput(),yield this.stopMeeting(),t.removeObserver(r),n<=0?w.default.VideoNotSent:w.default.Succeeded):w.default.ConnectionFailed}))}checkNetworkUDPConnectivity(){return i(this,void 0,void 0,(function*(){let e=!1;const t={metricsDidReceive(t){t.getRTCStatsReport().forEach((t=>{"candidate-pair"===t.type&&"succeeded"===t.state&&(e=!0)}))}};try{this.originalURLRewriter=this.meetingSession.configuration.urls.urlRewriter}catch(e){return this.logger.error(`MeetingSessionConfiguration.urls doesn't exist. Error: ${e}`),g.default.MeetingSessionURLsNotInitialized}this.meetingSession.configuration.urls.urlRewriter=e=>{const t=this.originalURLRewriter(e);return t.includes("transport=tcp")?"":t};const n=this.meetingSession.audioVideo;return n.addObserver(t),(yield this.startMeeting())?(yield this.executeTimeoutTask((()=>i(this,void 0,void 0,(function*(){return e})))),this.meetingSession.configuration.urls.urlRewriter=this.originalURLRewriter,yield this.stopMeeting(),n.removeObserver(t),e?g.default.Succeeded:g.default.ICENegotiationFailed):(this.meetingSession.configuration.urls.urlRewriter=this.originalURLRewriter,g.default.ConnectionFailed)}))}checkNetworkTCPConnectivity(){return i(this,void 0,void 0,(function*(){let e=!1;const t={metricsDidReceive(t){t.getRTCStatsReport().forEach((t=>{"candidate-pair"===t.type&&"succeeded"===t.state&&(e=!0)}))}};try{this.originalURLRewriter=this.meetingSession.configuration.urls.urlRewriter}catch(e){return this.logger.error(`MeetingSessionConfiguration.urls doesn't exist. Error: ${e}`),f.default.MeetingSessionURLsNotInitialized}this.meetingSession.configuration.urls.urlRewriter=e=>{const t=this.originalURLRewriter(e);return t.includes("transport=udp")?"":t};const n=this.meetingSession.audioVideo;return n.addObserver(t),(yield this.startMeeting())?(yield this.executeTimeoutTask((()=>i(this,void 0,void 0,(function*(){return e})))),this.meetingSession.configuration.urls.urlRewriter=this.originalURLRewriter,yield this.stopMeeting(),n.removeObserver(t),e?f.default.Succeeded:f.default.ICENegotiationFailed):(this.meetingSession.configuration.urls.urlRewriter=this.originalURLRewriter,f.default.ConnectionFailed)}))}startMeeting(){return i(this,void 0,void 0,(function*(){let e=!1;const t={audioVideoDidStart:()=>{e=!0}};return this.meetingSession.audioVideo.addObserver(t),this.meetingSession.audioVideo.start(),yield this.executeTimeoutTask((()=>i(this,void 0,void 0,(function*(){return e})))),this.meetingSession.audioVideo.removeObserver(t),e}))}stopMeeting(){return i(this,void 0,void 0,(function*(){let e=!1;const t={audioVideoDidStop:t=>{e=!0}};return this.meetingSession.audioVideo.addObserver(t),this.meetingSession.audioVideo.stop(),yield this.executeTimeoutTask((()=>i(this,void 0,void 0,(function*(){return e})))),this.meetingSession.audioVideo.removeObserver(t),e}))}executeTimeoutTask(e){return i(this,void 0,void 0,(function*(){let t=!1;class n extends c.default{constructor(e,t){super(e),this.waitDurationMs=t,this.isCancelled=!1}cancel(){this.isCancelled=!0}run(){return i(this,void 0,void 0,(function*(){for(;!this.isCancelled;){if(yield e()){t=!0;break}yield b.delay(this.waitDurationMs)}}))}}const r=new d.default(this.logger,new n(this.logger,this.configuration.waitDurationMs),this.configuration.timeoutMs);return yield r.run(),t}))}isAudioConnectionSuccessful(e,t){return e&&t.packetsReceived>0}}t.default=b},3990:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{constructor(){this.timeoutMs=1e4,this.waitDurationMs=3e3,this.audioOutputFrequency=440,this.audioOutputGain=.1}}},4202:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,a){function o(e){try{c(i.next(e))}catch(e){a(e)}}function s(e){try{c(i.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const r=n(9059),a=n(8538),o=n(8434),s=n(543),c=n(8370),d=n(8023),l=n(7237),u=n(146),h=n(3831),p=n(9141),m=n(7631);t.default=class{constructor(e,t,n,i){this._eventController=i,this._configuration=e,this._logger=t,this.checkBrowserSupportAndFeatureConfiguration(),l.default.addLogger(this._logger),l.default.register(),this._eventController||(this._eventController=new h.default(e,t)),n.eventController||(n.eventController=this.eventController),this.audioVideoController=new r.default(this._configuration,this._logger,new m.default(this._logger),n,new p.default(this._configuration.reconnectTimeoutMs,new o.default(this._configuration.reconnectFixedWaitMs,this._configuration.reconnectShortBackOffMs,this._configuration.reconnectLongBackOffMs)),this.eventController),this._deviceController=n;const s=new c.default(this._logger);this.contentShareController=new d.default(s,new r.default(d.default.createContentShareMeetingSessionConfigure(this._configuration),this._logger,new m.default(this._logger),s,new p.default(this._configuration.reconnectTimeoutMs,new o.default(this._configuration.reconnectFixedWaitMs,this._configuration.reconnectShortBackOffMs,this._configuration.reconnectLongBackOffMs))),this.audioVideoController),this.audioVideoFacade=new a.default(this.audioVideoController,this.audioVideoController.videoTileController,this.audioVideoController.realtimeController,this.audioVideoController.audioMixController,this._deviceController,this.contentShareController)}get configuration(){return this._configuration}get logger(){return this._logger}get audioVideo(){return this.audioVideoFacade}get contentShare(){return this.contentShareController}get deviceController(){return this._deviceController}get eventController(){return this._eventController}destroy(){return i(this,void 0,void 0,(function*(){u.isDestroyable(this.contentShareController)&&(yield this.contentShareController.destroy()),u.isDestroyable(this.audioVideoController)&&(yield this.audioVideoController.destroy()),u.isDestroyable(this.eventController)&&(yield this.eventController.destroy()),l.default.removeLogger(this._logger),this._logger=void 0,this._configuration=void 0,this._deviceController=void 0,this.audioVideoFacade=void 0,this.audioVideoController=void 0,this.contentShareController=void 0,this._eventController=void 0}))}checkBrowserSupportAndFeatureConfiguration(){const e=new s.default,t=`${e.name()} ${e.majorVersion()} (${e.version()})`;if(this.logger.info(`browser is ${t}`),e.isSupported()||this.logger.warn(`this browser is not currently supported. Stability may suffer. Supported browsers are: ${e.supportString()}.`),this._configuration.videoUplinkBandwidthPolicy)if(this.isSimulcastUplinkPolicy(this._configuration.videoUplinkBandwidthPolicy)){if(!e.hasChromiumWebRTC())throw new Error("Simulcast is only supported on Chromium-based browsers");this._configuration.enableSimulcastForUnifiedPlanChromiumBasedBrowsers=!0}else this._configuration.enableSimulcastForUnifiedPlanChromiumBasedBrowsers=!1;this._configuration.enableSimulcastForUnifiedPlanChromiumBasedBrowsers&&(e.hasChromiumWebRTC()?this.logger.info(`Simulcast is enabled for ${e.name()}`):(this._configuration.enableSimulcastForUnifiedPlanChromiumBasedBrowsers=!1,this.logger.info("Simulcast is only supported on Chromium-based browsers")))}isSimulcastUplinkPolicy(e){return!(!e||!e.addObserver)}}},589:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(3731),r=n(8690),a=n(8015),o=n(6057);t.default=class{constructor(e,t){this.meetingId=null,this.externalMeetingId=null,this.credentials=null,this.urls=null,this.connectionTimeoutMs=15e3,this.attendeePresenceTimeoutMs=0,this.connectionHealthPolicyConfiguration=new i.default,this.reconnectTimeoutMs=12e4,this.reconnectFixedWaitMs=0,this.reconnectShortBackOffMs=1e3,this.reconnectLongBackOffMs=5e3,this.enableSimulcastForUnifiedPlanChromiumBasedBrowsers=!1,this.videoDownlinkBandwidthPolicy=null,this.videoUplinkBandwidthPolicy=null,this.keepLastFrameWhenPaused=!1,this.disablePeriodicKeyframeRequestOnContentSender=!1,e&&((e=r.toLowerCasePropertyNames(e)).meeting&&(e=e.meeting),this.meetingId=e.meetingid,this.externalMeetingId=e.externalmeetingid,this.urls=new o.default,this.urls.audioHostURL=e.mediaplacement.audiohosturl,this.urls.signalingURL=e.mediaplacement.signalingurl,this.urls.turnControlURL=e.mediaplacement.turncontrolurl,e.mediaplacement.eventingestionurl&&(this.urls.eventIngestionURL=e.mediaplacement.eventingestionurl)),t&&((t=r.toLowerCasePropertyNames(t)).attendee&&(t=t.attendee),this.credentials=new a.default,this.credentials.attendeeId=t.attendeeid,this.credentials.externalUserId=t.externaluserid,this.credentials.joinToken=t.jointoken)}}},8015:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{constructor(){this.attendeeId=null,this.externalUserId=null,this.joinToken=null}toJSON(){return{attendeeId:this.attendeeId,joinToken:null===this.joinToken?null:"<redacted>"}}}},7604:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.MeetingSessionLifecycleEvent=void 0,function(e){e[e.Connecting=0]="Connecting",e[e.Started=1]="Started",e[e.Stopped=2]="Stopped"}(n=t.MeetingSessionLifecycleEvent||(t.MeetingSessionLifecycleEvent={})),t.default=n},1296:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.MeetingSessionLifecycleEventCondition=void 0,function(e){e[e.ConnectingNew=0]="ConnectingNew",e[e.ReconnectingExisting=1]="ReconnectingExisting",e[e.StartedNew=2]="StartedNew",e[e.StartedExisting=3]="StartedExisting",e[e.StartedAfterReconnect=4]="StartedAfterReconnect",e[e.StoppedCleanly=5]="StoppedCleanly",e[e.StoppedWithFailure=6]="StoppedWithFailure"}(n=t.MeetingSessionLifecycleEventCondition||(t.MeetingSessionLifecycleEventCondition={})),t.default=n},3789:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(289),r=n(5687);class a{constructor(e){this._statusCode=e}statusCode(){return this._statusCode}isFailure(){switch(this._statusCode){case r.default.AudioAuthenticationRejected:case r.default.AudioCallAtCapacity:case r.default.AudioInternalServerError:case r.default.AudioServiceUnavailable:case r.default.AudioDisconnected:case r.default.VideoCallAtSourceCapacity:case r.default.SignalingBadRequest:case r.default.SignalingInternalServerError:case r.default.SignalingRequestFailed:case r.default.ICEGatheringTimeoutWorkaround:case r.default.ConnectionHealthReconnect:case r.default.RealtimeApiFailed:case r.default.TaskFailed:case r.default.NoAttendeePresent:return!0;default:return!1}}isTerminal(){switch(this._statusCode){case r.default.Left:case r.default.AudioJoinedFromAnotherDevice:case r.default.AudioAuthenticationRejected:case r.default.AudioCallAtCapacity:case r.default.MeetingEnded:case r.default.AudioDisconnected:case r.default.TURNCredentialsForbidden:case r.default.SignalingBadRequest:case r.default.SignalingRequestFailed:case r.default.VideoCallAtSourceCapacity:case r.default.RealtimeApiFailed:case r.default.AudioAttendeeRemoved:return!0;default:return!1}}isAudioConnectionFailure(){switch(this._statusCode){case r.default.AudioAuthenticationRejected:case r.default.AudioInternalServerError:case r.default.AudioServiceUnavailable:case r.default.ICEGatheringTimeoutWorkaround:case r.default.SignalingBadRequest:case r.default.SignalingInternalServerError:case r.default.SignalingRequestFailed:case r.default.RealtimeApiFailed:case r.default.NoAttendeePresent:return!0;default:return!1}}toString(){switch(this._statusCode){case r.default.OK:return"Everything is OK so far.";case r.default.Left:return"The attendee left the meeting.";case r.default.AudioJoinedFromAnotherDevice:return"The attendee joined from another device.";case r.default.AudioAuthenticationRejected:return"The meeting rejected the attendee.";case r.default.AudioCallAtCapacity:return"The attendee couldn't join because the meeting was at capacity.";case r.default.MeetingEnded:return"The meeting ended.";case r.default.AudioInternalServerError:case r.default.AudioServiceUnavailable:case r.default.AudioDisconnected:return"The audio connection failed.";case r.default.VideoCallSwitchToViewOnly:return"The attendee couldn't start the local video because the maximum video capacity was reached.";case r.default.VideoCallAtSourceCapacity:return"The connection failed due to an internal server error.";case r.default.SignalingBadRequest:case r.default.SignalingInternalServerError:case r.default.SignalingRequestFailed:return"The signaling connection failed.";case r.default.ICEGatheringTimeoutWorkaround:return"Gathering ICE candidates timed out. In Chrome, this might indicate that the browser is in a bad state after reconnecting to VPN.";case r.default.ConnectionHealthReconnect:return"The meeting was reconnected.";case r.default.RealtimeApiFailed:return"The real-time API failed. This status code might indicate that the callback you passed to the real-time API threw an exception.";case r.default.TaskFailed:return"The connection failed. See the error message for more details.";case r.default.IncompatibleSDP:return"The connection failed due to incompatible SDP.";case r.default.TURNCredentialsForbidden:return"The meeting ended, or the attendee was removed.";case r.default.NoAttendeePresent:return"The attendee was not present.";case r.default.AudioAttendeeRemoved:return"The meeting ended because attendee removed.";case r.default.AudioVideoWasRemovedFromPrimaryMeeting:return"The Primary meeting credentials provided are no longer valid. chime::DeleteAttendee may have been called on them.";case r.default.AudioDisconnectAudio:return"The audio connection failed.";default:{const e=this._statusCode;throw new Error(`Unhandled case: ${e}`)}}}static fromSignalFrame(e){return e.error&&e.error.status?this.fromSignalingStatus(e.error.status):e.type===i.SdkSignalFrame.Type.AUDIO_STATUS?e.audioStatus?this.fromAudioStatus(e.audioStatus.audioStatus):new a(r.default.SignalingRequestFailed):e.type===i.SdkSignalFrame.Type.PRIMARY_MEETING_LEAVE?new a(r.default.AudioVideoWasRemovedFromPrimaryMeeting):new a(r.default.OK)}static fromAudioStatus(e){switch(e){case 200:return new a(r.default.OK);case 301:return new a(r.default.AudioJoinedFromAnotherDevice);case 302:return new a(r.default.AudioDisconnectAudio);case 403:return new a(r.default.AudioAuthenticationRejected);case 409:return new a(r.default.AudioCallAtCapacity);case 410:return new a(r.default.MeetingEnded);case 411:return new a(r.default.AudioAttendeeRemoved);case 500:return new a(r.default.AudioInternalServerError);case 503:return new a(r.default.AudioServiceUnavailable);default:return 2===Math.floor(e/100)?new a(r.default.OK):new a(r.default.AudioDisconnected)}}static fromSignalingStatus(e){switch(e){case 206:return new a(r.default.VideoCallSwitchToViewOnly);case 509:return new a(r.default.VideoCallAtSourceCapacity);case 403:return new a(r.default.AudioAuthenticationRejected);case 409:return new a(r.default.AudioCallAtCapacity);default:switch(Math.floor(e/100)){case 2:return new a(r.default.OK);case 4:return new a(r.default.SignalingBadRequest);case 5:return new a(r.default.SignalingInternalServerError);default:return new a(r.default.SignalingRequestFailed)}}}}t.default=a},5687:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.MeetingSessionStatusCode=void 0,function(e){e[e.OK=0]="OK",e[e.Left=1]="Left",e[e.AudioJoinedFromAnotherDevice=2]="AudioJoinedFromAnotherDevice",e[e.AudioAuthenticationRejected=3]="AudioAuthenticationRejected",e[e.AudioCallAtCapacity=4]="AudioCallAtCapacity",e[e.MeetingEnded=5]="MeetingEnded",e[e.AudioInternalServerError=6]="AudioInternalServerError",e[e.AudioServiceUnavailable=7]="AudioServiceUnavailable",e[e.AudioDisconnected=8]="AudioDisconnected",e[e.VideoCallSwitchToViewOnly=9]="VideoCallSwitchToViewOnly",e[e.VideoCallAtSourceCapacity=10]="VideoCallAtSourceCapacity",e[e.SignalingBadRequest=11]="SignalingBadRequest",e[e.SignalingInternalServerError=12]="SignalingInternalServerError",e[e.SignalingRequestFailed=13]="SignalingRequestFailed",e[e.ICEGatheringTimeoutWorkaround=14]="ICEGatheringTimeoutWorkaround",e[e.ConnectionHealthReconnect=15]="ConnectionHealthReconnect",e[e.RealtimeApiFailed=16]="RealtimeApiFailed",e[e.TaskFailed=17]="TaskFailed",e[e.IncompatibleSDP=18]="IncompatibleSDP",e[e.TURNCredentialsForbidden=19]="TURNCredentialsForbidden",e[e.NoAttendeePresent=20]="NoAttendeePresent",e[e.AudioAttendeeRemoved=21]="AudioAttendeeRemoved",e[e.AudioVideoWasRemovedFromPrimaryMeeting=22]="AudioVideoWasRemovedFromPrimaryMeeting",e[e.AudioDisconnectAudio=23]="AudioDisconnectAudio"}(n=t.MeetingSessionStatusCode||(t.MeetingSessionStatusCode={})),t.default=n},7215:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{constructor(){this.username=null,this.password=null,this.ttl=null,this.uris=null}}},6057:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{constructor(){this._audioHostURL=null,this._signalingURL=null,this._turnControlURL=null,this._eventIngestionURL=null,this.urlRewriter=e=>e}get audioHostURL(){return this.urlRewriter(this._audioHostURL)}set audioHostURL(e){this._audioHostURL=e}get signalingURL(){return this.urlRewriter(this._signalingURL)}set signalingURL(e){this._signalingURL=e}get turnControlURL(){return this.urlRewriter(this._turnControlURL)}set turnControlURL(e){this._turnControlURL=e}get eventIngestionURL(){return this.urlRewriter(this._eventIngestionURL)}set eventIngestionURL(e){this._eventIngestionURL=e}}},5723:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});class n{constructor(){this.remoteVideoAvailable=!1,this.canStartLocalVideo=!1}equal(e){return this.remoteVideoAvailable===e.remoteVideoAvailable&&this.canStartLocalVideo===e.canStartLocalVideo}clone(){const e=new n;return e.remoteVideoAvailable=this.remoteVideoAvailable,e.canStartLocalVideo=this.canStartLocalVideo,e}}t.default=n},9358:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{constructor(e,t,n){this.type=e,this.headers=t,this.payload=n}}},8947:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,a){function o(e){try{c(i.next(e))}catch(e){a(e)}}function s(e){try{c(i.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const r=n(5503),a=n(8434),o=n(7237),s=n(9358),c=n(9141),d=n(7797),l=n(334),u=n(7631),h=n(7387),p=n(106);t.default=class{constructor(e,t,n,i,r){this.configuration=e,this.logger=t,this.webSocket=n,this.reconnectController=i,this.sigV4=r,this.observerQueue=new Set,this.webSocket||(this.webSocket=new u.default(this.logger)),this.reconnectController||(this.reconnectController=new c.default(e.reconnectTimeoutMs,new a.default(e.reconnectFixedWaitMs,e.reconnectShortBackoffMs,e.reconnectLongBackoffMs))),this.sigV4||(this.sigV4=new l.default(this.configuration.chimeClient)),o.default.addLogger(this.logger),o.default.register(),this.preBootstrapMessages=[]}addObserver(e){this.logger.info("adding messaging observer"),this.observerQueue.add(e)}removeObserver(e){this.logger.info("removing messaging observer"),this.observerQueue.delete(e)}start(){return i(this,void 0,void 0,(function*(){this.isClosed()?yield this.startConnecting(!1):this.logger.info("messaging session already started")}))}stop(){this.isClosed()?this.logger.info("no existing messaging session needs closing"):(this.isClosing=!0,this.webSocket.close(),o.default.removeLogger(this.logger))}forEachObserver(e){for(const t of this.observerQueue)d.default.nextTick((()=>{this.observerQueue.has(t)&&e(t)}))}setUpEventListeners(){this.webSocket.addEventListener("open",(()=>{this.openEventHandler()})),this.webSocket.addEventListener("message",(e=>{this.receiveMessageHandler(e.data)})),this.webSocket.addEventListener("close",(e=>{this.closeEventHandler(e)})),this.webSocket.addEventListener("error",(()=>{this.logger.error("WebSocket error")}))}startConnecting(e){return i(this,void 0,void 0,(function*(){return yield this.startConnectingInternal(e),yield new Promise(((e,t)=>{this.bootstrapResolved=e,this.bootstrapRejected=t}))}))}startConnectingInternal(e){var t;return i(this,void 0,void 0,(function*(){let n=this.configuration.endpointUrl;if(e||this.reconnectController.reset(),this.reconnectController.hasStartedConnectionAttempt()?this.reconnectController.startedConnectionAttempt(!1):this.reconnectController.startedConnectionAttempt(!0),e||void 0===n)try{if(this.configuration.chimeClient.getMessagingSessionEndpoint instanceof Function){const e=yield this.configuration.chimeClient.getMessagingSessionEndpoint();n=(null===(t=e.Endpoint)||void 0===t?void 0:t.Url)?e.Endpoint.Url:(yield this.configuration.chimeClient.getMessagingSessionEndpoint().promise()).Endpoint.Url}else n=(yield this.configuration.chimeClient.send(new r.GetMessagingSessionEndpointCommand({}))).Endpoint.Url;this.logger.debug(`Messaging endpoint resolved to: ${n}`)}catch(e){this.logger.error(`Messaging Session failed to resolve endpoint: ${e}`);const t=new CloseEvent("close",{wasClean:!1,code:4999,reason:"Failed to get messaging session endpoint URL",bubbles:!1});return void this.closeEventHandler(t)}const i=yield this.prepareWebSocketUrl(n);this.logger.info(`opening connection to ${i}`),e||this.reconnectController.reset(),this.reconnectController.hasStartedConnectionAttempt()?this.reconnectController.startedConnectionAttempt(!1):this.reconnectController.startedConnectionAttempt(!0),this.webSocket.create(i,[],!0),this.forEachObserver((t=>{t.messagingSessionDidStartConnecting&&t.messagingSessionDidStartConnecting(e)})),this.setUpEventListeners()}))}prepareWebSocketUrl(e){return i(this,void 0,void 0,(function*(){const t=new Map;return t.set("userArn",[this.configuration.userArn]),t.set("sessionId",[this.configuration.messagingSessionId]),this.configuration.prefetchOn===p.default.Connect&&t.set("prefetch-on",[p.default.Connect]),this.configuration.prefetchSortBy&&t.set("prefetch-sort-by",[this.configuration.prefetchSortBy]),yield this.sigV4.signURL("GET","wss","chime",e,"/connect","",t)}))}isClosed(){return this.webSocket.readyState()===h.default.None||this.webSocket.readyState()===h.default.Closed}openEventHandler(){this.reconnectController.reset(),this.isSessionEstablished=!1}receiveMessageHandler(e){try{const t=JSON.parse(e),n=t.Headers["x-amz-chime-event-type"],i=new s.default(n,t.Headers,t.Payload||null);if(this.isSessionEstablished||"SESSION_ESTABLISHED"!==n){if(!this.isSessionEstablished)return void this.preBootstrapMessages.push(i)}else{this.forEachObserver((e=>{e.messagingSessionDidStart&&e.messagingSessionDidStart()})),this.bootstrapResolved(),this.isSessionEstablished=!0;const e=this.preBootstrapMessages.length;for(let t=0;t<e;t++){const e=this.preBootstrapMessages.shift();this.forEachObserver((t=>{this.sendMessageToObserver(t,e)}))}}this.forEachObserver((e=>{this.sendMessageToObserver(e,i)}))}catch(e){this.logger.error(`Messaging parsing failed: ${e}`)}}sendMessageToObserver(e,t){e.messagingSessionDidReceiveMessage&&e.messagingSessionDidReceiveMessage(t)}retryConnection(){return this.reconnectController.retryWithBackoff((()=>i(this,void 0,void 0,(function*(){yield this.startConnecting(!0)}))),null)}closeEventHandler(e){this.logger.info(`WebSocket close: ${e.code} ${e.reason}`),4999!==e.code&&this.webSocket.destroy(),!this.isClosing&&this.canReconnect(e.code)&&this.retryConnection()||(this.isClosing=!1,this.isSessionEstablished?this.forEachObserver((t=>{t.messagingSessionDidStop&&t.messagingSessionDidStop(e)})):this.bootstrapRejected(e))}canReconnect(e){return 1001===e||1006===e||e>=1011&&e<=1014||e>4e3&&4002!==e&&4003!==e&&4401!==e}}},4323:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{constructor(e,t,n,i){this.userArn=e,this.messagingSessionId=t,this.endpointUrl=n,this.chimeClient=i,this.reconnectTimeoutMs=1e4,this.reconnectFixedWaitMs=0,this.reconnectShortBackoffMs=1e3,this.reconnectLongBackoffMs=5e3,this.prefetchOn=void 0,this.prefetchSortBy=void 0,this.messagingSessionId||(this.messagingSessionId=this.generateSessionId())}generateSessionId(){const e=new Uint32Array(1);return window.crypto.getRandomValues(e)[0].toString()}}},106:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.Connect="connect"}(n||(n={})),t.default=n},3938:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.Unread="unread",e.LastMessageTimestamp="last-message-timestamp"}(n||(n={})),t.default=n},214:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(8890);class r{constructor(e){this._id=e}id(){return this._id}base(){return this._id?this._id.split(r.MODALITY_SEPARATOR)[0]:""}modality(){if(!this._id)return"";const e=this._id.split(r.MODALITY_SEPARATOR);return 2===e.length?e[1]:""}hasModality(e){return""!==e&&this.modality()===e}withModality(e){const t=new r(this.base()+r.MODALITY_SEPARATOR+e);return""===e||""===this.base()||new r(t._id).modality()!==e?new r(this.base()):t}}t.default=r,r.MODALITY_SEPARATOR=i.default.Modality[0],r.MODALITY_CONTENT=i.default.Modality.substr(1)},7500:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(7797),r=n(3922),a=n(9416),o=n(289),s=n(8660);t.default=class{constructor(e,t,n){this.signalingClient=e,this.intervalMs=t,this.logger=n,this.observerQueue=new Set,this.consecutivePongsUnaccountedFor=0,this.intervalScheduler=new r.default(this.intervalMs),this.pingId=0}addObserver(e){this.logger.info("adding a ping-pong observer"),this.observerQueue.add(e)}removeObserver(e){this.logger.info("removing a ping-pong observer"),this.observerQueue.delete(e)}forEachObserver(e){for(const t of this.observerQueue)i.default.nextTick((()=>{this.observerQueue.has(t)&&e(t)}))}start(){this.stop(),this.signalingClient.registerObserver(this),this.signalingClient.ready()&&this.startPingInterval()}stop(){this.stopPingInterval(),this.signalingClient.removeObserver(this)}startPingInterval(){this.intervalScheduler.start((()=>{this.ping()})),this.ping()}stopPingInterval(){this.intervalScheduler.stop(),this.pingId=0,this.consecutivePongsUnaccountedFor=0}ping(){this.consecutivePongsUnaccountedFor>0&&(this.logger.warn(`missed pong ${this.consecutivePongsUnaccountedFor} time(s)`),this.forEachObserver((e=>{s.Maybe.of(e.didMissPongs).map((t=>t.bind(e)(this.consecutivePongsUnaccountedFor)))}))),this.consecutivePongsUnaccountedFor+=1,this.pingId=this.pingId+1&4294967295;const e=o.SdkPingPongFrame.create();e.pingId=this.pingId,e.type=o.SdkPingPongType.PING,this.pingTimestampLocalMs=this.signalingClient.pingPong(e),this.logger.debug((()=>`sent ping ${this.pingId}`))}pong(e){const t=o.SdkPingPongFrame.create();t.pingId=e,t.type=o.SdkPingPongType.PONG,this.signalingClient.pingPong(t)}handleSignalingClientEvent(e){switch(e.type){case a.default.WebSocketOpen:this.startPingInterval();break;case a.default.WebSocketFailed:case a.default.WebSocketError:this.logger.warn(`stopped pinging (${a.default[e.type]})`),this.stopPingInterval();break;case a.default.WebSocketClosing:case a.default.WebSocketClosed:this.logger.info(`stopped pinging (${a.default[e.type]})`),this.stopPingInterval();break;case a.default.ReceivedSignalFrame:if(e.message.type!==o.SdkSignalFrame.Type.PING_PONG)break;if(e.message.pingPong.type===o.SdkPingPongType.PONG){const t=e.message.pingPong.pingId;if(t!==this.pingId){this.logger.warn(`unexpected ping id ${t} (expected ${this.pingId})`);break}let n;if(this.consecutivePongsUnaccountedFor=0,"number"!=typeof e.message.timestampMs)break;n=e.message.timestampMs,this.logger.debug((()=>`received pong ${t} with timestamp ${n}`));const i=e.timestampMs-this.pingTimestampLocalMs,r=Math.round(n-i/2),a=this.pingTimestampLocalMs-r;this.logger.info(`local clock skew estimate=${a}ms from ping-pong time=${i}ms`),this.forEachObserver((e=>{s.Maybe.of(e.didReceivePong).map((n=>n.bind(e)(t,a,i)))}))}else this.pong(e.message.pingPong.pingId)}}}},983:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(5308),r=n(9825),a=n(9576);t.default=class{constructor(e,t){this.mediaStreamBroker=e,this.state=new r.default,this._transcriptionController=t||new i.default(this)}realtimeSetLocalAttendeeId(e,t){this.state.localAttendeeId=e,this.state.localExternalUserId=t}realtimeSetAttendeeIdPresence(e,t,n,i,r){try{t&&(this.state.attendeeIdToExternalUserId[e]=n);for(const a of this.state.attendeeIdChangesCallbacks)a(e,t,n,i,r)}catch(e){this.onError(e)}}realtimeSubscribeToAttendeeIdPresence(e){try{this.state.attendeeIdChangesCallbacks.push(e)}catch(e){this.onError(e)}}realtimeUnsubscribeToAttendeeIdPresence(e){try{const t=this.state.attendeeIdChangesCallbacks.indexOf(e);-1!==t&&this.state.attendeeIdChangesCallbacks.splice(t,1)}catch(e){this.onError(e)}}realtimeSetCanUnmuteLocalAudio(e){try{if(this.state.canUnmute===e)return;this.state.canUnmute=e;for(const t of this.state.setCanUnmuteLocalAudioCallbacks)t(e)}catch(e){this.onError(e)}}realtimeSubscribeToSetCanUnmuteLocalAudio(e){try{this.state.setCanUnmuteLocalAudioCallbacks.push(e)}catch(e){this.onError(e)}}realtimeUnsubscribeToSetCanUnmuteLocalAudio(e){try{const t=this.state.setCanUnmuteLocalAudioCallbacks.indexOf(e);-1!==t&&this.state.setCanUnmuteLocalAudioCallbacks.splice(t,1)}catch(e){this.onError(e)}}realtimeCanUnmuteLocalAudio(){return this.state.canUnmute}realtimeMuteLocalAudio(){if(!this.state.muted)try{this.setAudioInputEnabled(!1),this.state.muted=!0,this.realtimeUpdateVolumeIndicator(this.state.localAttendeeId,null,null,null,this.state.localExternalUserId);for(const e of this.state.muteAndUnmuteLocalAudioCallbacks)e(!0)}catch(e){this.onError(e)}}realtimeUnmuteLocalAudio(){if(!this.state.muted)return!0;if(!this.state.canUnmute)return!1;try{this.setAudioInputEnabled(!0),this.state.muted=!1,this.realtimeUpdateVolumeIndicator(this.state.localAttendeeId,null,null,null,this.state.localExternalUserId);for(const e of this.state.muteAndUnmuteLocalAudioCallbacks)e(!1);return!0}catch(e){return this.onError(e),!1}}realtimeSubscribeToMuteAndUnmuteLocalAudio(e){try{this.state.muteAndUnmuteLocalAudioCallbacks.push(e)}catch(e){this.onError(e)}}realtimeUnsubscribeToMuteAndUnmuteLocalAudio(e){try{const t=this.state.muteAndUnmuteLocalAudioCallbacks.indexOf(e);-1!==t&&this.state.muteAndUnmuteLocalAudioCallbacks.splice(t,1)}catch(e){this.onError(e)}}realtimeIsLocalAudioMuted(){return this.state.muted}realtimeSubscribeToVolumeIndicator(e,t){try{this.state.volumeIndicatorCallbacks.hasOwnProperty(e)||(this.state.volumeIndicatorCallbacks[e]=[]),this.state.volumeIndicatorCallbacks[e].push(t),this.sendVolumeIndicatorChange(e,!0,!0,!0,this.state.attendeeIdToExternalUserId[e])}catch(e){this.onError(e)}}realtimeUnsubscribeFromVolumeIndicator(e,t){if(this.state.volumeIndicatorCallbacks[e])if(t){const n=this.state.volumeIndicatorCallbacks[e].indexOf(t);n>=0&&this.state.volumeIndicatorCallbacks[e].splice(n,1)}else delete this.state.volumeIndicatorCallbacks[e]}realtimeUpdateVolumeIndicator(e,t,n,i,r){try{n=this.applyLocalMuteOverride(e,n);const a=this.getVolumeIndicatorState(e);let o=!1,s=!1,c=!1;null!==n&&a.muted!==n&&(a.muted=n,s=!0,a.muted&&0!==a.volume&&(a.volume=0,o=!0)),a.muted||null===t||(a.volume!==t&&(a.volume=t,o=!0),null===a.muted&&(a.muted=!1,s=!0)),null!==i&&a.signalStrength!==i&&(a.signalStrength=i,c=!0),this.sendVolumeIndicatorChange(e,o,s,c,r)}catch(e){this.onError(e)}}realtimeSubscribeToLocalSignalStrengthChange(e){try{if(this.state.localSignalStrengthChangeCallbacks.push(e),null===this.state.localAttendeeId)return;this.sendLocalSignalStrengthChange(this.state.localAttendeeId,!0)}catch(e){this.onError(e)}}realtimeUnsubscribeToLocalSignalStrengthChange(e){try{const t=this.state.localSignalStrengthChangeCallbacks.indexOf(e);-1!==t&&this.state.localSignalStrengthChangeCallbacks.splice(t,1)}catch(e){this.onError(e)}}realtimeSubscribeToSendDataMessage(e){try{this.state.sendDataMessageCallbacks.push(e)}catch(e){this.onError(e)}}realtimeUnsubscribeFromSendDataMessage(e){try{const t=this.state.sendDataMessageCallbacks.indexOf(e);-1!==t&&this.state.sendDataMessageCallbacks.splice(t,1)}catch(e){this.onError(e)}}realtimeSendDataMessage(e,t,n){try{for(const i of this.state.sendDataMessageCallbacks)i(e,t,n)}catch(e){this.onError(e)}}realtimeSubscribeToReceiveDataMessage(e,t){try{this.state.receiveDataMessageCallbacks.has(e)?this.state.receiveDataMessageCallbacks.get(e).push(t):this.state.receiveDataMessageCallbacks.set(e,[t])}catch(e){this.onError(e)}}realtimeUnsubscribeFromReceiveDataMessage(e){try{this.state.receiveDataMessageCallbacks.delete(e)}catch(e){this.onError(e)}}realtimeReceiveDataMessage(e){try{if(this.state.receiveDataMessageCallbacks.has(e.topic))for(const t of this.state.receiveDataMessageCallbacks.get(e.topic))t(e)}catch(e){this.onError(e)}}realtimeSubscribeToFatalError(e){try{this.state.fatalErrorCallbacks.push(e)}catch(e){this.onError(e)}}realtimeUnsubscribeToFatalError(e){try{const t=this.state.fatalErrorCallbacks.indexOf(e);-1!==t&&this.state.fatalErrorCallbacks.splice(t,1)}catch(e){this.onError(e)}}get transcriptionController(){return this._transcriptionController}setAudioInputEnabled(e){e?this.mediaStreamBroker.unmuteLocalAudioInputStream():this.mediaStreamBroker.muteLocalAudioInputStream()}applyLocalMuteOverride(e,t){const n=this.state.localAttendeeId,i=this.state.muted;return e!==n?t:"activeDevices"in this.mediaStreamBroker&&this.mediaStreamBroker.activeDevices.audio?i:t}sendVolumeIndicatorChange(e,t,n,i,r){if(this.sendLocalSignalStrengthChange(e,i),!this.state.volumeIndicatorCallbacks.hasOwnProperty(e))return;const o=this.getVolumeIndicatorState(e),s=new a.default;if(t&&(s.volume=o.volume),n&&(s.muted=o.muted),i&&(s.signalStrength=o.signalStrength),!this.stateIsEmpty(s))for(const t of this.state.volumeIndicatorCallbacks[e])t(e,s.volume,s.muted,s.signalStrength,r)}sendLocalSignalStrengthChange(e,t){if(!t)return;if(e!==this.state.localAttendeeId)return;const n=this.getVolumeIndicatorState(e).signalStrength;if(null!==n)for(const e of this.state.localSignalStrengthChangeCallbacks)e(n)}getVolumeIndicatorState(e){return this.state.volumeIndicatorState.hasOwnProperty(e)||(this.state.volumeIndicatorState[e]=new a.default),this.state.volumeIndicatorState[e]}stateIsEmpty(e){return null===e.volume&&null===e.muted&&null===e.signalStrength}onError(e){try{for(const t of this.state.fatalErrorCallbacks)t(e)}catch(t){try{console.error(e),console.error(t)}catch(e){}}}}},5910:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{constructor(){this.attendeeIndex=null,this.attendeesInFrame=null}}},9825:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{constructor(){this.localAttendeeId=null,this.localExternalUserId=null,this.attendeeIdChangesCallbacks=[],this.canUnmute=!0,this.setCanUnmuteLocalAudioCallbacks=[],this.muted=!1,this.muteAndUnmuteLocalAudioCallbacks=[],this.volumeIndicatorState={},this.attendeeIdToExternalUserId={},this.volumeIndicatorCallbacks={},this.localSignalStrengthChangeCallbacks=[],this.fatalErrorCallbacks=[],this.sendDataMessageCallbacks=[],this.receiveDataMessageCallbacks=new Map}}},9576:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{constructor(){this.volume=null,this.muted=null,this.signalStrength=null}}},9141:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4929);class r{constructor(e,t){this.reconnectTimeoutMs=e,this.backoffPolicy=t,this.shouldReconnect=!0,this.onlyRestartPeerConnection=!1,this.firstConnectionAttempted=!1,this.firstConnectionAttemptTimestampMs=0,this.lastActiveTimestampMs=1/0,this._isFirstConnection=!0,this.backoffTimer=null,this.backoffCancel=null,this.reset()}timeSpentReconnectingMs(){return this.firstConnectionAttempted?Date.now()-this.firstConnectionAttemptTimestampMs:0}hasPastReconnectDeadline(){return Date.now()-this.lastActiveTimestampMs>=this.reconnectTimeoutMs||this.timeSpentReconnectingMs()>=this.reconnectTimeoutMs}reset(){this.cancel(),this.shouldReconnect=!0,this.onlyRestartPeerConnection=!1,this.firstConnectionAttempted=!1,this.firstConnectionAttemptTimestampMs=0,this.lastActiveTimestampMs=1/0,this.backoffPolicy.reset()}startedConnectionAttempt(e){this._isFirstConnection=e,this.firstConnectionAttempted||(this.firstConnectionAttempted=!0,this.firstConnectionAttemptTimestampMs=Date.now())}hasStartedConnectionAttempt(){return this.firstConnectionAttempted}isFirstConnection(){return this._isFirstConnection}disableReconnect(){this.shouldReconnect=!1}enableRestartPeerConnection(){this.onlyRestartPeerConnection=!0}cancel(){this.disableReconnect(),this.backoffTimer&&(this.backoffTimer.stop(),this.backoffCancel&&(this.backoffCancel(),this.backoffCancel=null))}retryWithBackoff(e,t){const n=this.shouldReconnect&&!this.hasPastReconnectDeadline();return n&&(this.backoffCancel=t,this.backoffTimer=new i.default(this.backoffPolicy.nextBackoffAmountMs()),this.backoffTimer.start((()=>{this.backoffCancel=null,e()}))),n}shouldOnlyRestartPeerConnection(){return this.onlyRestartPeerConnection}clone(){return new r(this.reconnectTimeoutMs,this.backoffPolicy)}setLastActiveTimestampMs(e){this.lastActiveTimestampMs=e}}t.default=r},7797:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4929);class r extends i.default{constructor(){super(0)}static nextTick(e){setTimeout(e,0)}}t.default=r},3922:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{constructor(e){this.intervalMs=e}start(e){this.stop(),this.timer=setInterval(e,this.intervalMs)}stop(){void 0!==this.timer&&(clearInterval(this.timer),this.timer=void 0)}running(){return void 0!==this.timer}}},4929:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{constructor(e){this.timeoutMs=e,this.timer=null}start(e){this.stop(),this.timer=setTimeout((()=>{clearTimeout(this.timer),e()}),this.timeoutMs)}stop(){null!==this.timer&&(clearTimeout(this.timer),this.timer=null)}}},326:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4076),r=n(302),a=n(2330);class o{constructor(e){this.sdp=e}clone(){return new o(this.sdp)}static isRTPCandidate(e){const t=/candidate[:](\S+) (\d+)/g.exec(e);return null!==t&&"1"===t[2]}static linesToSDP(e){return new o(e.join(o.CRLF))}static candidateTypeFromString(e){switch(e){case i.default.Host:return i.default.Host;case i.default.ServerReflexive:return i.default.ServerReflexive;case i.default.PeerReflexive:return i.default.PeerReflexive;case i.default.Relay:return i.default.Relay}return null}static candidateType(e){const t=/a[=]candidate[:].* typ ([a-z]+) /g.exec(e);return null===t?null:o.candidateTypeFromString(t[1])}static mediaType(e){const t=/m=(audio|video)/g.exec(e);if(null!==t)return t[1]}static mid(e){if(e.includes("a=mid:"))return e.replace(/^(a=mid:)/,"")}static direction(e){const t=/a=(sendrecv|sendonly|recvonly|inactive)/g.exec(e);if(null!==t)return t[1]}static splitLines(e){return e.trim().split("\n").map((e=>e.trim()))}static splitSections(e){return e.split("\nm=").map(((e,t)=>(t>0?"m="+e:e).trim()+o.CRLF))}static findActiveCameraSection(e){let t=0,n=!1;for(const i of e){if(/^m=video/.test(i)&&(i.indexOf("sendrecv")>-1||-1===i.indexOf("sendonly")&&-1===i.indexOf("recvonly")&&-1===i.indexOf("inactive"))){n=!0;break}t++}return!1===n&&(t=-1),t}static extractSSRCsFromFIDGroupLine(e){return/^a=ssrc-group:FID\s(.+)/.exec(e)[1]}static matchPrefix(e,t){return o.splitLines(e).filter((e=>0===e.indexOf(t)))}lines(){return this.sdp.split(o.CRLF)}hasVideo(){return null!==/^m=video/gm.exec(this.sdp)}hasCandidates(){return null!==/a[=]candidate[:]/g.exec(this.sdp)}hasCandidatesForAllMLines(){return!(this.sdp.indexOf("c=IN IP4 0.0.0.0")>-1)}withoutCandidateType(e){return o.linesToSDP(this.lines().filter((t=>o.candidateType(t)!==e)))}withoutServerReflexiveCandidates(){return this.withoutCandidateType(i.default.ServerReflexive)}withAudioMaxAverageBitrate(e){if(!e)return this.clone();e=Math.trunc(Math.min(Math.max(e,o.rfc7587LowestBitrate),o.rfc7587HighestBitrate));const t=this.lines(),n=o.findOpusFmtpAttributes(t),i=o.updateOpusFmtpAttributes(t,n,[`maxaveragebitrate=${e}`]);return o.linesToSDP(i)}withStereoAudio(){const e=this.lines(),t=o.findOpusFmtpAttributes(e),n=o.updateOpusFmtpAttributes(e,t,["stereo=1","sprop-stereo=1"]);return o.linesToSDP(n)}static findOpusFmtpAttributes(e){const t=/^a=rtpmap:\s*(\d+)\s+opus\/48000/;let n=!1;const i=[];for(const r of e)if(r.startsWith("m=audio")&&(i.push(null),n=!0),r.startsWith("m=video")&&(n=!1),n){const e=t.exec(r);null!==e&&(i[i.length-1]=`a=fmtp:${e[1]} `)}return i}static updateOpusFmtpAttributes(e,t,n){const i=[];let r=0,a=null;for(const o of e)if(o.startsWith("m=audio")&&(a=t[r],r++),o.startsWith("m=video")&&(a=null),a&&o.startsWith(a)){const e=o.slice(a.length).split(";"),t=[];for(const i of e)n.findIndex((e=>e.startsWith(i.split("=")[0])))<0&&t.push(i);for(const e of n)t.push(e);i.push(a+t.join(";"))}else i.push(o);return i}withUnifiedPlanFormat(){let e=this.sdp;return e.includes("mozilla")?this.clone():(e=e.replace("o=-","o=mozilla-chrome"),new o(e))}getUniqueRtpHeaderExtensionId(e){const t=[];for(const n of e)if(/^a=extmap:/.test(n.trim())){const e=+n.split("a=extmap:")[1].split(" ")[0];t.includes(e)||t.push(e)}t.sort(((e,t)=>e-t));let n=0;for(const e of t){if(e-n>1)return n+1;n=e}return 14===n?-1:n+1}withVideoLayersAllocationRtpHeaderExtension(e){const t="http://www.webrtc.org/experiments/rtp-hdrext/video-layers-allocation00",n=e?e.getRtpHeaderExtensionId(t):-1,i=-1===n?this.getUniqueRtpHeaderExtensionId(o.splitLines(this.sdp)):n,r=o.splitSections(this.sdp),a=[];for(let e of r){if(/^m=video/.test(e)&&-1===o.getRtpHeaderExtensionIdInSection(e,t)){const n=o.splitLines(e),r=[];if(-1===i||this.hasRtpHeaderExtensionId(i)){a.push(e);continue}for(const e of n)if(r.push(e),/^a=sendrecv/.test(e.trim())){const e="a=extmap:"+i+" "+t;r.push(e)}e=r.join(o.CRLF)+o.CRLF}else if(-1!==n&&/^m=video/.test(e)&&o.getRtpHeaderExtensionIdInSection(e,t)!==n){const i=o.splitLines(e),r=[];for(const e of i)if(/^a=extmap:/.test(e.trim())&&e.split("a=extmap:")[1].split(" ")[1]===t){if(!this.hasRtpHeaderExtensionId(n)){const e="a=extmap:"+n+" "+t;r.push(e)}}else r.push(e);e=r.join(o.CRLF)+o.CRLF}a.push(e)}const s=a.join("");return new o(s)}ssrcForVideoSendingSection(){const e=this.sdp,t=o.splitSections(e);if(t.length<2)return"";const n=o.findActiveCameraSection(t);if(-1===n)return"";const i=o.matchPrefix(t[n],"a=ssrc-group:FID ");if(i.length<1)return"";const r=o.extractSSRCsFromFIDGroupLine(i[0]),[a]=r.split(" ").map((e=>parseInt(e,10)));return a.toString()}videoSendSectionHasDifferentSSRC(e){const t=this.ssrcForVideoSendingSection(),n=e.ssrcForVideoSendingSection();return""!==t&&""!==n&&parseInt(t,10)!==parseInt(n,10)}removeH264SupportFromSendSection(){const e=this.sdp,t=o.splitSections(e),n=o.findActiveCameraSection(t);if(-1===n)return new o(this.sdp);const i=t[n],r=o.splitLines(i),a=[],s=new Map;r.forEach((e=>{if(/^a=rtpmap:/.test(e)){const t=/^a=rtpmap:([0-9]+)\s/.exec(e);t&&e.toLowerCase().includes("h264")&&a.push(parseInt(t[1],10))}if(/^a=fmtp:/.test(e)){const t=/^a=fmtp:([0-9]+) apt=([0-9]+)/.exec(e);if(t&&3===t.length){const e=parseInt(t[1],10),n=parseInt(t[2],10);s.has(n)?s.get(n).push(e):s.set(n,[e])}}}));const c=new Set;for(const e of a){c.add(e);const t=s.get(e);if(t)for(const e of t)c.add(e)}if(a.length>0){const e=r[0].split(" ");r[0]=e.filter((e=>!c.has(parseInt(e)))).join(" ")}const d=r.filter((e=>{if(!e.includes("rtpmap")&&!e.includes("rtcp-fb")&&!e.includes("fmtp"))return!0;for(const t of c)if(e.includes(t.toString()))return!1;return!0}));t[n]=d.join(o.CRLF)+o.CRLF;const l=t.join("");return new o(l)}mediaSections(){const e=o.splitSections(this.sdp);if(e.length<2)return[];const t=[];for(let n=1;n<e.length;n++){const i=new r.default,a=o.splitLines(e[n]);for(const e of a){const t=o.mediaType(e);if(void 0!==t){i.mediaType=t;continue}const n=o.direction(e);if(void 0!==n){i.direction=n;continue}const r=o.mid(e);void 0===r||(i.mid=r)}t.push(i)}return t}static getRtpHeaderExtensionIdInSection(e,t){const n=o.splitLines(e);for(const e of n)if(/^a=extmap:/.test(e.trim())){const n=e.split("a=extmap:")[1].split(" "),i=+n[0];if(n[1]===t)return i}return-1}getRtpHeaderExtensionId(e){const t=o.splitSections(this.sdp);for(const n of t)if(/^m=video/.test(n)){const t=o.getRtpHeaderExtensionIdInSection(n,e);if(-1!==t)return t}return-1}hasRtpHeaderExtensionId(e){const t=o.splitLines(this.sdp);for(const n of t)if(/^a=extmap:/.test(n.trim())&&+n.split("a=extmap:")[1].split(" ")[0]===e)return!0;return!1}withVideoSendCodecPreferences(e){const t=this.sdp,n=o.splitSections(t),i=o.findActiveCameraSection(n);if(-1===i)return new o(this.sdp);n[i]=this.sectionWithCodecPreferences(n[i],e);const r=n.join("");return new o(r)}sectionWithCodecPreferences(e,t){const n=new Map,i=o.splitLines(e);i.forEach((e=>{if(/^a=rtpmap:/.test(e))for(const r of t){if(!e.includes(`${r.codecName}/${r.codecCapability.clockRate}`))continue;const t=/^a=rtpmap:([0-9]+)\s/.exec(e);let a=!1;if(void 0!==r.codecCapability.sdpFmtpLine){for(const e of i)if(e.startsWith(`a=fmtp:${t[1]} ${r.codecCapability.sdpFmtpLine}`)){a=!0;break}}else a=!0;if(a){n.set(r.codecName,t[1]);break}}}));const r=new Set(n.values()),a=i[0].split(" ").filter((e=>!r.has(e))),s=Array.from(n.values()).sort(((e,i)=>t.findIndex((t=>n.get(t.codecName)===e))-t.findIndex((e=>n.get(e.codecName)===i))));return a.splice(3,0,...s.values()),i[0]=a.join(" "),i.join(o.CRLF)+o.CRLF}highestPriorityVideoSendCodec(){const e=this.sdp,t=o.splitSections(e),n=o.findActiveCameraSection(t);if(-1===n)return;const i=o.splitLines(t[n]),r=i[0].split(" ");if(r.length<4)return;const s=r[3];let c,d,l;for(const e of i){const t=/^a=rtpmap:([0-9]+)\s/.exec(e);if(null===t||t.length<2||t[1]!==s)continue;const n=e.split(" ")[1].split("/");if(!(void 0===n||n.length<2)){c=n[0],d=n[1];for(const e of i)if(e.startsWith(`a=fmtp:${s}`)){const t=e.split(" ");if(void 0===t||t.length<2)return;l=t[1]}break}}return void 0!==c?new a.default(c,{clockRate:parseInt(d),mimeType:`video/${c}`,sdpFmtpLine:l}):void 0}}t.default=o,o.CRLF="\r\n",o.rfc7587LowestBitrate=6e3,o.rfc7587HighestBitrate=51e4},4076:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.SDPCandidateType=void 0,function(e){e.Host="host",e.ServerReflexive="srflx",e.PeerReflexive="prflx",e.Relay="relay"}(n=t.SDPCandidateType||(t.SDPCandidateType={})),t.default=n},302:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{}},2330:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(289);class r{constructor(e,t){this.codecName=e,this.codecCapability=t}equals(e){return void 0!==e&&this.codecName===e.codecName&&this.codecCapability.mimeType===e.codecCapability.mimeType&&this.codecCapability.clockRate===e.codecCapability.clockRate&&this.codecCapability.sdpFmtpLine===e.codecCapability.sdpFmtpLine}static vp8(){return new r("VP8",{clockRate:9e4,mimeType:"video/VP8"})}static h264ConstrainedBaselineProfile(){return new r("H264",{clockRate:9e4,mimeType:"video/H264",sdpFmtpLine:"level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42e01f"})}static h264(){return this.h264ConstrainedBaselineProfile()}static fromSignaled(e){switch(e){case i.SdkVideoCodecCapability.VP8:return this.vp8();case i.SdkVideoCodecCapability.H264_CONSTRAINED_BASELINE_PROFILE:return this.h264ConstrainedBaselineProfile();default:return}}}t.default=r},6128:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(9591);class r{constructor(e){this.logger=e}compress(e,t){if(t.length>0){const e=Math.min(t.length,r.MAX_DICTIONARY_SIZE);t=t.slice(0,e)}const n={memLevel:r.Z_MEM_LEVEL,dictionary:t};return i.deflateRaw(e,n)}decompress(e,t){if(t.length>0){const e=Math.min(t.length,r.MAX_DICTIONARY_SIZE);t=t.slice(0,e)}const n={to:"string",dictionary:t,chunkSize:4096};let a="";try{a=i.inflateRaw(e,n)}catch(e){this.logger.error(`failed to decompress the string with error: [${e}]`)}return a}}t.default=r,r.Z_MEM_LEVEL=9,r.MAX_DICTIONARY_SIZE=31744},9678:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(3860),r=n(6850),a=n(9553),o=n(3013);t.default=class{constructor(e){this.logger=e,this.currentState=a.SessionStateControllerState.NotConnected,this.deferredAction=null,this.deferredWork=null}perform(e,t){const n=this.currentState;if(n===a.SessionStateControllerState.NotConnected&&e===i.SessionStateControllerAction.Connect)this.transition(a.SessionStateControllerState.Connecting,e);else if(n===a.SessionStateControllerState.Connecting&&e===i.SessionStateControllerAction.Fail)this.transition(a.SessionStateControllerState.Disconnecting,e);else if(n===a.SessionStateControllerState.Connecting&&e===i.SessionStateControllerAction.FinishConnecting)this.transition(a.SessionStateControllerState.Connected,e);else if(n===a.SessionStateControllerState.Connected&&e===i.SessionStateControllerAction.Disconnect)this.transition(a.SessionStateControllerState.Disconnecting,e);else if(n===a.SessionStateControllerState.Connected&&e===i.SessionStateControllerAction.Reconnect)this.transition(a.SessionStateControllerState.Connecting,e);else if(n===a.SessionStateControllerState.Connected&&e===i.SessionStateControllerAction.Fail)this.transition(a.SessionStateControllerState.Disconnecting,e);else if(n===a.SessionStateControllerState.Connected&&e===i.SessionStateControllerAction.Update)this.transition(a.SessionStateControllerState.Updating,e);else if(n===a.SessionStateControllerState.Updating&&e===i.SessionStateControllerAction.Fail)this.transition(a.SessionStateControllerState.Disconnecting,e);else if(n===a.SessionStateControllerState.Updating&&e===i.SessionStateControllerAction.FinishUpdating)this.transition(a.SessionStateControllerState.Connected,e);else{if(n!==a.SessionStateControllerState.Disconnecting||e!==i.SessionStateControllerAction.FinishDisconnecting)return this.canDefer(e)?(this.logger.info(`deferring transition from ${a.SessionStateControllerState[this.currentState]} with ${i.SessionStateControllerAction[e]}`),this.deferAction(e,t),o.SessionStateControllerTransitionResult.DeferredTransition):(this.logger.warn(`no transition found from ${a.SessionStateControllerState[this.currentState]} with ${i.SessionStateControllerAction[e]}`),o.SessionStateControllerTransitionResult.NoTransitionAvailable);this.transition(a.SessionStateControllerState.NotConnected,e)}try{t()}catch(t){return this.logger.error(`error during state ${a.SessionStateControllerState[this.currentState]} with action ${i.SessionStateControllerAction[e]}: ${t}`),this.logger.info(`rolling back transition to ${a.SessionStateControllerState[n]}`),this.currentState=n,o.SessionStateControllerTransitionResult.TransitionFailed}return this.performDeferredAction(),o.SessionStateControllerTransitionResult.Transitioned}state(){return this.currentState}transition(e,t){this.logger.info(`transitioning from ${a.SessionStateControllerState[this.currentState]} to ${a.SessionStateControllerState[e]} with ${i.SessionStateControllerAction[t]}`),this.currentState=e}deferPriority(e){switch(e){case i.SessionStateControllerAction.Disconnect:return r.SessionStateControllerDeferPriority.VeryHigh;case i.SessionStateControllerAction.Fail:return r.SessionStateControllerDeferPriority.High;case i.SessionStateControllerAction.Reconnect:return r.SessionStateControllerDeferPriority.Medium;case i.SessionStateControllerAction.Update:return r.SessionStateControllerDeferPriority.Low;default:return r.SessionStateControllerDeferPriority.DoNotDefer}}deferAction(e,t){null!==this.deferredAction&&this.deferPriority(this.deferredAction)>this.deferPriority(e)||(this.deferredAction=e,this.deferredWork=t)}canDefer(e){return this.deferPriority(e)!==r.SessionStateControllerDeferPriority.DoNotDefer&&(this.currentState===a.SessionStateControllerState.Connecting||this.currentState===a.SessionStateControllerState.Updating)}performDeferredAction(){if(!this.deferredAction)return;const e=this.deferredAction,t=this.deferredWork;this.deferredAction=null,this.deferredWork=null,this.logger.info(`performing deferred action ${i.SessionStateControllerAction[e]}`),this.perform(e,t)!==o.SessionStateControllerTransitionResult.Transitioned&&this.logger.info(`unable to perform deferred action ${i.SessionStateControllerAction[e]} in state ${a.SessionStateControllerState[this.currentState]}`)}}},3860:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.SessionStateControllerAction=void 0,function(e){e[e.Connect=0]="Connect",e[e.FinishConnecting=1]="FinishConnecting",e[e.Update=2]="Update",e[e.FinishUpdating=3]="FinishUpdating",e[e.Reconnect=4]="Reconnect",e[e.Disconnect=5]="Disconnect",e[e.Fail=6]="Fail",e[e.FinishDisconnecting=7]="FinishDisconnecting"}(n=t.SessionStateControllerAction||(t.SessionStateControllerAction={})),t.default=n},6850:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.SessionStateControllerDeferPriority=void 0,function(e){e[e.DoNotDefer=0]="DoNotDefer",e[e.Low=1]="Low",e[e.Medium=2]="Medium",e[e.High=3]="High",e[e.VeryHigh=4]="VeryHigh"}(n=t.SessionStateControllerDeferPriority||(t.SessionStateControllerDeferPriority={})),t.default=n},9553:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.SessionStateControllerState=void 0,function(e){e[e.NotConnected=0]="NotConnected",e[e.Connecting=1]="Connecting",e[e.Connected=2]="Connected",e[e.Updating=3]="Updating",e[e.Disconnecting=4]="Disconnecting"}(n=t.SessionStateControllerState||(t.SessionStateControllerState={})),t.default=n},3013:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.SessionStateControllerTransitionResult=void 0,function(e){e[e.Transitioned=0]="Transitioned",e[e.NoTransitionAvailable=1]="NoTransitionAvailable",e[e.DeferredTransition=2]="DeferredTransition",e[e.TransitionFailed=3]="TransitionFailed"}(n=t.SessionStateControllerTransitionResult||(t.SessionStateControllerTransitionResult={})),t.default=n},1208:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(543),r=n(4929),a=n(289),o=n(8690),s=n(4046),c=n(7387),d=n(7103),l=n(2902),u=n(9416);class h{constructor(e,t){this.webSocket=e,this.logger=t,this.unloadHandler=null,this.closeEventHandler=e=>{this.deactivatePageUnloadHandler(),this.resetConnection(),this.sendEvent(new l.default(this,u.default.WebSocketClosed,null,e.code,e.reason)),this.serviceConnectionRequestQueue()},this.observerQueue=new Set,this.connectionRequestQueue=[],this.resetConnection(),this.logger.debug((()=>"signaling client init")),this.audioSessionId=this.generateNewAudioSessionId()}registerObserver(e){this.logger.debug((()=>"registering signaling client observer")),this.observerQueue.add(e)}removeObserver(e){this.logger.debug((()=>"removing signaling client observer")),this.observerQueue.delete(e)}openConnection(e){this.logger.info("adding connection request to queue: "+e.url()),this.connectionRequestQueue.push(e),this.closeConnection()}pingPong(e){this.logger.debug((()=>"sending ping"));const t=a.SdkSignalFrame.create();return t.type=a.SdkSignalFrame.Type.PING_PONG,t.pingPong=e,this.sendMessage(t),t.timestampMs}join(e){this.logger.info("sending join");const t=a.SdkJoinFrame.create();t.protocolVersion=2,t.flags=a.SdkJoinFlags.HAS_STREAM_UPDATE;const n=new i.default,r={platformName:n.name(),platformVersion:n.version(),clientSource:s.default.sdkName,chimeSdkVersion:s.default.sdkVersion,clientUtcOffset:o.getFormattedOffset((new Date).getTimezoneOffset())};if(e.applicationMetadata){const{appName:t,appVersion:n}=e.applicationMetadata;r.appName=t,r.appVersion=n}t.clientDetails=a.SdkClientDetails.create(r),t.audioSessionId=this.audioSessionId,t.wantsCompressedSdp=h.CLIENT_SUPPORTS_COMPRESSION,t.disablePeriodicKeyframeRequestOnContentSender=e.disablePeriodicKeyframeRequestOnContentSender,t.serverSideNetworkAdaption=d.convertServerSideNetworkAdaptionEnumToSignaled(e.serverSideNetworkAdaption),t.supportedServerSideNetworkAdaptions=e.supportedServerSideNetworkAdaptions.map(d.convertServerSideNetworkAdaptionEnumToSignaled);const c=a.SdkSignalFrame.create();c.type=a.SdkSignalFrame.Type.JOIN,c.join=t,this.sendMessage(c)}subscribe(e){const t=a.SdkSubscribeFrame.create();if(t.sendStreams=[],t.sdpOffer=e.sdpOffer,e.connectionTypeHasVideo&&(t.receiveStreamIds=e.receiveStreamIds),e.audioHost&&(t.audioCheckin=e.audioCheckin,t.audioHost=e.audioHost,t.audioMuted=e.audioMuted,!e.audioCheckin)){const n=a.SdkStreamDescriptor.create();n.mediaType=a.SdkStreamMediaType.AUDIO,n.trackLabel="AmazonChimeExpressAudio",n.attendeeId=e.attendeeId,n.streamId=1,n.groupId=1,n.framerate=15,n.maxBitrateKbps=600,n.avgBitrateBps=4e5,t.sendStreams.push(n)}if(t.compressedSdpOffer=e.compressedSdpOffer,t.duplex=a.SdkStreamServiceType.RX,e.localVideoEnabled){t.duplex=a.SdkStreamServiceType.DUPLEX;for(let n=0;n<e.videoStreamDescriptions.length;n++){const i=e.videoStreamDescriptions[n].clone();i.attendeeId=e.attendeeId,t.sendStreams.push(i.toStreamDescriptor())}}e.videoSubscriptionConfiguration.length>0&&(t.videoSubscriptionConfiguration=e.videoSubscriptionConfiguration.map(this.convertVideoSubscriptionConfiguration));const n=a.SdkSignalFrame.create();n.type=a.SdkSignalFrame.Type.SUBSCRIBE,n.sub=t,this.sendMessage(n)}remoteVideoUpdate(e,t){const n=a.SdkRemoteVideoUpdateFrame.create();n.addedOrUpdatedVideoSubscriptions=e.map(this.convertVideoSubscriptionConfiguration),n.removedVideoSubscriptionMids=t;const i=a.SdkSignalFrame.create();i.type=a.SdkSignalFrame.Type.REMOTE_VIDEO_UPDATE,i.remoteVideoUpdate=n,this.sendMessage(i)}convertVideoSubscriptionConfiguration(e){const t=new a.SdkVideoSubscriptionConfiguration;return t.mid=e.mid,t.attendeeId=e.attendeeId,t.streamId=e.streamId,t.groupId=e.groupId,t.priority=e.priority,t.targetBitrateKbps=e.targetBitrateKbps,t}leave(){const e=a.SdkSignalFrame.create();e.type=a.SdkSignalFrame.Type.LEAVE,e.leave=a.SdkLeaveFrame.create(),this.sendMessage(e),this.logger.debug((()=>"sent leave"))}sendClientMetrics(e){const t=a.SdkSignalFrame.create();t.type=a.SdkSignalFrame.Type.CLIENT_METRIC,t.clientMetric=e,this.sendMessage(t)}sendDataMessage(e){const t=a.SdkSignalFrame.create();t.type=a.SdkSignalFrame.Type.DATA_MESSAGE,t.dataMessage=e,this.sendMessage(t)}closeConnection(){var e,t;if(this.webSocket.readyState()!==c.default.None&&this.webSocket.readyState()!==c.default.Closed){this.isClosing=!0,this.sendEvent(new l.default(this,u.default.WebSocketClosing,null));const n=new r.default(h.CLOSE_EVENT_TIMEOUT_MS),i=e=>{var t,r;null===(r=(t=this.webSocket).removeEventListener)||void 0===r||r.call(t,"close",i),n.stop(),this.closeEventHandler(e)};null===(t=(e=this.webSocket).removeEventListener)||void 0===t||t.call(e,"close",this.closeEventHandler),this.webSocket.addEventListener("close",i),n.start((()=>{i(new CloseEvent("close",{wasClean:!1,code:1006,reason:"",bubbles:!1}))})),this.webSocket.close(),this.deactivatePageUnloadHandler()}else this.logger.info("no existing signaling client connection needs closing"),this.serviceConnectionRequestQueue()}ready(){return this.webSocket.readyState()===c.default.Open&&!this.isClosing&&this.wasOpened}mute(e){const t=a.SdkSignalFrame.create();t.type=a.SdkSignalFrame.Type.AUDIO_CONTROL;const n=a.SdkAudioControlFrame.create();n.muted=e,t.audioControl=n,this.sendMessage(t)}pause(e){const t=a.SdkSignalFrame.create();t.type=a.SdkSignalFrame.Type.PAUSE,t.pause=a.SdkPauseResumeFrame.create(),t.pause.streamIds=e,this.sendMessage(t)}resume(e){const t=a.SdkSignalFrame.create();t.type=a.SdkSignalFrame.Type.RESUME,t.pause=a.SdkPauseResumeFrame.create(),t.pause.streamIds=e,this.sendMessage(t)}resetConnection(){this.webSocket.destroy(),this.wasOpened=!1}sendMessage(e){e.timestampMs=Date.now(),this.logger.debug((()=>`sending: ${JSON.stringify(e)}`));const t=this.prependWithFrameTypeRTC(a.SdkSignalFrame.encode(e).finish());if(this.ready()){if(!this.webSocket.send(t))return void this.sendEvent(new l.default(this,u.default.WebSocketSendMessageFailure,null));this.sendEvent(new l.default(this,u.default.WebSocketSentMessage,null))}else this.sendEvent(new l.default(this,u.default.WebSocketSkippedMessage,null))}receiveMessage(e){let t;try{t=a.SdkSignalFrame.decode(e)}catch(t){return this.logger.info(`failed to decode: ${e}`),void this.sendEvent(new l.default(this,u.default.ProtocolDecodeFailure,null))}this.logger.debug((()=>`received: ${JSON.stringify(t)}`)),this.webSocket.readyState()===c.default.Open?this.sendEvent(new l.default(this,u.default.ReceivedSignalFrame,t)):this.logger.info(`skipping notification of message since WebSocket is not open: ${JSON.stringify(t)}`)}stripFrameTypeRTC(e){const t=e[0];return t!==h.FRAME_TYPE_RTC&&2!==t&&this.logger.warn(`expected FrameTypeRTC for message but got ${t}`),e.slice(1)}prependWithFrameTypeRTC(e){const t=new Uint8Array(e.length+1);return t[0]=h.FRAME_TYPE_RTC,t.set(e,1),t}serviceConnectionRequestQueue(){if(0===this.connectionRequestQueue.length)return void this.logger.info("no connection requests to service");const e=this.connectionRequestQueue.shift();this.logger.info(`opening connection to ${e.url()}`),this.isClosing=!1,this.webSocket.create(e.url(),e.protocols()),this.setUpEventListeners(),this.sendEvent(new l.default(this,u.default.WebSocketConnecting,null))}sendEvent(e){switch(e.type){case u.default.WebSocketMessage:case u.default.ReceivedSignalFrame:case u.default.WebSocketSentMessage:this.logger.debug((()=>`notifying event: ${u.default[e.type]}`));break;case u.default.WebSocketSkippedMessage:this.logger.debug((()=>`notifying event: ${u.default[e.type]}, websocket state=${c.default[this.webSocket.readyState()]}`));break;default:this.logger.info(`notifying event: ${u.default[e.type]}`)}for(const t of this.observerQueue)t.handleSignalingClientEvent(e)}setUpEventListeners(){this.webSocket.addEventListener("open",(()=>{this.activatePageUnloadHandler(),this.wasOpened=!0,this.sendEvent(new l.default(this,u.default.WebSocketOpen,null))})),this.webSocket.addEventListener("message",(e=>{this.sendEvent(new l.default(this,u.default.WebSocketMessage,null)),this.receiveMessage(this.stripFrameTypeRTC(new Uint8Array(e.data)))})),this.webSocket.addEventListener("close",this.closeEventHandler),this.webSocket.addEventListener("error",(()=>{!this.isClosing||this.wasOpened?this.wasOpened?(this.logger.error("received error while connected"),this.sendEvent(new l.default(this,u.default.WebSocketError,null))):(this.logger.error("failed to connect"),this.sendEvent(new l.default(this,u.default.WebSocketFailed,null))):this.logger.info("ignoring error closing signaling while connecting")}))}activatePageUnloadHandler(){this.unloadHandler=()=>{this.leave()};const e=n.g;e.window&&e.window.addEventListener&&window.addEventListener("unload",this.unloadHandler)}deactivatePageUnloadHandler(){const e=n.g;e.window&&e.window.removeEventListener&&window.removeEventListener("unload",this.unloadHandler),this.unloadHandler=null}generateNewAudioSessionId(){const e=new Uint32Array(1);return window.crypto.getRandomValues(e)[0]}promoteToPrimaryMeeting(e){const t=a.SdkMeetingSessionCredentials.create();t.attendeeId=e.attendeeId,t.externalUserId=e.externalUserId,t.joinToken=e.joinToken;const n=a.SdkPrimaryMeetingJoinFrame.create();n.credentials=t;const i=a.SdkSignalFrame.create();i.type=a.SdkSignalFrame.Type.PRIMARY_MEETING_JOIN,i.primaryMeetingJoin=n,this.sendMessage(i)}demoteFromPrimaryMeeting(){const e=a.SdkPrimaryMeetingLeaveFrame.create(),t=a.SdkSignalFrame.create();t.type=a.SdkSignalFrame.Type.PRIMARY_MEETING_LEAVE,t.primaryMeetingLeave=e,this.sendMessage(t)}}t.default=h,h.FRAME_TYPE_RTC=5,h.CLOSE_EVENT_TIMEOUT_MS=2e3,h.CLIENT_SUPPORTS_COMPRESSION=!0},7103:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.convertServerSideNetworkAdaptionEnumToSignaled=t.convertServerSideNetworkAdaptionEnumFromSignaled=t.ServerSideNetworkAdaption=void 0;const i=n(289);var r;!function(e){e[e.Default=0]="Default",e[e.None=1]="None",e[e.BandwidthProbing=2]="BandwidthProbing"}(r=t.ServerSideNetworkAdaption||(t.ServerSideNetworkAdaption={})),t.default=r,t.convertServerSideNetworkAdaptionEnumFromSignaled=function(e){switch(e){case i.SdkServerSideNetworkAdaption.DEFAULT:return r.Default;case i.SdkServerSideNetworkAdaption.NONE:return r.None;case i.SdkServerSideNetworkAdaption.BANDWIDTH_PROBING:return r.BandwidthProbing}},t.convertServerSideNetworkAdaptionEnumToSignaled=function(e){switch(e){case r.Default:return i.SdkServerSideNetworkAdaption.DEFAULT;case r.None:return i.SdkServerSideNetworkAdaption.NONE;case r.BandwidthProbing:return i.SdkServerSideNetworkAdaption.BANDWIDTH_PROBING}}},3920:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{constructor(e,t){this.signalingURL=e,this.joinToken=t}url(){return this.signalingURL+"?X-Chime-Control-Protocol-Version=3&X-Amzn-Chime-Send-Close-On-Error=1"}protocols(){return["_aws_wt_session",this.joinToken]}}},2902:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(9416);t.default=class{constructor(e,t,n,i,r){this.client=e,this.type=t,this.message=n,this.closeCode=i,this.closeReason=r,this.timestampMs=Date.now()}isConnectionTerminated(){switch(this.type){case i.default.WebSocketFailed:case i.default.WebSocketError:case i.default.WebSocketClosing:case i.default.WebSocketClosed:return!0;default:return!1}}}},9416:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.SignalingClientEventType=void 0,function(e){e[e.WebSocketConnecting=0]="WebSocketConnecting",e[e.WebSocketOpen=1]="WebSocketOpen",e[e.WebSocketError=2]="WebSocketError",e[e.WebSocketClosing=3]="WebSocketClosing",e[e.WebSocketClosed=4]="WebSocketClosed",e[e.WebSocketFailed=5]="WebSocketFailed",e[e.WebSocketMessage=6]="WebSocketMessage",e[e.WebSocketSendMessageFailure=7]="WebSocketSendMessageFailure",e[e.WebSocketSentMessage=8]="WebSocketSentMessage",e[e.ProtocolDecodeFailure=9]="ProtocolDecodeFailure",e[e.ReceivedSignalFrame=10]="ReceivedSignalFrame",e[e.WebSocketSkippedMessage=11]="WebSocketSkippedMessage"}(n=t.SignalingClientEventType||(t.SignalingClientEventType={})),t.default=n},2168:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(7103);t.default=class{constructor(e){this.applicationMetadata=e,this.serverSideNetworkAdaption=i.default.Default,this.supportedServerSideNetworkAdaptions=[],this.disablePeriodicKeyframeRequestOnContentSender=!1}}},6729:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{constructor(e,t,n,i,r,a,o,s,c,d){this.attendeeId=e,this.sdpOffer=t,this.audioHost=n,this.audioMuted=i,this.audioCheckin=r,this.receiveStreamIds=a,this.localVideoEnabled=o,this.videoStreamDescriptions=s,this.connectionTypeHasVideo=c,this.compressedSdpOffer=d,this.videoSubscriptionConfiguration=[]}}},9101:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{}},289:(e,t,n)=>{"use strict";var i,r,a=n(2100),o=a.Reader,s=a.Writer,c=a.util,d=a.roots.default||(a.roots.default={});d.SdkSignalFrame=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}var t,n;return e.prototype.timestampMs=c.Long?c.Long.fromBits(0,0,!0):0,e.prototype.type=1,e.prototype.error=null,e.prototype.join=null,e.prototype.joinack=null,e.prototype.sub=null,e.prototype.suback=null,e.prototype.index=null,e.prototype.pause=null,e.prototype.leave=null,e.prototype.leaveAck=null,e.prototype.bitrates=null,e.prototype.audioControl=null,e.prototype.audioMetadata=null,e.prototype.audioStreamIdInfo=null,e.prototype.pingPong=null,e.prototype.audioStatus=null,e.prototype.clientMetric=null,e.prototype.dataMessage=null,e.prototype.remoteVideoUpdate=null,e.prototype.primaryMeetingJoin=null,e.prototype.primaryMeetingJoinAck=null,e.prototype.primaryMeetingLeave=null,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),t.uint32(8).uint64(e.timestampMs),t.uint32(16).int32(e.type),null!=e.error&&Object.hasOwnProperty.call(e,"error")&&d.SdkErrorFrame.encode(e.error,t.uint32(26).fork()).ldelim(),null!=e.join&&Object.hasOwnProperty.call(e,"join")&&d.SdkJoinFrame.encode(e.join,t.uint32(34).fork()).ldelim(),null!=e.joinack&&Object.hasOwnProperty.call(e,"joinack")&&d.SdkJoinAckFrame.encode(e.joinack,t.uint32(42).fork()).ldelim(),null!=e.sub&&Object.hasOwnProperty.call(e,"sub")&&d.SdkSubscribeFrame.encode(e.sub,t.uint32(50).fork()).ldelim(),null!=e.suback&&Object.hasOwnProperty.call(e,"suback")&&d.SdkSubscribeAckFrame.encode(e.suback,t.uint32(58).fork()).ldelim(),null!=e.index&&Object.hasOwnProperty.call(e,"index")&&d.SdkIndexFrame.encode(e.index,t.uint32(66).fork()).ldelim(),null!=e.pause&&Object.hasOwnProperty.call(e,"pause")&&d.SdkPauseResumeFrame.encode(e.pause,t.uint32(82).fork()).ldelim(),null!=e.leave&&Object.hasOwnProperty.call(e,"leave")&&d.SdkLeaveFrame.encode(e.leave,t.uint32(90).fork()).ldelim(),null!=e.leaveAck&&Object.hasOwnProperty.call(e,"leaveAck")&&d.SdkLeaveAckFrame.encode(e.leaveAck,t.uint32(98).fork()).ldelim(),null!=e.bitrates&&Object.hasOwnProperty.call(e,"bitrates")&&d.SdkBitrateFrame.encode(e.bitrates,t.uint32(114).fork()).ldelim(),null!=e.audioControl&&Object.hasOwnProperty.call(e,"audioControl")&&d.SdkAudioControlFrame.encode(e.audioControl,t.uint32(138).fork()).ldelim(),null!=e.audioMetadata&&Object.hasOwnProperty.call(e,"audioMetadata")&&d.SdkAudioMetadataFrame.encode(e.audioMetadata,t.uint32(146).fork()).ldelim(),null!=e.audioStreamIdInfo&&Object.hasOwnProperty.call(e,"audioStreamIdInfo")&&d.SdkAudioStreamIdInfoFrame.encode(e.audioStreamIdInfo,t.uint32(154).fork()).ldelim(),null!=e.pingPong&&Object.hasOwnProperty.call(e,"pingPong")&&d.SdkPingPongFrame.encode(e.pingPong,t.uint32(162).fork()).ldelim(),null!=e.audioStatus&&Object.hasOwnProperty.call(e,"audioStatus")&&d.SdkAudioStatusFrame.encode(e.audioStatus,t.uint32(170).fork()).ldelim(),null!=e.clientMetric&&Object.hasOwnProperty.call(e,"clientMetric")&&d.SdkClientMetricFrame.encode(e.clientMetric,t.uint32(178).fork()).ldelim(),null!=e.dataMessage&&Object.hasOwnProperty.call(e,"dataMessage")&&d.SdkDataMessageFrame.encode(e.dataMessage,t.uint32(186).fork()).ldelim(),null!=e.remoteVideoUpdate&&Object.hasOwnProperty.call(e,"remoteVideoUpdate")&&d.SdkRemoteVideoUpdateFrame.encode(e.remoteVideoUpdate,t.uint32(202).fork()).ldelim(),null!=e.primaryMeetingJoin&&Object.hasOwnProperty.call(e,"primaryMeetingJoin")&&d.SdkPrimaryMeetingJoinFrame.encode(e.primaryMeetingJoin,t.uint32(210).fork()).ldelim(),null!=e.primaryMeetingJoinAck&&Object.hasOwnProperty.call(e,"primaryMeetingJoinAck")&&d.SdkPrimaryMeetingJoinAckFrame.encode(e.primaryMeetingJoinAck,t.uint32(218).fork()).ldelim(),null!=e.primaryMeetingLeave&&Object.hasOwnProperty.call(e,"primaryMeetingLeave")&&d.SdkPrimaryMeetingLeaveFrame.encode(e.primaryMeetingLeave,t.uint32(226).fork()).ldelim(),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new d.SdkSignalFrame;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:i.timestampMs=e.uint64();break;case 2:i.type=e.int32();break;case 3:i.error=d.SdkErrorFrame.decode(e,e.uint32());break;case 4:i.join=d.SdkJoinFrame.decode(e,e.uint32());break;case 5:i.joinack=d.SdkJoinAckFrame.decode(e,e.uint32());break;case 6:i.sub=d.SdkSubscribeFrame.decode(e,e.uint32());break;case 7:i.suback=d.SdkSubscribeAckFrame.decode(e,e.uint32());break;case 8:i.index=d.SdkIndexFrame.decode(e,e.uint32());break;case 10:i.pause=d.SdkPauseResumeFrame.decode(e,e.uint32());break;case 11:i.leave=d.SdkLeaveFrame.decode(e,e.uint32());break;case 12:i.leaveAck=d.SdkLeaveAckFrame.decode(e,e.uint32());break;case 14:i.bitrates=d.SdkBitrateFrame.decode(e,e.uint32());break;case 17:i.audioControl=d.SdkAudioControlFrame.decode(e,e.uint32());break;case 18:i.audioMetadata=d.SdkAudioMetadataFrame.decode(e,e.uint32());break;case 19:i.audioStreamIdInfo=d.SdkAudioStreamIdInfoFrame.decode(e,e.uint32());break;case 20:i.pingPong=d.SdkPingPongFrame.decode(e,e.uint32());break;case 21:i.audioStatus=d.SdkAudioStatusFrame.decode(e,e.uint32());break;case 22:i.clientMetric=d.SdkClientMetricFrame.decode(e,e.uint32());break;case 23:i.dataMessage=d.SdkDataMessageFrame.decode(e,e.uint32());break;case 25:i.remoteVideoUpdate=d.SdkRemoteVideoUpdateFrame.decode(e,e.uint32());break;case 26:i.primaryMeetingJoin=d.SdkPrimaryMeetingJoinFrame.decode(e,e.uint32());break;case 27:i.primaryMeetingJoinAck=d.SdkPrimaryMeetingJoinAckFrame.decode(e,e.uint32());break;case 28:i.primaryMeetingLeave=d.SdkPrimaryMeetingLeaveFrame.decode(e,e.uint32());break;default:e.skipType(7&r)}}if(!i.hasOwnProperty("timestampMs"))throw c.ProtocolError("missing required 'timestampMs'",{instance:i});if(!i.hasOwnProperty("type"))throw c.ProtocolError("missing required 'type'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof o||(e=new o(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(!(c.isInteger(e.timestampMs)||e.timestampMs&&c.isInteger(e.timestampMs.low)&&c.isInteger(e.timestampMs.high)))return"timestampMs: integer|Long expected";switch(e.type){default:return"type: enum value expected";case 1:case 2:case 3:case 4:case 5:case 7:case 8:case 9:case 10:case 13:case 16:case 17:case 18:case 19:case 20:case 21:case 22:case 24:case 25:case 26:case 27:}var t;return null!=e.error&&e.hasOwnProperty("error")&&(t=d.SdkErrorFrame.verify(e.error))?"error."+t:null!=e.join&&e.hasOwnProperty("join")&&(t=d.SdkJoinFrame.verify(e.join))?"join."+t:null!=e.joinack&&e.hasOwnProperty("joinack")&&(t=d.SdkJoinAckFrame.verify(e.joinack))?"joinack."+t:null!=e.sub&&e.hasOwnProperty("sub")&&(t=d.SdkSubscribeFrame.verify(e.sub))?"sub."+t:null!=e.suback&&e.hasOwnProperty("suback")&&(t=d.SdkSubscribeAckFrame.verify(e.suback))?"suback."+t:null!=e.index&&e.hasOwnProperty("index")&&(t=d.SdkIndexFrame.verify(e.index))?"index."+t:null!=e.pause&&e.hasOwnProperty("pause")&&(t=d.SdkPauseResumeFrame.verify(e.pause))?"pause."+t:null!=e.leave&&e.hasOwnProperty("leave")&&(t=d.SdkLeaveFrame.verify(e.leave))?"leave."+t:null!=e.leaveAck&&e.hasOwnProperty("leaveAck")&&(t=d.SdkLeaveAckFrame.verify(e.leaveAck))?"leaveAck."+t:null!=e.bitrates&&e.hasOwnProperty("bitrates")&&(t=d.SdkBitrateFrame.verify(e.bitrates))?"bitrates."+t:null!=e.audioControl&&e.hasOwnProperty("audioControl")&&(t=d.SdkAudioControlFrame.verify(e.audioControl))?"audioControl."+t:null!=e.audioMetadata&&e.hasOwnProperty("audioMetadata")&&(t=d.SdkAudioMetadataFrame.verify(e.audioMetadata))?"audioMetadata."+t:null!=e.audioStreamIdInfo&&e.hasOwnProperty("audioStreamIdInfo")&&(t=d.SdkAudioStreamIdInfoFrame.verify(e.audioStreamIdInfo))?"audioStreamIdInfo."+t:null!=e.pingPong&&e.hasOwnProperty("pingPong")&&(t=d.SdkPingPongFrame.verify(e.pingPong))?"pingPong."+t:null!=e.audioStatus&&e.hasOwnProperty("audioStatus")&&(t=d.SdkAudioStatusFrame.verify(e.audioStatus))?"audioStatus."+t:null!=e.clientMetric&&e.hasOwnProperty("clientMetric")&&(t=d.SdkClientMetricFrame.verify(e.clientMetric))?"clientMetric."+t:null!=e.dataMessage&&e.hasOwnProperty("dataMessage")&&(t=d.SdkDataMessageFrame.verify(e.dataMessage))?"dataMessage."+t:null!=e.remoteVideoUpdate&&e.hasOwnProperty("remoteVideoUpdate")&&(t=d.SdkRemoteVideoUpdateFrame.verify(e.remoteVideoUpdate))?"remoteVideoUpdate."+t:null!=e.primaryMeetingJoin&&e.hasOwnProperty("primaryMeetingJoin")&&(t=d.SdkPrimaryMeetingJoinFrame.verify(e.primaryMeetingJoin))?"primaryMeetingJoin."+t:null!=e.primaryMeetingJoinAck&&e.hasOwnProperty("primaryMeetingJoinAck")&&(t=d.SdkPrimaryMeetingJoinAckFrame.verify(e.primaryMeetingJoinAck))?"primaryMeetingJoinAck."+t:null!=e.primaryMeetingLeave&&e.hasOwnProperty("primaryMeetingLeave")&&(t=d.SdkPrimaryMeetingLeaveFrame.verify(e.primaryMeetingLeave))?"primaryMeetingLeave."+t:null},e.fromObject=function(e){if(e instanceof d.SdkSignalFrame)return e;var t=new d.SdkSignalFrame;switch(null!=e.timestampMs&&(c.Long?(t.timestampMs=c.Long.fromValue(e.timestampMs)).unsigned=!0:"string"==typeof e.timestampMs?t.timestampMs=parseInt(e.timestampMs,10):"number"==typeof e.timestampMs?t.timestampMs=e.timestampMs:"object"==typeof e.timestampMs&&(t.timestampMs=new c.LongBits(e.timestampMs.low>>>0,e.timestampMs.high>>>0).toNumber(!0))),e.type){case"JOIN":case 1:t.type=1;break;case"JOIN_ACK":case 2:t.type=2;break;case"SUBSCRIBE":case 3:t.type=3;break;case"SUBSCRIBE_ACK":case 4:t.type=4;break;case"INDEX":case 5:t.type=5;break;case"PAUSE":case 7:t.type=7;break;case"RESUME":case 8:t.type=8;break;case"LEAVE":case 9:t.type=9;break;case"LEAVE_ACK":case 10:t.type=10;break;case"BITRATES":case 13:t.type=13;break;case"AUDIO_CONTROL":case 16:t.type=16;break;case"AUDIO_METADATA":case 17:t.type=17;break;case"AUDIO_STREAM_ID_INFO":case 18:t.type=18;break;case"PING_PONG":case 19:t.type=19;break;case"AUDIO_STATUS":case 20:t.type=20;break;case"CLIENT_METRIC":case 21:t.type=21;break;case"DATA_MESSAGE":case 22:t.type=22;break;case"REMOTE_VIDEO_UPDATE":case 24:t.type=24;break;case"PRIMARY_MEETING_JOIN":case 25:t.type=25;break;case"PRIMARY_MEETING_JOIN_ACK":case 26:t.type=26;break;case"PRIMARY_MEETING_LEAVE":case 27:t.type=27}if(null!=e.error){if("object"!=typeof e.error)throw TypeError(".SdkSignalFrame.error: object expected");t.error=d.SdkErrorFrame.fromObject(e.error)}if(null!=e.join){if("object"!=typeof e.join)throw TypeError(".SdkSignalFrame.join: object expected");t.join=d.SdkJoinFrame.fromObject(e.join)}if(null!=e.joinack){if("object"!=typeof e.joinack)throw TypeError(".SdkSignalFrame.joinack: object expected");t.joinack=d.SdkJoinAckFrame.fromObject(e.joinack)}if(null!=e.sub){if("object"!=typeof e.sub)throw TypeError(".SdkSignalFrame.sub: object expected");t.sub=d.SdkSubscribeFrame.fromObject(e.sub)}if(null!=e.suback){if("object"!=typeof e.suback)throw TypeError(".SdkSignalFrame.suback: object expected");t.suback=d.SdkSubscribeAckFrame.fromObject(e.suback)}if(null!=e.index){if("object"!=typeof e.index)throw TypeError(".SdkSignalFrame.index: object expected");t.index=d.SdkIndexFrame.fromObject(e.index)}if(null!=e.pause){if("object"!=typeof e.pause)throw TypeError(".SdkSignalFrame.pause: object expected");t.pause=d.SdkPauseResumeFrame.fromObject(e.pause)}if(null!=e.leave){if("object"!=typeof e.leave)throw TypeError(".SdkSignalFrame.leave: object expected");t.leave=d.SdkLeaveFrame.fromObject(e.leave)}if(null!=e.leaveAck){if("object"!=typeof e.leaveAck)throw TypeError(".SdkSignalFrame.leaveAck: object expected");t.leaveAck=d.SdkLeaveAckFrame.fromObject(e.leaveAck)}if(null!=e.bitrates){if("object"!=typeof e.bitrates)throw TypeError(".SdkSignalFrame.bitrates: object expected");t.bitrates=d.SdkBitrateFrame.fromObject(e.bitrates)}if(null!=e.audioControl){if("object"!=typeof e.audioControl)throw TypeError(".SdkSignalFrame.audioControl: object expected");t.audioControl=d.SdkAudioControlFrame.fromObject(e.audioControl)}if(null!=e.audioMetadata){if("object"!=typeof e.audioMetadata)throw TypeError(".SdkSignalFrame.audioMetadata: object expected");t.audioMetadata=d.SdkAudioMetadataFrame.fromObject(e.audioMetadata)}if(null!=e.audioStreamIdInfo){if("object"!=typeof e.audioStreamIdInfo)throw TypeError(".SdkSignalFrame.audioStreamIdInfo: object expected");t.audioStreamIdInfo=d.SdkAudioStreamIdInfoFrame.fromObject(e.audioStreamIdInfo)}if(null!=e.pingPong){if("object"!=typeof e.pingPong)throw TypeError(".SdkSignalFrame.pingPong: object expected");t.pingPong=d.SdkPingPongFrame.fromObject(e.pingPong)}if(null!=e.audioStatus){if("object"!=typeof e.audioStatus)throw TypeError(".SdkSignalFrame.audioStatus: object expected");t.audioStatus=d.SdkAudioStatusFrame.fromObject(e.audioStatus)}if(null!=e.clientMetric){if("object"!=typeof e.clientMetric)throw TypeError(".SdkSignalFrame.clientMetric: object expected");t.clientMetric=d.SdkClientMetricFrame.fromObject(e.clientMetric)}if(null!=e.dataMessage){if("object"!=typeof e.dataMessage)throw TypeError(".SdkSignalFrame.dataMessage: object expected");t.dataMessage=d.SdkDataMessageFrame.fromObject(e.dataMessage)}if(null!=e.remoteVideoUpdate){if("object"!=typeof e.remoteVideoUpdate)throw TypeError(".SdkSignalFrame.remoteVideoUpdate: object expected");t.remoteVideoUpdate=d.SdkRemoteVideoUpdateFrame.fromObject(e.remoteVideoUpdate)}if(null!=e.primaryMeetingJoin){if("object"!=typeof e.primaryMeetingJoin)throw TypeError(".SdkSignalFrame.primaryMeetingJoin: object expected");t.primaryMeetingJoin=d.SdkPrimaryMeetingJoinFrame.fromObject(e.primaryMeetingJoin)}if(null!=e.primaryMeetingJoinAck){if("object"!=typeof e.primaryMeetingJoinAck)throw TypeError(".SdkSignalFrame.primaryMeetingJoinAck: object expected");t.primaryMeetingJoinAck=d.SdkPrimaryMeetingJoinAckFrame.fromObject(e.primaryMeetingJoinAck)}if(null!=e.primaryMeetingLeave){if("object"!=typeof e.primaryMeetingLeave)throw TypeError(".SdkSignalFrame.primaryMeetingLeave: object expected");t.primaryMeetingLeave=d.SdkPrimaryMeetingLeaveFrame.fromObject(e.primaryMeetingLeave)}return t},e.toObject=function(e,t){t||(t={});var n={};if(t.defaults){if(c.Long){var i=new c.Long(0,0,!0);n.timestampMs=t.longs===String?i.toString():t.longs===Number?i.toNumber():i}else n.timestampMs=t.longs===String?"0":0;n.type=t.enums===String?"JOIN":1,n.error=null,n.join=null,n.joinack=null,n.sub=null,n.suback=null,n.index=null,n.pause=null,n.leave=null,n.leaveAck=null,n.bitrates=null,n.audioControl=null,n.audioMetadata=null,n.audioStreamIdInfo=null,n.pingPong=null,n.audioStatus=null,n.clientMetric=null,n.dataMessage=null,n.remoteVideoUpdate=null,n.primaryMeetingJoin=null,n.primaryMeetingJoinAck=null,n.primaryMeetingLeave=null}return null!=e.timestampMs&&e.hasOwnProperty("timestampMs")&&("number"==typeof e.timestampMs?n.timestampMs=t.longs===String?String(e.timestampMs):e.timestampMs:n.timestampMs=t.longs===String?c.Long.prototype.toString.call(e.timestampMs):t.longs===Number?new c.LongBits(e.timestampMs.low>>>0,e.timestampMs.high>>>0).toNumber(!0):e.timestampMs),null!=e.type&&e.hasOwnProperty("type")&&(n.type=t.enums===String?d.SdkSignalFrame.Type[e.type]:e.type),null!=e.error&&e.hasOwnProperty("error")&&(n.error=d.SdkErrorFrame.toObject(e.error,t)),null!=e.join&&e.hasOwnProperty("join")&&(n.join=d.SdkJoinFrame.toObject(e.join,t)),null!=e.joinack&&e.hasOwnProperty("joinack")&&(n.joinack=d.SdkJoinAckFrame.toObject(e.joinack,t)),null!=e.sub&&e.hasOwnProperty("sub")&&(n.sub=d.SdkSubscribeFrame.toObject(e.sub,t)),null!=e.suback&&e.hasOwnProperty("suback")&&(n.suback=d.SdkSubscribeAckFrame.toObject(e.suback,t)),null!=e.index&&e.hasOwnProperty("index")&&(n.index=d.SdkIndexFrame.toObject(e.index,t)),null!=e.pause&&e.hasOwnProperty("pause")&&(n.pause=d.SdkPauseResumeFrame.toObject(e.pause,t)),null!=e.leave&&e.hasOwnProperty("leave")&&(n.leave=d.SdkLeaveFrame.toObject(e.leave,t)),null!=e.leaveAck&&e.hasOwnProperty("leaveAck")&&(n.leaveAck=d.SdkLeaveAckFrame.toObject(e.leaveAck,t)),null!=e.bitrates&&e.hasOwnProperty("bitrates")&&(n.bitrates=d.SdkBitrateFrame.toObject(e.bitrates,t)),null!=e.audioControl&&e.hasOwnProperty("audioControl")&&(n.audioControl=d.SdkAudioControlFrame.toObject(e.audioControl,t)),null!=e.audioMetadata&&e.hasOwnProperty("audioMetadata")&&(n.audioMetadata=d.SdkAudioMetadataFrame.toObject(e.audioMetadata,t)),null!=e.audioStreamIdInfo&&e.hasOwnProperty("audioStreamIdInfo")&&(n.audioStreamIdInfo=d.SdkAudioStreamIdInfoFrame.toObject(e.audioStreamIdInfo,t)),null!=e.pingPong&&e.hasOwnProperty("pingPong")&&(n.pingPong=d.SdkPingPongFrame.toObject(e.pingPong,t)),null!=e.audioStatus&&e.hasOwnProperty("audioStatus")&&(n.audioStatus=d.SdkAudioStatusFrame.toObject(e.audioStatus,t)),null!=e.clientMetric&&e.hasOwnProperty("clientMetric")&&(n.clientMetric=d.SdkClientMetricFrame.toObject(e.clientMetric,t)),null!=e.dataMessage&&e.hasOwnProperty("dataMessage")&&(n.dataMessage=d.SdkDataMessageFrame.toObject(e.dataMessage,t)),null!=e.remoteVideoUpdate&&e.hasOwnProperty("remoteVideoUpdate")&&(n.remoteVideoUpdate=d.SdkRemoteVideoUpdateFrame.toObject(e.remoteVideoUpdate,t)),null!=e.primaryMeetingJoin&&e.hasOwnProperty("primaryMeetingJoin")&&(n.primaryMeetingJoin=d.SdkPrimaryMeetingJoinFrame.toObject(e.primaryMeetingJoin,t)),null!=e.primaryMeetingJoinAck&&e.hasOwnProperty("primaryMeetingJoinAck")&&(n.primaryMeetingJoinAck=d.SdkPrimaryMeetingJoinAckFrame.toObject(e.primaryMeetingJoinAck,t)),null!=e.primaryMeetingLeave&&e.hasOwnProperty("primaryMeetingLeave")&&(n.primaryMeetingLeave=d.SdkPrimaryMeetingLeaveFrame.toObject(e.primaryMeetingLeave,t)),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,a.util.toJSONOptions)},e.Type=(t={},(n=Object.create(t))[t[1]="JOIN"]=1,n[t[2]="JOIN_ACK"]=2,n[t[3]="SUBSCRIBE"]=3,n[t[4]="SUBSCRIBE_ACK"]=4,n[t[5]="INDEX"]=5,n[t[7]="PAUSE"]=7,n[t[8]="RESUME"]=8,n[t[9]="LEAVE"]=9,n[t[10]="LEAVE_ACK"]=10,n[t[13]="BITRATES"]=13,n[t[16]="AUDIO_CONTROL"]=16,n[t[17]="AUDIO_METADATA"]=17,n[t[18]="AUDIO_STREAM_ID_INFO"]=18,n[t[19]="PING_PONG"]=19,n[t[20]="AUDIO_STATUS"]=20,n[t[21]="CLIENT_METRIC"]=21,n[t[22]="DATA_MESSAGE"]=22,n[t[24]="REMOTE_VIDEO_UPDATE"]=24,n[t[25]="PRIMARY_MEETING_JOIN"]=25,n[t[26]="PRIMARY_MEETING_JOIN_ACK"]=26,n[t[27]="PRIMARY_MEETING_LEAVE"]=27,n),e}(),d.SdkErrorFrame=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.status=0,e.prototype.description="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),null!=e.status&&Object.hasOwnProperty.call(e,"status")&&t.uint32(8).uint32(e.status),null!=e.description&&Object.hasOwnProperty.call(e,"description")&&t.uint32(18).string(e.description),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new d.SdkErrorFrame;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:i.status=e.uint32();break;case 2:i.description=e.string();break;default:e.skipType(7&r)}}return i},e.decodeDelimited=function(e){return e instanceof o||(e=new o(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.status&&e.hasOwnProperty("status")&&!c.isInteger(e.status)?"status: integer expected":null!=e.description&&e.hasOwnProperty("description")&&!c.isString(e.description)?"description: string expected":null},e.fromObject=function(e){if(e instanceof d.SdkErrorFrame)return e;var t=new d.SdkErrorFrame;return null!=e.status&&(t.status=e.status>>>0),null!=e.description&&(t.description=String(e.description)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.status=0,n.description=""),null!=e.status&&e.hasOwnProperty("status")&&(n.status=e.status),null!=e.description&&e.hasOwnProperty("description")&&(n.description=e.description),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,a.util.toJSONOptions)},e}(),d.SdkJoinFlags=(i={},(r=Object.create(i))[i[2]="HAS_STREAM_UPDATE"]=2,r[i[16]="COMPLETE_VIDEO_SOURCES_LIST"]=16,r[i[32]="EXCLUDE_SELF_CONTENT_IN_INDEX"]=32,r),d.SdkClientDetails=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.appName="",e.prototype.appVersion="",e.prototype.deviceModel="",e.prototype.deviceMake="",e.prototype.platformName="",e.prototype.platformVersion="",e.prototype.clientSource="",e.prototype.chimeSdkVersion="",e.prototype.clientUtcOffset="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),null!=e.appName&&Object.hasOwnProperty.call(e,"appName")&&t.uint32(10).string(e.appName),null!=e.appVersion&&Object.hasOwnProperty.call(e,"appVersion")&&t.uint32(18).string(e.appVersion),null!=e.deviceModel&&Object.hasOwnProperty.call(e,"deviceModel")&&t.uint32(26).string(e.deviceModel),null!=e.deviceMake&&Object.hasOwnProperty.call(e,"deviceMake")&&t.uint32(34).string(e.deviceMake),null!=e.platformName&&Object.hasOwnProperty.call(e,"platformName")&&t.uint32(42).string(e.platformName),null!=e.platformVersion&&Object.hasOwnProperty.call(e,"platformVersion")&&t.uint32(50).string(e.platformVersion),null!=e.clientSource&&Object.hasOwnProperty.call(e,"clientSource")&&t.uint32(58).string(e.clientSource),null!=e.chimeSdkVersion&&Object.hasOwnProperty.call(e,"chimeSdkVersion")&&t.uint32(66).string(e.chimeSdkVersion),null!=e.clientUtcOffset&&Object.hasOwnProperty.call(e,"clientUtcOffset")&&t.uint32(74).string(e.clientUtcOffset),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new d.SdkClientDetails;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:i.appName=e.string();break;case 2:i.appVersion=e.string();break;case 3:i.deviceModel=e.string();break;case 4:i.deviceMake=e.string();break;case 5:i.platformName=e.string();break;case 6:i.platformVersion=e.string();break;case 7:i.clientSource=e.string();break;case 8:i.chimeSdkVersion=e.string();break;case 9:i.clientUtcOffset=e.string();break;default:e.skipType(7&r)}}return i},e.decodeDelimited=function(e){return e instanceof o||(e=new o(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.appName&&e.hasOwnProperty("appName")&&!c.isString(e.appName)?"appName: string expected":null!=e.appVersion&&e.hasOwnProperty("appVersion")&&!c.isString(e.appVersion)?"appVersion: string expected":null!=e.deviceModel&&e.hasOwnProperty("deviceModel")&&!c.isString(e.deviceModel)?"deviceModel: string expected":null!=e.deviceMake&&e.hasOwnProperty("deviceMake")&&!c.isString(e.deviceMake)?"deviceMake: string expected":null!=e.platformName&&e.hasOwnProperty("platformName")&&!c.isString(e.platformName)?"platformName: string expected":null!=e.platformVersion&&e.hasOwnProperty("platformVersion")&&!c.isString(e.platformVersion)?"platformVersion: string expected":null!=e.clientSource&&e.hasOwnProperty("clientSource")&&!c.isString(e.clientSource)?"clientSource: string expected":null!=e.chimeSdkVersion&&e.hasOwnProperty("chimeSdkVersion")&&!c.isString(e.chimeSdkVersion)?"chimeSdkVersion: string expected":null!=e.clientUtcOffset&&e.hasOwnProperty("clientUtcOffset")&&!c.isString(e.clientUtcOffset)?"clientUtcOffset: string expected":null},e.fromObject=function(e){if(e instanceof d.SdkClientDetails)return e;var t=new d.SdkClientDetails;return null!=e.appName&&(t.appName=String(e.appName)),null!=e.appVersion&&(t.appVersion=String(e.appVersion)),null!=e.deviceModel&&(t.deviceModel=String(e.deviceModel)),null!=e.deviceMake&&(t.deviceMake=String(e.deviceMake)),null!=e.platformName&&(t.platformName=String(e.platformName)),null!=e.platformVersion&&(t.platformVersion=String(e.platformVersion)),null!=e.clientSource&&(t.clientSource=String(e.clientSource)),null!=e.chimeSdkVersion&&(t.chimeSdkVersion=String(e.chimeSdkVersion)),null!=e.clientUtcOffset&&(t.clientUtcOffset=String(e.clientUtcOffset)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.appName="",n.appVersion="",n.deviceModel="",n.deviceMake="",n.platformName="",n.platformVersion="",n.clientSource="",n.chimeSdkVersion="",n.clientUtcOffset=""),null!=e.appName&&e.hasOwnProperty("appName")&&(n.appName=e.appName),null!=e.appVersion&&e.hasOwnProperty("appVersion")&&(n.appVersion=e.appVersion),null!=e.deviceModel&&e.hasOwnProperty("deviceModel")&&(n.deviceModel=e.deviceModel),null!=e.deviceMake&&e.hasOwnProperty("deviceMake")&&(n.deviceMake=e.deviceMake),null!=e.platformName&&e.hasOwnProperty("platformName")&&(n.platformName=e.platformName),null!=e.platformVersion&&e.hasOwnProperty("platformVersion")&&(n.platformVersion=e.platformVersion),null!=e.clientSource&&e.hasOwnProperty("clientSource")&&(n.clientSource=e.clientSource),null!=e.chimeSdkVersion&&e.hasOwnProperty("chimeSdkVersion")&&(n.chimeSdkVersion=e.chimeSdkVersion),null!=e.clientUtcOffset&&e.hasOwnProperty("clientUtcOffset")&&(n.clientUtcOffset=e.clientUtcOffset),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,a.util.toJSONOptions)},e}(),d.SdkServerSideNetworkAdaption=function(){var e={},t=Object.create(e);return t[e[1]="DEFAULT"]=1,t[e[2]="NONE"]=2,t[e[3]="BANDWIDTH_PROBING"]=3,t}(),d.SdkJoinFrame=function(){function e(e){if(this.supportedServerSideNetworkAdaptions=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.protocolVersion=2,e.prototype.maxNumOfVideos=0,e.prototype.flags=0,e.prototype.clientDetails=null,e.prototype.audioSessionId=c.Long?c.Long.fromBits(0,0,!0):0,e.prototype.wantsCompressedSdp=!1,e.prototype.serverSideNetworkAdaption=1,e.prototype.supportedServerSideNetworkAdaptions=c.emptyArray,e.prototype.disablePeriodicKeyframeRequestOnContentSender=!1,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=s.create()),null!=e.protocolVersion&&Object.hasOwnProperty.call(e,"protocolVersion")&&t.uint32(8).uint32(e.protocolVersion),null!=e.maxNumOfVideos&&Object.hasOwnProperty.call(e,"maxNumOfVideos")&&t.uint32(16).uint32(e.maxNumOfVideos),null!=e.flags&&Object.hasOwnProperty.call(e,"flags")&&t.uint32(24).uint32(e.flags),null!=e.clientDetails&&Object.hasOwnProperty.call(e,"clientDetails")&&d.SdkClientDetails.encode(e.clientDetails,t.uint32(34).fork()).ldelim(),null!=e.audioSessionId&&Object.hasOwnProperty.call(e,"audioSessionId")&&t.uint32(48).uint64(e.audioSessionId),null!=e.wantsCompressedSdp&&Object.hasOwnProperty.call(e,"wantsCompressedSdp")&&t.uint32(56).bool(e.wantsCompressedSdp),null!=e.serverSideNetworkAdaption&&Object.hasOwnProperty.call(e,"serverSideNetworkAdaption")&&t.uint32(80).int32(e.serverSideNetworkAdaption),null!=e.supportedServerSideNetworkAdaptions&&e.supportedServerSideNetworkAdaptions.length)for(var n=0;n<e.supportedServerSideNetworkAdaptions.length;++n)t.uint32(88).int32(e.supportedServerSideNetworkAdaptions[n]);return null!=e.disablePeriodicKeyframeRequestOnContentSender&&Object.hasOwnProperty.call(e,"disablePeriodicKeyframeRequestOnContentSender")&&t.uint32(104).bool(e.disablePeriodicKeyframeRequestOnContentSender),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new d.SdkJoinFrame;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:i.protocolVersion=e.uint32();break;case 2:i.maxNumOfVideos=e.uint32();break;case 3:i.flags=e.uint32();break;case 4:i.clientDetails=d.SdkClientDetails.decode(e,e.uint32());break;case 6:i.audioSessionId=e.uint64();break;case 7:i.wantsCompressedSdp=e.bool();break;case 10:i.serverSideNetworkAdaption=e.int32();break;case 11:if(i.supportedServerSideNetworkAdaptions&&i.supportedServerSideNetworkAdaptions.length||(i.supportedServerSideNetworkAdaptions=[]),2==(7&r))for(var a=e.uint32()+e.pos;e.pos<a;)i.supportedServerSideNetworkAdaptions.push(e.int32());else i.supportedServerSideNetworkAdaptions.push(e.int32());break;case 13:i.disablePeriodicKeyframeRequestOnContentSender=e.bool();break;default:e.skipType(7&r)}}return i},e.decodeDelimited=function(e){return e instanceof o||(e=new o(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.protocolVersion&&e.hasOwnProperty("protocolVersion")&&!c.isInteger(e.protocolVersion))return"protocolVersion: integer expected";if(null!=e.maxNumOfVideos&&e.hasOwnProperty("maxNumOfVideos")&&!c.isInteger(e.maxNumOfVideos))return"maxNumOfVideos: integer expected";if(null!=e.flags&&e.hasOwnProperty("flags")&&!c.isInteger(e.flags))return"flags: integer expected";if(null!=e.clientDetails&&e.hasOwnProperty("clientDetails")){var t=d.SdkClientDetails.verify(e.clientDetails);if(t)return"clientDetails."+t}if(null!=e.audioSessionId&&e.hasOwnProperty("audioSessionId")&&!(c.isInteger(e.audioSessionId)||e.audioSessionId&&c.isInteger(e.audioSessionId.low)&&c.isInteger(e.audioSessionId.high)))return"audioSessionId: integer|Long expected";if(null!=e.wantsCompressedSdp&&e.hasOwnProperty("wantsCompressedSdp")&&"boolean"!=typeof e.wantsCompressedSdp)return"wantsCompressedSdp: boolean expected";if(null!=e.serverSideNetworkAdaption&&e.hasOwnProperty("serverSideNetworkAdaption"))switch(e.serverSideNetworkAdaption){default:return"serverSideNetworkAdaption: enum value expected";case 1:case 2:case 3:}if(null!=e.supportedServerSideNetworkAdaptions&&e.hasOwnProperty("supportedServerSideNetworkAdaptions")){if(!Array.isArray(e.supportedServerSideNetworkAdaptions))return"supportedServerSideNetworkAdaptions: array expected";for(var n=0;n<e.supportedServerSideNetworkAdaptions.length;++n)switch(e.supportedServerSideNetworkAdaptions[n]){default:return"supportedServerSideNetworkAdaptions: enum value[] expected";case 1:case 2:case 3:}}return null!=e.disablePeriodicKeyframeRequestOnContentSender&&e.hasOwnProperty("disablePeriodicKeyframeRequestOnContentSender")&&"boolean"!=typeof e.disablePeriodicKeyframeRequestOnContentSender?"disablePeriodicKeyframeRequestOnContentSender: boolean expected":null},e.fromObject=function(e){if(e instanceof d.SdkJoinFrame)return e;var t=new d.SdkJoinFrame;if(null!=e.protocolVersion&&(t.protocolVersion=e.protocolVersion>>>0),null!=e.maxNumOfVideos&&(t.maxNumOfVideos=e.maxNumOfVideos>>>0),null!=e.flags&&(t.flags=e.flags>>>0),null!=e.clientDetails){if("object"!=typeof e.clientDetails)throw TypeError(".SdkJoinFrame.clientDetails: object expected");t.clientDetails=d.SdkClientDetails.fromObject(e.clientDetails)}switch(null!=e.audioSessionId&&(c.Long?(t.audioSessionId=c.Long.fromValue(e.audioSessionId)).unsigned=!0:"string"==typeof e.audioSessionId?t.audioSessionId=parseInt(e.audioSessionId,10):"number"==typeof e.audioSessionId?t.audioSessionId=e.audioSessionId:"object"==typeof e.audioSessionId&&(t.audioSessionId=new c.LongBits(e.audioSessionId.low>>>0,e.audioSessionId.high>>>0).toNumber(!0))),null!=e.wantsCompressedSdp&&(t.wantsCompressedSdp=Boolean(e.wantsCompressedSdp)),e.serverSideNetworkAdaption){case"DEFAULT":case 1:t.serverSideNetworkAdaption=1;break;case"NONE":case 2:t.serverSideNetworkAdaption=2;break;case"BANDWIDTH_PROBING":case 3:t.serverSideNetworkAdaption=3}if(e.supportedServerSideNetworkAdaptions){if(!Array.isArray(e.supportedServerSideNetworkAdaptions))throw TypeError(".SdkJoinFrame.supportedServerSideNetworkAdaptions: array expected");t.supportedServerSideNetworkAdaptions=[];for(var n=0;n<e.supportedServerSideNetworkAdaptions.length;++n)switch(e.supportedServerSideNetworkAdaptions[n]){default:case"DEFAULT":case 1:t.supportedServerSideNetworkAdaptions[n]=1;break;case"NONE":case 2:t.supportedServerSideNetworkAdaptions[n]=2;break;case"BANDWIDTH_PROBING":case 3:t.supportedServerSideNetworkAdaptions[n]=3}}return null!=e.disablePeriodicKeyframeRequestOnContentSender&&(t.disablePeriodicKeyframeRequestOnContentSender=Boolean(e.disablePeriodicKeyframeRequestOnContentSender)),t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.supportedServerSideNetworkAdaptions=[]),t.defaults){if(n.protocolVersion=2,n.maxNumOfVideos=0,n.flags=0,n.clientDetails=null,c.Long){var i=new c.Long(0,0,!0);n.audioSessionId=t.longs===String?i.toString():t.longs===Number?i.toNumber():i}else n.audioSessionId=t.longs===String?"0":0;n.wantsCompressedSdp=!1,n.serverSideNetworkAdaption=t.enums===String?"DEFAULT":1,n.disablePeriodicKeyframeRequestOnContentSender=!1}if(null!=e.protocolVersion&&e.hasOwnProperty("protocolVersion")&&(n.protocolVersion=e.protocolVersion),null!=e.maxNumOfVideos&&e.hasOwnProperty("maxNumOfVideos")&&(n.maxNumOfVideos=e.maxNumOfVideos),null!=e.flags&&e.hasOwnProperty("flags")&&(n.flags=e.flags),null!=e.clientDetails&&e.hasOwnProperty("clientDetails")&&(n.clientDetails=d.SdkClientDetails.toObject(e.clientDetails,t)),null!=e.audioSessionId&&e.hasOwnProperty("audioSessionId")&&("number"==typeof e.audioSessionId?n.audioSessionId=t.longs===String?String(e.audioSessionId):e.audioSessionId:n.audioSessionId=t.longs===String?c.Long.prototype.toString.call(e.audioSessionId):t.longs===Number?new c.LongBits(e.audioSessionId.low>>>0,e.audioSessionId.high>>>0).toNumber(!0):e.audioSessionId),null!=e.wantsCompressedSdp&&e.hasOwnProperty("wantsCompressedSdp")&&(n.wantsCompressedSdp=e.wantsCompressedSdp),null!=e.serverSideNetworkAdaption&&e.hasOwnProperty("serverSideNetworkAdaption")&&(n.serverSideNetworkAdaption=t.enums===String?d.SdkServerSideNetworkAdaption[e.serverSideNetworkAdaption]:e.serverSideNetworkAdaption),e.supportedServerSideNetworkAdaptions&&e.supportedServerSideNetworkAdaptions.length){n.supportedServerSideNetworkAdaptions=[];for(var r=0;r<e.supportedServerSideNetworkAdaptions.length;++r)n.supportedServerSideNetworkAdaptions[r]=t.enums===String?d.SdkServerSideNetworkAdaption[e.supportedServerSideNetworkAdaptions[r]]:e.supportedServerSideNetworkAdaptions[r]}return null!=e.disablePeriodicKeyframeRequestOnContentSender&&e.hasOwnProperty("disablePeriodicKeyframeRequestOnContentSender")&&(n.disablePeriodicKeyframeRequestOnContentSender=e.disablePeriodicKeyframeRequestOnContentSender),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,a.util.toJSONOptions)},e}(),d.SdkJoinAckFrame=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.turnCredentials=null,e.prototype.videoSubscriptionLimit=0,e.prototype.wantsCompressedSdp=!1,e.prototype.defaultServerSideNetworkAdaption=1,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),null!=e.turnCredentials&&Object.hasOwnProperty.call(e,"turnCredentials")&&d.SdkTurnCredentials.encode(e.turnCredentials,t.uint32(10).fork()).ldelim(),null!=e.videoSubscriptionLimit&&Object.hasOwnProperty.call(e,"videoSubscriptionLimit")&&t.uint32(16).uint32(e.videoSubscriptionLimit),null!=e.wantsCompressedSdp&&Object.hasOwnProperty.call(e,"wantsCompressedSdp")&&t.uint32(24).bool(e.wantsCompressedSdp),null!=e.defaultServerSideNetworkAdaption&&Object.hasOwnProperty.call(e,"defaultServerSideNetworkAdaption")&&t.uint32(32).int32(e.defaultServerSideNetworkAdaption),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new d.SdkJoinAckFrame;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:i.turnCredentials=d.SdkTurnCredentials.decode(e,e.uint32());break;case 2:i.videoSubscriptionLimit=e.uint32();break;case 3:i.wantsCompressedSdp=e.bool();break;case 4:i.defaultServerSideNetworkAdaption=e.int32();break;default:e.skipType(7&r)}}return i},e.decodeDelimited=function(e){return e instanceof o||(e=new o(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.turnCredentials&&e.hasOwnProperty("turnCredentials")){var t=d.SdkTurnCredentials.verify(e.turnCredentials);if(t)return"turnCredentials."+t}if(null!=e.videoSubscriptionLimit&&e.hasOwnProperty("videoSubscriptionLimit")&&!c.isInteger(e.videoSubscriptionLimit))return"videoSubscriptionLimit: integer expected";if(null!=e.wantsCompressedSdp&&e.hasOwnProperty("wantsCompressedSdp")&&"boolean"!=typeof e.wantsCompressedSdp)return"wantsCompressedSdp: boolean expected";if(null!=e.defaultServerSideNetworkAdaption&&e.hasOwnProperty("defaultServerSideNetworkAdaption"))switch(e.defaultServerSideNetworkAdaption){default:return"defaultServerSideNetworkAdaption: enum value expected";case 1:case 2:case 3:}return null},e.fromObject=function(e){if(e instanceof d.SdkJoinAckFrame)return e;var t=new d.SdkJoinAckFrame;if(null!=e.turnCredentials){if("object"!=typeof e.turnCredentials)throw TypeError(".SdkJoinAckFrame.turnCredentials: object expected");t.turnCredentials=d.SdkTurnCredentials.fromObject(e.turnCredentials)}switch(null!=e.videoSubscriptionLimit&&(t.videoSubscriptionLimit=e.videoSubscriptionLimit>>>0),null!=e.wantsCompressedSdp&&(t.wantsCompressedSdp=Boolean(e.wantsCompressedSdp)),e.defaultServerSideNetworkAdaption){case"DEFAULT":case 1:t.defaultServerSideNetworkAdaption=1;break;case"NONE":case 2:t.defaultServerSideNetworkAdaption=2;break;case"BANDWIDTH_PROBING":case 3:t.defaultServerSideNetworkAdaption=3}return t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.turnCredentials=null,n.videoSubscriptionLimit=0,n.wantsCompressedSdp=!1,n.defaultServerSideNetworkAdaption=t.enums===String?"DEFAULT":1),null!=e.turnCredentials&&e.hasOwnProperty("turnCredentials")&&(n.turnCredentials=d.SdkTurnCredentials.toObject(e.turnCredentials,t)),null!=e.videoSubscriptionLimit&&e.hasOwnProperty("videoSubscriptionLimit")&&(n.videoSubscriptionLimit=e.videoSubscriptionLimit),null!=e.wantsCompressedSdp&&e.hasOwnProperty("wantsCompressedSdp")&&(n.wantsCompressedSdp=e.wantsCompressedSdp),null!=e.defaultServerSideNetworkAdaption&&e.hasOwnProperty("defaultServerSideNetworkAdaption")&&(n.defaultServerSideNetworkAdaption=t.enums===String?d.SdkServerSideNetworkAdaption[e.defaultServerSideNetworkAdaption]:e.defaultServerSideNetworkAdaption),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,a.util.toJSONOptions)},e}(),d.SdkLeaveFrame=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new d.SdkLeaveFrame;e.pos<n;){var r=e.uint32();e.skipType(7&r)}return i},e.decodeDelimited=function(e){return e instanceof o||(e=new o(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null},e.fromObject=function(e){return e instanceof d.SdkLeaveFrame?e:new d.SdkLeaveFrame},e.toObject=function(){return{}},e.prototype.toJSON=function(){return this.constructor.toObject(this,a.util.toJSONOptions)},e}(),d.SdkLeaveAckFrame=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new d.SdkLeaveAckFrame;e.pos<n;){var r=e.uint32();e.skipType(7&r)}return i},e.decodeDelimited=function(e){return e instanceof o||(e=new o(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null},e.fromObject=function(e){return e instanceof d.SdkLeaveAckFrame?e:new d.SdkLeaveAckFrame},e.toObject=function(){return{}},e.prototype.toJSON=function(){return this.constructor.toObject(this,a.util.toJSONOptions)},e}(),d.SdkStreamServiceType=function(){var e={},t=Object.create(e);return t[e[1]="RX"]=1,t[e[2]="TX"]=2,t[e[3]="DUPLEX"]=3,t}(),d.SdkStreamMediaType=function(){var e={},t=Object.create(e);return t[e[1]="AUDIO"]=1,t[e[2]="VIDEO"]=2,t}(),d.SdkSubscribeFrame=function(){function e(e){if(this.sendStreams=[],this.receiveStreamIds=[],this.videoSubscriptionConfiguration=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.duplex=1,e.prototype.sendStreams=c.emptyArray,e.prototype.receiveStreamIds=c.emptyArray,e.prototype.sdpOffer="",e.prototype.audioHost="",e.prototype.audioCheckin=!1,e.prototype.audioMuted=!1,e.prototype.compressedSdpOffer=c.newBuffer([]),e.prototype.videoSubscriptionConfiguration=c.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=s.create()),null!=e.duplex&&Object.hasOwnProperty.call(e,"duplex")&&t.uint32(8).int32(e.duplex),null!=e.sendStreams&&e.sendStreams.length)for(var n=0;n<e.sendStreams.length;++n)d.SdkStreamDescriptor.encode(e.sendStreams[n],t.uint32(18).fork()).ldelim();if(null!=e.receiveStreamIds&&e.receiveStreamIds.length)for(n=0;n<e.receiveStreamIds.length;++n)t.uint32(24).uint32(e.receiveStreamIds[n]);if(null!=e.sdpOffer&&Object.hasOwnProperty.call(e,"sdpOffer")&&t.uint32(34).string(e.sdpOffer),null!=e.audioHost&&Object.hasOwnProperty.call(e,"audioHost")&&t.uint32(42).string(e.audioHost),null!=e.audioCheckin&&Object.hasOwnProperty.call(e,"audioCheckin")&&t.uint32(48).bool(e.audioCheckin),null!=e.audioMuted&&Object.hasOwnProperty.call(e,"audioMuted")&&t.uint32(56).bool(e.audioMuted),null!=e.compressedSdpOffer&&Object.hasOwnProperty.call(e,"compressedSdpOffer")&&t.uint32(66).bytes(e.compressedSdpOffer),null!=e.videoSubscriptionConfiguration&&e.videoSubscriptionConfiguration.length)for(n=0;n<e.videoSubscriptionConfiguration.length;++n)d.SdkVideoSubscriptionConfiguration.encode(e.videoSubscriptionConfiguration[n],t.uint32(74).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new d.SdkSubscribeFrame;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:i.duplex=e.int32();break;case 2:i.sendStreams&&i.sendStreams.length||(i.sendStreams=[]),i.sendStreams.push(d.SdkStreamDescriptor.decode(e,e.uint32()));break;case 3:if(i.receiveStreamIds&&i.receiveStreamIds.length||(i.receiveStreamIds=[]),2==(7&r))for(var a=e.uint32()+e.pos;e.pos<a;)i.receiveStreamIds.push(e.uint32());else i.receiveStreamIds.push(e.uint32());break;case 4:i.sdpOffer=e.string();break;case 5:i.audioHost=e.string();break;case 6:i.audioCheckin=e.bool();break;case 7:i.audioMuted=e.bool();break;case 8:i.compressedSdpOffer=e.bytes();break;case 9:i.videoSubscriptionConfiguration&&i.videoSubscriptionConfiguration.length||(i.videoSubscriptionConfiguration=[]),i.videoSubscriptionConfiguration.push(d.SdkVideoSubscriptionConfiguration.decode(e,e.uint32()));break;default:e.skipType(7&r)}}return i},e.decodeDelimited=function(e){return e instanceof o||(e=new o(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.duplex&&e.hasOwnProperty("duplex"))switch(e.duplex){default:return"duplex: enum value expected";case 1:case 2:case 3:}if(null!=e.sendStreams&&e.hasOwnProperty("sendStreams")){if(!Array.isArray(e.sendStreams))return"sendStreams: array expected";for(var t=0;t<e.sendStreams.length;++t)if(n=d.SdkStreamDescriptor.verify(e.sendStreams[t]))return"sendStreams."+n}if(null!=e.receiveStreamIds&&e.hasOwnProperty("receiveStreamIds")){if(!Array.isArray(e.receiveStreamIds))return"receiveStreamIds: array expected";for(t=0;t<e.receiveStreamIds.length;++t)if(!c.isInteger(e.receiveStreamIds[t]))return"receiveStreamIds: integer[] expected"}if(null!=e.sdpOffer&&e.hasOwnProperty("sdpOffer")&&!c.isString(e.sdpOffer))return"sdpOffer: string expected";if(null!=e.audioHost&&e.hasOwnProperty("audioHost")&&!c.isString(e.audioHost))return"audioHost: string expected";if(null!=e.audioCheckin&&e.hasOwnProperty("audioCheckin")&&"boolean"!=typeof e.audioCheckin)return"audioCheckin: boolean expected";if(null!=e.audioMuted&&e.hasOwnProperty("audioMuted")&&"boolean"!=typeof e.audioMuted)return"audioMuted: boolean expected";if(null!=e.compressedSdpOffer&&e.hasOwnProperty("compressedSdpOffer")&&!(e.compressedSdpOffer&&"number"==typeof e.compressedSdpOffer.length||c.isString(e.compressedSdpOffer)))return"compressedSdpOffer: buffer expected";if(null!=e.videoSubscriptionConfiguration&&e.hasOwnProperty("videoSubscriptionConfiguration")){if(!Array.isArray(e.videoSubscriptionConfiguration))return"videoSubscriptionConfiguration: array expected";for(t=0;t<e.videoSubscriptionConfiguration.length;++t){var n;if(n=d.SdkVideoSubscriptionConfiguration.verify(e.videoSubscriptionConfiguration[t]))return"videoSubscriptionConfiguration."+n}}return null},e.fromObject=function(e){if(e instanceof d.SdkSubscribeFrame)return e;var t=new d.SdkSubscribeFrame;switch(e.duplex){case"RX":case 1:t.duplex=1;break;case"TX":case 2:t.duplex=2;break;case"DUPLEX":case 3:t.duplex=3}if(e.sendStreams){if(!Array.isArray(e.sendStreams))throw TypeError(".SdkSubscribeFrame.sendStreams: array expected");t.sendStreams=[];for(var n=0;n<e.sendStreams.length;++n){if("object"!=typeof e.sendStreams[n])throw TypeError(".SdkSubscribeFrame.sendStreams: object expected");t.sendStreams[n]=d.SdkStreamDescriptor.fromObject(e.sendStreams[n])}}if(e.receiveStreamIds){if(!Array.isArray(e.receiveStreamIds))throw TypeError(".SdkSubscribeFrame.receiveStreamIds: array expected");for(t.receiveStreamIds=[],n=0;n<e.receiveStreamIds.length;++n)t.receiveStreamIds[n]=e.receiveStreamIds[n]>>>0}if(null!=e.sdpOffer&&(t.sdpOffer=String(e.sdpOffer)),null!=e.audioHost&&(t.audioHost=String(e.audioHost)),null!=e.audioCheckin&&(t.audioCheckin=Boolean(e.audioCheckin)),null!=e.audioMuted&&(t.audioMuted=Boolean(e.audioMuted)),null!=e.compressedSdpOffer&&("string"==typeof e.compressedSdpOffer?c.base64.decode(e.compressedSdpOffer,t.compressedSdpOffer=c.newBuffer(c.base64.length(e.compressedSdpOffer)),0):e.compressedSdpOffer.length&&(t.compressedSdpOffer=e.compressedSdpOffer)),e.videoSubscriptionConfiguration){if(!Array.isArray(e.videoSubscriptionConfiguration))throw TypeError(".SdkSubscribeFrame.videoSubscriptionConfiguration: array expected");for(t.videoSubscriptionConfiguration=[],n=0;n<e.videoSubscriptionConfiguration.length;++n){if("object"!=typeof e.videoSubscriptionConfiguration[n])throw TypeError(".SdkSubscribeFrame.videoSubscriptionConfiguration: object expected");t.videoSubscriptionConfiguration[n]=d.SdkVideoSubscriptionConfiguration.fromObject(e.videoSubscriptionConfiguration[n])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.sendStreams=[],n.receiveStreamIds=[],n.videoSubscriptionConfiguration=[]),t.defaults&&(n.duplex=t.enums===String?"RX":1,n.sdpOffer="",n.audioHost="",n.audioCheckin=!1,n.audioMuted=!1,t.bytes===String?n.compressedSdpOffer="":(n.compressedSdpOffer=[],t.bytes!==Array&&(n.compressedSdpOffer=c.newBuffer(n.compressedSdpOffer)))),null!=e.duplex&&e.hasOwnProperty("duplex")&&(n.duplex=t.enums===String?d.SdkStreamServiceType[e.duplex]:e.duplex),e.sendStreams&&e.sendStreams.length){n.sendStreams=[];for(var i=0;i<e.sendStreams.length;++i)n.sendStreams[i]=d.SdkStreamDescriptor.toObject(e.sendStreams[i],t)}if(e.receiveStreamIds&&e.receiveStreamIds.length)for(n.receiveStreamIds=[],i=0;i<e.receiveStreamIds.length;++i)n.receiveStreamIds[i]=e.receiveStreamIds[i];if(null!=e.sdpOffer&&e.hasOwnProperty("sdpOffer")&&(n.sdpOffer=e.sdpOffer),null!=e.audioHost&&e.hasOwnProperty("audioHost")&&(n.audioHost=e.audioHost),null!=e.audioCheckin&&e.hasOwnProperty("audioCheckin")&&(n.audioCheckin=e.audioCheckin),null!=e.audioMuted&&e.hasOwnProperty("audioMuted")&&(n.audioMuted=e.audioMuted),null!=e.compressedSdpOffer&&e.hasOwnProperty("compressedSdpOffer")&&(n.compressedSdpOffer=t.bytes===String?c.base64.encode(e.compressedSdpOffer,0,e.compressedSdpOffer.length):t.bytes===Array?Array.prototype.slice.call(e.compressedSdpOffer):e.compressedSdpOffer),e.videoSubscriptionConfiguration&&e.videoSubscriptionConfiguration.length)for(n.videoSubscriptionConfiguration=[],i=0;i<e.videoSubscriptionConfiguration.length;++i)n.videoSubscriptionConfiguration[i]=d.SdkVideoSubscriptionConfiguration.toObject(e.videoSubscriptionConfiguration[i],t);return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,a.util.toJSONOptions)},e}(),d.SdkSubscribeAckFrame=function(){function e(e){if(this.allocations=[],this.tracks=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.duplex=1,e.prototype.allocations=c.emptyArray,e.prototype.sdpAnswer="",e.prototype.tracks=c.emptyArray,e.prototype.compressedSdpAnswer=c.newBuffer([]),e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=s.create()),null!=e.duplex&&Object.hasOwnProperty.call(e,"duplex")&&t.uint32(8).int32(e.duplex),null!=e.allocations&&e.allocations.length)for(var n=0;n<e.allocations.length;++n)d.SdkStreamAllocation.encode(e.allocations[n],t.uint32(18).fork()).ldelim();if(null!=e.sdpAnswer&&Object.hasOwnProperty.call(e,"sdpAnswer")&&t.uint32(26).string(e.sdpAnswer),null!=e.tracks&&e.tracks.length)for(n=0;n<e.tracks.length;++n)d.SdkTrackMapping.encode(e.tracks[n],t.uint32(34).fork()).ldelim();return null!=e.compressedSdpAnswer&&Object.hasOwnProperty.call(e,"compressedSdpAnswer")&&t.uint32(42).bytes(e.compressedSdpAnswer),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new d.SdkSubscribeAckFrame;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:i.duplex=e.int32();break;case 2:i.allocations&&i.allocations.length||(i.allocations=[]),i.allocations.push(d.SdkStreamAllocation.decode(e,e.uint32()));break;case 3:i.sdpAnswer=e.string();break;case 4:i.tracks&&i.tracks.length||(i.tracks=[]),i.tracks.push(d.SdkTrackMapping.decode(e,e.uint32()));break;case 5:i.compressedSdpAnswer=e.bytes();break;default:e.skipType(7&r)}}return i},e.decodeDelimited=function(e){return e instanceof o||(e=new o(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.duplex&&e.hasOwnProperty("duplex"))switch(e.duplex){default:return"duplex: enum value expected";case 1:case 2:case 3:}if(null!=e.allocations&&e.hasOwnProperty("allocations")){if(!Array.isArray(e.allocations))return"allocations: array expected";for(var t=0;t<e.allocations.length;++t)if(n=d.SdkStreamAllocation.verify(e.allocations[t]))return"allocations."+n}if(null!=e.sdpAnswer&&e.hasOwnProperty("sdpAnswer")&&!c.isString(e.sdpAnswer))return"sdpAnswer: string expected";if(null!=e.tracks&&e.hasOwnProperty("tracks")){if(!Array.isArray(e.tracks))return"tracks: array expected";for(t=0;t<e.tracks.length;++t){var n;if(n=d.SdkTrackMapping.verify(e.tracks[t]))return"tracks."+n}}return null!=e.compressedSdpAnswer&&e.hasOwnProperty("compressedSdpAnswer")&&!(e.compressedSdpAnswer&&"number"==typeof e.compressedSdpAnswer.length||c.isString(e.compressedSdpAnswer))?"compressedSdpAnswer: buffer expected":null},e.fromObject=function(e){if(e instanceof d.SdkSubscribeAckFrame)return e;var t=new d.SdkSubscribeAckFrame;switch(e.duplex){case"RX":case 1:t.duplex=1;break;case"TX":case 2:t.duplex=2;break;case"DUPLEX":case 3:t.duplex=3}if(e.allocations){if(!Array.isArray(e.allocations))throw TypeError(".SdkSubscribeAckFrame.allocations: array expected");t.allocations=[];for(var n=0;n<e.allocations.length;++n){if("object"!=typeof e.allocations[n])throw TypeError(".SdkSubscribeAckFrame.allocations: object expected");t.allocations[n]=d.SdkStreamAllocation.fromObject(e.allocations[n])}}if(null!=e.sdpAnswer&&(t.sdpAnswer=String(e.sdpAnswer)),e.tracks){if(!Array.isArray(e.tracks))throw TypeError(".SdkSubscribeAckFrame.tracks: array expected");for(t.tracks=[],n=0;n<e.tracks.length;++n){if("object"!=typeof e.tracks[n])throw TypeError(".SdkSubscribeAckFrame.tracks: object expected");t.tracks[n]=d.SdkTrackMapping.fromObject(e.tracks[n])}}return null!=e.compressedSdpAnswer&&("string"==typeof e.compressedSdpAnswer?c.base64.decode(e.compressedSdpAnswer,t.compressedSdpAnswer=c.newBuffer(c.base64.length(e.compressedSdpAnswer)),0):e.compressedSdpAnswer.length&&(t.compressedSdpAnswer=e.compressedSdpAnswer)),t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.allocations=[],n.tracks=[]),t.defaults&&(n.duplex=t.enums===String?"RX":1,n.sdpAnswer="",t.bytes===String?n.compressedSdpAnswer="":(n.compressedSdpAnswer=[],t.bytes!==Array&&(n.compressedSdpAnswer=c.newBuffer(n.compressedSdpAnswer)))),null!=e.duplex&&e.hasOwnProperty("duplex")&&(n.duplex=t.enums===String?d.SdkStreamServiceType[e.duplex]:e.duplex),e.allocations&&e.allocations.length){n.allocations=[];for(var i=0;i<e.allocations.length;++i)n.allocations[i]=d.SdkStreamAllocation.toObject(e.allocations[i],t)}if(null!=e.sdpAnswer&&e.hasOwnProperty("sdpAnswer")&&(n.sdpAnswer=e.sdpAnswer),e.tracks&&e.tracks.length)for(n.tracks=[],i=0;i<e.tracks.length;++i)n.tracks[i]=d.SdkTrackMapping.toObject(e.tracks[i],t);return null!=e.compressedSdpAnswer&&e.hasOwnProperty("compressedSdpAnswer")&&(n.compressedSdpAnswer=t.bytes===String?c.base64.encode(e.compressedSdpAnswer,0,e.compressedSdpAnswer.length):t.bytes===Array?Array.prototype.slice.call(e.compressedSdpAnswer):e.compressedSdpAnswer),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,a.util.toJSONOptions)},e}(),d.SdkIndexFrame=function(){function e(e){if(this.sources=[],this.pausedAtSourceIds=[],this.supportedReceiveCodecIntersection=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.atCapacity=!1,e.prototype.sources=c.emptyArray,e.prototype.pausedAtSourceIds=c.emptyArray,e.prototype.numParticipants=0,e.prototype.supportedReceiveCodecIntersection=c.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=s.create()),null!=e.atCapacity&&Object.hasOwnProperty.call(e,"atCapacity")&&t.uint32(8).bool(e.atCapacity),null!=e.sources&&e.sources.length)for(var n=0;n<e.sources.length;++n)d.SdkStreamDescriptor.encode(e.sources[n],t.uint32(18).fork()).ldelim();if(null!=e.pausedAtSourceIds&&e.pausedAtSourceIds.length)for(n=0;n<e.pausedAtSourceIds.length;++n)t.uint32(24).uint32(e.pausedAtSourceIds[n]);if(null!=e.numParticipants&&Object.hasOwnProperty.call(e,"numParticipants")&&t.uint32(32).uint32(e.numParticipants),null!=e.supportedReceiveCodecIntersection&&e.supportedReceiveCodecIntersection.length)for(n=0;n<e.supportedReceiveCodecIntersection.length;++n)t.uint32(40).int32(e.supportedReceiveCodecIntersection[n]);return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new d.SdkIndexFrame;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:i.atCapacity=e.bool();break;case 2:i.sources&&i.sources.length||(i.sources=[]),i.sources.push(d.SdkStreamDescriptor.decode(e,e.uint32()));break;case 3:if(i.pausedAtSourceIds&&i.pausedAtSourceIds.length||(i.pausedAtSourceIds=[]),2==(7&r))for(var a=e.uint32()+e.pos;e.pos<a;)i.pausedAtSourceIds.push(e.uint32());else i.pausedAtSourceIds.push(e.uint32());break;case 4:i.numParticipants=e.uint32();break;case 5:if(i.supportedReceiveCodecIntersection&&i.supportedReceiveCodecIntersection.length||(i.supportedReceiveCodecIntersection=[]),2==(7&r))for(a=e.uint32()+e.pos;e.pos<a;)i.supportedReceiveCodecIntersection.push(e.int32());else i.supportedReceiveCodecIntersection.push(e.int32());break;default:e.skipType(7&r)}}return i},e.decodeDelimited=function(e){return e instanceof o||(e=new o(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.atCapacity&&e.hasOwnProperty("atCapacity")&&"boolean"!=typeof e.atCapacity)return"atCapacity: boolean expected";if(null!=e.sources&&e.hasOwnProperty("sources")){if(!Array.isArray(e.sources))return"sources: array expected";for(var t=0;t<e.sources.length;++t){var n=d.SdkStreamDescriptor.verify(e.sources[t]);if(n)return"sources."+n}}if(null!=e.pausedAtSourceIds&&e.hasOwnProperty("pausedAtSourceIds")){if(!Array.isArray(e.pausedAtSourceIds))return"pausedAtSourceIds: array expected";for(t=0;t<e.pausedAtSourceIds.length;++t)if(!c.isInteger(e.pausedAtSourceIds[t]))return"pausedAtSourceIds: integer[] expected"}if(null!=e.numParticipants&&e.hasOwnProperty("numParticipants")&&!c.isInteger(e.numParticipants))return"numParticipants: integer expected";if(null!=e.supportedReceiveCodecIntersection&&e.hasOwnProperty("supportedReceiveCodecIntersection")){if(!Array.isArray(e.supportedReceiveCodecIntersection))return"supportedReceiveCodecIntersection: array expected";for(t=0;t<e.supportedReceiveCodecIntersection.length;++t)switch(e.supportedReceiveCodecIntersection[t]){default:return"supportedReceiveCodecIntersection: enum value[] expected";case 1:case 3:}}return null},e.fromObject=function(e){if(e instanceof d.SdkIndexFrame)return e;var t=new d.SdkIndexFrame;if(null!=e.atCapacity&&(t.atCapacity=Boolean(e.atCapacity)),e.sources){if(!Array.isArray(e.sources))throw TypeError(".SdkIndexFrame.sources: array expected");t.sources=[];for(var n=0;n<e.sources.length;++n){if("object"!=typeof e.sources[n])throw TypeError(".SdkIndexFrame.sources: object expected");t.sources[n]=d.SdkStreamDescriptor.fromObject(e.sources[n])}}if(e.pausedAtSourceIds){if(!Array.isArray(e.pausedAtSourceIds))throw TypeError(".SdkIndexFrame.pausedAtSourceIds: array expected");for(t.pausedAtSourceIds=[],n=0;n<e.pausedAtSourceIds.length;++n)t.pausedAtSourceIds[n]=e.pausedAtSourceIds[n]>>>0}if(null!=e.numParticipants&&(t.numParticipants=e.numParticipants>>>0),e.supportedReceiveCodecIntersection){if(!Array.isArray(e.supportedReceiveCodecIntersection))throw TypeError(".SdkIndexFrame.supportedReceiveCodecIntersection: array expected");for(t.supportedReceiveCodecIntersection=[],n=0;n<e.supportedReceiveCodecIntersection.length;++n)switch(e.supportedReceiveCodecIntersection[n]){default:case"VP8":case 1:t.supportedReceiveCodecIntersection[n]=1;break;case"H264_CONSTRAINED_BASELINE_PROFILE":case 3:t.supportedReceiveCodecIntersection[n]=3}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.sources=[],n.pausedAtSourceIds=[],n.supportedReceiveCodecIntersection=[]),t.defaults&&(n.atCapacity=!1,n.numParticipants=0),null!=e.atCapacity&&e.hasOwnProperty("atCapacity")&&(n.atCapacity=e.atCapacity),e.sources&&e.sources.length){n.sources=[];for(var i=0;i<e.sources.length;++i)n.sources[i]=d.SdkStreamDescriptor.toObject(e.sources[i],t)}if(e.pausedAtSourceIds&&e.pausedAtSourceIds.length)for(n.pausedAtSourceIds=[],i=0;i<e.pausedAtSourceIds.length;++i)n.pausedAtSourceIds[i]=e.pausedAtSourceIds[i];if(null!=e.numParticipants&&e.hasOwnProperty("numParticipants")&&(n.numParticipants=e.numParticipants),e.supportedReceiveCodecIntersection&&e.supportedReceiveCodecIntersection.length)for(n.supportedReceiveCodecIntersection=[],i=0;i<e.supportedReceiveCodecIntersection.length;++i)n.supportedReceiveCodecIntersection[i]=t.enums===String?d.SdkVideoCodecCapability[e.supportedReceiveCodecIntersection[i]]:e.supportedReceiveCodecIntersection[i];return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,a.util.toJSONOptions)},e}(),d.SdkPauseResumeFrame=function(){function e(e){if(this.streamIds=[],this.groupIds=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.streamIds=c.emptyArray,e.prototype.groupIds=c.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=s.create()),null!=e.streamIds&&e.streamIds.length)for(var n=0;n<e.streamIds.length;++n)t.uint32(8).uint32(e.streamIds[n]);if(null!=e.groupIds&&e.groupIds.length)for(n=0;n<e.groupIds.length;++n)t.uint32(16).uint32(e.groupIds[n]);return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new d.SdkPauseResumeFrame;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:if(i.streamIds&&i.streamIds.length||(i.streamIds=[]),2==(7&r))for(var a=e.uint32()+e.pos;e.pos<a;)i.streamIds.push(e.uint32());else i.streamIds.push(e.uint32());break;case 2:if(i.groupIds&&i.groupIds.length||(i.groupIds=[]),2==(7&r))for(a=e.uint32()+e.pos;e.pos<a;)i.groupIds.push(e.uint32());else i.groupIds.push(e.uint32());break;default:e.skipType(7&r)}}return i},e.decodeDelimited=function(e){return e instanceof o||(e=new o(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.streamIds&&e.hasOwnProperty("streamIds")){if(!Array.isArray(e.streamIds))return"streamIds: array expected";for(var t=0;t<e.streamIds.length;++t)if(!c.isInteger(e.streamIds[t]))return"streamIds: integer[] expected"}if(null!=e.groupIds&&e.hasOwnProperty("groupIds")){if(!Array.isArray(e.groupIds))return"groupIds: array expected";for(t=0;t<e.groupIds.length;++t)if(!c.isInteger(e.groupIds[t]))return"groupIds: integer[] expected"}return null},e.fromObject=function(e){if(e instanceof d.SdkPauseResumeFrame)return e;var t=new d.SdkPauseResumeFrame;if(e.streamIds){if(!Array.isArray(e.streamIds))throw TypeError(".SdkPauseResumeFrame.streamIds: array expected");t.streamIds=[];for(var n=0;n<e.streamIds.length;++n)t.streamIds[n]=e.streamIds[n]>>>0}if(e.groupIds){if(!Array.isArray(e.groupIds))throw TypeError(".SdkPauseResumeFrame.groupIds: array expected");for(t.groupIds=[],n=0;n<e.groupIds.length;++n)t.groupIds[n]=e.groupIds[n]>>>0}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.streamIds=[],n.groupIds=[]),e.streamIds&&e.streamIds.length){n.streamIds=[];for(var i=0;i<e.streamIds.length;++i)n.streamIds[i]=e.streamIds[i]}if(e.groupIds&&e.groupIds.length)for(n.groupIds=[],i=0;i<e.groupIds.length;++i)n.groupIds[i]=e.groupIds[i];return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,a.util.toJSONOptions)},e}(),d.SdkBitrateFrame=function(){function e(e){if(this.bitrates=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.bitrates=c.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=s.create()),null!=e.bitrates&&e.bitrates.length)for(var n=0;n<e.bitrates.length;++n)d.SdkBitrate.encode(e.bitrates[n],t.uint32(10).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new d.SdkBitrateFrame;e.pos<n;){var r=e.uint32();r>>>3==1?(i.bitrates&&i.bitrates.length||(i.bitrates=[]),i.bitrates.push(d.SdkBitrate.decode(e,e.uint32()))):e.skipType(7&r)}return i},e.decodeDelimited=function(e){return e instanceof o||(e=new o(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.bitrates&&e.hasOwnProperty("bitrates")){if(!Array.isArray(e.bitrates))return"bitrates: array expected";for(var t=0;t<e.bitrates.length;++t){var n=d.SdkBitrate.verify(e.bitrates[t]);if(n)return"bitrates."+n}}return null},e.fromObject=function(e){if(e instanceof d.SdkBitrateFrame)return e;var t=new d.SdkBitrateFrame;if(e.bitrates){if(!Array.isArray(e.bitrates))throw TypeError(".SdkBitrateFrame.bitrates: array expected");t.bitrates=[];for(var n=0;n<e.bitrates.length;++n){if("object"!=typeof e.bitrates[n])throw TypeError(".SdkBitrateFrame.bitrates: object expected");t.bitrates[n]=d.SdkBitrate.fromObject(e.bitrates[n])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.bitrates=[]),e.bitrates&&e.bitrates.length){n.bitrates=[];for(var i=0;i<e.bitrates.length;++i)n.bitrates[i]=d.SdkBitrate.toObject(e.bitrates[i],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,a.util.toJSONOptions)},e}(),d.SdkStreamDescriptor=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.streamId=0,e.prototype.framerate=0,e.prototype.maxBitrateKbps=0,e.prototype.trackLabel="",e.prototype.groupId=0,e.prototype.avgBitrateBps=0,e.prototype.attendeeId="",e.prototype.mediaType=1,e.prototype.externalUserId="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),null!=e.streamId&&Object.hasOwnProperty.call(e,"streamId")&&t.uint32(8).uint32(e.streamId),null!=e.framerate&&Object.hasOwnProperty.call(e,"framerate")&&t.uint32(16).uint32(e.framerate),null!=e.maxBitrateKbps&&Object.hasOwnProperty.call(e,"maxBitrateKbps")&&t.uint32(24).uint32(e.maxBitrateKbps),null!=e.trackLabel&&Object.hasOwnProperty.call(e,"trackLabel")&&t.uint32(34).string(e.trackLabel),null!=e.groupId&&Object.hasOwnProperty.call(e,"groupId")&&t.uint32(48).uint32(e.groupId),null!=e.avgBitrateBps&&Object.hasOwnProperty.call(e,"avgBitrateBps")&&t.uint32(56).uint32(e.avgBitrateBps),null!=e.attendeeId&&Object.hasOwnProperty.call(e,"attendeeId")&&t.uint32(66).string(e.attendeeId),null!=e.mediaType&&Object.hasOwnProperty.call(e,"mediaType")&&t.uint32(72).int32(e.mediaType),null!=e.externalUserId&&Object.hasOwnProperty.call(e,"externalUserId")&&t.uint32(82).string(e.externalUserId),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new d.SdkStreamDescriptor;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:i.streamId=e.uint32();break;case 2:i.framerate=e.uint32();break;case 3:i.maxBitrateKbps=e.uint32();break;case 4:i.trackLabel=e.string();break;case 6:i.groupId=e.uint32();break;case 7:i.avgBitrateBps=e.uint32();break;case 8:i.attendeeId=e.string();break;case 9:i.mediaType=e.int32();break;case 10:i.externalUserId=e.string();break;default:e.skipType(7&r)}}return i},e.decodeDelimited=function(e){return e instanceof o||(e=new o(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.streamId&&e.hasOwnProperty("streamId")&&!c.isInteger(e.streamId))return"streamId: integer expected";if(null!=e.framerate&&e.hasOwnProperty("framerate")&&!c.isInteger(e.framerate))return"framerate: integer expected";if(null!=e.maxBitrateKbps&&e.hasOwnProperty("maxBitrateKbps")&&!c.isInteger(e.maxBitrateKbps))return"maxBitrateKbps: integer expected";if(null!=e.trackLabel&&e.hasOwnProperty("trackLabel")&&!c.isString(e.trackLabel))return"trackLabel: string expected";if(null!=e.groupId&&e.hasOwnProperty("groupId")&&!c.isInteger(e.groupId))return"groupId: integer expected";if(null!=e.avgBitrateBps&&e.hasOwnProperty("avgBitrateBps")&&!c.isInteger(e.avgBitrateBps))return"avgBitrateBps: integer expected";if(null!=e.attendeeId&&e.hasOwnProperty("attendeeId")&&!c.isString(e.attendeeId))return"attendeeId: string expected";if(null!=e.mediaType&&e.hasOwnProperty("mediaType"))switch(e.mediaType){default:return"mediaType: enum value expected";case 1:case 2:}return null!=e.externalUserId&&e.hasOwnProperty("externalUserId")&&!c.isString(e.externalUserId)?"externalUserId: string expected":null},e.fromObject=function(e){if(e instanceof d.SdkStreamDescriptor)return e;var t=new d.SdkStreamDescriptor;switch(null!=e.streamId&&(t.streamId=e.streamId>>>0),null!=e.framerate&&(t.framerate=e.framerate>>>0),null!=e.maxBitrateKbps&&(t.maxBitrateKbps=e.maxBitrateKbps>>>0),null!=e.trackLabel&&(t.trackLabel=String(e.trackLabel)),null!=e.groupId&&(t.groupId=e.groupId>>>0),null!=e.avgBitrateBps&&(t.avgBitrateBps=e.avgBitrateBps>>>0),null!=e.attendeeId&&(t.attendeeId=String(e.attendeeId)),e.mediaType){case"AUDIO":case 1:t.mediaType=1;break;case"VIDEO":case 2:t.mediaType=2}return null!=e.externalUserId&&(t.externalUserId=String(e.externalUserId)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.streamId=0,n.framerate=0,n.maxBitrateKbps=0,n.trackLabel="",n.groupId=0,n.avgBitrateBps=0,n.attendeeId="",n.mediaType=t.enums===String?"AUDIO":1,n.externalUserId=""),null!=e.streamId&&e.hasOwnProperty("streamId")&&(n.streamId=e.streamId),null!=e.framerate&&e.hasOwnProperty("framerate")&&(n.framerate=e.framerate),null!=e.maxBitrateKbps&&e.hasOwnProperty("maxBitrateKbps")&&(n.maxBitrateKbps=e.maxBitrateKbps),null!=e.trackLabel&&e.hasOwnProperty("trackLabel")&&(n.trackLabel=e.trackLabel),null!=e.groupId&&e.hasOwnProperty("groupId")&&(n.groupId=e.groupId),null!=e.avgBitrateBps&&e.hasOwnProperty("avgBitrateBps")&&(n.avgBitrateBps=e.avgBitrateBps),null!=e.attendeeId&&e.hasOwnProperty("attendeeId")&&(n.attendeeId=e.attendeeId),null!=e.mediaType&&e.hasOwnProperty("mediaType")&&(n.mediaType=t.enums===String?d.SdkStreamMediaType[e.mediaType]:e.mediaType),null!=e.externalUserId&&e.hasOwnProperty("externalUserId")&&(n.externalUserId=e.externalUserId),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,a.util.toJSONOptions)},e}(),d.SdkStreamAllocation=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.trackLabel="",e.prototype.streamId=0,e.prototype.groupId=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),null!=e.trackLabel&&Object.hasOwnProperty.call(e,"trackLabel")&&t.uint32(10).string(e.trackLabel),null!=e.streamId&&Object.hasOwnProperty.call(e,"streamId")&&t.uint32(16).uint32(e.streamId),null!=e.groupId&&Object.hasOwnProperty.call(e,"groupId")&&t.uint32(24).uint32(e.groupId),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new d.SdkStreamAllocation;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:i.trackLabel=e.string();break;case 2:i.streamId=e.uint32();break;case 3:i.groupId=e.uint32();break;default:e.skipType(7&r)}}return i},e.decodeDelimited=function(e){return e instanceof o||(e=new o(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.trackLabel&&e.hasOwnProperty("trackLabel")&&!c.isString(e.trackLabel)?"trackLabel: string expected":null!=e.streamId&&e.hasOwnProperty("streamId")&&!c.isInteger(e.streamId)?"streamId: integer expected":null!=e.groupId&&e.hasOwnProperty("groupId")&&!c.isInteger(e.groupId)?"groupId: integer expected":null},e.fromObject=function(e){if(e instanceof d.SdkStreamAllocation)return e;var t=new d.SdkStreamAllocation;return null!=e.trackLabel&&(t.trackLabel=String(e.trackLabel)),null!=e.streamId&&(t.streamId=e.streamId>>>0),null!=e.groupId&&(t.groupId=e.groupId>>>0),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.trackLabel="",n.streamId=0,n.groupId=0),null!=e.trackLabel&&e.hasOwnProperty("trackLabel")&&(n.trackLabel=e.trackLabel),null!=e.streamId&&e.hasOwnProperty("streamId")&&(n.streamId=e.streamId),null!=e.groupId&&e.hasOwnProperty("groupId")&&(n.groupId=e.groupId),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,a.util.toJSONOptions)},e}(),d.SdkTrackMapping=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.streamId=0,e.prototype.ssrc=0,e.prototype.trackLabel="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),null!=e.streamId&&Object.hasOwnProperty.call(e,"streamId")&&t.uint32(8).uint32(e.streamId),null!=e.ssrc&&Object.hasOwnProperty.call(e,"ssrc")&&t.uint32(16).uint32(e.ssrc),null!=e.trackLabel&&Object.hasOwnProperty.call(e,"trackLabel")&&t.uint32(26).string(e.trackLabel),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new d.SdkTrackMapping;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:i.streamId=e.uint32();break;case 2:i.ssrc=e.uint32();break;case 3:i.trackLabel=e.string();break;default:e.skipType(7&r)}}return i},e.decodeDelimited=function(e){return e instanceof o||(e=new o(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.streamId&&e.hasOwnProperty("streamId")&&!c.isInteger(e.streamId)?"streamId: integer expected":null!=e.ssrc&&e.hasOwnProperty("ssrc")&&!c.isInteger(e.ssrc)?"ssrc: integer expected":null!=e.trackLabel&&e.hasOwnProperty("trackLabel")&&!c.isString(e.trackLabel)?"trackLabel: string expected":null},e.fromObject=function(e){if(e instanceof d.SdkTrackMapping)return e;var t=new d.SdkTrackMapping;return null!=e.streamId&&(t.streamId=e.streamId>>>0),null!=e.ssrc&&(t.ssrc=e.ssrc>>>0),null!=e.trackLabel&&(t.trackLabel=String(e.trackLabel)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.streamId=0,n.ssrc=0,n.trackLabel=""),null!=e.streamId&&e.hasOwnProperty("streamId")&&(n.streamId=e.streamId),null!=e.ssrc&&e.hasOwnProperty("ssrc")&&(n.ssrc=e.ssrc),null!=e.trackLabel&&e.hasOwnProperty("trackLabel")&&(n.trackLabel=e.trackLabel),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,a.util.toJSONOptions)},e}(),d.SdkBitrate=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.sourceStreamId=0,e.prototype.avgBitrateBps=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),null!=e.sourceStreamId&&Object.hasOwnProperty.call(e,"sourceStreamId")&&t.uint32(8).uint32(e.sourceStreamId),null!=e.avgBitrateBps&&Object.hasOwnProperty.call(e,"avgBitrateBps")&&t.uint32(16).uint32(e.avgBitrateBps),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new d.SdkBitrate;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:i.sourceStreamId=e.uint32();break;case 2:i.avgBitrateBps=e.uint32();break;default:e.skipType(7&r)}}return i},e.decodeDelimited=function(e){return e instanceof o||(e=new o(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.sourceStreamId&&e.hasOwnProperty("sourceStreamId")&&!c.isInteger(e.sourceStreamId)?"sourceStreamId: integer expected":null!=e.avgBitrateBps&&e.hasOwnProperty("avgBitrateBps")&&!c.isInteger(e.avgBitrateBps)?"avgBitrateBps: integer expected":null},e.fromObject=function(e){if(e instanceof d.SdkBitrate)return e;var t=new d.SdkBitrate;return null!=e.sourceStreamId&&(t.sourceStreamId=e.sourceStreamId>>>0),null!=e.avgBitrateBps&&(t.avgBitrateBps=e.avgBitrateBps>>>0),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.sourceStreamId=0,n.avgBitrateBps=0),null!=e.sourceStreamId&&e.hasOwnProperty("sourceStreamId")&&(n.sourceStreamId=e.sourceStreamId),null!=e.avgBitrateBps&&e.hasOwnProperty("avgBitrateBps")&&(n.avgBitrateBps=e.avgBitrateBps),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,a.util.toJSONOptions)},e}(),d.SdkAudioControlFrame=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.muted=!1,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),null!=e.muted&&Object.hasOwnProperty.call(e,"muted")&&t.uint32(8).bool(e.muted),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new d.SdkAudioControlFrame;e.pos<n;){var r=e.uint32();r>>>3==1?i.muted=e.bool():e.skipType(7&r)}return i},e.decodeDelimited=function(e){return e instanceof o||(e=new o(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.muted&&e.hasOwnProperty("muted")&&"boolean"!=typeof e.muted?"muted: boolean expected":null},e.fromObject=function(e){if(e instanceof d.SdkAudioControlFrame)return e;var t=new d.SdkAudioControlFrame;return null!=e.muted&&(t.muted=Boolean(e.muted)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.muted=!1),null!=e.muted&&e.hasOwnProperty("muted")&&(n.muted=e.muted),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,a.util.toJSONOptions)},e}(),d.SdkAudioMetadataFrame=function(){function e(e){if(this.attendeeStates=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.attendeeStates=c.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=s.create()),null!=e.attendeeStates&&e.attendeeStates.length)for(var n=0;n<e.attendeeStates.length;++n)d.SdkAudioAttendeeState.encode(e.attendeeStates[n],t.uint32(10).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new d.SdkAudioMetadataFrame;e.pos<n;){var r=e.uint32();r>>>3==1?(i.attendeeStates&&i.attendeeStates.length||(i.attendeeStates=[]),i.attendeeStates.push(d.SdkAudioAttendeeState.decode(e,e.uint32()))):e.skipType(7&r)}return i},e.decodeDelimited=function(e){return e instanceof o||(e=new o(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.attendeeStates&&e.hasOwnProperty("attendeeStates")){if(!Array.isArray(e.attendeeStates))return"attendeeStates: array expected";for(var t=0;t<e.attendeeStates.length;++t){var n=d.SdkAudioAttendeeState.verify(e.attendeeStates[t]);if(n)return"attendeeStates."+n}}return null},e.fromObject=function(e){if(e instanceof d.SdkAudioMetadataFrame)return e;var t=new d.SdkAudioMetadataFrame;if(e.attendeeStates){if(!Array.isArray(e.attendeeStates))throw TypeError(".SdkAudioMetadataFrame.attendeeStates: array expected");t.attendeeStates=[];for(var n=0;n<e.attendeeStates.length;++n){if("object"!=typeof e.attendeeStates[n])throw TypeError(".SdkAudioMetadataFrame.attendeeStates: object expected");t.attendeeStates[n]=d.SdkAudioAttendeeState.fromObject(e.attendeeStates[n])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.attendeeStates=[]),e.attendeeStates&&e.attendeeStates.length){n.attendeeStates=[];for(var i=0;i<e.attendeeStates.length;++i)n.attendeeStates[i]=d.SdkAudioAttendeeState.toObject(e.attendeeStates[i],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,a.util.toJSONOptions)},e}(),d.SdkAudioAttendeeState=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.audioStreamId=0,e.prototype.volume=0,e.prototype.muted=!1,e.prototype.signalStrength=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),null!=e.audioStreamId&&Object.hasOwnProperty.call(e,"audioStreamId")&&t.uint32(8).uint32(e.audioStreamId),null!=e.volume&&Object.hasOwnProperty.call(e,"volume")&&t.uint32(16).uint32(e.volume),null!=e.muted&&Object.hasOwnProperty.call(e,"muted")&&t.uint32(24).bool(e.muted),null!=e.signalStrength&&Object.hasOwnProperty.call(e,"signalStrength")&&t.uint32(32).uint32(e.signalStrength),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new d.SdkAudioAttendeeState;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:i.audioStreamId=e.uint32();break;case 2:i.volume=e.uint32();break;case 3:i.muted=e.bool();break;case 4:i.signalStrength=e.uint32();break;default:e.skipType(7&r)}}return i},e.decodeDelimited=function(e){return e instanceof o||(e=new o(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.audioStreamId&&e.hasOwnProperty("audioStreamId")&&!c.isInteger(e.audioStreamId)?"audioStreamId: integer expected":null!=e.volume&&e.hasOwnProperty("volume")&&!c.isInteger(e.volume)?"volume: integer expected":null!=e.muted&&e.hasOwnProperty("muted")&&"boolean"!=typeof e.muted?"muted: boolean expected":null!=e.signalStrength&&e.hasOwnProperty("signalStrength")&&!c.isInteger(e.signalStrength)?"signalStrength: integer expected":null},e.fromObject=function(e){if(e instanceof d.SdkAudioAttendeeState)return e;var t=new d.SdkAudioAttendeeState;return null!=e.audioStreamId&&(t.audioStreamId=e.audioStreamId>>>0),null!=e.volume&&(t.volume=e.volume>>>0),null!=e.muted&&(t.muted=Boolean(e.muted)),null!=e.signalStrength&&(t.signalStrength=e.signalStrength>>>0),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.audioStreamId=0,n.volume=0,n.muted=!1,n.signalStrength=0),null!=e.audioStreamId&&e.hasOwnProperty("audioStreamId")&&(n.audioStreamId=e.audioStreamId),null!=e.volume&&e.hasOwnProperty("volume")&&(n.volume=e.volume),null!=e.muted&&e.hasOwnProperty("muted")&&(n.muted=e.muted),null!=e.signalStrength&&e.hasOwnProperty("signalStrength")&&(n.signalStrength=e.signalStrength),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,a.util.toJSONOptions)},e}(),d.SdkAudioStreamIdInfoFrame=function(){function e(e){if(this.streams=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.streams=c.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=s.create()),null!=e.streams&&e.streams.length)for(var n=0;n<e.streams.length;++n)d.SdkAudioStreamIdInfo.encode(e.streams[n],t.uint32(10).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new d.SdkAudioStreamIdInfoFrame;e.pos<n;){var r=e.uint32();r>>>3==1?(i.streams&&i.streams.length||(i.streams=[]),i.streams.push(d.SdkAudioStreamIdInfo.decode(e,e.uint32()))):e.skipType(7&r)}return i},e.decodeDelimited=function(e){return e instanceof o||(e=new o(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.streams&&e.hasOwnProperty("streams")){if(!Array.isArray(e.streams))return"streams: array expected";for(var t=0;t<e.streams.length;++t){var n=d.SdkAudioStreamIdInfo.verify(e.streams[t]);if(n)return"streams."+n}}return null},e.fromObject=function(e){if(e instanceof d.SdkAudioStreamIdInfoFrame)return e;var t=new d.SdkAudioStreamIdInfoFrame;if(e.streams){if(!Array.isArray(e.streams))throw TypeError(".SdkAudioStreamIdInfoFrame.streams: array expected");t.streams=[];for(var n=0;n<e.streams.length;++n){if("object"!=typeof e.streams[n])throw TypeError(".SdkAudioStreamIdInfoFrame.streams: object expected");t.streams[n]=d.SdkAudioStreamIdInfo.fromObject(e.streams[n])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.streams=[]),e.streams&&e.streams.length){n.streams=[];for(var i=0;i<e.streams.length;++i)n.streams[i]=d.SdkAudioStreamIdInfo.toObject(e.streams[i],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,a.util.toJSONOptions)},e}(),d.SdkAudioStreamIdInfo=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.audioStreamId=0,e.prototype.attendeeId="",e.prototype.muted=!1,e.prototype.externalUserId="",e.prototype.dropped=!1,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),null!=e.audioStreamId&&Object.hasOwnProperty.call(e,"audioStreamId")&&t.uint32(8).uint32(e.audioStreamId),null!=e.attendeeId&&Object.hasOwnProperty.call(e,"attendeeId")&&t.uint32(18).string(e.attendeeId),null!=e.muted&&Object.hasOwnProperty.call(e,"muted")&&t.uint32(24).bool(e.muted),null!=e.externalUserId&&Object.hasOwnProperty.call(e,"externalUserId")&&t.uint32(34).string(e.externalUserId),null!=e.dropped&&Object.hasOwnProperty.call(e,"dropped")&&t.uint32(40).bool(e.dropped),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new d.SdkAudioStreamIdInfo;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:i.audioStreamId=e.uint32();break;case 2:i.attendeeId=e.string();break;case 3:i.muted=e.bool();break;case 4:i.externalUserId=e.string();break;case 5:i.dropped=e.bool();break;default:e.skipType(7&r)}}return i},e.decodeDelimited=function(e){return e instanceof o||(e=new o(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.audioStreamId&&e.hasOwnProperty("audioStreamId")&&!c.isInteger(e.audioStreamId)?"audioStreamId: integer expected":null!=e.attendeeId&&e.hasOwnProperty("attendeeId")&&!c.isString(e.attendeeId)?"attendeeId: string expected":null!=e.muted&&e.hasOwnProperty("muted")&&"boolean"!=typeof e.muted?"muted: boolean expected":null!=e.externalUserId&&e.hasOwnProperty("externalUserId")&&!c.isString(e.externalUserId)?"externalUserId: string expected":null!=e.dropped&&e.hasOwnProperty("dropped")&&"boolean"!=typeof e.dropped?"dropped: boolean expected":null},e.fromObject=function(e){if(e instanceof d.SdkAudioStreamIdInfo)return e;var t=new d.SdkAudioStreamIdInfo;return null!=e.audioStreamId&&(t.audioStreamId=e.audioStreamId>>>0),null!=e.attendeeId&&(t.attendeeId=String(e.attendeeId)),null!=e.muted&&(t.muted=Boolean(e.muted)),null!=e.externalUserId&&(t.externalUserId=String(e.externalUserId)),null!=e.dropped&&(t.dropped=Boolean(e.dropped)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.audioStreamId=0,n.attendeeId="",n.muted=!1,n.externalUserId="",n.dropped=!1),null!=e.audioStreamId&&e.hasOwnProperty("audioStreamId")&&(n.audioStreamId=e.audioStreamId),null!=e.attendeeId&&e.hasOwnProperty("attendeeId")&&(n.attendeeId=e.attendeeId),null!=e.muted&&e.hasOwnProperty("muted")&&(n.muted=e.muted),null!=e.externalUserId&&e.hasOwnProperty("externalUserId")&&(n.externalUserId=e.externalUserId),null!=e.dropped&&e.hasOwnProperty("dropped")&&(n.dropped=e.dropped),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,a.util.toJSONOptions)},e}(),d.SdkPingPongType=function(){var e={},t=Object.create(e);return t[e[1]="PING"]=1,t[e[2]="PONG"]=2,t}(),d.SdkPingPongFrame=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.type=1,e.prototype.pingId=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),t.uint32(8).int32(e.type),t.uint32(16).uint32(e.pingId),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new d.SdkPingPongFrame;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:i.type=e.int32();break;case 2:i.pingId=e.uint32();break;default:e.skipType(7&r)}}if(!i.hasOwnProperty("type"))throw c.ProtocolError("missing required 'type'",{instance:i});if(!i.hasOwnProperty("pingId"))throw c.ProtocolError("missing required 'pingId'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof o||(e=new o(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";switch(e.type){default:return"type: enum value expected";case 1:case 2:}return c.isInteger(e.pingId)?null:"pingId: integer expected"},e.fromObject=function(e){if(e instanceof d.SdkPingPongFrame)return e;var t=new d.SdkPingPongFrame;switch(e.type){case"PING":case 1:t.type=1;break;case"PONG":case 2:t.type=2}return null!=e.pingId&&(t.pingId=e.pingId>>>0),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.type=t.enums===String?"PING":1,n.pingId=0),null!=e.type&&e.hasOwnProperty("type")&&(n.type=t.enums===String?d.SdkPingPongType[e.type]:e.type),null!=e.pingId&&e.hasOwnProperty("pingId")&&(n.pingId=e.pingId),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,a.util.toJSONOptions)},e}(),d.SdkAudioStatusFrame=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.audioStatus=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),null!=e.audioStatus&&Object.hasOwnProperty.call(e,"audioStatus")&&t.uint32(8).uint32(e.audioStatus),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new d.SdkAudioStatusFrame;e.pos<n;){var r=e.uint32();r>>>3==1?i.audioStatus=e.uint32():e.skipType(7&r)}return i},e.decodeDelimited=function(e){return e instanceof o||(e=new o(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.audioStatus&&e.hasOwnProperty("audioStatus")&&!c.isInteger(e.audioStatus)?"audioStatus: integer expected":null},e.fromObject=function(e){if(e instanceof d.SdkAudioStatusFrame)return e;var t=new d.SdkAudioStatusFrame;return null!=e.audioStatus&&(t.audioStatus=e.audioStatus>>>0),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.audioStatus=0),null!=e.audioStatus&&e.hasOwnProperty("audioStatus")&&(n.audioStatus=e.audioStatus),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,a.util.toJSONOptions)},e}(),d.SdkMetric=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.type=1,e.prototype.value=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),null!=e.type&&Object.hasOwnProperty.call(e,"type")&&t.uint32(8).int32(e.type),null!=e.value&&Object.hasOwnProperty.call(e,"value")&&t.uint32(17).double(e.value),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new d.SdkMetric;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:i.type=e.int32();break;case 2:i.value=e.double();break;default:e.skipType(7&r)}}return i},e.decodeDelimited=function(e){return e instanceof o||(e=new o(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.type&&e.hasOwnProperty("type"))switch(e.type){default:return"type: enum value expected";case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:case 14:case 15:case 16:case 17:case 18:case 19:case 20:case 21:case 22:case 23:case 24:case 25:case 26:case 27:case 28:case 29:case 30:case 31:case 32:case 33:case 34:case 35:case 36:case 37:case 38:case 39:case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:case 48:case 49:case 64:case 66:case 69:case 72:case 86:case 87:case 88:case 89:}return null!=e.value&&e.hasOwnProperty("value")&&"number"!=typeof e.value?"value: number expected":null},e.fromObject=function(e){if(e instanceof d.SdkMetric)return e;var t=new d.SdkMetric;switch(e.type){case"VIDEO_ACTUAL_ENCODER_BITRATE":case 1:t.type=1;break;case"VIDEO_AVAILABLE_SEND_BANDWIDTH":case 2:t.type=2;break;case"VIDEO_RETRANSMIT_BITRATE":case 3:t.type=3;break;case"VIDEO_AVAILABLE_RECEIVE_BANDWIDTH":case 4:t.type=4;break;case"VIDEO_TARGET_ENCODER_BITRATE":case 5:t.type=5;break;case"VIDEO_BUCKET_DELAY_MS":case 6:t.type=6;break;case"STUN_RTT_MS":case 7:t.type=7;break;case"SOCKET_DISCARDED_PPS":case 8:t.type=8;break;case"RTC_MIC_JITTER_MS":case 9:t.type=9;break;case"RTC_MIC_PPS":case 10:t.type=10;break;case"RTC_MIC_FRACTION_PACKET_LOST_PERCENT":case 11:t.type=11;break;case"RTC_MIC_BITRATE":case 12:t.type=12;break;case"RTC_MIC_RTT_MS":case 13:t.type=13;break;case"RTC_SPK_PPS":case 14:t.type=14;break;case"RTC_SPK_FRACTION_PACKET_LOST_PERCENT":case 15:t.type=15;break;case"RTC_SPK_JITTER_MS":case 16:t.type=16;break;case"RTC_SPK_FRACTION_DECODER_LOSS_PERCENT":case 17:t.type=17;break;case"RTC_SPK_BITRATE":case 18:t.type=18;break;case"RTC_SPK_CURRENT_DELAY_MS":case 19:t.type=19;break;case"RTC_SPK_JITTER_BUFFER_MS":case 20:t.type=20;break;case"VIDEO_SENT_RTT_MS":case 21:t.type=21;break;case"VIDEO_ENCODE_USAGE_PERCENT":case 22:t.type=22;break;case"VIDEO_NACKS_RECEIVED":case 23:t.type=23;break;case"VIDEO_PLIS_RECEIVED":case 24:t.type=24;break;case"VIDEO_ENCODE_MS":case 25:t.type=25;break;case"VIDEO_INPUT_FPS":case 26:t.type=26;break;case"VIDEO_ENCODE_FPS":case 27:t.type=27;break;case"VIDEO_SENT_FPS":case 28:t.type=28;break;case"VIDEO_FIRS_RECEIVED":case 29:t.type=29;break;case"VIDEO_SENT_PPS":case 30:t.type=30;break;case"VIDEO_SENT_FRACTION_PACKET_LOST_PERCENT":case 31:t.type=31;break;case"VIDEO_SENT_BITRATE":case 32:t.type=32;break;case"VIDEO_DROPPED_FPS":case 33:t.type=33;break;case"VIDEO_TARGET_DELAY_MS":case 34:t.type=34;break;case"VIDEO_DECODE_MS":case 35:t.type=35;break;case"VIDEO_OUTPUT_FPS":case 36:t.type=36;break;case"VIDEO_RECEIVED_PPS":case 37:t.type=37;break;case"VIDEO_RECEIVED_FRACTION_PACKET_LOST_PERCENT":case 38:t.type=38;break;case"VIDEO_RENDER_DELAY_MS":case 39:t.type=39;break;case"VIDEO_RECEIVED_FPS":case 40:t.type=40;break;case"VIDEO_DECODE_FPS":case 41:t.type=41;break;case"VIDEO_NACKS_SENT":case 42:t.type=42;break;case"VIDEO_FIRS_SENT":case 43:t.type=43;break;case"VIDEO_RECEIVED_BITRATE":case 44:t.type=44;break;case"VIDEO_CURRENT_DELAY_MS":case 45:t.type=45;break;case"VIDEO_JITTER_BUFFER_MS":case 46:t.type=46;break;case"VIDEO_DISCARDED_PPS":case 47:t.type=47;break;case"VIDEO_PLIS_SENT":case 48:t.type=48;break;case"VIDEO_RECEIVED_JITTER_MS":case 49:t.type=49;break;case"VIDEO_ENCODE_HEIGHT":case 64:t.type=64;break;case"VIDEO_SENT_QP_SUM":case 66:t.type=66;break;case"VIDEO_DECODE_HEIGHT":case 69:t.type=69;break;case"VIDEO_RECEIVED_QP_SUM":case 72:t.type=72;break;case"VIDEO_ENCODE_WIDTH":case 86:t.type=86;break;case"VIDEO_DECODE_WIDTH":case 87:t.type=87;break;case"VIDEO_ENCODER_IS_HARDWARE":case 88:t.type=88;break;case"VIDEO_DECODER_IS_HARDWARE":case 89:t.type=89}return null!=e.value&&(t.value=Number(e.value)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.type=t.enums===String?"VIDEO_ACTUAL_ENCODER_BITRATE":1,n.value=0),null!=e.type&&e.hasOwnProperty("type")&&(n.type=t.enums===String?d.SdkMetric.Type[e.type]:e.type),null!=e.value&&e.hasOwnProperty("value")&&(n.value=t.json&&!isFinite(e.value)?String(e.value):e.value),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,a.util.toJSONOptions)},e.Type=function(){var e={},t=Object.create(e);return t[e[1]="VIDEO_ACTUAL_ENCODER_BITRATE"]=1,t[e[2]="VIDEO_AVAILABLE_SEND_BANDWIDTH"]=2,t[e[3]="VIDEO_RETRANSMIT_BITRATE"]=3,t[e[4]="VIDEO_AVAILABLE_RECEIVE_BANDWIDTH"]=4,t[e[5]="VIDEO_TARGET_ENCODER_BITRATE"]=5,t[e[6]="VIDEO_BUCKET_DELAY_MS"]=6,t[e[7]="STUN_RTT_MS"]=7,t[e[8]="SOCKET_DISCARDED_PPS"]=8,t[e[9]="RTC_MIC_JITTER_MS"]=9,t[e[10]="RTC_MIC_PPS"]=10,t[e[11]="RTC_MIC_FRACTION_PACKET_LOST_PERCENT"]=11,t[e[12]="RTC_MIC_BITRATE"]=12,t[e[13]="RTC_MIC_RTT_MS"]=13,t[e[14]="RTC_SPK_PPS"]=14,t[e[15]="RTC_SPK_FRACTION_PACKET_LOST_PERCENT"]=15,t[e[16]="RTC_SPK_JITTER_MS"]=16,t[e[17]="RTC_SPK_FRACTION_DECODER_LOSS_PERCENT"]=17,t[e[18]="RTC_SPK_BITRATE"]=18,t[e[19]="RTC_SPK_CURRENT_DELAY_MS"]=19,t[e[20]="RTC_SPK_JITTER_BUFFER_MS"]=20,t[e[21]="VIDEO_SENT_RTT_MS"]=21,t[e[22]="VIDEO_ENCODE_USAGE_PERCENT"]=22,t[e[23]="VIDEO_NACKS_RECEIVED"]=23,t[e[24]="VIDEO_PLIS_RECEIVED"]=24,t[e[25]="VIDEO_ENCODE_MS"]=25,t[e[26]="VIDEO_INPUT_FPS"]=26,t[e[27]="VIDEO_ENCODE_FPS"]=27,t[e[28]="VIDEO_SENT_FPS"]=28,t[e[29]="VIDEO_FIRS_RECEIVED"]=29,t[e[30]="VIDEO_SENT_PPS"]=30,t[e[31]="VIDEO_SENT_FRACTION_PACKET_LOST_PERCENT"]=31,t[e[32]="VIDEO_SENT_BITRATE"]=32,t[e[33]="VIDEO_DROPPED_FPS"]=33,t[e[34]="VIDEO_TARGET_DELAY_MS"]=34,t[e[35]="VIDEO_DECODE_MS"]=35,t[e[36]="VIDEO_OUTPUT_FPS"]=36,t[e[37]="VIDEO_RECEIVED_PPS"]=37,t[e[38]="VIDEO_RECEIVED_FRACTION_PACKET_LOST_PERCENT"]=38,t[e[39]="VIDEO_RENDER_DELAY_MS"]=39,t[e[40]="VIDEO_RECEIVED_FPS"]=40,t[e[41]="VIDEO_DECODE_FPS"]=41,t[e[42]="VIDEO_NACKS_SENT"]=42,t[e[43]="VIDEO_FIRS_SENT"]=43,t[e[44]="VIDEO_RECEIVED_BITRATE"]=44,t[e[45]="VIDEO_CURRENT_DELAY_MS"]=45,t[e[46]="VIDEO_JITTER_BUFFER_MS"]=46,t[e[47]="VIDEO_DISCARDED_PPS"]=47,t[e[48]="VIDEO_PLIS_SENT"]=48,t[e[49]="VIDEO_RECEIVED_JITTER_MS"]=49,t[e[64]="VIDEO_ENCODE_HEIGHT"]=64,t[e[66]="VIDEO_SENT_QP_SUM"]=66,t[e[69]="VIDEO_DECODE_HEIGHT"]=69,t[e[72]="VIDEO_RECEIVED_QP_SUM"]=72,t[e[86]="VIDEO_ENCODE_WIDTH"]=86,t[e[87]="VIDEO_DECODE_WIDTH"]=87,t[e[88]="VIDEO_ENCODER_IS_HARDWARE"]=88,t[e[89]="VIDEO_DECODER_IS_HARDWARE"]=89,t}(),e}(),d.SdkStreamMetricFrame=function(){function e(e){if(this.metrics=[],this.dimensions=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.streamId=0,e.prototype.groupId=0,e.prototype.metrics=c.emptyArray,e.prototype.dimensions=c.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=s.create()),null!=e.streamId&&Object.hasOwnProperty.call(e,"streamId")&&t.uint32(24).uint32(e.streamId),null!=e.groupId&&Object.hasOwnProperty.call(e,"groupId")&&t.uint32(32).uint32(e.groupId),null!=e.metrics&&e.metrics.length)for(var n=0;n<e.metrics.length;++n)d.SdkMetric.encode(e.metrics[n],t.uint32(42).fork()).ldelim();if(null!=e.dimensions&&e.dimensions.length)for(n=0;n<e.dimensions.length;++n)d.SdkStreamDimension.encode(e.dimensions[n],t.uint32(50).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new d.SdkStreamMetricFrame;e.pos<n;){var r=e.uint32();switch(r>>>3){case 3:i.streamId=e.uint32();break;case 4:i.groupId=e.uint32();break;case 5:i.metrics&&i.metrics.length||(i.metrics=[]),i.metrics.push(d.SdkMetric.decode(e,e.uint32()));break;case 6:i.dimensions&&i.dimensions.length||(i.dimensions=[]),i.dimensions.push(d.SdkStreamDimension.decode(e,e.uint32()));break;default:e.skipType(7&r)}}return i},e.decodeDelimited=function(e){return e instanceof o||(e=new o(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.streamId&&e.hasOwnProperty("streamId")&&!c.isInteger(e.streamId))return"streamId: integer expected";if(null!=e.groupId&&e.hasOwnProperty("groupId")&&!c.isInteger(e.groupId))return"groupId: integer expected";if(null!=e.metrics&&e.hasOwnProperty("metrics")){if(!Array.isArray(e.metrics))return"metrics: array expected";for(var t=0;t<e.metrics.length;++t)if(n=d.SdkMetric.verify(e.metrics[t]))return"metrics."+n}if(null!=e.dimensions&&e.hasOwnProperty("dimensions")){if(!Array.isArray(e.dimensions))return"dimensions: array expected";for(t=0;t<e.dimensions.length;++t){var n;if(n=d.SdkStreamDimension.verify(e.dimensions[t]))return"dimensions."+n}}return null},e.fromObject=function(e){if(e instanceof d.SdkStreamMetricFrame)return e;var t=new d.SdkStreamMetricFrame;if(null!=e.streamId&&(t.streamId=e.streamId>>>0),null!=e.groupId&&(t.groupId=e.groupId>>>0),e.metrics){if(!Array.isArray(e.metrics))throw TypeError(".SdkStreamMetricFrame.metrics: array expected");t.metrics=[];for(var n=0;n<e.metrics.length;++n){if("object"!=typeof e.metrics[n])throw TypeError(".SdkStreamMetricFrame.metrics: object expected");t.metrics[n]=d.SdkMetric.fromObject(e.metrics[n])}}if(e.dimensions){if(!Array.isArray(e.dimensions))throw TypeError(".SdkStreamMetricFrame.dimensions: array expected");for(t.dimensions=[],n=0;n<e.dimensions.length;++n){if("object"!=typeof e.dimensions[n])throw TypeError(".SdkStreamMetricFrame.dimensions: object expected");t.dimensions[n]=d.SdkStreamDimension.fromObject(e.dimensions[n])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.metrics=[],n.dimensions=[]),t.defaults&&(n.streamId=0,n.groupId=0),null!=e.streamId&&e.hasOwnProperty("streamId")&&(n.streamId=e.streamId),null!=e.groupId&&e.hasOwnProperty("groupId")&&(n.groupId=e.groupId),e.metrics&&e.metrics.length){n.metrics=[];for(var i=0;i<e.metrics.length;++i)n.metrics[i]=d.SdkMetric.toObject(e.metrics[i],t)}if(e.dimensions&&e.dimensions.length)for(n.dimensions=[],i=0;i<e.dimensions.length;++i)n.dimensions[i]=d.SdkStreamDimension.toObject(e.dimensions[i],t);return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,a.util.toJSONOptions)},e}(),d.SdkClientMetricFrame=function(){function e(e){if(this.globalMetrics=[],this.streamMetricFrames=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.globalMetrics=c.emptyArray,e.prototype.streamMetricFrames=c.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=s.create()),null!=e.globalMetrics&&e.globalMetrics.length)for(var n=0;n<e.globalMetrics.length;++n)d.SdkMetric.encode(e.globalMetrics[n],t.uint32(10).fork()).ldelim();if(null!=e.streamMetricFrames&&e.streamMetricFrames.length)for(n=0;n<e.streamMetricFrames.length;++n)d.SdkStreamMetricFrame.encode(e.streamMetricFrames[n],t.uint32(18).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new d.SdkClientMetricFrame;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:i.globalMetrics&&i.globalMetrics.length||(i.globalMetrics=[]),i.globalMetrics.push(d.SdkMetric.decode(e,e.uint32()));break;case 2:i.streamMetricFrames&&i.streamMetricFrames.length||(i.streamMetricFrames=[]),i.streamMetricFrames.push(d.SdkStreamMetricFrame.decode(e,e.uint32()));break;default:e.skipType(7&r)}}return i},e.decodeDelimited=function(e){return e instanceof o||(e=new o(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.globalMetrics&&e.hasOwnProperty("globalMetrics")){if(!Array.isArray(e.globalMetrics))return"globalMetrics: array expected";for(var t=0;t<e.globalMetrics.length;++t)if(n=d.SdkMetric.verify(e.globalMetrics[t]))return"globalMetrics."+n}if(null!=e.streamMetricFrames&&e.hasOwnProperty("streamMetricFrames")){if(!Array.isArray(e.streamMetricFrames))return"streamMetricFrames: array expected";for(t=0;t<e.streamMetricFrames.length;++t){var n;if(n=d.SdkStreamMetricFrame.verify(e.streamMetricFrames[t]))return"streamMetricFrames."+n}}return null},e.fromObject=function(e){if(e instanceof d.SdkClientMetricFrame)return e;var t=new d.SdkClientMetricFrame;if(e.globalMetrics){if(!Array.isArray(e.globalMetrics))throw TypeError(".SdkClientMetricFrame.globalMetrics: array expected");t.globalMetrics=[];for(var n=0;n<e.globalMetrics.length;++n){if("object"!=typeof e.globalMetrics[n])throw TypeError(".SdkClientMetricFrame.globalMetrics: object expected");t.globalMetrics[n]=d.SdkMetric.fromObject(e.globalMetrics[n])}}if(e.streamMetricFrames){if(!Array.isArray(e.streamMetricFrames))throw TypeError(".SdkClientMetricFrame.streamMetricFrames: array expected");for(t.streamMetricFrames=[],n=0;n<e.streamMetricFrames.length;++n){if("object"!=typeof e.streamMetricFrames[n])throw TypeError(".SdkClientMetricFrame.streamMetricFrames: object expected");t.streamMetricFrames[n]=d.SdkStreamMetricFrame.fromObject(e.streamMetricFrames[n])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.globalMetrics=[],n.streamMetricFrames=[]),e.globalMetrics&&e.globalMetrics.length){n.globalMetrics=[];for(var i=0;i<e.globalMetrics.length;++i)n.globalMetrics[i]=d.SdkMetric.toObject(e.globalMetrics[i],t)}if(e.streamMetricFrames&&e.streamMetricFrames.length)for(n.streamMetricFrames=[],i=0;i<e.streamMetricFrames.length;++i)n.streamMetricFrames[i]=d.SdkStreamMetricFrame.toObject(e.streamMetricFrames[i],t);return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,a.util.toJSONOptions)},e}(),d.SdkStreamDimension=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.type=1,e.prototype.value=null,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),null!=e.type&&Object.hasOwnProperty.call(e,"type")&&t.uint32(8).int32(e.type),null!=e.value&&Object.hasOwnProperty.call(e,"value")&&d.SdkDimensionValue.encode(e.value,t.uint32(18).fork()).ldelim(),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new d.SdkStreamDimension;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:i.type=e.int32();break;case 2:i.value=d.SdkDimensionValue.decode(e,e.uint32());break;default:e.skipType(7&r)}}return i},e.decodeDelimited=function(e){return e instanceof o||(e=new o(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.type&&e.hasOwnProperty("type"))switch(e.type){default:return"type: enum value expected";case 1:case 2:}if(null!=e.value&&e.hasOwnProperty("value")){var t=d.SdkDimensionValue.verify(e.value);if(t)return"value."+t}return null},e.fromObject=function(e){if(e instanceof d.SdkStreamDimension)return e;var t=new d.SdkStreamDimension;switch(e.type){case"VIDEO_ENCODER_NAME":case 1:t.type=1;break;case"VIDEO_DECODER_NAME":case 2:t.type=2}if(null!=e.value){if("object"!=typeof e.value)throw TypeError(".SdkStreamDimension.value: object expected");t.value=d.SdkDimensionValue.fromObject(e.value)}return t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.type=t.enums===String?"VIDEO_ENCODER_NAME":1,n.value=null),null!=e.type&&e.hasOwnProperty("type")&&(n.type=t.enums===String?d.SdkStreamDimension.Type[e.type]:e.type),null!=e.value&&e.hasOwnProperty("value")&&(n.value=d.SdkDimensionValue.toObject(e.value,t)),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,a.util.toJSONOptions)},e.Type=function(){var e={},t=Object.create(e);return t[e[1]="VIDEO_ENCODER_NAME"]=1,t[e[2]="VIDEO_DECODER_NAME"]=2,t}(),e}(),d.SdkDimensionValue=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.stringValue="",e.prototype.boolValue=!1,e.prototype.uintValue=c.Long?c.Long.fromBits(0,0,!0):0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),null!=e.stringValue&&Object.hasOwnProperty.call(e,"stringValue")&&t.uint32(10).string(e.stringValue),null!=e.boolValue&&Object.hasOwnProperty.call(e,"boolValue")&&t.uint32(16).bool(e.boolValue),null!=e.uintValue&&Object.hasOwnProperty.call(e,"uintValue")&&t.uint32(24).uint64(e.uintValue),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new d.SdkDimensionValue;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:i.stringValue=e.string();break;case 2:i.boolValue=e.bool();break;case 3:i.uintValue=e.uint64();break;default:e.skipType(7&r)}}return i},e.decodeDelimited=function(e){return e instanceof o||(e=new o(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.stringValue&&e.hasOwnProperty("stringValue")&&!c.isString(e.stringValue)?"stringValue: string expected":null!=e.boolValue&&e.hasOwnProperty("boolValue")&&"boolean"!=typeof e.boolValue?"boolValue: boolean expected":null!=e.uintValue&&e.hasOwnProperty("uintValue")&&!(c.isInteger(e.uintValue)||e.uintValue&&c.isInteger(e.uintValue.low)&&c.isInteger(e.uintValue.high))?"uintValue: integer|Long expected":null},e.fromObject=function(e){if(e instanceof d.SdkDimensionValue)return e;var t=new d.SdkDimensionValue;return null!=e.stringValue&&(t.stringValue=String(e.stringValue)),null!=e.boolValue&&(t.boolValue=Boolean(e.boolValue)),null!=e.uintValue&&(c.Long?(t.uintValue=c.Long.fromValue(e.uintValue)).unsigned=!0:"string"==typeof e.uintValue?t.uintValue=parseInt(e.uintValue,10):"number"==typeof e.uintValue?t.uintValue=e.uintValue:"object"==typeof e.uintValue&&(t.uintValue=new c.LongBits(e.uintValue.low>>>0,e.uintValue.high>>>0).toNumber(!0))),t},e.toObject=function(e,t){t||(t={});var n={};if(t.defaults)if(n.stringValue="",n.boolValue=!1,c.Long){var i=new c.Long(0,0,!0);n.uintValue=t.longs===String?i.toString():t.longs===Number?i.toNumber():i}else n.uintValue=t.longs===String?"0":0;return null!=e.stringValue&&e.hasOwnProperty("stringValue")&&(n.stringValue=e.stringValue),null!=e.boolValue&&e.hasOwnProperty("boolValue")&&(n.boolValue=e.boolValue),null!=e.uintValue&&e.hasOwnProperty("uintValue")&&("number"==typeof e.uintValue?n.uintValue=t.longs===String?String(e.uintValue):e.uintValue:n.uintValue=t.longs===String?c.Long.prototype.toString.call(e.uintValue):t.longs===Number?new c.LongBits(e.uintValue.low>>>0,e.uintValue.high>>>0).toNumber(!0):e.uintValue),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,a.util.toJSONOptions)},e}(),d.SdkDataMessageFrame=function(){function e(e){if(this.messages=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.messages=c.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=s.create()),null!=e.messages&&e.messages.length)for(var n=0;n<e.messages.length;++n)d.SdkDataMessagePayload.encode(e.messages[n],t.uint32(10).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new d.SdkDataMessageFrame;e.pos<n;){var r=e.uint32();r>>>3==1?(i.messages&&i.messages.length||(i.messages=[]),i.messages.push(d.SdkDataMessagePayload.decode(e,e.uint32()))):e.skipType(7&r)}return i},e.decodeDelimited=function(e){return e instanceof o||(e=new o(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.messages&&e.hasOwnProperty("messages")){if(!Array.isArray(e.messages))return"messages: array expected";for(var t=0;t<e.messages.length;++t){var n=d.SdkDataMessagePayload.verify(e.messages[t]);if(n)return"messages."+n}}return null},e.fromObject=function(e){if(e instanceof d.SdkDataMessageFrame)return e;var t=new d.SdkDataMessageFrame;if(e.messages){if(!Array.isArray(e.messages))throw TypeError(".SdkDataMessageFrame.messages: array expected");t.messages=[];for(var n=0;n<e.messages.length;++n){if("object"!=typeof e.messages[n])throw TypeError(".SdkDataMessageFrame.messages: object expected");t.messages[n]=d.SdkDataMessagePayload.fromObject(e.messages[n])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.messages=[]),e.messages&&e.messages.length){n.messages=[];for(var i=0;i<e.messages.length;++i)n.messages[i]=d.SdkDataMessagePayload.toObject(e.messages[i],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,a.util.toJSONOptions)},e}(),d.SdkDataMessagePayload=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.topic="",e.prototype.data=c.newBuffer([]),e.prototype.lifetimeMs=0,e.prototype.senderAttendeeId="",e.prototype.ingestTimeNs=c.Long?c.Long.fromBits(0,0,!1):0,e.prototype.senderExternalUserId="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),null!=e.topic&&Object.hasOwnProperty.call(e,"topic")&&t.uint32(10).string(e.topic),null!=e.data&&Object.hasOwnProperty.call(e,"data")&&t.uint32(18).bytes(e.data),null!=e.lifetimeMs&&Object.hasOwnProperty.call(e,"lifetimeMs")&&t.uint32(24).uint32(e.lifetimeMs),null!=e.senderAttendeeId&&Object.hasOwnProperty.call(e,"senderAttendeeId")&&t.uint32(34).string(e.senderAttendeeId),null!=e.ingestTimeNs&&Object.hasOwnProperty.call(e,"ingestTimeNs")&&t.uint32(40).int64(e.ingestTimeNs),null!=e.senderExternalUserId&&Object.hasOwnProperty.call(e,"senderExternalUserId")&&t.uint32(50).string(e.senderExternalUserId),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new d.SdkDataMessagePayload;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:i.topic=e.string();break;case 2:i.data=e.bytes();break;case 3:i.lifetimeMs=e.uint32();break;case 4:i.senderAttendeeId=e.string();break;case 5:i.ingestTimeNs=e.int64();break;case 6:i.senderExternalUserId=e.string();break;default:e.skipType(7&r)}}return i},e.decodeDelimited=function(e){return e instanceof o||(e=new o(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.topic&&e.hasOwnProperty("topic")&&!c.isString(e.topic)?"topic: string expected":null!=e.data&&e.hasOwnProperty("data")&&!(e.data&&"number"==typeof e.data.length||c.isString(e.data))?"data: buffer expected":null!=e.lifetimeMs&&e.hasOwnProperty("lifetimeMs")&&!c.isInteger(e.lifetimeMs)?"lifetimeMs: integer expected":null!=e.senderAttendeeId&&e.hasOwnProperty("senderAttendeeId")&&!c.isString(e.senderAttendeeId)?"senderAttendeeId: string expected":null!=e.ingestTimeNs&&e.hasOwnProperty("ingestTimeNs")&&!(c.isInteger(e.ingestTimeNs)||e.ingestTimeNs&&c.isInteger(e.ingestTimeNs.low)&&c.isInteger(e.ingestTimeNs.high))?"ingestTimeNs: integer|Long expected":null!=e.senderExternalUserId&&e.hasOwnProperty("senderExternalUserId")&&!c.isString(e.senderExternalUserId)?"senderExternalUserId: string expected":null},e.fromObject=function(e){if(e instanceof d.SdkDataMessagePayload)return e;var t=new d.SdkDataMessagePayload;return null!=e.topic&&(t.topic=String(e.topic)),null!=e.data&&("string"==typeof e.data?c.base64.decode(e.data,t.data=c.newBuffer(c.base64.length(e.data)),0):e.data.length&&(t.data=e.data)),null!=e.lifetimeMs&&(t.lifetimeMs=e.lifetimeMs>>>0),null!=e.senderAttendeeId&&(t.senderAttendeeId=String(e.senderAttendeeId)),null!=e.ingestTimeNs&&(c.Long?(t.ingestTimeNs=c.Long.fromValue(e.ingestTimeNs)).unsigned=!1:"string"==typeof e.ingestTimeNs?t.ingestTimeNs=parseInt(e.ingestTimeNs,10):"number"==typeof e.ingestTimeNs?t.ingestTimeNs=e.ingestTimeNs:"object"==typeof e.ingestTimeNs&&(t.ingestTimeNs=new c.LongBits(e.ingestTimeNs.low>>>0,e.ingestTimeNs.high>>>0).toNumber())),null!=e.senderExternalUserId&&(t.senderExternalUserId=String(e.senderExternalUserId)),t},e.toObject=function(e,t){t||(t={});var n={};if(t.defaults){if(n.topic="",t.bytes===String?n.data="":(n.data=[],t.bytes!==Array&&(n.data=c.newBuffer(n.data))),n.lifetimeMs=0,n.senderAttendeeId="",c.Long){var i=new c.Long(0,0,!1);n.ingestTimeNs=t.longs===String?i.toString():t.longs===Number?i.toNumber():i}else n.ingestTimeNs=t.longs===String?"0":0;n.senderExternalUserId=""}return null!=e.topic&&e.hasOwnProperty("topic")&&(n.topic=e.topic),null!=e.data&&e.hasOwnProperty("data")&&(n.data=t.bytes===String?c.base64.encode(e.data,0,e.data.length):t.bytes===Array?Array.prototype.slice.call(e.data):e.data),null!=e.lifetimeMs&&e.hasOwnProperty("lifetimeMs")&&(n.lifetimeMs=e.lifetimeMs),null!=e.senderAttendeeId&&e.hasOwnProperty("senderAttendeeId")&&(n.senderAttendeeId=e.senderAttendeeId),null!=e.ingestTimeNs&&e.hasOwnProperty("ingestTimeNs")&&("number"==typeof e.ingestTimeNs?n.ingestTimeNs=t.longs===String?String(e.ingestTimeNs):e.ingestTimeNs:n.ingestTimeNs=t.longs===String?c.Long.prototype.toString.call(e.ingestTimeNs):t.longs===Number?new c.LongBits(e.ingestTimeNs.low>>>0,e.ingestTimeNs.high>>>0).toNumber():e.ingestTimeNs),null!=e.senderExternalUserId&&e.hasOwnProperty("senderExternalUserId")&&(n.senderExternalUserId=e.senderExternalUserId),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,a.util.toJSONOptions)},e}(),d.SdkTurnCredentials=function(){function e(e){if(this.uris=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.username="",e.prototype.password="",e.prototype.ttl=0,e.prototype.uris=c.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=s.create()),null!=e.username&&Object.hasOwnProperty.call(e,"username")&&t.uint32(10).string(e.username),null!=e.password&&Object.hasOwnProperty.call(e,"password")&&t.uint32(18).string(e.password),null!=e.ttl&&Object.hasOwnProperty.call(e,"ttl")&&t.uint32(24).uint32(e.ttl),null!=e.uris&&e.uris.length)for(var n=0;n<e.uris.length;++n)t.uint32(34).string(e.uris[n]);return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new d.SdkTurnCredentials;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:i.username=e.string();break;case 2:i.password=e.string();break;case 3:i.ttl=e.uint32();break;case 4:i.uris&&i.uris.length||(i.uris=[]),i.uris.push(e.string());break;default:e.skipType(7&r)}}return i},e.decodeDelimited=function(e){return e instanceof o||(e=new o(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.username&&e.hasOwnProperty("username")&&!c.isString(e.username))return"username: string expected";if(null!=e.password&&e.hasOwnProperty("password")&&!c.isString(e.password))return"password: string expected";if(null!=e.ttl&&e.hasOwnProperty("ttl")&&!c.isInteger(e.ttl))return"ttl: integer expected";if(null!=e.uris&&e.hasOwnProperty("uris")){if(!Array.isArray(e.uris))return"uris: array expected";for(var t=0;t<e.uris.length;++t)if(!c.isString(e.uris[t]))return"uris: string[] expected"}return null},e.fromObject=function(e){if(e instanceof d.SdkTurnCredentials)return e;var t=new d.SdkTurnCredentials;if(null!=e.username&&(t.username=String(e.username)),null!=e.password&&(t.password=String(e.password)),null!=e.ttl&&(t.ttl=e.ttl>>>0),e.uris){if(!Array.isArray(e.uris))throw TypeError(".SdkTurnCredentials.uris: array expected");t.uris=[];for(var n=0;n<e.uris.length;++n)t.uris[n]=String(e.uris[n])}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.uris=[]),t.defaults&&(n.username="",n.password="",n.ttl=0),null!=e.username&&e.hasOwnProperty("username")&&(n.username=e.username),null!=e.password&&e.hasOwnProperty("password")&&(n.password=e.password),null!=e.ttl&&e.hasOwnProperty("ttl")&&(n.ttl=e.ttl),e.uris&&e.uris.length){n.uris=[];for(var i=0;i<e.uris.length;++i)n.uris[i]=e.uris[i]}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,a.util.toJSONOptions)},e}(),d.SdkTranscriptItem=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.content="",e.prototype.endTime=c.Long?c.Long.fromBits(0,0,!1):0,e.prototype.speakerAttendeeId="",e.prototype.speakerExternalUserId="",e.prototype.startTime=c.Long?c.Long.fromBits(0,0,!1):0,e.prototype.type=1,e.prototype.vocabularyFilterMatch=!1,e.prototype.confidence=0,e.prototype.stable=!1,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),null!=e.content&&Object.hasOwnProperty.call(e,"content")&&t.uint32(10).string(e.content),null!=e.endTime&&Object.hasOwnProperty.call(e,"endTime")&&t.uint32(16).int64(e.endTime),null!=e.speakerAttendeeId&&Object.hasOwnProperty.call(e,"speakerAttendeeId")&&t.uint32(26).string(e.speakerAttendeeId),null!=e.speakerExternalUserId&&Object.hasOwnProperty.call(e,"speakerExternalUserId")&&t.uint32(34).string(e.speakerExternalUserId),null!=e.startTime&&Object.hasOwnProperty.call(e,"startTime")&&t.uint32(40).int64(e.startTime),null!=e.type&&Object.hasOwnProperty.call(e,"type")&&t.uint32(48).int32(e.type),null!=e.vocabularyFilterMatch&&Object.hasOwnProperty.call(e,"vocabularyFilterMatch")&&t.uint32(56).bool(e.vocabularyFilterMatch),null!=e.confidence&&Object.hasOwnProperty.call(e,"confidence")&&t.uint32(65).double(e.confidence),null!=e.stable&&Object.hasOwnProperty.call(e,"stable")&&t.uint32(72).bool(e.stable),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new d.SdkTranscriptItem;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:i.content=e.string();break;case 2:i.endTime=e.int64();break;case 3:i.speakerAttendeeId=e.string();break;case 4:i.speakerExternalUserId=e.string();break;case 5:i.startTime=e.int64();break;case 6:i.type=e.int32();break;case 7:i.vocabularyFilterMatch=e.bool();break;case 8:i.confidence=e.double();break;case 9:i.stable=e.bool();break;default:e.skipType(7&r)}}return i},e.decodeDelimited=function(e){return e instanceof o||(e=new o(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.content&&e.hasOwnProperty("content")&&!c.isString(e.content))return"content: string expected";if(null!=e.endTime&&e.hasOwnProperty("endTime")&&!(c.isInteger(e.endTime)||e.endTime&&c.isInteger(e.endTime.low)&&c.isInteger(e.endTime.high)))return"endTime: integer|Long expected";if(null!=e.speakerAttendeeId&&e.hasOwnProperty("speakerAttendeeId")&&!c.isString(e.speakerAttendeeId))return"speakerAttendeeId: string expected";if(null!=e.speakerExternalUserId&&e.hasOwnProperty("speakerExternalUserId")&&!c.isString(e.speakerExternalUserId))return"speakerExternalUserId: string expected";if(null!=e.startTime&&e.hasOwnProperty("startTime")&&!(c.isInteger(e.startTime)||e.startTime&&c.isInteger(e.startTime.low)&&c.isInteger(e.startTime.high)))return"startTime: integer|Long expected";if(null!=e.type&&e.hasOwnProperty("type"))switch(e.type){default:return"type: enum value expected";case 1:case 2:}return null!=e.vocabularyFilterMatch&&e.hasOwnProperty("vocabularyFilterMatch")&&"boolean"!=typeof e.vocabularyFilterMatch?"vocabularyFilterMatch: boolean expected":null!=e.confidence&&e.hasOwnProperty("confidence")&&"number"!=typeof e.confidence?"confidence: number expected":null!=e.stable&&e.hasOwnProperty("stable")&&"boolean"!=typeof e.stable?"stable: boolean expected":null},e.fromObject=function(e){if(e instanceof d.SdkTranscriptItem)return e;var t=new d.SdkTranscriptItem;switch(null!=e.content&&(t.content=String(e.content)),null!=e.endTime&&(c.Long?(t.endTime=c.Long.fromValue(e.endTime)).unsigned=!1:"string"==typeof e.endTime?t.endTime=parseInt(e.endTime,10):"number"==typeof e.endTime?t.endTime=e.endTime:"object"==typeof e.endTime&&(t.endTime=new c.LongBits(e.endTime.low>>>0,e.endTime.high>>>0).toNumber())),null!=e.speakerAttendeeId&&(t.speakerAttendeeId=String(e.speakerAttendeeId)),null!=e.speakerExternalUserId&&(t.speakerExternalUserId=String(e.speakerExternalUserId)),null!=e.startTime&&(c.Long?(t.startTime=c.Long.fromValue(e.startTime)).unsigned=!1:"string"==typeof e.startTime?t.startTime=parseInt(e.startTime,10):"number"==typeof e.startTime?t.startTime=e.startTime:"object"==typeof e.startTime&&(t.startTime=new c.LongBits(e.startTime.low>>>0,e.startTime.high>>>0).toNumber())),e.type){case"PRONUNCIATION":case 1:t.type=1;break;case"PUNCTUATION":case 2:t.type=2}return null!=e.vocabularyFilterMatch&&(t.vocabularyFilterMatch=Boolean(e.vocabularyFilterMatch)),null!=e.confidence&&(t.confidence=Number(e.confidence)),null!=e.stable&&(t.stable=Boolean(e.stable)),t},e.toObject=function(e,t){t||(t={});var n={};if(t.defaults){if(n.content="",c.Long){var i=new c.Long(0,0,!1);n.endTime=t.longs===String?i.toString():t.longs===Number?i.toNumber():i}else n.endTime=t.longs===String?"0":0;n.speakerAttendeeId="",n.speakerExternalUserId="",c.Long?(i=new c.Long(0,0,!1),n.startTime=t.longs===String?i.toString():t.longs===Number?i.toNumber():i):n.startTime=t.longs===String?"0":0,n.type=t.enums===String?"PRONUNCIATION":1,n.vocabularyFilterMatch=!1,n.confidence=0,n.stable=!1}return null!=e.content&&e.hasOwnProperty("content")&&(n.content=e.content),null!=e.endTime&&e.hasOwnProperty("endTime")&&("number"==typeof e.endTime?n.endTime=t.longs===String?String(e.endTime):e.endTime:n.endTime=t.longs===String?c.Long.prototype.toString.call(e.endTime):t.longs===Number?new c.LongBits(e.endTime.low>>>0,e.endTime.high>>>0).toNumber():e.endTime),null!=e.speakerAttendeeId&&e.hasOwnProperty("speakerAttendeeId")&&(n.speakerAttendeeId=e.speakerAttendeeId),null!=e.speakerExternalUserId&&e.hasOwnProperty("speakerExternalUserId")&&(n.speakerExternalUserId=e.speakerExternalUserId),null!=e.startTime&&e.hasOwnProperty("startTime")&&("number"==typeof e.startTime?n.startTime=t.longs===String?String(e.startTime):e.startTime:n.startTime=t.longs===String?c.Long.prototype.toString.call(e.startTime):t.longs===Number?new c.LongBits(e.startTime.low>>>0,e.startTime.high>>>0).toNumber():e.startTime),null!=e.type&&e.hasOwnProperty("type")&&(n.type=t.enums===String?d.SdkTranscriptItem.Type[e.type]:e.type),null!=e.vocabularyFilterMatch&&e.hasOwnProperty("vocabularyFilterMatch")&&(n.vocabularyFilterMatch=e.vocabularyFilterMatch),null!=e.confidence&&e.hasOwnProperty("confidence")&&(n.confidence=t.json&&!isFinite(e.confidence)?String(e.confidence):e.confidence),null!=e.stable&&e.hasOwnProperty("stable")&&(n.stable=e.stable),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,a.util.toJSONOptions)},e.Type=function(){var e={},t=Object.create(e);return t[e[1]="PRONUNCIATION"]=1,t[e[2]="PUNCTUATION"]=2,t}(),e}(),d.SdkTranscriptEntity=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.category="",e.prototype.confidence=0,e.prototype.content="",e.prototype.endTime=c.Long?c.Long.fromBits(0,0,!1):0,e.prototype.startTime=c.Long?c.Long.fromBits(0,0,!1):0,e.prototype.type="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),null!=e.category&&Object.hasOwnProperty.call(e,"category")&&t.uint32(10).string(e.category),null!=e.confidence&&Object.hasOwnProperty.call(e,"confidence")&&t.uint32(17).double(e.confidence),null!=e.content&&Object.hasOwnProperty.call(e,"content")&&t.uint32(26).string(e.content),null!=e.endTime&&Object.hasOwnProperty.call(e,"endTime")&&t.uint32(32).int64(e.endTime),null!=e.startTime&&Object.hasOwnProperty.call(e,"startTime")&&t.uint32(40).int64(e.startTime),null!=e.type&&Object.hasOwnProperty.call(e,"type")&&t.uint32(50).string(e.type),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new d.SdkTranscriptEntity;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:i.category=e.string();break;case 2:i.confidence=e.double();break;case 3:i.content=e.string();break;case 4:i.endTime=e.int64();break;case 5:i.startTime=e.int64();break;case 6:i.type=e.string();break;default:e.skipType(7&r)}}return i},e.decodeDelimited=function(e){return e instanceof o||(e=new o(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.category&&e.hasOwnProperty("category")&&!c.isString(e.category)?"category: string expected":null!=e.confidence&&e.hasOwnProperty("confidence")&&"number"!=typeof e.confidence?"confidence: number expected":null!=e.content&&e.hasOwnProperty("content")&&!c.isString(e.content)?"content: string expected":null!=e.endTime&&e.hasOwnProperty("endTime")&&!(c.isInteger(e.endTime)||e.endTime&&c.isInteger(e.endTime.low)&&c.isInteger(e.endTime.high))?"endTime: integer|Long expected":null!=e.startTime&&e.hasOwnProperty("startTime")&&!(c.isInteger(e.startTime)||e.startTime&&c.isInteger(e.startTime.low)&&c.isInteger(e.startTime.high))?"startTime: integer|Long expected":null!=e.type&&e.hasOwnProperty("type")&&!c.isString(e.type)?"type: string expected":null},e.fromObject=function(e){if(e instanceof d.SdkTranscriptEntity)return e;var t=new d.SdkTranscriptEntity;return null!=e.category&&(t.category=String(e.category)),null!=e.confidence&&(t.confidence=Number(e.confidence)),null!=e.content&&(t.content=String(e.content)),null!=e.endTime&&(c.Long?(t.endTime=c.Long.fromValue(e.endTime)).unsigned=!1:"string"==typeof e.endTime?t.endTime=parseInt(e.endTime,10):"number"==typeof e.endTime?t.endTime=e.endTime:"object"==typeof e.endTime&&(t.endTime=new c.LongBits(e.endTime.low>>>0,e.endTime.high>>>0).toNumber())),null!=e.startTime&&(c.Long?(t.startTime=c.Long.fromValue(e.startTime)).unsigned=!1:"string"==typeof e.startTime?t.startTime=parseInt(e.startTime,10):"number"==typeof e.startTime?t.startTime=e.startTime:"object"==typeof e.startTime&&(t.startTime=new c.LongBits(e.startTime.low>>>0,e.startTime.high>>>0).toNumber())),null!=e.type&&(t.type=String(e.type)),t},e.toObject=function(e,t){t||(t={});var n={};if(t.defaults){if(n.category="",n.confidence=0,n.content="",c.Long){var i=new c.Long(0,0,!1);n.endTime=t.longs===String?i.toString():t.longs===Number?i.toNumber():i}else n.endTime=t.longs===String?"0":0;c.Long?(i=new c.Long(0,0,!1),n.startTime=t.longs===String?i.toString():t.longs===Number?i.toNumber():i):n.startTime=t.longs===String?"0":0,n.type=""}return null!=e.category&&e.hasOwnProperty("category")&&(n.category=e.category),null!=e.confidence&&e.hasOwnProperty("confidence")&&(n.confidence=t.json&&!isFinite(e.confidence)?String(e.confidence):e.confidence),null!=e.content&&e.hasOwnProperty("content")&&(n.content=e.content),null!=e.endTime&&e.hasOwnProperty("endTime")&&("number"==typeof e.endTime?n.endTime=t.longs===String?String(e.endTime):e.endTime:n.endTime=t.longs===String?c.Long.prototype.toString.call(e.endTime):t.longs===Number?new c.LongBits(e.endTime.low>>>0,e.endTime.high>>>0).toNumber():e.endTime),null!=e.startTime&&e.hasOwnProperty("startTime")&&("number"==typeof e.startTime?n.startTime=t.longs===String?String(e.startTime):e.startTime:n.startTime=t.longs===String?c.Long.prototype.toString.call(e.startTime):t.longs===Number?new c.LongBits(e.startTime.low>>>0,e.startTime.high>>>0).toNumber():e.startTime),null!=e.type&&e.hasOwnProperty("type")&&(n.type=e.type),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,a.util.toJSONOptions)},e}(),d.SdkTranscriptAlternative=function(){function e(e){if(this.items=[],this.entities=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.items=c.emptyArray,e.prototype.transcript="",e.prototype.entities=c.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=s.create()),null!=e.items&&e.items.length)for(var n=0;n<e.items.length;++n)d.SdkTranscriptItem.encode(e.items[n],t.uint32(10).fork()).ldelim();if(null!=e.transcript&&Object.hasOwnProperty.call(e,"transcript")&&t.uint32(18).string(e.transcript),null!=e.entities&&e.entities.length)for(n=0;n<e.entities.length;++n)d.SdkTranscriptEntity.encode(e.entities[n],t.uint32(26).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new d.SdkTranscriptAlternative;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:i.items&&i.items.length||(i.items=[]),i.items.push(d.SdkTranscriptItem.decode(e,e.uint32()));break;case 2:i.transcript=e.string();break;case 3:i.entities&&i.entities.length||(i.entities=[]),i.entities.push(d.SdkTranscriptEntity.decode(e,e.uint32()));break;default:e.skipType(7&r)}}return i},e.decodeDelimited=function(e){return e instanceof o||(e=new o(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.items&&e.hasOwnProperty("items")){if(!Array.isArray(e.items))return"items: array expected";for(var t=0;t<e.items.length;++t)if(n=d.SdkTranscriptItem.verify(e.items[t]))return"items."+n}if(null!=e.transcript&&e.hasOwnProperty("transcript")&&!c.isString(e.transcript))return"transcript: string expected";if(null!=e.entities&&e.hasOwnProperty("entities")){if(!Array.isArray(e.entities))return"entities: array expected";for(t=0;t<e.entities.length;++t){var n;if(n=d.SdkTranscriptEntity.verify(e.entities[t]))return"entities."+n}}return null},e.fromObject=function(e){if(e instanceof d.SdkTranscriptAlternative)return e;var t=new d.SdkTranscriptAlternative;if(e.items){if(!Array.isArray(e.items))throw TypeError(".SdkTranscriptAlternative.items: array expected");t.items=[];for(var n=0;n<e.items.length;++n){if("object"!=typeof e.items[n])throw TypeError(".SdkTranscriptAlternative.items: object expected");t.items[n]=d.SdkTranscriptItem.fromObject(e.items[n])}}if(null!=e.transcript&&(t.transcript=String(e.transcript)),e.entities){if(!Array.isArray(e.entities))throw TypeError(".SdkTranscriptAlternative.entities: array expected");for(t.entities=[],n=0;n<e.entities.length;++n){if("object"!=typeof e.entities[n])throw TypeError(".SdkTranscriptAlternative.entities: object expected");t.entities[n]=d.SdkTranscriptEntity.fromObject(e.entities[n])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.items=[],n.entities=[]),t.defaults&&(n.transcript=""),e.items&&e.items.length){n.items=[];for(var i=0;i<e.items.length;++i)n.items[i]=d.SdkTranscriptItem.toObject(e.items[i],t)}if(null!=e.transcript&&e.hasOwnProperty("transcript")&&(n.transcript=e.transcript),e.entities&&e.entities.length)for(n.entities=[],i=0;i<e.entities.length;++i)n.entities[i]=d.SdkTranscriptEntity.toObject(e.entities[i],t);return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,a.util.toJSONOptions)},e}(),d.SdkTranscriptLanguageWithScore=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.languageCode="",e.prototype.score=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),null!=e.languageCode&&Object.hasOwnProperty.call(e,"languageCode")&&t.uint32(10).string(e.languageCode),null!=e.score&&Object.hasOwnProperty.call(e,"score")&&t.uint32(17).double(e.score),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new d.SdkTranscriptLanguageWithScore;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:i.languageCode=e.string();break;case 2:i.score=e.double();break;default:e.skipType(7&r)}}return i},e.decodeDelimited=function(e){return e instanceof o||(e=new o(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.languageCode&&e.hasOwnProperty("languageCode")&&!c.isString(e.languageCode)?"languageCode: string expected":null!=e.score&&e.hasOwnProperty("score")&&"number"!=typeof e.score?"score: number expected":null},e.fromObject=function(e){if(e instanceof d.SdkTranscriptLanguageWithScore)return e;var t=new d.SdkTranscriptLanguageWithScore;return null!=e.languageCode&&(t.languageCode=String(e.languageCode)),null!=e.score&&(t.score=Number(e.score)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.languageCode="",n.score=0),null!=e.languageCode&&e.hasOwnProperty("languageCode")&&(n.languageCode=e.languageCode),null!=e.score&&e.hasOwnProperty("score")&&(n.score=t.json&&!isFinite(e.score)?String(e.score):e.score),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,a.util.toJSONOptions)},e}(),d.SdkTranscriptResult=function(){function e(e){if(this.alternatives=[],this.languageIdentification=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.alternatives=c.emptyArray,e.prototype.channelId="",e.prototype.endTime=c.Long?c.Long.fromBits(0,0,!1):0,e.prototype.isPartial=!1,e.prototype.resultId="",e.prototype.startTime=c.Long?c.Long.fromBits(0,0,!1):0,e.prototype.languageCode="",e.prototype.languageIdentification=c.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=s.create()),null!=e.alternatives&&e.alternatives.length)for(var n=0;n<e.alternatives.length;++n)d.SdkTranscriptAlternative.encode(e.alternatives[n],t.uint32(10).fork()).ldelim();if(null!=e.channelId&&Object.hasOwnProperty.call(e,"channelId")&&t.uint32(18).string(e.channelId),null!=e.endTime&&Object.hasOwnProperty.call(e,"endTime")&&t.uint32(24).int64(e.endTime),null!=e.isPartial&&Object.hasOwnProperty.call(e,"isPartial")&&t.uint32(32).bool(e.isPartial),null!=e.resultId&&Object.hasOwnProperty.call(e,"resultId")&&t.uint32(42).string(e.resultId),null!=e.startTime&&Object.hasOwnProperty.call(e,"startTime")&&t.uint32(48).int64(e.startTime),null!=e.languageCode&&Object.hasOwnProperty.call(e,"languageCode")&&t.uint32(58).string(e.languageCode),null!=e.languageIdentification&&e.languageIdentification.length)for(n=0;n<e.languageIdentification.length;++n)d.SdkTranscriptLanguageWithScore.encode(e.languageIdentification[n],t.uint32(66).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new d.SdkTranscriptResult;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:i.alternatives&&i.alternatives.length||(i.alternatives=[]),i.alternatives.push(d.SdkTranscriptAlternative.decode(e,e.uint32()));break;case 2:i.channelId=e.string();break;case 3:i.endTime=e.int64();break;case 4:i.isPartial=e.bool();break;case 5:i.resultId=e.string();break;case 6:i.startTime=e.int64();break;case 7:i.languageCode=e.string();break;case 8:i.languageIdentification&&i.languageIdentification.length||(i.languageIdentification=[]),i.languageIdentification.push(d.SdkTranscriptLanguageWithScore.decode(e,e.uint32()));break;default:e.skipType(7&r)}}return i},e.decodeDelimited=function(e){return e instanceof o||(e=new o(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.alternatives&&e.hasOwnProperty("alternatives")){if(!Array.isArray(e.alternatives))return"alternatives: array expected";for(var t=0;t<e.alternatives.length;++t)if(n=d.SdkTranscriptAlternative.verify(e.alternatives[t]))return"alternatives."+n}if(null!=e.channelId&&e.hasOwnProperty("channelId")&&!c.isString(e.channelId))return"channelId: string expected";if(null!=e.endTime&&e.hasOwnProperty("endTime")&&!(c.isInteger(e.endTime)||e.endTime&&c.isInteger(e.endTime.low)&&c.isInteger(e.endTime.high)))return"endTime: integer|Long expected";if(null!=e.isPartial&&e.hasOwnProperty("isPartial")&&"boolean"!=typeof e.isPartial)return"isPartial: boolean expected";if(null!=e.resultId&&e.hasOwnProperty("resultId")&&!c.isString(e.resultId))return"resultId: string expected";if(null!=e.startTime&&e.hasOwnProperty("startTime")&&!(c.isInteger(e.startTime)||e.startTime&&c.isInteger(e.startTime.low)&&c.isInteger(e.startTime.high)))return"startTime: integer|Long expected";if(null!=e.languageCode&&e.hasOwnProperty("languageCode")&&!c.isString(e.languageCode))return"languageCode: string expected";if(null!=e.languageIdentification&&e.hasOwnProperty("languageIdentification")){if(!Array.isArray(e.languageIdentification))return"languageIdentification: array expected";for(t=0;t<e.languageIdentification.length;++t){var n;if(n=d.SdkTranscriptLanguageWithScore.verify(e.languageIdentification[t]))return"languageIdentification."+n}}return null},e.fromObject=function(e){if(e instanceof d.SdkTranscriptResult)return e;var t=new d.SdkTranscriptResult;if(e.alternatives){if(!Array.isArray(e.alternatives))throw TypeError(".SdkTranscriptResult.alternatives: array expected");t.alternatives=[];for(var n=0;n<e.alternatives.length;++n){if("object"!=typeof e.alternatives[n])throw TypeError(".SdkTranscriptResult.alternatives: object expected");t.alternatives[n]=d.SdkTranscriptAlternative.fromObject(e.alternatives[n])}}if(null!=e.channelId&&(t.channelId=String(e.channelId)),null!=e.endTime&&(c.Long?(t.endTime=c.Long.fromValue(e.endTime)).unsigned=!1:"string"==typeof e.endTime?t.endTime=parseInt(e.endTime,10):"number"==typeof e.endTime?t.endTime=e.endTime:"object"==typeof e.endTime&&(t.endTime=new c.LongBits(e.endTime.low>>>0,e.endTime.high>>>0).toNumber())),null!=e.isPartial&&(t.isPartial=Boolean(e.isPartial)),null!=e.resultId&&(t.resultId=String(e.resultId)),null!=e.startTime&&(c.Long?(t.startTime=c.Long.fromValue(e.startTime)).unsigned=!1:"string"==typeof e.startTime?t.startTime=parseInt(e.startTime,10):"number"==typeof e.startTime?t.startTime=e.startTime:"object"==typeof e.startTime&&(t.startTime=new c.LongBits(e.startTime.low>>>0,e.startTime.high>>>0).toNumber())),null!=e.languageCode&&(t.languageCode=String(e.languageCode)),e.languageIdentification){if(!Array.isArray(e.languageIdentification))throw TypeError(".SdkTranscriptResult.languageIdentification: array expected");for(t.languageIdentification=[],n=0;n<e.languageIdentification.length;++n){if("object"!=typeof e.languageIdentification[n])throw TypeError(".SdkTranscriptResult.languageIdentification: object expected");t.languageIdentification[n]=d.SdkTranscriptLanguageWithScore.fromObject(e.languageIdentification[n])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.alternatives=[],n.languageIdentification=[]),t.defaults){if(n.channelId="",c.Long){var i=new c.Long(0,0,!1);n.endTime=t.longs===String?i.toString():t.longs===Number?i.toNumber():i}else n.endTime=t.longs===String?"0":0;n.isPartial=!1,n.resultId="",c.Long?(i=new c.Long(0,0,!1),n.startTime=t.longs===String?i.toString():t.longs===Number?i.toNumber():i):n.startTime=t.longs===String?"0":0,n.languageCode=""}if(e.alternatives&&e.alternatives.length){n.alternatives=[];for(var r=0;r<e.alternatives.length;++r)n.alternatives[r]=d.SdkTranscriptAlternative.toObject(e.alternatives[r],t)}if(null!=e.channelId&&e.hasOwnProperty("channelId")&&(n.channelId=e.channelId),null!=e.endTime&&e.hasOwnProperty("endTime")&&("number"==typeof e.endTime?n.endTime=t.longs===String?String(e.endTime):e.endTime:n.endTime=t.longs===String?c.Long.prototype.toString.call(e.endTime):t.longs===Number?new c.LongBits(e.endTime.low>>>0,e.endTime.high>>>0).toNumber():e.endTime),null!=e.isPartial&&e.hasOwnProperty("isPartial")&&(n.isPartial=e.isPartial),null!=e.resultId&&e.hasOwnProperty("resultId")&&(n.resultId=e.resultId),null!=e.startTime&&e.hasOwnProperty("startTime")&&("number"==typeof e.startTime?n.startTime=t.longs===String?String(e.startTime):e.startTime:n.startTime=t.longs===String?c.Long.prototype.toString.call(e.startTime):t.longs===Number?new c.LongBits(e.startTime.low>>>0,e.startTime.high>>>0).toNumber():e.startTime),null!=e.languageCode&&e.hasOwnProperty("languageCode")&&(n.languageCode=e.languageCode),e.languageIdentification&&e.languageIdentification.length)for(n.languageIdentification=[],r=0;r<e.languageIdentification.length;++r)n.languageIdentification[r]=d.SdkTranscriptLanguageWithScore.toObject(e.languageIdentification[r],t);return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,a.util.toJSONOptions)},e}(),d.SdkTranscript=function(){function e(e){if(this.results=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.results=c.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=s.create()),null!=e.results&&e.results.length)for(var n=0;n<e.results.length;++n)d.SdkTranscriptResult.encode(e.results[n],t.uint32(10).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new d.SdkTranscript;e.pos<n;){var r=e.uint32();r>>>3==1?(i.results&&i.results.length||(i.results=[]),i.results.push(d.SdkTranscriptResult.decode(e,e.uint32()))):e.skipType(7&r)}return i},e.decodeDelimited=function(e){return e instanceof o||(e=new o(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.results&&e.hasOwnProperty("results")){if(!Array.isArray(e.results))return"results: array expected";for(var t=0;t<e.results.length;++t){var n=d.SdkTranscriptResult.verify(e.results[t]);if(n)return"results."+n}}return null},e.fromObject=function(e){if(e instanceof d.SdkTranscript)return e;var t=new d.SdkTranscript;if(e.results){if(!Array.isArray(e.results))throw TypeError(".SdkTranscript.results: array expected");t.results=[];for(var n=0;n<e.results.length;++n){if("object"!=typeof e.results[n])throw TypeError(".SdkTranscript.results: object expected");t.results[n]=d.SdkTranscriptResult.fromObject(e.results[n])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.results=[]),e.results&&e.results.length){n.results=[];for(var i=0;i<e.results.length;++i)n.results[i]=d.SdkTranscriptResult.toObject(e.results[i],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,a.util.toJSONOptions)},e}(),d.SdkTranscriptionStatus=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.type=1,e.prototype.eventTime=c.Long?c.Long.fromBits(0,0,!1):0,e.prototype.transcriptionRegion="",e.prototype.transcriptionConfiguration="",e.prototype.message="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),null!=e.type&&Object.hasOwnProperty.call(e,"type")&&t.uint32(8).int32(e.type),null!=e.eventTime&&Object.hasOwnProperty.call(e,"eventTime")&&t.uint32(16).int64(e.eventTime),null!=e.transcriptionRegion&&Object.hasOwnProperty.call(e,"transcriptionRegion")&&t.uint32(26).string(e.transcriptionRegion),null!=e.transcriptionConfiguration&&Object.hasOwnProperty.call(e,"transcriptionConfiguration")&&t.uint32(34).string(e.transcriptionConfiguration),null!=e.message&&Object.hasOwnProperty.call(e,"message")&&t.uint32(42).string(e.message),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new d.SdkTranscriptionStatus;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:i.type=e.int32();break;case 2:i.eventTime=e.int64();break;case 3:i.transcriptionRegion=e.string();break;case 4:i.transcriptionConfiguration=e.string();break;case 5:i.message=e.string();break;default:e.skipType(7&r)}}return i},e.decodeDelimited=function(e){return e instanceof o||(e=new o(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.type&&e.hasOwnProperty("type"))switch(e.type){default:return"type: enum value expected";case 1:case 2:case 3:case 4:case 5:}return null!=e.eventTime&&e.hasOwnProperty("eventTime")&&!(c.isInteger(e.eventTime)||e.eventTime&&c.isInteger(e.eventTime.low)&&c.isInteger(e.eventTime.high))?"eventTime: integer|Long expected":null!=e.transcriptionRegion&&e.hasOwnProperty("transcriptionRegion")&&!c.isString(e.transcriptionRegion)?"transcriptionRegion: string expected":null!=e.transcriptionConfiguration&&e.hasOwnProperty("transcriptionConfiguration")&&!c.isString(e.transcriptionConfiguration)?"transcriptionConfiguration: string expected":null!=e.message&&e.hasOwnProperty("message")&&!c.isString(e.message)?"message: string expected":null},e.fromObject=function(e){if(e instanceof d.SdkTranscriptionStatus)return e;var t=new d.SdkTranscriptionStatus;switch(e.type){case"STARTED":case 1:t.type=1;break;case"INTERRUPTED":case 2:t.type=2;break;case"RESUMED":case 3:t.type=3;break;case"STOPPED":case 4:t.type=4;break;case"FAILED":case 5:t.type=5}return null!=e.eventTime&&(c.Long?(t.eventTime=c.Long.fromValue(e.eventTime)).unsigned=!1:"string"==typeof e.eventTime?t.eventTime=parseInt(e.eventTime,10):"number"==typeof e.eventTime?t.eventTime=e.eventTime:"object"==typeof e.eventTime&&(t.eventTime=new c.LongBits(e.eventTime.low>>>0,e.eventTime.high>>>0).toNumber())),null!=e.transcriptionRegion&&(t.transcriptionRegion=String(e.transcriptionRegion)),null!=e.transcriptionConfiguration&&(t.transcriptionConfiguration=String(e.transcriptionConfiguration)),null!=e.message&&(t.message=String(e.message)),t},e.toObject=function(e,t){t||(t={});var n={};if(t.defaults){if(n.type=t.enums===String?"STARTED":1,c.Long){var i=new c.Long(0,0,!1);n.eventTime=t.longs===String?i.toString():t.longs===Number?i.toNumber():i}else n.eventTime=t.longs===String?"0":0;n.transcriptionRegion="",n.transcriptionConfiguration="",n.message=""}return null!=e.type&&e.hasOwnProperty("type")&&(n.type=t.enums===String?d.SdkTranscriptionStatus.Type[e.type]:e.type),null!=e.eventTime&&e.hasOwnProperty("eventTime")&&("number"==typeof e.eventTime?n.eventTime=t.longs===String?String(e.eventTime):e.eventTime:n.eventTime=t.longs===String?c.Long.prototype.toString.call(e.eventTime):t.longs===Number?new c.LongBits(e.eventTime.low>>>0,e.eventTime.high>>>0).toNumber():e.eventTime),null!=e.transcriptionRegion&&e.hasOwnProperty("transcriptionRegion")&&(n.transcriptionRegion=e.transcriptionRegion),null!=e.transcriptionConfiguration&&e.hasOwnProperty("transcriptionConfiguration")&&(n.transcriptionConfiguration=e.transcriptionConfiguration),null!=e.message&&e.hasOwnProperty("message")&&(n.message=e.message),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,a.util.toJSONOptions)},e.Type=function(){var e={},t=Object.create(e);return t[e[1]="STARTED"]=1,t[e[2]="INTERRUPTED"]=2,t[e[3]="RESUMED"]=3,t[e[4]="STOPPED"]=4,t[e[5]="FAILED"]=5,t}(),e}(),d.SdkTranscriptEvent=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}var t;return e.prototype.status=null,e.prototype.transcript=null,Object.defineProperty(e.prototype,"Event",{get:c.oneOfGetter(t=["status","transcript"]),set:c.oneOfSetter(t)}),e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),null!=e.status&&Object.hasOwnProperty.call(e,"status")&&d.SdkTranscriptionStatus.encode(e.status,t.uint32(10).fork()).ldelim(),null!=e.transcript&&Object.hasOwnProperty.call(e,"transcript")&&d.SdkTranscript.encode(e.transcript,t.uint32(18).fork()).ldelim(),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new d.SdkTranscriptEvent;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:i.status=d.SdkTranscriptionStatus.decode(e,e.uint32());break;case 2:i.transcript=d.SdkTranscript.decode(e,e.uint32());break;default:e.skipType(7&r)}}return i},e.decodeDelimited=function(e){return e instanceof o||(e=new o(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";var t={};if(null!=e.status&&e.hasOwnProperty("status")&&(t.Event=1,n=d.SdkTranscriptionStatus.verify(e.status)))return"status."+n;if(null!=e.transcript&&e.hasOwnProperty("transcript")){if(1===t.Event)return"Event: multiple values";var n;if(t.Event=1,n=d.SdkTranscript.verify(e.transcript))return"transcript."+n}return null},e.fromObject=function(e){if(e instanceof d.SdkTranscriptEvent)return e;var t=new d.SdkTranscriptEvent;if(null!=e.status){if("object"!=typeof e.status)throw TypeError(".SdkTranscriptEvent.status: object expected");t.status=d.SdkTranscriptionStatus.fromObject(e.status)}if(null!=e.transcript){if("object"!=typeof e.transcript)throw TypeError(".SdkTranscriptEvent.transcript: object expected");t.transcript=d.SdkTranscript.fromObject(e.transcript)}return t},e.toObject=function(e,t){t||(t={});var n={};return null!=e.status&&e.hasOwnProperty("status")&&(n.status=d.SdkTranscriptionStatus.toObject(e.status,t),t.oneofs&&(n.Event="status")),null!=e.transcript&&e.hasOwnProperty("transcript")&&(n.transcript=d.SdkTranscript.toObject(e.transcript,t),t.oneofs&&(n.Event="transcript")),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,a.util.toJSONOptions)},e}(),d.SdkTranscriptFrame=function(){function e(e){if(this.events=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.events=c.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=s.create()),null!=e.events&&e.events.length)for(var n=0;n<e.events.length;++n)d.SdkTranscriptEvent.encode(e.events[n],t.uint32(10).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new d.SdkTranscriptFrame;e.pos<n;){var r=e.uint32();r>>>3==1?(i.events&&i.events.length||(i.events=[]),i.events.push(d.SdkTranscriptEvent.decode(e,e.uint32()))):e.skipType(7&r)}return i},e.decodeDelimited=function(e){return e instanceof o||(e=new o(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.events&&e.hasOwnProperty("events")){if(!Array.isArray(e.events))return"events: array expected";for(var t=0;t<e.events.length;++t){var n=d.SdkTranscriptEvent.verify(e.events[t]);if(n)return"events."+n}}return null},e.fromObject=function(e){if(e instanceof d.SdkTranscriptFrame)return e;var t=new d.SdkTranscriptFrame;if(e.events){if(!Array.isArray(e.events))throw TypeError(".SdkTranscriptFrame.events: array expected");t.events=[];for(var n=0;n<e.events.length;++n){if("object"!=typeof e.events[n])throw TypeError(".SdkTranscriptFrame.events: object expected");t.events[n]=d.SdkTranscriptEvent.fromObject(e.events[n])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.events=[]),e.events&&e.events.length){n.events=[];for(var i=0;i<e.events.length;++i)n.events[i]=d.SdkTranscriptEvent.toObject(e.events[i],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,a.util.toJSONOptions)},e}(),d.SdkRemoteVideoUpdateFrame=function(){function e(e){if(this.addedOrUpdatedVideoSubscriptions=[],this.removedVideoSubscriptionMids=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.addedOrUpdatedVideoSubscriptions=c.emptyArray,e.prototype.removedVideoSubscriptionMids=c.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=s.create()),null!=e.addedOrUpdatedVideoSubscriptions&&e.addedOrUpdatedVideoSubscriptions.length)for(var n=0;n<e.addedOrUpdatedVideoSubscriptions.length;++n)d.SdkVideoSubscriptionConfiguration.encode(e.addedOrUpdatedVideoSubscriptions[n],t.uint32(10).fork()).ldelim();if(null!=e.removedVideoSubscriptionMids&&e.removedVideoSubscriptionMids.length)for(n=0;n<e.removedVideoSubscriptionMids.length;++n)t.uint32(18).string(e.removedVideoSubscriptionMids[n]);return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new d.SdkRemoteVideoUpdateFrame;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:i.addedOrUpdatedVideoSubscriptions&&i.addedOrUpdatedVideoSubscriptions.length||(i.addedOrUpdatedVideoSubscriptions=[]),i.addedOrUpdatedVideoSubscriptions.push(d.SdkVideoSubscriptionConfiguration.decode(e,e.uint32()));break;case 2:i.removedVideoSubscriptionMids&&i.removedVideoSubscriptionMids.length||(i.removedVideoSubscriptionMids=[]),i.removedVideoSubscriptionMids.push(e.string());break;default:e.skipType(7&r)}}return i},e.decodeDelimited=function(e){return e instanceof o||(e=new o(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.addedOrUpdatedVideoSubscriptions&&e.hasOwnProperty("addedOrUpdatedVideoSubscriptions")){if(!Array.isArray(e.addedOrUpdatedVideoSubscriptions))return"addedOrUpdatedVideoSubscriptions: array expected";for(var t=0;t<e.addedOrUpdatedVideoSubscriptions.length;++t){var n=d.SdkVideoSubscriptionConfiguration.verify(e.addedOrUpdatedVideoSubscriptions[t]);if(n)return"addedOrUpdatedVideoSubscriptions."+n}}if(null!=e.removedVideoSubscriptionMids&&e.hasOwnProperty("removedVideoSubscriptionMids")){if(!Array.isArray(e.removedVideoSubscriptionMids))return"removedVideoSubscriptionMids: array expected";for(t=0;t<e.removedVideoSubscriptionMids.length;++t)if(!c.isString(e.removedVideoSubscriptionMids[t]))return"removedVideoSubscriptionMids: string[] expected"}return null},e.fromObject=function(e){if(e instanceof d.SdkRemoteVideoUpdateFrame)return e;var t=new d.SdkRemoteVideoUpdateFrame;if(e.addedOrUpdatedVideoSubscriptions){if(!Array.isArray(e.addedOrUpdatedVideoSubscriptions))throw TypeError(".SdkRemoteVideoUpdateFrame.addedOrUpdatedVideoSubscriptions: array expected");t.addedOrUpdatedVideoSubscriptions=[];for(var n=0;n<e.addedOrUpdatedVideoSubscriptions.length;++n){if("object"!=typeof e.addedOrUpdatedVideoSubscriptions[n])throw TypeError(".SdkRemoteVideoUpdateFrame.addedOrUpdatedVideoSubscriptions: object expected");t.addedOrUpdatedVideoSubscriptions[n]=d.SdkVideoSubscriptionConfiguration.fromObject(e.addedOrUpdatedVideoSubscriptions[n])}}if(e.removedVideoSubscriptionMids){if(!Array.isArray(e.removedVideoSubscriptionMids))throw TypeError(".SdkRemoteVideoUpdateFrame.removedVideoSubscriptionMids: array expected");for(t.removedVideoSubscriptionMids=[],n=0;n<e.removedVideoSubscriptionMids.length;++n)t.removedVideoSubscriptionMids[n]=String(e.removedVideoSubscriptionMids[n])}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.addedOrUpdatedVideoSubscriptions=[],n.removedVideoSubscriptionMids=[]),e.addedOrUpdatedVideoSubscriptions&&e.addedOrUpdatedVideoSubscriptions.length){n.addedOrUpdatedVideoSubscriptions=[];for(var i=0;i<e.addedOrUpdatedVideoSubscriptions.length;++i)n.addedOrUpdatedVideoSubscriptions[i]=d.SdkVideoSubscriptionConfiguration.toObject(e.addedOrUpdatedVideoSubscriptions[i],t)}if(e.removedVideoSubscriptionMids&&e.removedVideoSubscriptionMids.length)for(n.removedVideoSubscriptionMids=[],i=0;i<e.removedVideoSubscriptionMids.length;++i)n.removedVideoSubscriptionMids[i]=e.removedVideoSubscriptionMids[i];return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,a.util.toJSONOptions)},e}(),d.SdkVideoSubscriptionConfiguration=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.mid="",e.prototype.attendeeId="",e.prototype.streamId=0,e.prototype.priority=0,e.prototype.targetBitrateKbps=0,e.prototype.groupId=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),t.uint32(10).string(e.mid),null!=e.attendeeId&&Object.hasOwnProperty.call(e,"attendeeId")&&t.uint32(18).string(e.attendeeId),null!=e.streamId&&Object.hasOwnProperty.call(e,"streamId")&&t.uint32(24).uint32(e.streamId),null!=e.priority&&Object.hasOwnProperty.call(e,"priority")&&t.uint32(32).uint32(e.priority),null!=e.targetBitrateKbps&&Object.hasOwnProperty.call(e,"targetBitrateKbps")&&t.uint32(40).uint32(e.targetBitrateKbps),null!=e.groupId&&Object.hasOwnProperty.call(e,"groupId")&&t.uint32(48).uint32(e.groupId),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new d.SdkVideoSubscriptionConfiguration;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:i.mid=e.string();break;case 2:i.attendeeId=e.string();break;case 3:i.streamId=e.uint32();break;case 4:i.priority=e.uint32();break;case 5:i.targetBitrateKbps=e.uint32();break;case 6:i.groupId=e.uint32();break;default:e.skipType(7&r)}}if(!i.hasOwnProperty("mid"))throw c.ProtocolError("missing required 'mid'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof o||(e=new o(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":c.isString(e.mid)?null!=e.attendeeId&&e.hasOwnProperty("attendeeId")&&!c.isString(e.attendeeId)?"attendeeId: string expected":null!=e.streamId&&e.hasOwnProperty("streamId")&&!c.isInteger(e.streamId)?"streamId: integer expected":null!=e.priority&&e.hasOwnProperty("priority")&&!c.isInteger(e.priority)?"priority: integer expected":null!=e.targetBitrateKbps&&e.hasOwnProperty("targetBitrateKbps")&&!c.isInteger(e.targetBitrateKbps)?"targetBitrateKbps: integer expected":null!=e.groupId&&e.hasOwnProperty("groupId")&&!c.isInteger(e.groupId)?"groupId: integer expected":null:"mid: string expected"},e.fromObject=function(e){if(e instanceof d.SdkVideoSubscriptionConfiguration)return e;var t=new d.SdkVideoSubscriptionConfiguration;return null!=e.mid&&(t.mid=String(e.mid)),null!=e.attendeeId&&(t.attendeeId=String(e.attendeeId)),null!=e.streamId&&(t.streamId=e.streamId>>>0),null!=e.priority&&(t.priority=e.priority>>>0),null!=e.targetBitrateKbps&&(t.targetBitrateKbps=e.targetBitrateKbps>>>0),null!=e.groupId&&(t.groupId=e.groupId>>>0),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.mid="",n.attendeeId="",n.streamId=0,n.priority=0,n.targetBitrateKbps=0,n.groupId=0),null!=e.mid&&e.hasOwnProperty("mid")&&(n.mid=e.mid),null!=e.attendeeId&&e.hasOwnProperty("attendeeId")&&(n.attendeeId=e.attendeeId),null!=e.streamId&&e.hasOwnProperty("streamId")&&(n.streamId=e.streamId),null!=e.priority&&e.hasOwnProperty("priority")&&(n.priority=e.priority),null!=e.targetBitrateKbps&&e.hasOwnProperty("targetBitrateKbps")&&(n.targetBitrateKbps=e.targetBitrateKbps),null!=e.groupId&&e.hasOwnProperty("groupId")&&(n.groupId=e.groupId),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,a.util.toJSONOptions)},e}(),d.SdkPrimaryMeetingJoinFrame=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.credentials=null,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),null!=e.credentials&&Object.hasOwnProperty.call(e,"credentials")&&d.SdkMeetingSessionCredentials.encode(e.credentials,t.uint32(10).fork()).ldelim(),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new d.SdkPrimaryMeetingJoinFrame;e.pos<n;){var r=e.uint32();r>>>3==1?i.credentials=d.SdkMeetingSessionCredentials.decode(e,e.uint32()):e.skipType(7&r)}return i},e.decodeDelimited=function(e){return e instanceof o||(e=new o(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.credentials&&e.hasOwnProperty("credentials")){var t=d.SdkMeetingSessionCredentials.verify(e.credentials);if(t)return"credentials."+t}return null},e.fromObject=function(e){if(e instanceof d.SdkPrimaryMeetingJoinFrame)return e;var t=new d.SdkPrimaryMeetingJoinFrame;if(null!=e.credentials){if("object"!=typeof e.credentials)throw TypeError(".SdkPrimaryMeetingJoinFrame.credentials: object expected");t.credentials=d.SdkMeetingSessionCredentials.fromObject(e.credentials)}return t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.credentials=null),null!=e.credentials&&e.hasOwnProperty("credentials")&&(n.credentials=d.SdkMeetingSessionCredentials.toObject(e.credentials,t)),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,a.util.toJSONOptions)},e}(),d.SdkPrimaryMeetingJoinAckFrame=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new d.SdkPrimaryMeetingJoinAckFrame;e.pos<n;){var r=e.uint32();e.skipType(7&r)}return i},e.decodeDelimited=function(e){return e instanceof o||(e=new o(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null},e.fromObject=function(e){return e instanceof d.SdkPrimaryMeetingJoinAckFrame?e:new d.SdkPrimaryMeetingJoinAckFrame},e.toObject=function(){return{}},e.prototype.toJSON=function(){return this.constructor.toObject(this,a.util.toJSONOptions)},e}(),d.SdkPrimaryMeetingLeaveFrame=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new d.SdkPrimaryMeetingLeaveFrame;e.pos<n;){var r=e.uint32();e.skipType(7&r)}return i},e.decodeDelimited=function(e){return e instanceof o||(e=new o(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null},e.fromObject=function(e){return e instanceof d.SdkPrimaryMeetingLeaveFrame?e:new d.SdkPrimaryMeetingLeaveFrame},e.toObject=function(){return{}},e.prototype.toJSON=function(){return this.constructor.toObject(this,a.util.toJSONOptions)},e}(),d.SdkMeetingSessionCredentials=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.attendeeId="",e.prototype.externalUserId="",e.prototype.joinToken="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),null!=e.attendeeId&&Object.hasOwnProperty.call(e,"attendeeId")&&t.uint32(10).string(e.attendeeId),null!=e.externalUserId&&Object.hasOwnProperty.call(e,"externalUserId")&&t.uint32(18).string(e.externalUserId),null!=e.joinToken&&Object.hasOwnProperty.call(e,"joinToken")&&t.uint32(26).string(e.joinToken),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new d.SdkMeetingSessionCredentials;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:i.attendeeId=e.string();break;case 2:i.externalUserId=e.string();break;case 3:i.joinToken=e.string();break;default:e.skipType(7&r)}}return i},e.decodeDelimited=function(e){return e instanceof o||(e=new o(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.attendeeId&&e.hasOwnProperty("attendeeId")&&!c.isString(e.attendeeId)?"attendeeId: string expected":null!=e.externalUserId&&e.hasOwnProperty("externalUserId")&&!c.isString(e.externalUserId)?"externalUserId: string expected":null!=e.joinToken&&e.hasOwnProperty("joinToken")&&!c.isString(e.joinToken)?"joinToken: string expected":null},e.fromObject=function(e){if(e instanceof d.SdkMeetingSessionCredentials)return e;var t=new d.SdkMeetingSessionCredentials;return null!=e.attendeeId&&(t.attendeeId=String(e.attendeeId)),null!=e.externalUserId&&(t.externalUserId=String(e.externalUserId)),null!=e.joinToken&&(t.joinToken=String(e.joinToken)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.attendeeId="",n.externalUserId="",n.joinToken=""),null!=e.attendeeId&&e.hasOwnProperty("attendeeId")&&(n.attendeeId=e.attendeeId),null!=e.externalUserId&&e.hasOwnProperty("externalUserId")&&(n.externalUserId=e.externalUserId),null!=e.joinToken&&e.hasOwnProperty("joinToken")&&(n.joinToken=e.joinToken),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,a.util.toJSONOptions)},e}(),d.SdkVideoCodecCapability=function(){var e={},t=Object.create(e);return t[e[1]="VP8"]=1,t[e[3]="H264_CONSTRAINED_BASELINE_PROFILE"]=3,t}(),e.exports=d,c.Long=void 0,a.configure()},334:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,a){function o(e){try{c(i.next(e))}catch(e){a(e)}}function s(e){try{c(i.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const r=n(3625),a=n(3538),o=n(4046);t.default=class{constructor(e){this.chimeClient=e}makeTwoDigits(e){return e>9?e.toString():"0"+e.toString()}hmac(e,t){const n=new r.Sha256(t);return n.update(e),n.digest()}getDateTimeString(){const e=new Date;return e.getUTCFullYear()+this.makeTwoDigits(e.getUTCMonth()+1)+this.makeTwoDigits(e.getUTCDate())+"T"+this.makeTwoDigits(e.getUTCHours())+this.makeTwoDigits(e.getUTCMinutes())+this.makeTwoDigits(e.getUTCSeconds())+"Z"}getDateString(e){return e.substring(0,e.indexOf("T"))}getSignatureKey(e,t,n,r){return i(this,void 0,void 0,(function*(){const i=yield this.hmac(t,"AWS4"+e),a=yield this.hmac(n,i),o=yield this.hmac(r,a);return yield this.hmac("aws4_request",o)}))}signURL(e,t,n,r,s,c,d){return i(this,void 0,void 0,(function*(){const i=this.getDateTimeString(),l=this.getDateString(i);let u="";u=this.chimeClient.config.region instanceof Function?yield this.chimeClient.config.region():this.chimeClient.config.region;const h="host:"+r.toLowerCase()+"\n",p=l+"/"+u+"/"+n+"/aws4_request";let m;m=this.chimeClient.config.credentials instanceof Function?yield this.chimeClient.config.credentials():this.chimeClient.config.credentials;let f=new Map;f.set("X-Amz-Algorithm",["AWS4-HMAC-SHA256"]),f.set("X-Amz-Credential",[encodeURIComponent(m.accessKeyId+"/"+p)]),f.set("X-Amz-Date",[i]),f.set("X-Amz-Expires",["10"]),f.set("X-Amz-SignedHeaders",["host"]),m.sessionToken&&f.set("X-Amz-Security-Token",[encodeURIComponent(m.sessionToken)]),f.set(o.default.X_AMZN_VERSION,[encodeURIComponent(o.default.sdkVersion)]),f.set(o.default.X_AMZN_USER_AGENT,[encodeURIComponent(o.default.sdkUserAgentLowResolution)]),null==d||d.forEach(((e,t)=>{const n=encodeURIComponent(t);e.sort().forEach((e=>{f.has(n)||f.set(n,[]),f.get(n).push(encodeURIComponent(e))}))}));let g="";f=new Map([...f.entries()].sort()),f.forEach(((e,t)=>{e.forEach((e=>{g.length&&(g+="&"),g+=t+"="+e}))}));const w=e+"\n"+s+"\n"+g+"\n"+h+"\nhost\n"+a.toHex(yield this.hmac(c)),y=a.toHex(yield this.hmac(w)),v="AWS4-HMAC-SHA256\n"+i+"\n"+l+"/"+u+"/"+n+"/aws4_request\n"+y,b=yield this.getSignatureKey(m.secretAccessKey,l,u,n),S=a.toHex(yield this.hmac(v,b));return t+"://"+r+s+"?"+g+"&X-Amz-Signature="+S}))}}},7606:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.SimulcastLayers=void 0,function(e){e[e.Low=0]="Low",e[e.LowAndMedium=1]="LowAndMedium",e[e.LowAndHigh=2]="LowAndHigh",e[e.Medium=3]="Medium",e[e.MediumAndHigh=4]="MediumAndHigh",e[e.High=5]="High"}(n=t.SimulcastLayers||(t.SimulcastLayers={})),t.default=n},9880:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.AudioLogEvent=void 0,function(e){e[e.DeviceChanged=0]="DeviceChanged",e[e.MutedLocal=1]="MutedLocal",e[e.UnmutedLocal=2]="UnmutedLocal",e[e.Connected=3]="Connected",e[e.ConnectFailed=4]="ConnectFailed",e[e.RedmicStartLoss=5]="RedmicStartLoss",e[e.RedmicEndLoss=6]="RedmicEndLoss"}(n=t.AudioLogEvent||(t.AudioLogEvent={})),t.default=n},8597:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,a){function o(e){try{c(i.next(e))}catch(e){a(e)}}function s(e){try{c(i.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const r=n(4571),a=n(6196),o=n(9496),s=n(2811),c=n(7604),d=n(1296),l=n(3922),u=n(289),h=n(8660),p=n(9880),m=n(155);class f{constructor(e,t,n=f.INTERVAL_MS){this.audioVideoController=e,this.logger=t,this.interval=n,this.intervalScheduler=null,this.metricsAddTime=(e,t,n)=>{},this.metricsLogEvent=(e,t)=>{}}toAttribute(e){return this.toSuffix(e).substring(1)}toSuffix(e){return e.toLowerCase()===e?`_${e}`:e.toUpperCase()===e?`_${e.toLowerCase()}`:e.replace(/([A-Z][a-z]+)/g,(function(e){return`_${e}`})).replace(/([A-Z][A-Z]+)/g,(function(e){return`_${e}`})).toLowerCase()}logLatency(e,t,n){const i=this.toSuffix(e);this.logEventTime("meeting"+i,t,n)}logStateTimeout(e,t){const n=this.toSuffix(e);this.logEvent("meeting_session_state_timeout",Object.assign(Object.assign({},t),{state:`state${n}`}))}logAudioEvent(e,t){const n="audio"+this.toSuffix(p.default[e]);this.logEvent(n,t)}logVideoEvent(e,t){const n="video"+this.toSuffix(m.default[e]);this.logEvent(n,t)}logEventTime(e,t,n={}){const i=Object.assign(Object.assign({},n),{call_id:this.audioVideoController.configuration.meetingId,client_type:f.CLIENT_TYPE,metric_type:"latency"});this.logger.debug((()=>`[StatsCollector] ${e}: ${JSON.stringify(i)}`)),this.metricsAddTime(e,t,i)}logMeetingSessionStatus(e){const t=`${e.statusCode()}`;this.logEvent(t);const n={status:t,status_code:`${e.statusCode()}`};this.logEvent("meeting_session_status",n),e.isTerminal()&&this.logEvent("meeting_session_stopped",n),e.isAudioConnectionFailure()&&this.logEvent("meeting_session_audio_failed",n),e.isFailure()&&this.logEvent("meeting_session_failed",n)}logLifecycleEvent(e,t){const n={lifecycle_event:`lifecycle${this.toSuffix(c.default[e])}`,lifecycle_event_code:`${e}`,lifecycle_event_condition:`condition${this.toSuffix(d.default[t])}`,lifecycle_event_condition_code:`${t}`};this.logEvent("meeting_session_lifecycle",n)}logEvent(e,t={}){const n=Object.assign(Object.assign({},t),{call_id:this.audioVideoController.configuration.meetingId,client_type:f.CLIENT_TYPE});this.logger.debug((()=>`[StatsCollector] ${e}: ${JSON.stringify(n)}`)),this.metricsLogEvent(e,n)}start(e,t){return!this.intervalScheduler&&(this.logger.info("Starting StatsCollector"),this.signalingClient=e,this.videoStreamIndex=t,this.clientMetricReport=new r.default(this.logger,this.videoStreamIndex,this.audioVideoController.configuration.credentials.attendeeId),this.intervalScheduler=new l.default(this.interval),this.intervalScheduler.start((()=>i(this,void 0,void 0,(function*(){yield this.getStatsWrapper()})))),!0)}stop(){this.logger.info("Stopping StatsCollector"),this.intervalScheduler&&this.intervalScheduler.stop(),this.intervalScheduler=null}updateMetricValues(e,t){const n=t?this.clientMetricReport.streamMetricReports[Number(e.ssrc)]:this.clientMetricReport.globalMetricReport;let i;i=t?this.clientMetricReport.getMetricMap(n.mediaType,n.direction):this.clientMetricReport.getMetricMap();for(const t in e)t in i&&("number"==typeof e[t]?(n.previousMetrics[t]=n.currentMetrics[t],n.currentMetrics[t]=e[t]):"string"==typeof e[t]?n.currentStringMetrics[t]=e[t]:this.logger.error(`Unknown metric value type ${typeof e[t]} for metric ${t}`))}processRawMetricReports(e){this.clientMetricReport.currentSsrcs={};const t=Date.now();for(const t of e){const e=this.isStreamRawMetricReport(t.type);if(e){const e=this.clientMetricReport.streamMetricReports[Number(t.ssrc)];if(e)e.streamId=this.videoStreamIndex.streamIdForSSRC(Number(t.ssrc));else{const e=new s.default;e.mediaType=this.getMediaType(t),e.direction=this.getDirectionType(t),this.videoStreamIndex.allStreams().empty()||(e.streamId=this.videoStreamIndex.streamIdForSSRC(Number(t.ssrc))),this.clientMetricReport.streamMetricReports[Number(t.ssrc)]=e}this.clientMetricReport.currentSsrcs[Number(t.ssrc)]=1}this.updateMetricValues(t,e)}this.clientMetricReport.removeDestroyedSsrcs(),this.clientMetricReport.previousTimestampMs=this.clientMetricReport.currentTimestampMs,this.clientMetricReport.currentTimestampMs=t,this.clientMetricReport.print()}addStreamMetricDimensionFrames(e,t){const n=this.clientMetricReport.getStreamDimensionMap();for(const i in t.currentStringMetrics)if(i in n){const r=u.SdkStreamDimension.create();r.type=n[i];const a=u.SdkDimensionValue.create();a.stringValue=t.currentStringMetrics[i],r.value=a,e.dimensions.push(r)}}addMetricFrame(e,t,n,i){const r=n.type,a=n.transform,o=n.source,s=t.streamMetricFrames.length,c=t.streamMetricFrames[s-1];if(r){const n=u.SdkMetric.create();n.type=r,n.value=a(o||e,i),i?c.metrics.push(n):t.globalMetrics.push(n)}}addGlobalMetricsToProtobuf(e){const t=this.clientMetricReport.getMetricMap();for(const n in this.clientMetricReport.globalMetricReport.currentMetrics)this.addMetricFrame(n,e,t[n])}addStreamMetricsToProtobuf(e){for(const t in this.clientMetricReport.streamMetricReports){const n=this.clientMetricReport.streamMetricReports[t],i=u.SdkStreamMetricFrame.create();i.streamId=n.streamId,i.metrics=[],this.addStreamMetricDimensionFrames(i,n),e.streamMetricFrames.push(i);const r=this.clientMetricReport.getMetricMap(n.mediaType,n.direction);for(const i in n.currentMetrics)this.addMetricFrame(i,e,r[i],Number(t));for(const i in n.currentStringMetrics)this.addMetricFrame(i,e,r[i],Number(t))}}makeClientMetricProtobuf(){const e=u.SdkClientMetricFrame.create();return e.globalMetrics=[],e.streamMetricFrames=[],this.addGlobalMetricsToProtobuf(e),this.addStreamMetricsToProtobuf(e),e}sendClientMetricProtobuf(e){this.signalingClient.sendClientMetrics(e)}isStreamRawMetricReport(e){return["inbound-rtp","outbound-rtp","remote-inbound-rtp","remote-outbound-rtp"].includes(e)}getMediaType(e){return"audio"===e.kind?o.default.AUDIO:o.default.VIDEO}getDirectionType(e){const{type:t}=e;return"inbound-rtp"===t||"remote-outbound-rtp"===t?a.default.DOWNSTREAM:a.default.UPSTREAM}isValidStandardRawMetric(e){return"inbound-rtp"===e.type||"outbound-rtp"===e.type||"remote-inbound-rtp"===e.type||"remote-outbound-rtp"===e.type||"candidate-pair"===e.type&&"succeeded"===e.state}isValidSsrc(e){let t=!0;return this.isStreamRawMetricReport(e.type)&&this.getDirectionType(e)===a.default.DOWNSTREAM&&this.getMediaType(e)===o.default.VIDEO&&(t=this.videoStreamIndex.streamIdForSSRC(Number(e.ssrc))>0),t}isValidRawMetricReport(e){return this.isValidStandardRawMetric(e)&&this.isValidSsrc(e)}filterRawMetricReports(e){const t=[];for(const n of e)this.isValidRawMetricReport(n)&&t.push(n);return t}handleRawMetricReports(e){const t=this.filterRawMetricReports(e);this.logger.debug((()=>`Filtered raw metrics : ${JSON.stringify(t)}`)),this.processRawMetricReports(t);const n=this.makeClientMetricProtobuf();this.sendClientMetricProtobuf(n),this.audioVideoController.forEachObserver((e=>{h.Maybe.of(e.metricsDidReceive).map((t=>t.bind(e)(this.clientMetricReport.clone())))}))}getStatsWrapper(){return i(this,void 0,void 0,(function*(){if(!this.audioVideoController.rtcPeerConnection)return;const e=[];try{const t=yield this.audioVideoController.rtcPeerConnection.getStats();this.clientMetricReport.rtcStatsReport=t,t.forEach((t=>{e.push(t)})),this.handleRawMetricReports(e)}catch(e){this.logger.error(e.message)}}))}}t.default=f,f.INTERVAL_MS=1e3,f.CLIENT_TYPE="amazon-chime-sdk-js"},155:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.VideoLogEvent=void 0,function(e){e[e.InputAttached=0]="InputAttached",e[e.SendingFailed=1]="SendingFailed",e[e.SendingSuccess=2]="SendingSuccess"}(n=t.VideoLogEvent||(t.VideoLogEvent={})),t.default=n},8358:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,a){function o(e){try{c(i.next(e))}catch(e){a(e)}}function s(e){try{c(i.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const r=n(155),a=n(1789);class o extends a.default{constructor(e){super(e.logger),this.context=e,this.taskName="AttachMediaInputTask"}run(){return i(this,void 0,void 0,(function*(){const e=this.context.transceiverController;e.setPeer(this.context.peer),e.setupLocalTransceivers();const t=this.context.activeAudioInput;if(t){const n=t.getAudioTracks();this.context.logger.info("attaching audio track to peer connection"),yield e.setAudioInput(n.length?n[0]:null)}else yield e.setAudioInput(null),this.context.logger.info("no audio track");const n=this.context.activeVideoInput;if(n){const t=n.getVideoTracks(),i=t.length?t[0]:null;if(this.context.logger.info("attaching video track to peer connection"),yield e.setVideoInput(i),this.context.enableSimulcast&&this.context.videoUplinkBandwidthPolicy){const t=this.context.videoUplinkBandwidthPolicy.chooseEncodingParameters();e.setEncodingParameters(t)}i&&this.context.statsCollector.logVideoEvent(r.default.InputAttached,this.context.videoDeviceInformation)}else yield e.setVideoInput(null),this.context.logger.info("no video track");this.context.videoSubscriptions=e.updateVideoTransceivers(this.context.videoStreamIndex,this.context.videosToReceive)}))}}t.default=o},1789:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,a){function o(e){try{c(i.next(e))}catch(e){a(e)}}function s(e){try{c(i.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const r=n(1124),a=n(8082);t.default=class{constructor(e){this.logger=e,this.taskName="BaseTask",this.parentTask=null,this.status=a.default.IDLE,this.run=this.baseRun.bind(this,this.run),this.cancel=this.baseCancel.bind(this,this.cancel)}once(...e){return new r.default(this.logger,this,e)}cancel(){}name(){return this.parentTask?`${this.parentTask.name()}/${this.taskName}`:this.taskName}setParent(e){this.parentTask=e}getStatus(){return this.status}logAndThrow(e){throw this.logger.info(e),new Error(e)}baseRun(e){return i(this,void 0,void 0,(function*(){try{const t=Date.now();switch(this.logger.info(`running task ${this.name()}`),this.status){case a.default.RUNNING:this.logAndThrow(`${this.name()} is already running`);case a.default.CANCELED:this.logAndThrow(`${this.name()} was canceled before running`);case a.default.FINISHED:this.logAndThrow(`${this.name()} was already finished`)}this.status=a.default.RUNNING,yield e.call(this),this.logger.info(`${this.name()} took ${Math.round(Date.now()-t)} ms`)}catch(e){throw e}finally{this.status!==a.default.CANCELED&&(this.status=a.default.FINISHED)}}))}baseCancel(e){this.status!==a.default.CANCELED&&this.status!==a.default.FINISHED?(this.logger.info(`canceling task ${this.name()}`),this.status=a.default.CANCELED,e.call(this)):this.logger.info(`Not canceling ${this.name()}: state is ${this.status}`)}}},3216:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,a){function o(e){try{c(i.next(e))}catch(e){a(e)}}function s(e){try{c(i.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const r=n(1789);class a extends r.default{constructor(e){super(e.logger),this.context=e,this.taskName="CleanRestartedSessionTask"}run(){return i(this,void 0,void 0,(function*(){this.context.resetConnectionSpecificState()}))}}t.default=a},7408:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,a){function o(e){try{c(i.next(e))}catch(e){a(e)}}function s(e){try{c(i.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const r=n(9416),a=n(1789);class o extends a.default{constructor(e){super(e.logger),this.context=e,this.taskName="CleanStoppedSessionTask",this.taskCanceler=null}cancel(){this.taskCanceler&&(this.taskCanceler.cancel(),this.taskCanceler=null)}run(){return i(this,void 0,void 0,(function*(){try{this.context.signalingClient.ready()&&(this.context.signalingClient.closeConnection(),yield this.receiveWebSocketClosedEvent())}catch(e){throw e}finally{for(const e of this.context.removableObservers)e.removeObserver();this.context.resetConnectionSpecificState(),this.context.statsCollector.stop(),this.context.statsCollector=null,this.context.connectionMonitor.stop(),this.context.connectionMonitor=null,this.context.videoUplinkBandwidthPolicy.setTransceiverController&&this.context.videoUplinkBandwidthPolicy.setTransceiverController(void 0),this.context.videoDownlinkBandwidthPolicy.bindToTileController&&this.context.videoDownlinkBandwidthPolicy.bindToTileController(void 0);const e=this.context.videoTileController.getLocalVideoTile();e&&e.bindVideoStream("",!0,null,null,null,null),this.context.videoTileController.removeAllVideoTiles()}}))}receiveWebSocketClosedEvent(){return new Promise(((e,t)=>{const n=new class{constructor(e){this.signalingClient=e}cancel(){this.signalingClient.removeObserver(this),t(new Error("CleanStoppedSessionTask got canceled while waiting for the WebSocket closed event"))}handleSignalingClientEvent(t){t.type===r.default.WebSocketClosed&&(this.signalingClient.removeObserver(this),e())}}(this.context.signalingClient);this.taskCanceler=n,this.context.signalingClient.registerObserver(n)}))}}t.default=o},5482:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,a){function o(e){try{c(i.next(e))}catch(e){a(e)}}function s(e){try{c(i.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const r=n(1789);class a extends r.default{constructor(e){super(e.logger),this.context=e,this.taskName="CreatePeerConnectionTask",this.removeTrackAddedEventListener=null,this.removeTrackRemovedEventListeners={},this.trackEvents=["ended","mute","unmute","isolationchange","overconstrained"],this.removeVideoTrackEventListeners={},this.trackAddedHandler=e=>{const t=e.track;if(this.context.logger.info(`received track event: kind=${t.kind} id=${t.id} label=${t.label}`),e.transceiver&&"inactive"===e.transceiver.currentDirection)return;if(0===e.streams.length)return void this.context.logger.warn("Track event but no stream");const n=e.streams[0];"audio"===t.kind?this.context.audioMixController.bindAudioStream(n):"video"!==t.kind||this.trackIsVideoInput(t)||this.addRemoteVideoTrack(t,n)}}removeObserver(){this.removeTrackAddedEventListener&&this.removeTrackAddedEventListener();for(const e in this.removeTrackRemovedEventListeners)this.removeTrackRemovedEventListeners[e]()}addPeerConnectionEventLogger(){const e=this.context.peer;e.addEventListener("connectionstatechange",(()=>{this.context.logger.info(`peer connection state changed: ${e.connectionState}`)})),e.addEventListener("negotiationneeded",(()=>{this.context.logger.info("peer connection negotiation is needed")})),e.addEventListener("icegatheringstatechange",(()=>{this.context.logger.info(`peer connection ice gathering state changed: ${e.iceGatheringState}`)})),e.addEventListener("icecandidate",(e=>{this.context.logger.info(`peer connection ice candidate: ${e.candidate?e.candidate.candidate:"(null)"}`)})),e.addEventListener("iceconnectionstatechange",(()=>{this.context.logger.info(`peer connection ice connection state changed: ${e.iceConnectionState}`)}))}run(){return i(this,void 0,void 0,(function*(){this.context.removableObservers.push(this);const e=this.context.turnCredentials&&this.context.turnCredentials.uris.length>0?{iceServers:[{urls:this.context.turnCredentials.uris,username:this.context.turnCredentials.username,credential:this.context.turnCredentials.password,credentialType:"password"}],iceTransportPolicy:"relay"}:{};e.bundlePolicy=this.context.browserBehavior.requiresBundlePolicy(),e.sdpSemantics="unified-plan",this.context.peer?this.context.logger.info("reusing peer connection"):(this.context.logger.info("creating new peer connection"),this.context.peer=new RTCPeerConnection(e),this.addPeerConnectionEventLogger()),this.removeTrackAddedEventListener=()=>{this.context.peer&&this.context.peer.removeEventListener("track",this.trackAddedHandler),this.removeTrackAddedEventListener=null},this.context.peer.addEventListener("track",this.trackAddedHandler)}))}trackIsVideoInput(e){return!!this.context.transceiverController.useTransceivers()&&(this.logger.debug((()=>"getting video track type")),this.context.transceiverController.trackIsVideoInput(e))}addRemoteVideoTrack(e,t){var n;const i=t.id,r=this.context.videoStreamIndex.attendeeIdForTrack(i);let a,o;if(this.context.videoTileController.getVideoTileForAttendeeId?(o=this.context.videoTileController.getVideoTileForAttendeeId(r),a=!!(null===(n=null==o?void 0:o.state())||void 0===n?void 0:n.boundVideoStream)):a=this.context.videoTileController.haveVideoTileForAttendeeId(r),a)return void this.context.logger.info(`Not adding remote track. Already have tile for attendeeId:  ${r}`);o||(o=this.context.videoTileController.addVideoTile(),this.logger.info(`Created video tile ${o.id()}`));let s,c,d=this.context.videoStreamIndex.streamIdForTrack(i);void 0===d&&(this.logger.warn(`stream not found for tile=${o.id()} track=${i}`),d=null);for(let n=0;n<this.trackEvents.length;n++){const i=this.trackEvents[n],r=t.getVideoTracks();if(r&&r.length){const t=r[0],n=()=>{this.context.logger.info(`received the ${i} event for tile=${o.id()} id=${e.id} streamId=${d}`),"ended"===i&&this.removeRemoteVideoTrack(e,o.state())};t.addEventListener(i,n),this.removeVideoTrackEventListeners[e.id]||(this.removeVideoTrackEventListeners[e.id]=[]),this.removeVideoTrackEventListeners[e.id].push((()=>{t.removeEventListener(i,n)}))}}if(e.getSettings){const t=e.getSettings();s=t.width,c=t.height}else{const t=e.getCapabilities();s=t.width,c=t.height}const l=this.context.videoStreamIndex.externalUserIdForTrack(i);o.bindVideoStream(r,!1,t,s,c,d,l),this.logger.info(`video track added, use tile=${o.id()} track=${i} streamId=${d}`);const u="removetrack",h=t,p=()=>this.removeRemoteVideoTrack(e,o.state());this.removeTrackRemovedEventListeners[e.id]=()=>{h.removeEventListener(u,p),delete this.removeTrackRemovedEventListeners[e.id]},h.addEventListener(u,p)}removeRemoteVideoTrack(e,t){if(this.removeTrackRemovedEventListeners.hasOwnProperty(e.id)){this.removeTrackRemovedEventListeners[e.id]();for(const t of this.removeVideoTrackEventListeners[e.id])t();delete this.removeVideoTrackEventListeners[e.id]}this.logger.info(`video track ended, removing tile=${t.tileId} id=${e.id} stream=${t.streamId}`),t.streamId?this.context.videosPaused.remove(t.streamId):this.logger.warn(`no stream found for tile=${t.tileId}`),this.context.videoTileController.removeVideoTile(t.tileId)}}t.default=a,a.REMOVE_HANDLER_INTERVAL_MS=1e4},1129:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,a){function o(e){try{c(i.next(e))}catch(e){a(e)}}function s(e){try{c(i.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const r=n(5687),a=n(326),o=n(1789);class s extends o.default{constructor(e){super(e.logger),this.context=e,this.taskName="CreateSDPTask"}cancel(){if(this.cancelPromise){const e=new Error(`canceling ${this.name()}`);this.cancelPromise(e),delete this.cancelPromise}}sessionUsesAudio(){var e,t;return!!(null===(t=null===(e=this.context.meetingSessionConfiguration)||void 0===e?void 0:e.urls)||void 0===t?void 0:t.audioHostURL)}sessionUsesVideo(){let e;e=this.context.transceiverController.useTransceivers()?this.context.transceiverController.hasVideoInput():this.context.videoTileController.hasStartedLocalVideoTile();const t=!!this.context.videosToReceive&&!this.context.videosToReceive.empty(),n=e||t;return this.context.logger.info(`uses video: ${n} (enabled: true, sending: ${e}, receiving: ${t})`),n}run(){return i(this,void 0,void 0,(function*(){const e={offerToReceiveAudio:this.sessionUsesAudio(),offerToReceiveVideo:this.sessionUsesVideo()};this.logger.info(`peer connection offerOptions: ${JSON.stringify(e)}`),yield new Promise(((t,n)=>i(this,void 0,void 0,(function*(){this.cancelPromise=e=>{n(e)};try{if(this.context.sdpOfferInit=yield this.context.peer.createOffer(e),this.context.logger.info("peer connection created offer"),this.context.previousSdpOffer&&new a.default(this.context.sdpOfferInit.sdp).videoSendSectionHasDifferentSSRC(this.context.previousSdpOffer)){const e=new Error(`canceling ${this.name()} due to the meeting status code: ${r.default.IncompatibleSDP}`);return this.context.previousSdpOffer=null,void n(e)}t()}catch(e){n(e)}finally{delete this.cancelPromise}}))))}))}}t.default=s},6240:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,a){function o(e){try{c(i.next(e))}catch(e){a(e)}}function s(e){try{c(i.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const r=n(5687),a=n(326),o=n(1789);class s extends o.default{constructor(e,t=s.CHROME_VPN_TIMEOUT_MS){super(e.logger),this.context=e,this.chromeVpnTimeoutMs=t,this.taskName="FinishGatheringICECandidatesTask"}removeEventListener(){this.context.peer&&(this.context.peer.removeEventListener("icecandidate",this.context.iceCandidateHandler),this.context.turnCredentials||this.context.peer.removeEventListener("icegatheringstatechange",this.context.iceGatheringStateEventHandler))}cancel(){let e;this.context.browserBehavior.requiresIceCandidateGatheringTimeoutWorkaround()&&this.chromeVpnTimeoutMs<this.context.meetingSessionConfiguration.connectionTimeoutMs&&Date.now()-this.startTimestampMs>this.chromeVpnTimeoutMs&&(e=new Error(`canceling ${this.name()} due to the meeting status code: ${r.default.ICEGatheringTimeoutWorkaround}`)),this.cancelPromise&&(e=e||new Error(`canceling ${this.name()}`),this.cancelPromise(e),delete this.cancelPromise)}run(){return i(this,void 0,void 0,(function*(){if(this.context.peer||this.logAndThrow("session does not have peer connection; bypass ice gathering"),this.context.browserBehavior.requiresCheckForSdpConnectionAttributes()){if(new a.default(this.context.peer.localDescription.sdp).hasCandidatesForAllMLines())return void this.context.logger.info(`ice gathering already complete; bypass gathering, current local description ${this.context.peer.localDescription.sdp}`)}else this.context.logger.info(`iOS device does not require checking for connection attributes in SDP, current local description ${this.context.peer.localDescription.sdp}`);if(!this.context.browserBehavior.hasFirefoxWebRTC()&&"complete"!==this.context.peer.iceGatheringState||!new a.default(this.context.peer.localDescription.sdp).hasCandidates())try{yield new Promise(((e,t)=>{this.cancelPromise=e=>{this.removeEventListener(),t(e)},this.context.turnCredentials||(this.context.iceGatheringStateEventHandler=()=>{if("complete"===this.context.peer.iceGatheringState)return this.removeEventListener(),e(),void delete this.cancelPromise},this.context.peer.addEventListener("icegatheringstatechange",this.context.iceGatheringStateEventHandler)),this.context.iceCandidateHandler=n=>{if(this.context.logger.info(`ice candidate: ${n.candidate?n.candidate.candidate:"(null)"} state: ${this.context.peer.iceGatheringState}`),n.candidate&&(a.default.isRTPCandidate(n.candidate.candidate)&&this.context.iceCandidates.push(n.candidate),this.context.turnCredentials&&this.context.iceCandidates.length>=1))return this.context.logger.info("gathered at least one relay candidate"),this.removeEventListener(),e(),void delete this.cancelPromise;"complete"===this.context.peer.iceGatheringState&&(this.context.logger.info("done gathering ice candidates"),this.removeEventListener(),new a.default(this.context.peer.localDescription.sdp).hasCandidates()&&0!==this.context.iceCandidates.length?(e(),delete this.cancelPromise):(t(new Error("no ice candidates were gathered")),delete this.cancelPromise))},this.context.peer.addEventListener("icecandidate",this.context.iceCandidateHandler),this.startTimestampMs=Date.now()}))}catch(e){throw e}finally{this.startTimestampMs&&(this.context.iceGatheringDurationMs=Math.round(Date.now()-this.startTimestampMs))}else this.context.logger.info("ice gathering state is complete and candidates are in SDP; bypass gathering")}))}}t.default=s,s.CHROME_VPN_TIMEOUT_MS=5e3},1960:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,a){function o(e){try{c(i.next(e))}catch(e){a(e)}}function s(e){try{c(i.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const r=n(3789),a=n(5687),o=n(7215),s=n(7103),c=n(9416),d=n(2168),l=n(289),u=n(1789);class h extends u.default{constructor(e){super(e.logger),this.context=e,this.taskName="JoinAndReceiveIndexTask",this.taskCanceler=null}cancel(){this.taskCanceler&&(this.taskCanceler.cancel(),this.taskCanceler=null)}run(){return i(this,void 0,void 0,(function*(){const e=yield new Promise(((e,t)=>{const n=this.context;n.turnCredentials=null;const i=new class{constructor(e){this.signalingClient=e}cancel(){this.signalingClient.removeObserver(this),t(new Error("JoinAndReceiveIndexTask got canceled while waiting for SdkIndexFrame"))}handleSignalingClientEvent(t){if(t.type===c.default.WebSocketClosed){let e=`The signaling connection was closed with code ${t.closeCode} and reason: ${t.closeReason}`;n.logger.warn(e);let i=a.default.SignalingBadRequest;return 4410===t.closeCode?(e="The meeting already ended.",n.logger.warn(e),i=a.default.MeetingEnded):t.closeCode>=4500&&t.closeCode<4600&&(i=a.default.SignalingInternalServerError),void n.audioVideoController.handleMeetingSessionStatus(new r.default(i),new Error(e))}if(t.type!==c.default.ReceivedSignalFrame)return;if(t.message.type===l.SdkSignalFrame.Type.JOIN_ACK){const e=t.message.joinack;if(e&&e.videoSubscriptionLimit&&(n.videoSubscriptionLimit=e.videoSubscriptionLimit),n.serverSupportsCompression=null==e?void 0:e.wantsCompressedSdp,void 0!==(null==e?void 0:e.defaultServerSideNetworkAdaption)&&e.defaultServerSideNetworkAdaption!==s.default.Default&&void 0!==n.videoDownlinkBandwidthPolicy.setServerSideNetworkAdaption){const t=e.defaultServerSideNetworkAdaption;n.logger.info(`Overriding server side network adaption value to ${t}`),n.videoDownlinkBandwidthPolicy.setServerSideNetworkAdaption(s.convertServerSideNetworkAdaptionEnumFromSignaled(t))}return void(e&&e.turnCredentials?(n.turnCredentials=new o.default,n.turnCredentials.username=e.turnCredentials.username,n.turnCredentials.password=e.turnCredentials.password,n.turnCredentials.ttl=e.turnCredentials.ttl,n.turnCredentials.uris=e.turnCredentials.uris.map((e=>n.meetingSessionConfiguration.urls.urlRewriter(e))).filter((e=>!!e))):n.logger.error("missing TURN credentials in JoinAckFrame"))}if(t.message.type!==l.SdkSignalFrame.Type.INDEX)return;this.signalingClient.removeObserver(this);const i=t.message.index;e(i)}}(this.context.signalingClient);this.context.signalingClient.registerObserver(i),this.taskCanceler=i,this.context.previousSdpAnswerAsString="",this.context.previousSdpOffer=null,this.context.serverSupportsCompression=!1;const u=new d.default(this.context.meetingSessionConfiguration.applicationMetadata);void 0!==this.context.videoDownlinkBandwidthPolicy.getServerSideNetworkAdaption&&void 0!==this.context.videoDownlinkBandwidthPolicy.supportedServerSideNetworkAdaptions&&(u.serverSideNetworkAdaption=this.context.videoDownlinkBandwidthPolicy.getServerSideNetworkAdaption(),u.supportedServerSideNetworkAdaptions=this.context.videoDownlinkBandwidthPolicy.supportedServerSideNetworkAdaptions()),u.disablePeriodicKeyframeRequestOnContentSender=this.context.meetingSessionConfiguration.disablePeriodicKeyframeRequestOnContentSender,this.context.signalingClient.join(u)}));this.context.logger.info(`received first index ${JSON.stringify(e)}`),this.context.indexFrame=e}))}}t.default=h},6180:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,a){function o(e){try{c(i.next(e))}catch(e){a(e)}}function s(e){try{c(i.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const r=n(9416),a=n(289),o=n(1789);class s extends o.default{constructor(e){super(e.logger),this.context=e,this.taskName="LeaveAndReceiveLeaveAckTask",this.taskCanceler=null}cancel(){this.taskCanceler&&(this.taskCanceler.cancel(),this.taskCanceler=null)}run(){return i(this,void 0,void 0,(function*(){this.context.signalingClient.ready()&&(this.context.signalingClient.leave(),this.context.logger.info("sent leave"),yield this.receiveLeaveAck())}))}receiveLeaveAck(){return new Promise(((e,t)=>{const n=new class{constructor(e,t){this.signalingClient=e,this.logger=t}cancel(){this.signalingClient.removeObserver(this),t(new Error("LeaveAndReceiveLeaveAckTask got canceled while waiting for IndexFrame"))}handleSignalingClientEvent(t){if(t.isConnectionTerminated())return this.signalingClient.removeObserver(this),this.logger.info("LeaveAndReceiveLeaveAckTask connection terminated"),void e();t.type===r.default.ReceivedSignalFrame&&t.message.type===a.SdkSignalFrame.Type.LEAVE_ACK&&(this.signalingClient.removeObserver(this),this.logger.info("got leave ack"),e())}}(this.context.signalingClient,this.context.logger);this.taskCanceler=n,this.context.signalingClient.registerObserver(n)}))}}t.default=s},2748:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,a){function o(e){try{c(i.next(e))}catch(e){a(e)}}function s(e){try{c(i.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const r=n(9416),a=n(289),o=n(1789);class s extends o.default{constructor(e){super(e.logger),this.context=e,this.taskName="ListenForVolumeIndicatorsTask",this.realtimeMuteAndUnmuteHandler=e=>{this.context.signalingClient.mute(e)}}run(){return i(this,void 0,void 0,(function*(){this.context.removableObservers.push(this),this.context.signalingClient.registerObserver(this),this.context.realtimeController.realtimeSubscribeToMuteAndUnmuteLocalAudio(this.realtimeMuteAndUnmuteHandler)}))}removeObserver(){this.context.realtimeController.realtimeUnsubscribeToMuteAndUnmuteLocalAudio(this.realtimeMuteAndUnmuteHandler),this.context.signalingClient.removeObserver(this)}handleSignalingClientEvent(e){if(e.type===r.default.ReceivedSignalFrame)if(e.message.type===a.SdkSignalFrame.Type.AUDIO_STREAM_ID_INFO){const t=e.message.audioStreamIdInfo;this.context.volumeIndicatorAdapter.sendRealtimeUpdatesForAudioStreamIdInfo(t)}else if(e.message.type===a.SdkSignalFrame.Type.AUDIO_METADATA){const t=e.message.audioMetadata;this.context.volumeIndicatorAdapter.sendRealtimeUpdatesForAudioMetadata(t)}}}t.default=s},1981:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,a){function o(e){try{c(i.next(e))}catch(e){a(e)}}function s(e){try{c(i.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const r=n(6196),a=n(9496),o=n(2770),s=n(9708),c=n(2977),d=n(1922),l=n(3789),u=n(5687),h=n(9416),p=n(289),m=n(9880),f=n(8660),g=n(1789);class w extends g.default{constructor(e,t,n){super(e.logger),this.context=e,this.initialConnectionHealthData=n,this.taskName="MonitorTask",this.prevSignalStrength=1,this.currentVideoDownlinkBandwidthEstimationKbps=1e4,this.currentAvailableStreamAvgBitrates=null,this.hasSignalingError=!1,this.presenceHandlerCalled=!1,this.isResubscribeCheckPaused=!1,this.pendingMetricsReport=void 0,this.isMeetingConnected=!1,this.checkAndSendWeakSignalEvent=e=>{const t=e<1,n=this.prevSignalStrength<1,i=t?n?null:m.default.RedmicStartLoss:n?m.default.RedmicEndLoss:null;i&&this.context.statsCollector.logAudioEvent(i),this.prevSignalStrength=e},this.realtimeFatalErrorCallback=e=>{this.logger.error(`realtime error: ${e}: ${e.stack}`),this.context.audioVideoController.handleMeetingSessionStatus(new l.default(u.default.RealtimeApiFailed),e)},this.realtimeAttendeeIdPresenceHandler=(e,t)=>{var n;const i=this.context.meetingSessionConfiguration.credentials.attendeeId;this.logger.info(`attendeePresenceReceived: ${i}`),i===e&&t&&!this.presenceHandlerCalled&&(this.presenceHandlerCalled=!0,this.context.attendeePresenceDurationMs=Date.now()-this.context.startAudioVideoTimestamp,null===(n=this.context.eventController)||void 0===n||n.publishEvent("attendeePresenceReceived",{attendeePresenceDurationMs:this.context.attendeePresenceDurationMs}))},this.generateBaseAudioVideoEventAttributes=()=>{const{signalingOpenDurationMs:e,startTimeMs:t,iceGatheringDurationMs:n,attendeePresenceDurationMs:i,meetingStartDurationMs:r}=this.context;return{meetingDurationMs:null===t?0:Math.round(Date.now()-t),signalingOpenDurationMs:e,iceGatheringDurationMs:n,attendeePresenceDurationMs:i,meetingStartDurationMs:r}},this.generateAudioVideoEventAttributesForReceivingAudioDropped=()=>{const e=this.generateBaseAudioVideoEventAttributes();return Object.assign(Object.assign({},e),{maxVideoTileCount:this.context.maxVideoTileCount,poorConnectionCount:this.context.poorConnectionCount})},this.reconnectionHealthPolicy=new s.default(e.logger,Object.assign({},t),this.initialConnectionHealthData.clone()),this.unusableAudioWarningHealthPolicy=new d.default(Object.assign({},t),this.initialConnectionHealthData.clone()),this.sendingAudioFailureHealthPolicy=new c.default(e.logger,Object.assign({},t),this.initialConnectionHealthData.clone())}removeObserver(){this.context.audioVideoController.removeObserver(this),this.context.realtimeController.realtimeUnsubscribeToFatalError(this.realtimeFatalErrorCallback),this.context.realtimeController.realtimeUnsubscribeToLocalSignalStrengthChange(this.checkAndSendWeakSignalEvent),this.context.realtimeController.realtimeUnsubscribeToAttendeeIdPresence(this.realtimeAttendeeIdPresenceHandler),this.context.signalingClient.removeObserver(this)}run(){return i(this,void 0,void 0,(function*(){this.context.removableObservers.push(this),this.context.audioVideoController.addObserver(this),this.context.realtimeController.realtimeSubscribeToFatalError(this.realtimeFatalErrorCallback),this.context.realtimeController.realtimeSubscribeToLocalSignalStrengthChange(this.checkAndSendWeakSignalEvent),this.context.realtimeController.realtimeSubscribeToAttendeeIdPresence(this.realtimeAttendeeIdPresenceHandler),this.context.connectionMonitor.start(),this.context.statsCollector.start(this.context.signalingClient,this.context.videoStreamIndex),this.context.signalingClient.registerObserver(this)}))}pauseResubscribeCheck(){this.isResubscribeCheckPaused=!0}resumeResubscribeCheck(){this.isResubscribeCheckPaused&&(this.isResubscribeCheckPaused=!1,this.pendingMetricsReport&&(this.context.logger.info("Resuming resubscribe check with pending metrics report"),this.checkResubscribe(this.pendingMetricsReport)&&this.context.audioVideoController.update({needsRenegotiation:!1})))}videoTileDidUpdate(e){this.context.maxVideoTileCount=Math.max(this.context.maxVideoTileCount,this.context.videoTileController.getAllVideoTiles().length)}checkResubscribe(e){if(this.isResubscribeCheckPaused)return this.context.logger.info("Resubscribe check is paused, setting incoming client metric report as pending"),void(this.pendingMetricsReport=e);this.pendingMetricsReport=void 0;const t=e.getObservableMetrics();if(!t)return!1;const n=t.availableOutgoingBitrate,i=t.nackCountReceivedPerSecond;let r=!1;this.context.videoDownlinkBandwidthPolicy.updateMetrics(e);const a=this.context.videoDownlinkBandwidthPolicy.wantsResubscribe();if(r=r||a,a){const e=this.context.videoDownlinkBandwidthPolicy.chooseSubscriptions();this.context.videosToReceive=e.truncate(this.context.videoSubscriptionLimit),e.size()>this.context.videosToReceive.size()&&this.logger.warn(`Video receive limit exceeded. Limiting the videos to ${this.context.videosToReceive.size()}. Please consider using AllHighestVideoBandwidthPolicy or VideoPriorityBasedPolicy along with chooseRemoteVideoSources api to select the video sources to be displayed.`),this.logger.info(`trigger resubscribe for down=${a}; videosToReceive=[${this.context.videosToReceive.array()}]`)}if(this.context.videoTileController.hasStartedLocalVideoTile()){this.context.videoUplinkBandwidthPolicy.updateConnectionMetric({uplinkKbps:n/1e3,nackCountPerSecond:i});const e=this.context.videoUplinkBandwidthPolicy.wantsResubscribe();r=r||e,e&&(this.logger.info(`trigger resubscribe for up=${e}; videosToReceive=[${this.context.videosToReceive.array()}]`),this.context.videoUplinkBandwidthPolicy.chooseEncodingParameters(),this.context.videoUplinkBandwidthPolicy.chooseMediaTrackConstraints())}return r}metricsDidReceive(e){const t=e;if(!t)return;if(this.checkResubscribe(e)&&this.context.audioVideoController.update({needsRenegotiation:!1}),!this.currentAvailableStreamAvgBitrates)return;const n=t.streamMetricReports;if(!n)return;const i=e.getObservableMetrics();this.currentVideoDownlinkBandwidthEstimationKbps=i.availableIncomingBitrate;const s=new Map,c=new Map;for(const e in n)n[e].mediaType===a.default.VIDEO&&n[e].direction===r.default.DOWNSTREAM&&s.set(n[e].streamId,n[e]);let d=!1;for(const e of this.currentAvailableStreamAvgBitrates.bitrates)if(s.has(e.sourceStreamId)){const t=s.get(e.sourceStreamId),n=this.context.videoStreamIndex.attendeeIdForStreamId(e.sourceStreamId);if(!n)continue;const i=new o.default,r=t.previousMetrics.bytesReceived,a=t.currentMetrics.bytesReceived;if(!r||!a)continue;const l=8*(a-r)/1e3;i.expectedAverageBitrateKbps=e.avgBitrateBps/1e3,i.receivedAverageBitrateKbps=l,i.attendeeId=n,l<e.avgBitrateBps/1e3*w.DEFAULT_DOWNLINK_CALLRATE_UNDERSHOOT_FACTOR&&(d=!0),c.set(n,i)}d&&this.logger.info(`One or more video streams are not receiving expected amounts of data ${JSON.stringify(Array.from(c.values()))}`)}connectionHealthDidChange(e){0===e.consecutiveMissedPongs&&this.context.reconnectController&&this.context.reconnectController.setLastActiveTimestampMs(Date.now()),this.applyHealthPolicy(this.reconnectionHealthPolicy,e,(()=>{this.context.audioVideoController.handleMeetingSessionStatus(new l.default(u.default.ConnectionHealthReconnect),null)})),this.applyHealthPolicy(this.unusableAudioWarningHealthPolicy,e,(()=>{var e;this.context.poorConnectionCount+=1;const t=this.generateAudioVideoEventAttributesForReceivingAudioDropped();null===(e=this.context.eventController)||void 0===e||e.publishEvent("receivingAudioDropped",t),this.context.videoTileController.haveVideoTilesWithStreams()?this.context.audioVideoController.forEachObserver((e=>{f.Maybe.of(e.connectionDidSuggestStopVideo).map((t=>t.bind(e)()))})):this.context.audioVideoController.forEachObserver((e=>{f.Maybe.of(e.connectionDidBecomePoor).map((t=>t.bind(e)()))}))}),(()=>{this.context.audioVideoController.forEachObserver((e=>{f.Maybe.of(e.connectionDidBecomeGood).map((t=>t.bind(e)()))}))})),this.isMeetingConnected&&this.applyHealthPolicy(this.sendingAudioFailureHealthPolicy,e,(()=>{var e;const t=this.generateBaseAudioVideoEventAttributes();null===(e=this.context.eventController)||void 0===e||e.publishEvent("sendingAudioFailed",t)}),(()=>{var e;const t=this.generateBaseAudioVideoEventAttributes();null===(e=this.context.eventController)||void 0===e||e.publishEvent("sendingAudioRecovered",t)}))}audioVideoDidStart(){this.isMeetingConnected=!0}audioVideoDidStartConnecting(e){this.isMeetingConnected=!1}audioVideoDidStop(e){this.isMeetingConnected=!1}applyHealthPolicy(e,t,n,i){e.update(t);const r=e.healthIfChanged();null!==r&&(this.logger.info(`${e.name} value is now ${r}`),r<=e.minimumHealth()?f.Maybe.of(n).map((e=>e.bind(this)())):f.Maybe.of(i).map((e=>e.bind(this)())))}handleBitrateFrame(e){let t=0;this.currentAvailableStreamAvgBitrates=e,this.logger.debug((()=>`simulcast: bitrates from server ${JSON.stringify(e)}`));for(const n of e.bitrates)this.context.videosToReceive.contain(n.sourceStreamId)&&(t+=n.avgBitrateBps);t/=1e3,this.currentVideoDownlinkBandwidthEstimationKbps*w.DEFAULT_DOWNLINK_CALLRATE_OVERSHOOT_FACTOR<t&&this.logger.info(`Downlink bandwidth pressure is high: estimated bandwidth ${this.currentVideoDownlinkBandwidthEstimationKbps}Kbps, required bandwidth ${t}Kbps`)}handleSignalingClientEvent(e){var t;if(e.type===h.default.WebSocketClosed&&(4410===e.closeCode||e.closeCode>=4500&&e.closeCode<4600)||e.type===h.default.WebSocketError||e.type===h.default.WebSocketFailed){if(!this.hasSignalingError){const e=this.generateAudioVideoEventAttributesForReceivingAudioDropped();null===(t=this.context.eventController)||void 0===t||t.publishEvent("signalingDropped",e),this.hasSignalingError=!0}}else e.type===h.default.WebSocketOpen&&(this.hasSignalingError=!1);if(e.type===h.default.ReceivedSignalFrame){if(e.message.bitrates){const t=e.message.bitrates;this.context.videoStreamIndex.integrateBitratesFrame(t),this.context.videoDownlinkBandwidthPolicy.updateIndex(this.context.videoStreamIndex),this.handleBitrateFrame(e.message.bitrates)}const t=l.default.fromSignalFrame(e.message);e.message.type!==p.SdkSignalFrame.Type.PRIMARY_MEETING_JOIN_ACK&&t.statusCode()!==u.default.OK&&this.context.audioVideoController.handleMeetingSessionStatus(t,null)}}}t.default=w,w.DEFAULT_DOWNLINK_CALLRATE_OVERSHOOT_FACTOR=2,w.DEFAULT_DOWNLINK_CALLRATE_UNDERSHOOT_FACTOR=.2},8831:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{cancel(){}name(){return"NoOpTask"}run(){return Promise.resolve()}setParent(e){}}},1124:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(813),r=n(7797);t.default=class{constructor(e,t,n){this.logger=e,this.task=t,this.dependencies=n,this.canceled=!1}name(){return`${this.task.name()} (once)`}cancel(){if(!this.canceled){if(this.dependencies)for(const e of this.dependencies)e.cancel();this.logger.info(`Canceling ${this.name()}`),r.default.nextTick((()=>this.task.cancel())),this.canceled=!0,this.cancelPromise&&r.default.nextTick((()=>this.cancelPromise(new Error(`canceling ${this.name()}`))))}}logDependencies(){if(this.logger.getLogLevel()>i.default.INFO)return;if(!this.dependencies)return;const e=this.dependencies.filter((e=>e)).map((e=>e.name())).join(", ");this.logger.info(`${this.task.name()} waiting for dependencies: ${e}`)}run(){if(this.promise)return this.promise;const e=this.dependencies?Promise.all(this.dependencies.map((e=>null==e?void 0:e.run()))):Promise.resolve();return this.logDependencies(),this.ongoing=e.then((()=>this.task.run())),this.promise=new Promise(((e,t)=>{this.cancelPromise=t,this.ongoing.then(e).catch(t)}))}setParent(e){this.task.setParent(e)}}},4543:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,a){function o(e){try{c(i.next(e))}catch(e){a(e)}}function s(e){try{c(i.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const r=n(3920),a=n(9416),o=n(1789);class s extends o.default{constructor(e){super(e.logger),this.context=e,this.taskName="OpenSignalingConnectionTask",this.taskCanceler=null}cancel(){this.taskCanceler&&(this.taskCanceler.cancel(),this.taskCanceler=null)}run(){return i(this,void 0,void 0,(function*(){const e=this.context.meetingSessionConfiguration;this.context.signalingClient.openConnection(new r.default(e.urls.signalingURL,e.credentials.joinToken));const t=Date.now();try{yield new Promise(((e,t)=>{const n=new class{constructor(e){this.signalingClient=e}cancel(){this.signalingClient.removeObserver(this),t(new Error("OpenSignalingConnectionTask got canceled while waiting to open signaling connection"))}handleSignalingClientEvent(n){switch(n.type){case a.default.WebSocketOpen:this.signalingClient.removeObserver(this),e();break;case a.default.WebSocketFailed:this.signalingClient.removeObserver(this),t(new Error("WebSocket connection failed"))}}}(this.context.signalingClient);this.context.signalingClient.registerObserver(n),this.taskCanceler=n}))}catch(e){throw e}finally{this.context.signalingOpenDurationMs=Math.round(Date.now()-t),this.logger.info(`Opening signaling connection took ${this.context.signalingOpenDurationMs} ms`)}}))}}t.default=s},8556:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,a){function o(e){try{c(i.next(e))}catch(e){a(e)}}function s(e){try{c(i.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const r=n(1789);class a extends r.default{constructor(e,t,n){super(e),this.taskName=t,this.tasksToRunParallel=n;for(const e of n)e.setParent(this)}cancel(){for(const e of this.tasksToRunParallel)this.logger.info(`canceling parallel group task ${this.name()} subtask ${e.name()}`),e.cancel()}run(){return i(this,void 0,void 0,(function*(){const e=[];for(const t of this.tasksToRunParallel)this.logger.info(`parallel group task ${this.name()} running subtask ${t.name()}`),e.push(t.run());const t=[];for(let n=0;n<e.length;n++){try{yield e[n]}catch(e){t.push(`task ${this.tasksToRunParallel[n].name()} failed: ${e.message}`)}this.logger.info(`parallel group task ${this.name()} completed subtask ${this.tasksToRunParallel[n].name()}`)}if(t.length>0){const e=t.join(", ");this.logAndThrow(`parallel group task ${this.name()} failed for tasks: ${e}`)}this.logger.info(`parallel group task ${this.name()} completed`)}))}}t.default=a},9945:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,a){function o(e){try{c(i.next(e))}catch(e){a(e)}}function s(e){try{c(i.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const r=n(3204),a=n(9416),o=n(289),s=n(1789);class c extends s.default{constructor(e,t,n){super(e.logger),this.context=e,this.credentials=t,this.completionCallback=n,this.taskName="PromoteToPrimaryMeetingTask",this.taskCanceler=null}cancel(){this.taskCanceler&&(this.taskCanceler.cancel(),this.taskCanceler=null)}run(){return i(this,void 0,void 0,(function*(){this.context.signalingClient.ready()?(this.context.signalingClient.promoteToPrimaryMeeting(this.credentials),this.context.logger.info("Sent request to join primary meeting"),yield this.receivePrimaryMeetingJoinAck()):this.completionCallback(new r.MeetingSessionStatus(r.MeetingSessionStatusCode.SignalingRequestFailed))}))}receivePrimaryMeetingJoinAck(){return new Promise(((e,t)=>{const n=new class{constructor(e,t,n){this.signalingClient=e,this.completionCallback=t,this.logger=n}cancel(){this.signalingClient.removeObserver(this),this.completionCallback(new r.MeetingSessionStatus(r.MeetingSessionStatusCode.SignalingRequestFailed)),e()}handleSignalingClientEvent(t){t.isConnectionTerminated()&&(this.signalingClient.removeObserver(this),this.logger.info("PromoteToPrimaryMeetingTask connection terminated"),this.completionCallback(new r.MeetingSessionStatus(r.MeetingSessionStatusCode.SignalingRequestFailed)),e()),t.type===a.default.ReceivedSignalFrame&&t.message.type===o.SdkSignalFrame.Type.PRIMARY_MEETING_JOIN_ACK&&(this.signalingClient.removeObserver(this),this.logger.info("Got a primary meeting join ACK"),this.completionCallback(r.MeetingSessionStatus.fromSignalFrame(t.message)),e())}}(this.context.signalingClient,this.completionCallback,this.context.logger);this.taskCanceler=n,this.context.signalingClient.registerObserver(n)}))}}t.default=c},1209:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,a){function o(e){try{c(i.next(e))}catch(e){a(e)}}function s(e){try{c(i.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const r=n(1789);class a extends r.default{constructor(e){super(e.logger),this.context=e,this.taskName="ReceiveAudioInputTask"}run(){var e,t;return i(this,void 0,void 0,(function*(){if(!(null===(t=null===(e=this.context.meetingSessionConfiguration)||void 0===e?void 0:e.urls)||void 0===t?void 0:t.audioHostURL))return void this.context.logger.info("No audio connection: not acquiring audio input");if(this.context.activeAudioInput)return void this.context.logger.info("an active audio input exists");let n;try{n=yield this.context.mediaStreamBroker.acquireAudioInputStream()}catch(e){this.context.logger.warn("could not acquire audio input from current device")}n?this.context.activeAudioInput=n:this.context.logger.warn("an audio input is not available")}))}}t.default=a},5547:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,a){function o(e){try{c(i.next(e))}catch(e){a(e)}}function s(e){try{c(i.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const r=n(5687),a=n(7215),o=n(214),s=n(4046),c=n(1789);class d extends c.default{constructor(e){super(e.logger),this.context=e,this.taskName="ReceiveTURNCredentialsTask",this.url=e.meetingSessionConfiguration.urls.turnControlURL,this.meetingId=e.meetingSessionConfiguration.meetingId,this.joinToken=e.meetingSessionConfiguration.credentials.joinToken}cancel(){if(this.cancelPromise){const e=new Error(`canceling ${this.name()}`);this.cancelPromise(e),delete this.cancelPromise}}run(){return i(this,void 0,void 0,(function*(){if(this.context.turnCredentials)return void this.context.logger.info("TURN credentials available, skipping credentials fetch");if(this.context.logger.error("missing TURN credentials - falling back to fetch"),!this.url)return void this.context.logger.info("TURN control url not supplied, skipping credentials fetch");const e={method:"POST",mode:"cors",cache:"no-cache",credentials:"omit",headers:{"Content-Type":"application/json","X-Chime-Auth-Token":"_aws_wt_session="+new o.default(this.joinToken).base()},redirect:"follow",referrer:"no-referrer",body:JSON.stringify({meetingId:this.meetingId})};this.context.logger.info(`requesting TURN credentials from ${this.url}`);const t=yield new Promise(((t,n)=>i(this,void 0,void 0,(function*(){this.cancelPromise=e=>{n(e)};try{const i=yield fetch(s.default.urlWithVersion(this.url),e);if(this.context.logger.info("received TURN credentials"),i.status&&403===i.status)return void n(new Error(`canceling ${this.name()} due to the meeting status code: ${r.default.TURNCredentialsForbidden}`));if(i.status&&404===i.status)return void n(new Error(`canceling ${this.name()} due to the meeting status code: ${r.default.MeetingEnded}`));t(yield i.json())}catch(e){n(e)}finally{delete this.cancelPromise}}))));this.context.turnCredentials=new a.default,this.context.turnCredentials.password=t.password,this.context.turnCredentials.ttl=t.ttl,this.context.turnCredentials.uris=t.uris.map((e=>this.context.meetingSessionConfiguration.urls.urlRewriter(e))).filter((e=>!!e)),this.context.turnCredentials.username=t.username}))}}t.default=d},120:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,a){function o(e){try{c(i.next(e))}catch(e){a(e)}}function s(e){try{c(i.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const r=n(214),a=n(289),o=n(1789);class s extends o.default{constructor(e){super(e.logger),this.context=e,this.taskName="ReceiveVideoInputTask"}run(){return i(this,void 0,void 0,(function*(){const e=this.context.videoDuplexMode===a.SdkStreamServiceType.RX||this.context.videoDuplexMode===a.SdkStreamServiceType.DUPLEX;if(this.context.videoTileController.hasStartedLocalVideoTile()?this.context.videoDuplexMode=e?a.SdkStreamServiceType.DUPLEX:a.SdkStreamServiceType.TX:this.context.videoDuplexMode=e?a.SdkStreamServiceType.RX:0,this.context.videoCaptureAndEncodeParameter=this.context.videoUplinkBandwidthPolicy.chooseCaptureAndEncodeParameters(),!this.context.videoTileController.hasStartedLocalVideoTile())return this.context.logger.info("has not started local video tile"),void(this.context.activeVideoInput&&(this.context.activeVideoInput=void 0,this.context.videoStreamIndex.integrateUplinkPolicyDecision([])));const t=this.context.videoTileController.getLocalVideoTile();let n;try{n=yield this.context.mediaStreamBroker.acquireVideoInputStream()}catch(e){this.context.logger.warn("could not acquire video input from current device"),this.context.videoTileController.stopLocalVideoTile()}if(this.context.enableSimulcast){const e=this.context.videoUplinkBandwidthPolicy.chooseEncodingParameters();this.context.videoStreamIndex.integrateUplinkPolicyDecision(Array.from(e.values()))}if(this.context.activeVideoInput=n,n){const e=n.getVideoTracks();if(!e||0===e.length)return;const i=this.context.meetingSessionConfiguration.credentials.attendeeId,a=new r.default(i).hasModality(r.default.MODALITY_CONTENT),o=e[0].getSettings();if(this.context.enableSimulcast&&!a){const t=this.context.videoUplinkBandwidthPolicy.chooseMediaTrackConstraints();this.context.logger.info(`simulcast: choose constraint ${JSON.stringify(t)}`);try{yield e[0].applyConstraints(t)}catch(e){this.context.logger.info("simulcast: pass video without more constraint")}}const s=this.context.audioVideoController.configuration.credentials.externalUserId;t.bindVideoStream(i,!0,n,o.width,o.height,null,s);for(let t=0;t<e.length;t++){const n=e[t];this.logger.info(`using video device label=${n.label} id=${n.id}`),this.context.videoDeviceInformation.current_camera_name=n.label,this.context.videoDeviceInformation.current_camera_id=n.id}}}))}}t.default=s},9560:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,a){function o(e){try{c(i.next(e))}catch(e){a(e)}}function s(e){try{c(i.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const r=n(5723),a=n(214),o=n(2330),s=n(9416),c=n(289),d=n(8660),l=n(1789);class u extends l.default{constructor(e){super(e.logger),this.context=e,this.taskName="ReceiveVideoStreamIndexTask",this.isIngestionPaused=!1,this.pendingIndex=null}removeObserver(){this.context.signalingClient.removeObserver(this)}run(){return i(this,void 0,void 0,(function*(){this.handleIndexFrame(this.context.indexFrame),this.context.signalingClient.registerObserver(this),this.context.removableObservers.push(this)}))}handleSignalingClientEvent(e){if(e.type!==s.default.ReceivedSignalFrame||e.message.type!==c.SdkSignalFrame.Type.INDEX)return;const t=e.message.index;this.context.logger.info(`received new index ${JSON.stringify(t)}`),this.handleIndexFrame(t)}pauseIngestion(){this.isIngestionPaused=!0}resumeIngestion(){this.isIngestionPaused&&(this.isIngestionPaused=!1,this.pendingIndex&&(this.context.logger.info("Resuming index ingestion with pending index"),this.handleIndexFrame(this.pendingIndex)))}handleIndexFrame(e){if(!e)return;if(this.isIngestionPaused)return this.context.logger.info("Index ingestion is paused, setting most recent index as pending"),void(this.pendingIndex=e);this.pendingIndex=null;const t=this.context.audioVideoController.configuration.credentials.attendeeId;e.sources=e.sources.filter((e=>{const n=new a.default(e.attendeeId);return!(n.base()===t&&n.hasModality(a.default.MODALITY_CONTENT))}));const{videoStreamIndex:n,videoDownlinkBandwidthPolicy:i,videoUplinkBandwidthPolicy:r}=this.context,o=n.allVideoSendingSourcesExcludingSelf(t);n.integrateIndexFrame(e),i.updateIndex(n),r.updateIndex(n),this.resubscribe(i,r),this.updateVideoAvailability(e),this.handleIndexVideosPausedAtSource(),e.supportedReceiveCodecIntersection.length>0&&this.handleSupportedVideoReceiveCodecIntersection(e);const s=n.allVideoSendingSourcesExcludingSelf(t);this.areVideoSourcesEqual(o,s)||this.context.audioVideoController.forEachObserver((e=>{d.Maybe.of(e.remoteVideoSourcesDidChange).map((t=>t.bind(e)(s)))}))}areVideoSourcesEqual(e,t){if(e.length!==t.length)return!1;const n=(e,t)=>e.attendee.attendeeId.localeCompare(t.attendee.attendeeId),i=[...e].sort(n),r=[...t].sort(n);for(let e=0;e<i.length;e++)if(i[e].attendee.attendeeId!==r[e].attendee.attendeeId)return!1;return!0}resubscribe(e,t){const n=e.wantsResubscribe(),i=(this.context.videoDuplexMode===c.SdkStreamServiceType.TX||this.context.videoDuplexMode===c.SdkStreamServiceType.DUPLEX)&&t.wantsResubscribe(),r=n||i;if(this.logger.info(`should resubscribe: ${r} (downlink: ${n} uplink: ${i})`),!r)return;const a=e.chooseSubscriptions();this.context.videosToReceive=a.truncate(this.context.videoSubscriptionLimit),a.size()>this.context.videosToReceive.size()&&this.logger.warn(`Video receive limit exceeded. Limiting the videos to ${this.context.videosToReceive.size()}. Please consider using AllHighestVideoBandwidthPolicy or VideoPriorityBasedPolicy along with chooseRemoteVideoSources api to select the video sources to be displayed.`),this.context.videoCaptureAndEncodeParameter=t.chooseCaptureAndEncodeParameters(),this.logger.info(`trigger resubscribe for up=${i} down=${n}; videosToReceive=[${this.context.videosToReceive.array()}] captureParams=${JSON.stringify(this.context.videoCaptureAndEncodeParameter)}`),this.context.audioVideoController.update({needsRenegotiation:!1})}updateVideoAvailability(e){if(!this.context.videosToReceive)return void this.logger.error("videosToReceive must be set in the meeting context.");const t=new r.default;t.remoteVideoAvailable=!this.context.videosToReceive.empty(),t.canStartLocalVideo=!e.atCapacity,this.context.lastKnownVideoAvailability&&this.context.lastKnownVideoAvailability.equal(t)||(this.context.lastKnownVideoAvailability=t.clone(),this.context.audioVideoController.forEachObserver((e=>{d.Maybe.of(e.videoAvailabilityDidChange).map((n=>n.bind(e)(t.clone())))})))}handleSupportedVideoReceiveCodecIntersection(e){if(void 0===this.context.videoSendCodecPreferences)return;const t=[];let n=!1;for(const i of this.context.videoSendCodecPreferences){let r=!1;for(const n of e.supportedReceiveCodecIntersection)if(i.equals(o.default.fromSignaled(n))){r=!0,t.push(i);break}void 0!==this.context.currentVideoSendCodec&&!r&&i.equals(this.context.currentVideoSendCodec)&&(n=!0)}t.length>0?this.context.meetingSupportedVideoSendCodecPreferences=t:(this.logger.warn("Interesection of meeting receive codec support and send codec preferences has no overlap, falling back to just values provided in `setVideoCodecSendPreferences`"),this.context.meetingSupportedVideoSendCodecPreferences=void 0),n&&this.context.audioVideoController.update({needsRenegotiation:!0})}handleIndexVideosPausedAtSource(){const e=this.context.videoStreamIndex.streamsPausedAtSource();for(const t of this.context.videoTileController.getAllVideoTiles()){const n=t.state();e.contain(n.streamId)?t.markPoorConnection()&&this.logger.info(`marks the tile ${n.tileId} as having a poor connection`):t.unmarkPoorConnection()&&this.logger.info(`unmarks the tile ${n.tileId} as having a poor connection`)}}}t.default=u},4191:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(1789);class r extends i.default{constructor(e,t,n="RunnableTask"){super(e),this.fn=t,this.taskName=n}run(){return this.fn().then((()=>{}))}}t.default=r},9485:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,a){function o(e){try{c(i.next(e))}catch(e){a(e)}}function s(e){try{c(i.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const r=n(1018),a=n(9416),o=n(289),s=n(1789);class c extends s.default{constructor(e){super(e.logger),this.context=e,this.taskName="SendAndReceiveDataMessagesTask",this.sendDataMessageHandler=(e,t,n)=>{if(this.context.signalingClient.ready()){let i;i=t instanceof Uint8Array?t:"string"==typeof t?(new TextEncoder).encode(t):(new TextEncoder).encode(JSON.stringify(t)),this.validateDataMessage(e,i,n);const r=o.SdkDataMessagePayload.create();r.topic=e,r.lifetimeMs=n,r.data=i;const a=o.SdkDataMessageFrame.create();a.messages=[r],this.context.signalingClient.sendDataMessage(a)}else this.context.logger.error("Signaling client is not ready")}}run(){return i(this,void 0,void 0,(function*(){this.context.removableObservers.push(this),this.context.signalingClient.registerObserver(this),this.context.realtimeController.realtimeSubscribeToSendDataMessage(this.sendDataMessageHandler)}))}removeObserver(){this.context.realtimeController.realtimeUnsubscribeFromSendDataMessage(this.sendDataMessageHandler),this.context.signalingClient.removeObserver(this)}handleSignalingClientEvent(e){if(e.type===a.default.ReceivedSignalFrame&&e.message.type===o.SdkSignalFrame.Type.DATA_MESSAGE)for(const t of e.message.dataMessage.messages){const e=new r.default(t.ingestTimeNs/1e6,t.topic,t.data,t.senderAttendeeId,t.senderExternalUserId,0===t.ingestTimeNs);this.context.realtimeController.realtimeReceiveDataMessage(e)}}validateDataMessage(e,t,n){if(!c.TOPIC_REGEX.test(e))throw new Error("Invalid topic");if(t.length>c.DATA_SIZE)throw new Error("Data size has to be less than 2048 bytes");if(n&&n<0)throw new Error("The life time of the message has to be non negative")}}t.default=c,c.TOPIC_REGEX=new RegExp(/^[a-zA-Z0-9_-]{1,36}$/),c.DATA_SIZE=2048},7079:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,a){function o(e){try{c(i.next(e))}catch(e){a(e)}}function s(e){try{c(i.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const r=n(1789),a=n(8082);class o extends r.default{constructor(e,t,n){super(e),this.taskName=t,this.tasksToRunSerially=n,this.currentTask=null;for(const e of n)e.setParent(this)}cancel(){this.currentTask&&(this.logger.info(`canceling serial group task ${this.name()} subtask ${this.currentTask.name()}`),this.currentTask.cancel())}run(){return i(this,void 0,void 0,(function*(){for(const e of this.tasksToRunSerially){this.getStatus()===a.default.CANCELED&&this.logAndThrow(`serial group task ${this.name()} was canceled`);try{this.logger.info(`serial group task ${this.name()} running subtask ${e.name()}`),this.currentTask=e,yield e.run(),this.logger.info(`serial group task ${this.name()} completed subtask ${e.name()}`)}catch(e){this.logAndThrow(`serial group task ${this.name()} was canceled due to subtask ${this.currentTask.name()} error: ${e.message}`)}finally{this.currentTask=null}}this.logger.info(`serial group task ${this.name()} completed`)}))}}t.default=o},4833:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,a){function o(e){try{c(i.next(e))}catch(e){a(e)}}function s(e){try{c(i.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const r=n(543),a=n(326),o=n(1789);class s extends o.default{constructor(e){super(e.logger),this.context=e,this.taskName="SetLocalDescriptionTask"}cancel(){if(this.cancelPromise){const e=new Error(`canceling ${this.name()}`);this.cancelPromise(e),delete this.cancelPromise}}run(){return i(this,void 0,void 0,(function*(){const e=this.context.peer;let t=this.context.sdpOfferInit.sdp;this.context.browserBehavior.supportsVideoLayersAllocationRtpHeaderExtension()&&(t=new a.default(t).withVideoLayersAllocationRtpHeaderExtension(this.context.previousSdpOffer).sdp),(new r.default).requiresDisablingH264Encoding()&&(t=new a.default(t).removeH264SupportFromSendSection().sdp),void 0!==this.context.videoSendCodecPreferences&&this.context.videoSendCodecPreferences.length>0&&(t=new a.default(t).withVideoSendCodecPreferences(void 0!==this.context.meetingSupportedVideoSendCodecPreferences?this.context.meetingSupportedVideoSendCodecPreferences:this.context.videoSendCodecPreferences).sdp),this.context.audioProfile&&(t=new a.default(t).withAudioMaxAverageBitrate(this.context.audioProfile.audioBitrateBps).sdp,this.context.audioProfile.isStereo()&&(t=new a.default(t).withStereoAudio().sdp)),this.logger.debug((()=>`local description is >>>${t}<<<`));const n={type:"offer",sdp:t,toJSON:null};yield new Promise(((t,r)=>i(this,void 0,void 0,(function*(){this.cancelPromise=e=>{r(e)};try{yield e.setLocalDescription(n),t()}catch(e){r(e)}finally{delete this.cancelPromise}})))),this.context.logger.info("set local description")}))}}t.default=s},5275:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,a){function o(e){try{c(i.next(e))}catch(e){a(e)}}function s(e){try{c(i.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const r=n(326),a=n(1789);class o extends a.default{constructor(e){super(e.logger),this.context=e,this.taskName="SetRemoteDescriptionTask"}cancel(){this.cancelICEPromise&&this.cancelICEPromise()}run(){return i(this,void 0,void 0,(function*(){this.context.peer||this.logAndThrow("session does not have peer connection; bypass set remote description");let e=this.context.sdpAnswer;e=new r.default(e).withoutServerReflexiveCandidates().sdp,this.context.audioProfile&&(e=new r.default(e).withAudioMaxAverageBitrate(this.context.audioProfile.audioBitrateBps).sdp,this.context.audioProfile.isStereo()&&(e=new r.default(e).withStereoAudio().sdp)),void 0!==this.context.videoSendCodecPreferences&&this.context.videoSendCodecPreferences.length>0&&(e=new r.default(e).withVideoSendCodecPreferences(void 0!==this.context.meetingSupportedVideoSendCodecPreferences?this.context.meetingSupportedVideoSendCodecPreferences:this.context.videoSendCodecPreferences).sdp,this.context.currentVideoSendCodec=new r.default(e).highestPriorityVideoSendCodec()),this.logger.info(`processed remote description is >>>${e}<<<`);const t={type:"answer",sdp:e,toJSON:null};try{yield this.createICEConnectionCompletedPromise(t)}catch(e){throw e}}))}createICEConnectionCompletedPromise(e){return new Promise(((t,n)=>i(this,void 0,void 0,(function*(){const i=()=>{"connected"!==this.context.peer.iceConnectionState&&"completed"!==this.context.peer.iceConnectionState||(this.context.peer.removeEventListener("iceconnectionstatechange",i),t())};this.cancelICEPromise=()=>{this.context.peer&&this.context.peer.removeEventListener("iceconnectionstatechange",i),n(new Error(`${this.name()} got canceled while waiting for the ICE connection state`))},this.context.peer.addEventListener("iceconnectionstatechange",i);try{yield this.context.peer.setRemoteDescription(e),this.logger.info("set remote description, waiting for ICE connection"),i()}catch(e){n(e)}}))))}}t.default=o},5924:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,a){function o(e){try{c(i.next(e))}catch(e){a(e)}}function s(e){try{c(i.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const r=n(3789),a=n(5687),o=n(326),s=n(6128),c=n(7103),d=n(9416),l=n(6729),u=n(9101),h=n(289),p=n(1789);class m extends p.default{constructor(e){super(e.logger),this.context=e,this.taskName="SubscribeAndReceiveSubscribeAckTask",this.taskCanceler=null,this.textCompressor=new s.default(e.logger)}cancel(){this.taskCanceler&&(this.taskCanceler.cancel(),this.taskCanceler=null)}run(){return i(this,void 0,void 0,(function*(){let e="";if(this.context.peer&&this.context.peer.localDescription&&(e=new o.default(this.context.peer.localDescription.sdp).withUnifiedPlanFormat().sdp),!this.context.enableSimulcast){let e=0,t=0;this.context.videoCaptureAndEncodeParameter&&(e=this.context.videoCaptureAndEncodeParameter.captureFrameRate(),t=this.context.videoCaptureAndEncodeParameter.encodeBitrates()[0]);const n={rid:"hi",maxBitrate:1e3*t,maxFramerate:e,active:!0};this.context.videoStreamIndex.integrateUplinkPolicyDecision([n])}this.context.videoStreamIndex.subscribeFrameSent();const t=this.fixUpSubscriptionOrder(e,this.context.videoSubscriptions),n=this.context.videoDuplexMode===h.SdkStreamServiceType.TX||this.context.videoDuplexMode===h.SdkStreamServiceType.DUPLEX;let i;const r=e;if(this.context.serverSupportsCompression){const t=this.context.previousSdpOffer?this.context.previousSdpOffer.sdp:"";i=this.textCompressor.compress(r,t),this.context.logger.info(`Compressed the SDP message from ${r.length} to ${i.length} bytes.`),e=""}this.context.previousSdpOffer=new o.default(r);const a=new l.default(this.context.meetingSessionConfiguration.credentials.attendeeId,e,this.context.meetingSessionConfiguration.urls.audioHostURL,this.context.realtimeController.realtimeIsLocalAudioMuted(),!1,t,n,this.context.videoStreamIndex.localStreamDescriptions(),!0,i);void 0!==this.context.videoDownlinkBandwidthPolicy.getServerSideNetworkAdaption&&this.context.videoDownlinkBandwidthPolicy.getServerSideNetworkAdaption()!==c.default.None&&void 0!==this.context.videoDownlinkBandwidthPolicy.getVideoPreferences&&(a.videoSubscriptionConfiguration=this.convertVideoPreferencesToVideoSubscriptionConfiguration(t,this.context.videoDownlinkBandwidthPolicy.getVideoPreferences())),this.context.logger.info(`sending subscribe: ${JSON.stringify(a)}`),this.context.signalingClient.subscribe(a);const s=yield this.receiveSubscribeAck();this.context.logger.info(`got subscribe ack: ${JSON.stringify(s)}`);let d="";s.compressedSdpAnswer&&s.compressedSdpAnswer.length?(d=this.textCompressor.decompress(s.compressedSdpAnswer,this.context.previousSdpAnswerAsString),0===d.length&&(this.context.sdpAnswer="",this.context.previousSdpAnswerAsString="",this.logAndThrow("Error occurred while trying to decompress the SDP answer.")),this.context.logger.info(`Decompressed the SDP message from ${s.compressedSdpAnswer.length} to ${d.length} bytes.`),this.context.sdpAnswer=d):this.context.sdpAnswer=s.sdpAnswer,this.context.previousSdpAnswerAsString=this.context.sdpAnswer,this.context.videoStreamIndex.integrateSubscribeAckFrame(s)}))}fixUpSubscriptionOrder(e,t){if(void 0===this.context.transceiverController.getMidForStreamId)return t;const n=new Map;for(const e of t){const t=this.context.transceiverController.getMidForStreamId(e);void 0!==t?n.set(t,e):0!==e&&this.logger.warn(`Could not find MID for stream ID: ${e}`)}const i=new o.default(e).mediaSections(),r=[];for(const e of i)if("video"===e.mediaType)if("recvonly"===e.direction){const t=n.get(e.mid);if(void 0===t){this.logger.warn(`Could not find stream ID for MID: ${e.mid}`);continue}r.push(t)}else r.push(0);return this.logger.info(`Fixed up ${JSON.stringify(t)} to ${JSON.stringify(r)} (may be same))}`),r}convertVideoPreferencesToVideoSubscriptionConfiguration(e,t){if(void 0===this.context.transceiverController.getMidForStreamId||void 0===t)return[];const n=new Array,i=new Map,r=new Map;for(const t of e){const e=this.context.transceiverController.getMidForStreamId(t);if(void 0===e){0!==t&&this.context.logger.warn(`Could not find MID for stream ID: ${t}`);continue}const n=this.context.videoStreamIndex.attendeeIdForStreamId(t);i.set(n,e),r.set(n,this.context.videoStreamIndex.groupIdForStreamId(t))}for(const e of t){const t=new u.default,a=i.get(e.attendeeId);void 0!==a?(t.mid=a,t.attendeeId=e.attendeeId,t.groupId=r.get(e.attendeeId),t.priority=Number.MAX_SAFE_INTEGER-e.priority,t.targetBitrateKbps=e.targetSizeToBitrateKbps(e.targetSize),n.push(t)):this.context.logger.warn(`Could not find MID for attendee ID: ${e.attendeeId}`)}return n}receiveSubscribeAck(){return new Promise(((e,t)=>{const n=this.context,i=new class{constructor(e){this.signalingClient=e}cancel(){this.signalingClient.removeObserver(this),t(new Error("SubscribeAndReceiveSubscribeAckTask got canceled while waiting for SdkSubscribeAckFrame"))}handleSignalingClientEvent(t){if(t.isConnectionTerminated()){const e=`SubscribeAndReceiveSubscribeAckTask connection was terminated with code ${t.closeCode} and reason: ${t.closeReason}`;n.logger.warn(e);let i=a.default.TaskFailed;return t.closeCode>=4500&&t.closeCode<4600&&(i=a.default.SignalingInternalServerError),void n.audioVideoController.handleMeetingSessionStatus(new r.default(i),new Error(e))}if(t.type!==d.default.ReceivedSignalFrame||t.message.type!==h.SdkSignalFrame.Type.SUBSCRIBE_ACK)return;this.signalingClient.removeObserver(this);const i=t.message.suback;e(i)}}(this.context.signalingClient);this.context.signalingClient.registerObserver(i),this.taskCanceler=i}))}}t.default=m},8082:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.IDLE="IDLE",e.RUNNING="RUNNING",e.CANCELED="CANCELED",e.FINISHED="FINISHED"}(n||(n={})),t.default=n},250:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,a){function o(e){try{c(i.next(e))}catch(e){a(e)}}function s(e){try{c(i.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const r=n(4929),a=n(1789);class o extends a.default{constructor(e,t,n){super(e),this.taskToRunBeforeTimeout=t,this.timeoutMs=n,this.taskName=`Timeout${this.timeoutMs}ms`,t.setParent(this)}cancel(){this.logger.info(`canceling timeout task ${this.name()} subtask ${this.taskToRunBeforeTimeout}`),this.taskToRunBeforeTimeout.cancel()}run(){return i(this,void 0,void 0,(function*(){const e=new r.default(this.timeoutMs);e.start((()=>{this.logger.info(`timeout reached for task ${this.name()}`),this.taskToRunBeforeTimeout.cancel()}));try{yield this.taskToRunBeforeTimeout.run()}finally{e.stop()}this.logger.info(`timeout task ${this.name()} completed`)}))}}t.default=o},6171:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,a){function o(e){try{c(i.next(e))}catch(e){a(e)}}function s(e){try{c(i.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const r=n(5687),a=n(1789);class o extends a.default{constructor(e){super(e.logger),this.context=e,this.taskName="WaitForAttendeePresenceTask"}cancel(){if(this.cancelPromise){const e=new Error(`canceling ${this.name()} due to the meeting status code: ${r.default.NoAttendeePresent}`);this.cancelPromise(e),delete this.cancelPromise}}run(){return i(this,void 0,void 0,(function*(){const e=this.context.meetingSessionConfiguration.credentials.attendeeId;return new Promise(((t,n)=>{const i=(n,r,a,o,s)=>{e===n&&r&&(this.context.realtimeController.realtimeUnsubscribeToAttendeeIdPresence(i),t(),delete this.cancelPromise)};this.cancelPromise=e=>{this.context.realtimeController.realtimeUnsubscribeToAttendeeIdPresence(i),n(e)},this.context.realtimeController.realtimeSubscribeToAttendeeIdPresence(i)}))}))}}t.default=o},365:function(e,t){"use strict";var n=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,a){function o(e){try{c(i.next(e))}catch(e){a(e)}}function s(e){try{c(i.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{constructor(e,t){this.logger=e,this.browserBehavior=t,this._localCameraTransceiver=null,this._localAudioTransceiver=null,this.videoSubscriptions=[],this.defaultMediaStream=null,this.peer=null,this.streamIdToTransceiver=new Map}setEncodingParameters(e){return n(this,void 0,void 0,(function*(){if(!this._localCameraTransceiver||"sendrecv"!==this._localCameraTransceiver.direction)return;const t=this._localCameraTransceiver.sender;if(!e||0===e.size)return;const n=Array.from(e.values()),i=t.getParameters();if(i.encodings&&0!==i.encodings.length)for(const e of i.encodings)for(const t of n){if((e.rid||t.rid)&&e.rid!==t.rid)continue;let n;for(n in t)"rid"!==n&&"codecPayloadType"!==n&&t.hasOwnProperty(n)&&(e[n]=t[n])}else i.encodings=n;yield t.setParameters(i)}))}localAudioTransceiver(){return this._localAudioTransceiver}localVideoTransceiver(){return this._localCameraTransceiver}setVideoSendingBitrateKbps(e){return n(this,void 0,void 0,(function*(){if(!this._localCameraTransceiver||"sendrecv"!==this._localCameraTransceiver.direction)return;const t=this._localCameraTransceiver.sender;if(!t||e<=0)return;const n=t.getParameters();n.encodings||(n.encodings=[{}]);for(const t of n.encodings)t.maxBitrate=1e3*e;yield t.setParameters(n)}))}setPeer(e){this.peer=e}reset(){this._localCameraTransceiver=null,this._localAudioTransceiver=null,this.videoSubscriptions=[],this.defaultMediaStream=null,this.peer=null}useTransceivers(){return!!this.peer&&void 0!==this.peer.getTransceivers}hasVideoInput(){return!(!this._localCameraTransceiver||"sendrecv"!==this._localCameraTransceiver.direction)}trackIsVideoInput(e){return!!this._localCameraTransceiver&&(e===this._localCameraTransceiver.sender.track||e===this._localCameraTransceiver.receiver.track)}setupLocalTransceivers(){this.useTransceivers()&&(this.defaultMediaStream||"undefined"==typeof MediaStream||(this.defaultMediaStream=new MediaStream),this._localAudioTransceiver||(this._localAudioTransceiver=this.peer.addTransceiver("audio",{direction:"inactive",streams:[this.defaultMediaStream]})),this._localCameraTransceiver||(this._localCameraTransceiver=this.peer.addTransceiver("video",{direction:"inactive",streams:[this.defaultMediaStream]})))}replaceAudioTrack(e){return n(this,void 0,void 0,(function*(){return this._localAudioTransceiver&&"sendrecv"===this._localAudioTransceiver.direction?(yield this._localAudioTransceiver.sender.replaceTrack(e),!0):(this.logger.info("audio transceiver direction is not set up or not activated"),!1)}))}setAudioInput(e){return n(this,void 0,void 0,(function*(){yield this.setTransceiverInput(this._localAudioTransceiver,e)}))}setVideoInput(e){return n(this,void 0,void 0,(function*(){yield this.setTransceiverInput(this._localCameraTransceiver,e)}))}updateVideoTransceivers(e,t){if(!this.useTransceivers())return t.array();const n=this.peer.getTransceivers();return this.videoSubscriptions=[0],t=t.clone(),this.updateTransceivers(n,e,t),this.logger.debug((()=>this.debugDumpTransceivers())),this.videoSubscriptions}updateTransceivers(e,t,n){const i=n.array();0===e.length||e[0].stop?0!==e.length&&this.updateTransceiverWithStop(e,t,i):(this.logger.info("Updating transceivers without `stop` function"),this.updateTransceiverWithoutStop(e,t,i));for(const e of i){const t=this.peer.addTransceiver("video",{direction:"recvonly",streams:[new MediaStream]});this.streamIdToTransceiver.set(e,t),this.videoSubscriptions.push(e),this.logger.info(`adding transceiver mid: ${t.mid} subscription: ${e} direction: recvonly`)}}updateTransceiverWithStop(e,t,n){let i=1;this.videoSubscriptions=[0];for(const r of e){if(r===this._localCameraTransceiver||!this.transceiverIsVideo(r)||!r.mid)continue;let e=!1;const a=t.streamIdForTrack("v_"+r.mid);if("inactive"!==r.direction&&void 0!==a)for(const[o,s]of n.entries())if(t.StreamIdsInSameGroup(a,s)){r.direction="recvonly",this.videoSubscriptions[i]=s,e=!0,this.streamIdToTransceiver.delete(a),this.streamIdToTransceiver.set(s,r),n.splice(o,1);break}if(!e){this.videoSubscriptions[i]=0,this.logger.info(`Stopping MID: ${r.mid}, direction: ${r.direction}, current direction: ${r.currentDirection}`),r.stop();for(const[e,t]of this.streamIdToTransceiver.entries())r.mid===t.mid&&this.streamIdToTransceiver.delete(e)}i+=1}}updateTransceiverWithoutStop(e,t,n){let i=1;for(const r of e)if(r!==this._localCameraTransceiver&&this.transceiverIsVideo(r)){if(this.videoSubscriptions[i]=0,"inactive"!==r.direction){const e=t.streamIdForTrack("v_"+r.mid);if(void 0!==e)for(const[a,o]of n.entries())if(t.StreamIdsInSameGroup(e,o)){r.direction="recvonly",this.videoSubscriptions[i]=o,this.streamIdToTransceiver.delete(e),this.streamIdToTransceiver.set(o,r),n.splice(a,1);break}}i+=1}i=1;for(const t of e)if(t!==this._localCameraTransceiver&&this.transceiverIsVideo(t)){if("inactive"===t.direction&&n.length>0){t.direction="recvonly";const e=n.shift();this.videoSubscriptions[i]=e,this.streamIdToTransceiver.set(e,t)}else if(0===this.videoSubscriptions[i]){t.direction="inactive";for(const[e,n]of this.streamIdToTransceiver.entries())t===n&&this.streamIdToTransceiver.delete(e)}i+=1}}getMidForStreamId(e){var t;return null===(t=this.streamIdToTransceiver.get(e))||void 0===t?void 0:t.mid}setStreamIdForMid(e,t){for(const[n,i]of this.streamIdToTransceiver.entries())if(i.mid===e)return this.streamIdToTransceiver.delete(n),void this.streamIdToTransceiver.set(t,i)}transceiverIsVideo(e){return e.receiver&&e.receiver.track&&"video"===e.receiver.track.kind||e.sender&&e.sender.track&&"video"===e.sender.track.kind}debugDumpTransceivers(){let e="",t=0;for(const n of this.peer.getTransceivers())this.transceiverIsVideo(n)&&(e+=`transceiver index=${t} mid=${n.mid} subscription=${this.videoSubscriptions[t]} direction=${n.direction}\n`,t+=1);return e}setTransceiverInput(e,t){return n(this,void 0,void 0,(function*(){e&&(e.direction=t?"sendrecv":"inactive",yield e.sender.replaceTrack(t))}))}}},816:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,a){function o(e){try{c(i.next(e))}catch(e){a(e)}}function s(e){try{c(i.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const r=n(5785);class a extends r.default{constructor(e,t){super(e,t);let n=2;this.videoQualityControlParameterMap=new Map;for(let e=0;e<a.NAME_ARR_ASCENDING.length;e++){const t=a.NAME_ARR_ASCENDING[e];this.videoQualityControlParameterMap.set(t,{rid:t,scaleResolutionDownBy:n,maxBitrate:1e3*a.BITRATE_ARR_ASCENDING[e]}),n/=2}}setEncodingParameters(e){return i(this,void 0,void 0,(function*(){if(!this._localCameraTransceiver||"sendrecv"!==this._localCameraTransceiver.direction)return;const t=this._localCameraTransceiver.sender,n=Array.from(e.values());if(n.length<=0)return;const i=t.getParameters();if(i.encodings)for(let t=0;t<i.encodings.length;t++)i.encodings[t].rid===r.default.LOW_LEVEL_NAME&&this.copyEncodingParams(e.get(r.default.LOW_LEVEL_NAME),i.encodings[t]),i.encodings[t].rid===r.default.HIGH_LEVEL_NAME&&this.copyEncodingParams(e.get(r.default.HIGH_LEVEL_NAME),i.encodings[t]);else i.encodings=n;yield t.setParameters(i),this.logVideoTransceiverParameters()}))}}t.default=a,a.NAME_ARR_ASCENDING=["low","hi"],a.BITRATE_ARR_ASCENDING=[300,1200]},5785:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,a){function o(e){try{c(i.next(e))}catch(e){a(e)}}function s(e){try{c(i.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const r=n(365);class a extends r.default{constructor(e,t){super(e,t),this.videoQualityControlParameterMap=new Map;let n=4;for(let e=0;e<a.NAME_ARR_ASCENDING.length;e++){const t=a.NAME_ARR_ASCENDING[e];this.videoQualityControlParameterMap.set(t,{rid:t,scaleResolutionDownBy:n,maxBitrate:1e3*a.BITRATE_ARR_ASCENDING[e]}),n/=2}}setEncodingParameters(e){return i(this,void 0,void 0,(function*(){if(!this._localCameraTransceiver||"sendrecv"!==this._localCameraTransceiver.direction)return;const t=this._localCameraTransceiver.sender,n=Array.from(e.values());if(n.length<=0)return;const i=t.getParameters();if(i.encodings)for(let t=0;t<i.encodings.length;t++)i.encodings[t].rid===a.LOW_LEVEL_NAME&&this.copyEncodingParams(e.get(a.LOW_LEVEL_NAME),i.encodings[t]),i.encodings[t].rid===a.MID_LEVEL_NAME&&this.copyEncodingParams(e.get(a.MID_LEVEL_NAME),i.encodings[t]),i.encodings[t].rid===a.HIGH_LEVEL_NAME&&this.copyEncodingParams(e.get(a.HIGH_LEVEL_NAME),i.encodings[t]);else i.encodings=n;yield t.setParameters(i),this.logVideoTransceiverParameters()}))}setVideoSendingBitrateKbps(e){return i(this,void 0,void 0,(function*(){}))}setupLocalTransceivers(){if(this.useTransceivers()&&(this.defaultMediaStream||"undefined"==typeof MediaStream||(this.defaultMediaStream=new MediaStream),this._localAudioTransceiver||(this._localAudioTransceiver=this.peer.addTransceiver("audio",{direction:"inactive",streams:[this.defaultMediaStream]})),!this._localCameraTransceiver)){const e=Array.from(this.videoQualityControlParameterMap.values());this._localCameraTransceiver=this.peer.addTransceiver("video",{direction:"inactive",streams:[this.defaultMediaStream],sendEncodings:e})}}logVideoTransceiverParameters(){const e=this._localCameraTransceiver.sender.getParameters().encodings;let t="simulcast: current encoding parameters \n";for(const n of e)t+=`rid=${n.rid} maxBitrate=${n.maxBitrate} active=${n.active} scaleDownBy=${n.scaleResolutionDownBy} maxFrameRate = ${n.maxFramerate} \n`;this.logger.info(t)}copyEncodingParams(e,t){t.active=e.active,t.maxBitrate=e.maxBitrate,t.scaleResolutionDownBy=e.scaleResolutionDownBy,t.maxFramerate=e.maxFramerate}}t.default=a,a.LOW_LEVEL_NAME="low",a.MID_LEVEL_NAME="mid",a.HIGH_LEVEL_NAME="hi",a.NAME_ARR_ASCENDING=["low","mid","hi"],a.BITRATE_ARR_ASCENDING=[200,400,1100]},9354:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(365);class r extends i.default{constructor(e,t){super(e,t)}setupLocalTransceivers(){this.useTransceivers()&&(this.defaultMediaStream||"undefined"==typeof MediaStream||(this.defaultMediaStream=new MediaStream),this._localCameraTransceiver||(this._localCameraTransceiver=this.peer.addTransceiver("video",{direction:"inactive",streams:[this.defaultMediaStream]})))}}t.default=r},5308:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TRANSCRIPTION_DATA_MESSAGE_TOPIC=void 0;const i=n(1877);t.TRANSCRIPTION_DATA_MESSAGE_TOPIC="aws:chime:transcription",t.default=class{constructor(e){this.realtimeController=e,this.transcriptEventCallbacks=new Set}subscribeToTranscriptEvent(e){0===this.transcriptEventCallbacks.size&&this.realtimeController.realtimeSubscribeToReceiveDataMessage(t.TRANSCRIPTION_DATA_MESSAGE_TOPIC,(e=>{for(const t of i.TranscriptEventConverter.from(e))for(const e of this.transcriptEventCallbacks)e(t)})),this.transcriptEventCallbacks.add(e)}unsubscribeFromTranscriptEvent(e){this.transcriptEventCallbacks.delete(e),0===this.transcriptEventCallbacks.size&&this.realtimeController.realtimeUnsubscribeFromReceiveDataMessage(t.TRANSCRIPTION_DATA_MESSAGE_TOPIC)}}},4739:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{}},2471:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{}},7210:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{}},1877:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TranscriptEventConverter=void 0;const i=n(289),r=n(4739),a=n(1288),o=n(1326),s=n(6864),c={[i.SdkTranscriptionStatus.Type.STARTED]:o.default.STARTED,[i.SdkTranscriptionStatus.Type.INTERRUPTED]:o.default.INTERRUPTED,[i.SdkTranscriptionStatus.Type.RESUMED]:o.default.RESUMED,[i.SdkTranscriptionStatus.Type.STOPPED]:o.default.STOPPED,[i.SdkTranscriptionStatus.Type.FAILED]:o.default.FAILED};t.TranscriptEventConverter=class{static from(e){let t;try{t=i.SdkTranscriptFrame.decode(e.data)}catch(e){throw new Error("Cannot decode transcript data message: "+e)}const n=[];for(const e of t.events)if(e.status){const t=c[e.status.type];if(!t)continue;const i=new a.default;i.type=t,i.eventTimeMs=e.status.eventTime,i.transcriptionRegion=e.status.transcriptionRegion,i.transcriptionConfiguration=e.status.transcriptionConfiguration,e.status.message&&(i.message=e.status.message),n.push(i)}else if(e.transcript){const t=new r.default;t.results=[];for(const n of e.transcript.results){const e={channelId:n.channelId,isPartial:n.isPartial,resultId:n.resultId,startTimeMs:n.startTime,endTimeMs:n.endTime,alternatives:[]};if(n.languageCode&&(e.languageCode=n.languageCode),n.languageIdentification&&n.languageIdentification.length>0){e.languageIdentification=[];for(const t of n.languageIdentification){const n={languageCode:t.languageCode,score:t.score};e.languageIdentification.push(n)}}for(const t of n.alternatives){const n={items:[],transcript:t.transcript};for(const e of t.items){const t={content:e.content,attendee:{attendeeId:e.speakerAttendeeId,externalUserId:e.speakerExternalUserId},startTimeMs:e.startTime,endTimeMs:e.endTime,type:null};switch(e.vocabularyFilterMatch&&(t.vocabularyFilterMatch=e.vocabularyFilterMatch),e.hasOwnProperty("stable")&&(t.stable=e.stable),e.hasOwnProperty("confidence")&&(t.confidence=e.confidence),e.type){case i.SdkTranscriptItem.Type.PRONUNCIATION:t.type=s.default.PRONUNCIATION;break;case i.SdkTranscriptItem.Type.PUNCTUATION:t.type=s.default.PUNCTUATION}n.items.push(t)}for(const e of t.entities){n.entities||(n.entities=[]);const t={category:e.category,confidence:e.confidence,content:e.content,startTimeMs:e.startTime,endTimeMs:e.endTime};e.type&&(t.type=e.type),n.entities.push(t)}e.alternatives.push(n)}t.results.push(e)}n.push(t)}return n}}},1741:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{}},6864:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.PRONUNCIATION="pronunciation",e.PUNCTUATION="punctuation"}(n||(n={})),t.default=n},9063:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{}},5323:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{}},1288:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{}},1326:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.STARTED="started",e.INTERRUPTED="interrupted",e.RESUMED="resumed",e.STOPPED="stopped",e.FAILED="failed"}(n||(n={})),t.default=n},8627:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(2238),r=n(4046);class a{constructor(e){var t,n,r,o,s,c,d;try{this.parserResult=navigator&&navigator.userAgent?new i.UAParser(navigator.userAgent).getResult():void 0}catch(t){e.error(t.message)}this.browserMajorVersion=(null===(r=null===(n=null===(t=this.parserResult)||void 0===t?void 0:t.browser)||void 0===n?void 0:n.version)||void 0===r?void 0:r.split(".")[0])||a.UNAVAILABLE,this.browserName=(null===(o=this.parserResult)||void 0===o?void 0:o.browser.name)||a.UNAVAILABLE,this.browserVersion=(null===(s=this.parserResult)||void 0===s?void 0:s.browser.version)||a.UNAVAILABLE,this.deviceName=[(null===(c=this.parserResult)||void 0===c?void 0:c.device.vendor)||"",(null===(d=this.parserResult)||void 0===d?void 0:d.device.model)||""].join(" ").trim()||a.UNAVAILABLE}getParserResult(){var e,t;return{browserMajorVersion:this.browserMajorVersion,browserName:this.browserName,browserVersion:this.browserVersion,deviceName:this.deviceName,osName:(null===(e=this.parserResult)||void 0===e?void 0:e.os.name)||a.UNAVAILABLE,osVersion:(null===(t=this.parserResult)||void 0===t?void 0:t.os.version)||a.UNAVAILABLE,sdkVersion:r.default.sdkVersion,sdkName:r.default.sdkName}}}t.default=a,a.UNAVAILABLE="Unavailable"},1515:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{constructor(){this.queue=Promise.resolve()}add(e){return new Promise(((t,n)=>{this.queue=this.queue.then(e).then(t).catch(n)}))}}},8660:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.None=t.Some=t.Maybe=void 0;class n{static of(e){return null==e?r.of():i.of(e)}}t.Maybe=n;class i{constructor(e){this.value=e,this.isSome=!0,this.isNone=!1}map(e){return n.of(e(this.value))}flatMap(e){return e(this.value)}get(){return this.value}getOrElse(e){return this.value}defaulting(e){return n.of(this.getOrElse(e))}static of(e){if(null==e)throw new Error("value is ${value}");return new i(e)}}t.Some=i;class r{constructor(){this.isSome=!1,this.isNone=!0}get(){throw new Error("value is null")}getOrElse(e){return e}map(e){return new r}flatMap(e){return new r}defaulting(e){return n.of(this.getOrElse(e))}static of(){return new r}}t.None=r},8690:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getFormattedOffset=t.getDefaultAssetSpec=t.toLowerCasePropertyNames=t.isIFramed=t.wait=void 0;const i=n(4046);t.wait=function(e){return new Promise((t=>setTimeout(t,e)))},t.isIFramed=function(){var e;try{return"IFRAME"===(null===(e=window.frameElement)||void 0===e?void 0:e.nodeName)||parent!==top}catch(e){return!0}},t.toLowerCasePropertyNames=function e(t){return null===t?null:"object"!=typeof t?t:Array.isArray(t)?t.map(e):Object.keys(t).reduce(((n,i)=>{const r=t[i],a="object"==typeof r?e(r):r;return n[i.toLowerCase()]=a,n}),{})},t.getDefaultAssetSpec=function(){const e=i.default.sdkVersionSemVer;return{assetGroup:`sdk-${e.major}.${e.minor}`}},t.getFormattedOffset=function(e){const t=Math.abs(e);return`${e<=0?"+":"-"}${Math.floor(t/60).toString().padStart(2,"0")}:${Math.floor(t%60).toString().padStart(2,"0")}`}},4046:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(543),r=n(2336);class a{static get sdkName(){return"amazon-chime-sdk-js"}static get sdkVersion(){return r.default.semverString}static get sdkVersionSemVer(){var e,t,n,i;const a=r.default.semverString.match(/^(?<major>[0-9]+)\.(?<minor>[0-9]+)((?:\.(?<patch>[0-9]+))(?:-(?<preRelease>[a-zA-Z]+(\.[0-9])*))?)?/);return{major:null===(e=null==a?void 0:a.groups)||void 0===e?void 0:e.major,minor:null===(t=null==a?void 0:a.groups)||void 0===t?void 0:t.minor,patch:null===(n=null==a?void 0:a.groups)||void 0===n?void 0:n.patch,preRelease:null===(i=null==a?void 0:a.groups)||void 0===i?void 0:i.preRelease}}static get buildSHA(){return r.default.hash.substr(1)}static get sdkUserAgentLowResolution(){const e=new i.default;return`${e.name()}-${e.majorVersion()}`}static urlWithVersion(e){const t=new URL(e);return t.searchParams.append(a.X_AMZN_VERSION,a.sdkVersion),t.searchParams.append(a.X_AMZN_USER_AGENT,a.sdkUserAgentLowResolution),t.toString()}}t.default=a,a.X_AMZN_VERSION="X-Amzn-Version",a.X_AMZN_USER_AGENT="X-Amzn-User-Agent"},2336:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={hash:"bd71fb9",raw:"v3.14.1",semverString:"3.14.1"}},1133:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});class n{constructor(e,t,n,i,r,a=1){this.cameraWidth=e,this.cameraHeight=t,this.cameraFrameRate=n,this.maxEncodeBitrateKbps=i,this.isSimulcast=r,this.scaleResolutionDownBy=a}equal(e){let t=e.captureWidth()===this.cameraWidth&&e.captureHeight()===this.cameraHeight&&e.captureFrameRate()===this.cameraFrameRate&&e.encodeBitrates().length===this.encodeBitrates().length&&e.encodeScaleResolutionDownBy().length===this.encodeScaleResolutionDownBy().length&&e.encodeWidths().length===this.encodeWidths().length&&e.encodeHeights().length===this.encodeHeights().length;if(t)for(let n=0;n<e.encodeWidths().length;n++)if(e.encodeWidths()[n]!==this.encodeWidths()[n]||e.encodeHeights()[n]!==this.encodeHeights()[n]||e.encodeBitrates()[n]!==this.encodeBitrates()[n]||e.encodeScaleResolutionDownBy()[n]!==this.encodeScaleResolutionDownBy()[n])return t=!1,t;return t}clone(){return new n(this.cameraWidth,this.cameraHeight,this.cameraFrameRate,this.maxEncodeBitrateKbps,this.isSimulcast,this.scaleResolutionDownBy)}captureWidth(){return this.cameraWidth}captureHeight(){return this.cameraHeight}captureFrameRate(){return this.cameraFrameRate}encodeBitrates(){return[this.maxEncodeBitrateKbps]}encodeScaleResolutionDownBy(){return[this.scaleResolutionDownBy]}encodeWidths(){return[this.cameraWidth]}encodeHeights(){return[this.cameraHeight]}}t.default=n},5185:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(1508);t.default=class{constructor(e){this.selfAttendeeId=e,this.reset()}reset(){this.optimalReceiveSet=new i.default,this.subscribedReceiveSet=new i.default,this.videoSources=void 0}updateIndex(e){this.videoIndex=e,this.optimalReceiveSet=this.calculateOptimalReceiveSet(e)}updateMetrics(e){}wantsResubscribe(){return!this.subscribedReceiveSet.equal(this.optimalReceiveSet)}chooseSubscriptions(){return this.subscribedReceiveSet=this.optimalReceiveSet.clone(),this.subscribedReceiveSet.clone()}chooseRemoteVideoSources(e){this.videoSources=e,this.optimalReceiveSet=this.calculateOptimalReceiveSet(this.videoIndex).clone()}calculateOptimalReceiveSet(e){const t=new i.default;if(!this.videoIndex||this.videoIndex.allStreams().empty())return t;const n=e.highestQualityStreamFromEachGroupExcludingSelf(this.selfAttendeeId);if(void 0===this.videoSources)return n;const r=this.videoIndex.remoteStreamDescriptions(),a=new Map;for(const e of r)n.contain(e.streamId)&&a.set(e.attendeeId,e.streamId);for(const e of this.videoSources){const n=e.attendee.attendeeId;a.has(n)&&t.add(a.get(n))}return t}}},5319:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(1508);t.default=class{reset(){}updateIndex(e){}updateMetrics(e){}wantsResubscribe(){return!1}chooseSubscriptions(){return new i.default}}},2721:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.TargetDisplaySize=void 0,function(e){e[e.Low=0]="Low",e[e.Medium=1]="Medium",e[e.High=2]="High"}(n=t.TargetDisplaySize||(t.TargetDisplaySize={})),t.default=n},2880:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(8890),r=n(1754),a=n(1819),o=n(4992);class s extends o.default{constructor(e){super(e),this.logger=e,super.shouldPauseTiles=!1,this.videoPreferences=void 0}reset(){super.reset(),super.shouldPauseTiles=!1,this.videoPreferences=void 0}updateIndex(e){super.updateIndex(e);const t=a.VideoPreferences.prepare();let n=!1;const o=e.remoteStreamDescriptions();for(const e of o)t.some((t=>t.attendeeId===e.attendeeId))||(e.attendeeId.endsWith(i.default.Modality)?(t.add(new r.default(e.attendeeId,1)),n=!0):t.add(new r.default(e.attendeeId,2)));n?(this.videoPreferences=t.build(),this.videoPreferencesUpdated=!0):this.videoPreferences=void 0}chooseRemoteVideoSources(e){this.logger.error("chooseRemoteVideoSources should not be called by VideoAdaptiveProbePolicy")}}t.default=s},1754:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(2721);class r{constructor(e,t,n){this.attendeeId=e,this.priority=t,this.targetSize=void 0!==n?n:i.default.High}partialCompare(e){return this.priority-e.priority}equals(e){return this.attendeeId===e.attendeeId&&this.targetSize===e.targetSize&&this.priority===e.priority}clone(){return new r(this.attendeeId,this.priority,this.targetSize)}targetSizeToBitrateKbps(e){switch(e){case i.default.High:return r.HIGH_BITRATE_KBPS;case i.default.Medium:return r.MID_BITRATE_KBPS;case i.default.Low:return r.LOW_BITRATE_KBPS}}}t.default=r,r.LOW_BITRATE_KBPS=300,r.MID_BITRATE_KBPS=600,r.HIGH_BITRATE_KBPS=1200},1819:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VideoPreferences=t.MutableVideoPreferences=void 0;class n{constructor(e=[]){this.items=e}static default(){return new n([])}[Symbol.iterator](){let e=0;const t=this.items;return{next:()=>e<t.length?{done:!1,value:t[e++]}:{done:!0,value:null}}}first(){return this.items[0]}add(e){this.items.push(e)}replaceFirst(e,t){const n=this.items.findIndex(t);-1===n?this.items.push(e):this.has(e)?this.items.splice(n,1):this.items[n]=e}remove(e){this.items=this.items.filter((t=>!t.equals(e)))}clear(){this.items=[]}isEmpty(){return 0===this.items.length}equals(e){if(e===this)return!0;if(e.items.length!==this.items.length)return!1;for(const t of this.items)if(!e.items.some((e=>e.equals(t))))return!1;return!0}has(e){return this.items.some((t=>t.equals(e)))}some(e){return this.items.some(e)}clone(){return new n([...this.items])}sort(){this.items.sort(((e,t)=>e.partialCompare(t)))}modify(){return new i(this)}}class i{constructor(e=new n){this.items=e,this.copied=!1}cow(){this.copied||(this.items=this.items.clone(),this.copied=!0)}add(e){this.items.has(e)||(this.cow(),this.items.add(e))}replaceFirst(e,t){this.items.has(e)&&!this.items.some(t)||(this.cow(),this.items.replaceFirst(e,t))}remove(e){this.items.has(e)&&(this.cow(),this.items.remove(e))}some(e){return this.items.some(e)}clear(){this.items.isEmpty()||(this.cow(),this.items.clear())}build(){return this.copied&&this.items.sort(),this.copied=!1,this.items}}class r{constructor(e){this.builder=e}add(e){this.builder.add(e)}replaceFirst(e,t){this.builder.replaceFirst(e,t)}remove(e){this.builder.remove(e)}some(e){return this.builder.some(e)}clear(){this.builder.clear()}build(){return new a(this.builder.build())}}t.MutableVideoPreferences=r;class a{constructor(e){this.items=e}static prepare(){return new r(new i)}static default(){return new a(n.default())}[Symbol.iterator](){return this.items[Symbol.iterator]()}highestPriority(){var e;return null===(e=this.items.first())||void 0===e?void 0:e.priority}sorted(){return this.items[Symbol.iterator]()}equals(e){return e===this||this.items.equals(e.items)}modify(){return new r(this.items.modify())}some(e){return this.items.some(e)}isEmpty(){return this.items.isEmpty()}clone(){const e=a.prepare();for(const t of this.items)e.add(t.clone());return e.build()}}t.VideoPreferences=a,t.default=a},4992:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(6196),r=n(9496),a=n(8890),o=n(813),s=n(7103),c=n(1508),d=n(2721),l=n(1754),u=n(1819),h=n(1034);class p{constructor(){this.bandwidthEstimateKbps=0,this.usedBandwidthKbps=0,this.packetsLost=0,this.nackCount=0,this.rttMs=0}}class m{constructor(e,t=h.default.Default){this.logger=e,this.videoPriorityBasedPolicyConfig=t,this.shouldPauseTiles=!0,this.observerQueue=new Set,this.pausedBwAttendeeIds=new Set,this.reset()}reset(){this.optimalReceiveSet=new c.default,this.optimalReceiveStreams=[],this.optimalNonPausedReceiveStreams=[],this.subscribedReceiveSet=new c.default,this.subscribedReceiveStreams=[],this.videoPreferences=void 0,this.defaultVideoPreferences=void 0,this.shouldPauseTiles=!0,this.pausedStreamIds=new c.default,this.pausedBwAttendeeIds=new Set,this.videoPreferencesUpdated=!1,this.logCount=0,this.startupPeriod=!0,this.usingPrevTargetRate=!1,this.rateProbeState="Not Probing",this.firstEstimateTimestamp=0,this.lastUpgradeRateKbps=0,this.timeBeforeAllowSubscribeMs=m.MIN_TIME_BETWEEN_SUBSCRIBE_MS,this.lastProbeTimestamp=Date.now(),this.timeBeforeAllowProbeMs=m.MIN_TIME_BETWEEN_PROBE_MS,this.downlinkStats=new p,this.prevDownlinkStats=new p,this.probeFailed=!1,this.serverSideNetworkAdaption=this.videoPriorityBasedPolicyConfig.serverSideNetworkAdaption}bindToTileController(e){this.tileController=e,this.logger.info("tileController bound")}chooseRemoteVideoSources(e){var t;(null===(t=this.videoPreferences)||void 0===t?void 0:t.equals(e))||(this.videoPreferences=null==e?void 0:e.clone(),this.videoPreferencesUpdated=!0,this.logger.info(`bwe: setVideoPreferences bwe: new preferences: ${JSON.stringify(e)}`))}updateIndex(e){this.videoIndex=e,this.videoPreferences||this.updateDefaultVideoPreferences()}updateDefaultVideoPreferences(){const e=new Set;for(const t of this.videoIndex.remoteStreamDescriptions())e.add(t.attendeeId);const t=u.VideoPreferences.prepare(),n=e.size;let i=d.default.High;n>8?i=d.default.Low:n>4&&(i=d.default.Medium);for(const n of e)t.add(new l.default(n,1,i));this.defaultVideoPreferences=t.build()}updateMetrics(e){if(!this.videoIndex||this.videoIndex.allStreams().empty())return;this.prevDownlinkStats=this.downlinkStats,this.downlinkStats=new p;const t=e.getObservableMetrics();this.downlinkStats.bandwidthEstimateKbps=t.availableIncomingBitrate/1e3;for(const t in e.streamMetricReports){const n=Number.parseInt(t,10),a=e.streamMetricReports[n];a.direction===i.default.DOWNSTREAM&&a.mediaType===r.default.VIDEO&&(a.currentMetrics.hasOwnProperty("nackCount")&&(this.downlinkStats.nackCount+=e.countPerSecond("nackCount",n)),a.currentMetrics.hasOwnProperty("packetsLost")&&(this.downlinkStats.packetsLost+=e.countPerSecond("packetsLost",n)),a.currentMetrics.hasOwnProperty("bytesReceived")&&(this.downlinkStats.usedBandwidthKbps+=e.bitsPerSecond("bytesReceived",n)/1e3))}}wantsResubscribe(){return this.calculateOptimalReceiveSet(),!this.subscribedReceiveSet.equal(this.optimalReceiveSet)}chooseSubscriptions(){return this.subscribedReceiveSet.equal(this.optimalReceiveSet)||(this.lastSubscribeTimestamp=Date.now()),this.subscribedReceiveSet=this.optimalReceiveSet.clone(),this.subscribedReceiveStreams=this.optimalReceiveStreams.slice(),this.subscribedReceiveSet.clone()}addObserver(e){this.observerQueue.add(e)}removeObserver(e){this.observerQueue.delete(e)}forEachObserver(e){for(const t of this.observerQueue)e(t)}setVideoPriorityBasedPolicyConfigs(e){this.videoPriorityBasedPolicyConfig=e}calculateOptimalReceiveStreams(){var e;const t=[],n=this.videoIndex.remoteStreamDescriptions();if(0===n.length||(null===(e=this.videoPreferences)||void 0===e?void 0:e.isEmpty()))return void(this.optimalReceiveStreams=[]);const i=this.rateProbeState;this.cleanBwPausedTiles(n),this.handleAppPausedStreams(t,n);const r=this.availStreamsSameAsLast(n),c=!this.startupPeriod&&r;if(c&&Date.now()-this.lastSubscribeTimestamp<this.timeBeforeAllowSubscribeMs)return;n.sort(((e,t)=>e.maxBitrateKbps===t.maxBitrateKbps?e.streamId-t.streamId:e.maxBitrateKbps-t.maxBitrateKbps));for(const e of n)(0===e.avgBitrateKbps||e.avgBitrateKbps>e.maxBitrateKbps)&&(e.attendeeId.endsWith(a.default.Modality)&&e.maxBitrateKbps<100?e.maxBitrateKbps=e.avgBitrateKbps:e.avgBitrateKbps=e.maxBitrateKbps);const d={targetDownlinkBitrate:0,chosenTotalBitrate:0,deltaToNextUpgrade:0};d.targetDownlinkBitrate=this.determineTargetRate();const l=this.subscribedReceiveSet.size(),u=this.downlinkStats.bandwidthEstimateKbps,h=!this.videoPriorityBasedPolicyConfig.allowSubscribe(l,u);if(this.probeFailed&&(this.probeFailed=!1,this.timeBeforeAllowSubscribeMs=m.MIN_TIME_BETWEEN_SUBSCRIBE_MS,c&&h))return;const p=this.priorityPolicy(d,n,t);let f=0;if(this.serverSideNetworkAdaption!==s.default.None&&this.serverSideNetworkAdaption!==s.default.Default||this.startupPeriod||!r?(this.setProbeState("Not Probing"),this.lastUpgradeRateKbps=0):"Probing"===this.rateProbeState?f=this.handleProbe(t,d.targetDownlinkBitrate):0!==d.deltaToNextUpgrade&&(f=this.maybeOverrideOrProbe(t,d,p)),this.prevRemoteInfos=n,this.videoPreferencesUpdated=!1,1===f)return this.logger.info(`bwe: keepSameSubscriptions stats:${JSON.stringify(this.downlinkStats)}`),void(this.prevTargetRateKbps=d.targetDownlinkBitrate);if(2===f){const e=this.calculateSubscribeRate(this.preProbeNonPausedReceiveStreams);return this.optimalReceiveStreams=this.preProbeReceiveStreams.slice(),this.processBwPausedStreams(n,this.preProbeNonPausedReceiveStreams),void this.logger.info("bwe: Use Pre-Probe subscription subscribedRate:"+e)}this.optimalNonPausedReceiveStreams=t.slice();const g=this.pausedBwAttendeeIds.size;this.processBwPausedStreams(n,t),this.logger.getLogLevel()<=o.LogLevel.INFO&&(this.logCount%15==0||this.rateProbeState!==i||this.optimalReceiveStreams.length!==t.length||g!==this.pausedBwAttendeeIds.size)&&(this.logger.info(this.policyStateLogStr(n,d.targetDownlinkBitrate)),this.logCount=0),this.logCount++,this.prevTargetRateKbps=d.targetDownlinkBitrate,this.optimalReceiveStreams=t.slice()}calculateOptimalReceiveSet(){const e=new c.default;this.calculateOptimalReceiveStreams();for(const t of this.optimalReceiveStreams)e.add(t.streamId);if(!this.optimalReceiveSet.equal(e)){const t=this.calculateSubscribeRate(this.optimalReceiveStreams);this.logger.info(`bwe: new streamSelection: ${JSON.stringify(e)} subscribedRate:${t}`)}this.optimalReceiveSet=e}determineTargetRate(){let e=0;const t=Date.now();return 0!==this.downlinkStats.bandwidthEstimateKbps?(0===this.firstEstimateTimestamp&&(this.firstEstimateTimestamp=t),this.startupPeriod&&(this.downlinkStats.bandwidthEstimateKbps>m.DEFAULT_BANDWIDTH_KBPS||this.downlinkStats.packetsLost>0||t-this.firstEstimateTimestamp>m.STARTUP_PERIOD_MS&&this.downlinkStats.bandwidthEstimateKbps<=this.prevDownlinkStats.bandwidthEstimateKbps)&&(this.startupPeriod=!1,this.prevTargetRateKbps=this.downlinkStats.bandwidthEstimateKbps),this.startupPeriod?e=m.DEFAULT_BANDWIDTH_KBPS:"Probing"===this.rateProbeState&&this.downlinkStats.usedBandwidthKbps>this.downlinkStats.bandwidthEstimateKbps&&this.downlinkStats.packetsLost<m.SPURIOUS_PACKET_LOST_THRESHOLD?(this.logger.info(`bwe: In probe state, overriding estimate ${this.downlinkStats.bandwidthEstimateKbps} with actual receive bitrate ${this.downlinkStats.usedBandwidthKbps}`),e=this.downlinkStats.usedBandwidthKbps+m.USED_BANDWIDTH_OVERRIDE_BUFFER_KBPS):e=this.downlinkStats.bandwidthEstimateKbps):e=0===this.firstEstimateTimestamp?m.DEFAULT_BANDWIDTH_KBPS:this.prevTargetRateKbps,!this.startupPeriod&&(this.usingPrevTargetRate&&this.downlinkStats.bandwidthEstimateKbps<this.prevTargetRateKbps||this.downlinkStats.bandwidthEstimateKbps<this.prevTargetRateKbps*(100-m.LARGE_RATE_CHANGE_TRIGGER_PERCENT)/100||this.downlinkStats.bandwidthEstimateKbps<this.downlinkStats.usedBandwidthKbps*m.LARGE_RATE_CHANGE_TRIGGER_PERCENT/100)&&0===this.downlinkStats.packetsLost?(this.logger.debug((()=>"bwe: ValidateRate: Using Previous rate "+this.prevTargetRateKbps)),this.usingPrevTargetRate=!0,e=this.prevTargetRateKbps):this.usingPrevTargetRate=!1,e}setProbeState(e){if(this.rateProbeState===e)return!1;const t=Date.now();switch(e){case"Not Probing":this.probePendingStartTimestamp=0;break;case"Probe Pending":if(!(0===this.lastProbeTimestamp||t-this.lastProbeTimestamp>m.MIN_TIME_BETWEEN_PROBE_MS))return!1;this.probePendingStartTimestamp=t;break;case"Probing":if(!(t-this.probePendingStartTimestamp>this.timeBeforeAllowProbeMs))return!1;this.lastProbeTimestamp=t,this.preProbeReceiveStreams=this.subscribedReceiveStreams.slice(),this.preProbeNonPausedReceiveStreams=this.optimalNonPausedReceiveStreams,this.timeBeforeAllowProbeMs=Math.min(2*this.timeBeforeAllowProbeMs,m.MAX_HOLD_BEFORE_PROBE_MS)}return this.logger.info("bwe: setProbeState to "+e+" from "+this.rateProbeState),this.rateProbeState=e,!0}upgradeToStream(e,t){for(let n=0;n<e.length;n++)if(e[n].groupId===t.groupId){const i=t.avgBitrateKbps-e[n].avgBitrateKbps;return this.logger.info("bwe: upgradeStream from "+JSON.stringify(e[n])+" to "+t),this.lastUpgradeRateKbps=i,e[n]=t,i}return e.push(t),this.lastUpgradeRateKbps=t.avgBitrateKbps,this.lastUpgradeRateKbps}handleProbe(e,t){if(Date.now()-this.lastProbeTimestamp>m.MAX_ALLOWED_PROBE_TIME_MS)return this.logger.info("bwe: Canceling probe due to timeout"),this.setProbeState("Not Probing"),0;if(this.downlinkStats.packetsLost>0&&(this.logger.info(`bwe: Probe encountering packets lost:${this.downlinkStats.packetsLost}`),this.downlinkStats.packetsLost>m.SPURIOUS_PACKET_LOST_THRESHOLD))return this.setProbeState("Not Probing"),this.logger.info(`bwe: Canceling probe due to packets lost:${this.downlinkStats.packetsLost}`),this.probeFailed=!0,this.timeBeforeAllowSubscribeMs=3*Math.max(m.MIN_TIME_BETWEEN_SUBSCRIBE_MS,this.timeBeforeAllowSubscribeMs),2;const n=this.calculateSubscribeRate(this.optimalReceiveStreams);return this.chosenStreamsSameAsLast(e)||t>n?(this.logger.info("bwe: Probe successful"),this.setProbeState("Not Probing"),this.timeBeforeAllowProbeMs=m.MIN_TIME_BETWEEN_PROBE_MS,0):1}maybeOverrideOrProbe(e,t,n){const i=this.chosenStreamsSameAsLast(e);let r=0;const a=t.targetDownlinkBitrate>m.LOW_BITRATE_THRESHOLD_KBPS?m.TARGET_RATE_CHANGE_TRIGGER_PERCENT:2*m.TARGET_RATE_CHANGE_TRIGGER_PERCENT,o=t.targetDownlinkBitrate*a/100;if(this.targetRateBaselineForDeltaCheckKbps=void 0!==this.targetRateBaselineForDeltaCheckKbps?this.targetRateBaselineForDeltaCheckKbps:this.prevTargetRateKbps,!i&&Math.abs(t.targetDownlinkBitrate-this.targetRateBaselineForDeltaCheckKbps)<o?(this.logger.info("bwe: MaybeOverrideOrProbe: Reuse last decision based on delta rate. {"+JSON.stringify(this.subscribedReceiveSet)+"}"),r=1):this.targetRateBaselineForDeltaCheckKbps=t.targetDownlinkBitrate,this.downlinkStats.packetsLost>this.prevDownlinkStats.packetsLost)return this.setProbeState("Not Probing"),this.lastUpgradeRateKbps=0,r;if(i||1===r)switch(this.rateProbeState){case"Not Probing":this.setProbeState("Probe Pending");break;case"Probe Pending":this.setProbeState("Probing")&&(this.upgradeToStream(e,n),r=0)}else this.setProbeState("Not Probing");return r}calculateSubscribeRate(e){let t=0;for(const n of e)this.pausedStreamIds.contain(n.streamId)||this.pausedBwAttendeeIds.has(n.attendeeId)||(t+=n.maxBitrateKbps);return t}handleAppPausedStreams(e,t){if(!this.tileController)return void this.logger.warn("tileController not found!");this.pausedStreamIds=new c.default;const n=this.tileController.getAllRemoteVideoTiles();for(const i of n){const n=i.state();if(n.paused&&!this.pausedBwAttendeeIds.has(n.boundAttendeeId)){let i=t.length;for(;i--;)t[i].attendeeId===n.boundAttendeeId&&(this.logger.info("bwe: removed paused attendee "+n.boundAttendeeId+" streamId: "+t[i].streamId),this.pausedStreamIds.add(t[i].streamId),this.subscribedReceiveSet.contain(t[i].streamId)&&e.push(t[i]),t.splice(i,1))}}}processBwPausedStreams(e,t){if(!this.tileController)return void this.logger.warn("tileController not found!");const n=this.getCurrentVideoPreferences();if(n&&this.shouldPauseTiles){const i=this.tileController.getAllVideoTiles();for(const r of n){const n=this.getVideoTileForAttendeeId(r.attendeeId,i),a=(null==n?void 0:n.state().paused)||!1;if(t.some((e=>e.attendeeId===r.attendeeId)))a&&this.pausedBwAttendeeIds.has(r.attendeeId)&&(this.logger.info(`bwe: unpausing attendee ${r.attendeeId} due to bandwidth`),this.forEachObserver((e=>{e.tileWillBeUnpausedByDownlinkPolicy(n.id())})),this.tileController.unpauseVideoTile(n.id()),this.pausedBwAttendeeIds.delete(r.attendeeId));else{const i=e.some((e=>e.attendeeId===r.attendeeId));if(n&&i){const e=this.optimalReceiveStreams.find((e=>e.attendeeId===r.attendeeId));void 0!==e&&(a||(this.logger.info(`bwe: pausing streamId ${e.streamId} attendee ${r.attendeeId} due to bandwidth`),this.forEachObserver((e=>{e.tileWillBePausedByDownlinkPolicy(n.id())})),this.tileController.pauseVideoTile(n.id())),t.push(e)),this.pausedBwAttendeeIds.add(r.attendeeId)}else if(i){const e=this.tileController.addVideoTile();e.bindVideoStream(r.attendeeId,!1,null,0,0,0,null),this.forEachObserver((t=>{t.tileWillBePausedByDownlinkPolicy(e.id())})),e.pause(),this.logger.info(`bwe: Created video tile ${e.id()} for bw paused attendee ${r.attendeeId}`),this.pausedBwAttendeeIds.add(r.attendeeId)}}}}}cleanBwPausedTiles(e){if(!this.tileController)return void this.logger.warn("tileController not found!");const t=this.tileController.getAllRemoteVideoTiles(),n=this.getCurrentVideoPreferences();for(const i of t){const t=i.state();t.boundVideoStream||(e.some((e=>e.attendeeId===t.boundAttendeeId))?void 0===n||n.some((e=>e.attendeeId===t.boundAttendeeId))||this.tileController.removeVideoTile(t.tileId):(this.tileController.removeVideoTile(t.tileId),this.logger.info(`bwe: Removed video tile ${t.tileId} for bw paused attendee ${t.boundAttendeeId}`)))}}priorityPolicy(e,t,n){let i;const r=this.getCurrentVideoPreferences(),o=r.highestPriority();let s,c=o;for(;-1!==c;){s=-1;for(const a of r)if(a.priority===c)for(const r of t)r.attendeeId===a.attendeeId&&(n.some((e=>e.groupId===r.groupId))||(e.chosenTotalBitrate+r.avgBitrateKbps<=e.targetDownlinkBitrate?(n.push(r),e.chosenTotalBitrate+=r.avgBitrateKbps):0===e.deltaToNextUpgrade&&(e.deltaToNextUpgrade=r.avgBitrateKbps,i=r)));else if(a.priority>c){s=a.priority;break}for(const o of r)if(o.priority===c){for(const r of t)if(r.attendeeId===o.attendeeId){const s=n.findIndex((e=>e.groupId===r.groupId&&e.maxBitrateKbps<r.maxBitrateKbps));if(-1!==s){const c=r.avgBitrateKbps-n[s].avgBitrateKbps;this.hasSimulcastStreams(t,r.attendeeId,r.groupId)&&this.canUpgrade(r.avgBitrateKbps,o.targetSize,o.targetSizeToBitrateKbps(o.targetSize),r.attendeeId.endsWith(a.default.Modality))?(this.logger.info(`bwe: attendee: ${r.attendeeId} group: ${r.groupId} has simulcast and can upgrade avgBitrate: ${r.avgBitrateKbps} target: ${o.targetSizeToBitrateKbps(o.targetSize)} targetTotalBitrate: ${e.targetDownlinkBitrate}`),e.chosenTotalBitrate+c<=e.targetDownlinkBitrate?(e.chosenTotalBitrate+=c,n[s]=r):0===e.deltaToNextUpgrade&&(e.deltaToNextUpgrade=c,i=r)):this.logger.info("bwe: cannot upgrade stream quality beyond target size")}}}else if(o.priority>c)break;if(c===o&&0!==e.deltaToNextUpgrade)break;c=s}return i}getVideoTileForAttendeeId(e,t){for(const n of t)if(n.state().boundAttendeeId===e)return n;return null}canUpgrade(e,t,n,i){let r=!1;return i?(t===d.default.High||t===d.default.Medium&&e<=n)&&(r=!0):e<=n&&(r=!0),r?(this.logger.info(`bwe: canUpgrade: bitrateKbp: ${e} targetBitrateKbp: ${n}`),!0):(this.logger.info(`bwe: cannot Upgrade: bitrateKbp: ${e} targetBitrateKbp: ${n}`),!1)}hasSimulcastStreams(e,t,n){let i=0;for(const r of e)r.attendeeId===t&&r.groupId===n&&i++;return this.logger.info(`bwe: attendeeId: ${t} groupId: ${n} hasSimulcastStreams: streamCount: ${i}`),i>1}availStreamsSameAsLast(e){if(void 0===this.prevRemoteInfos||e.length!==this.prevRemoteInfos.length||!0===this.videoPreferencesUpdated)return!1;for(const t of e)if(void 0===this.prevRemoteInfos.find((e=>e.groupId===t.groupId&&e.streamId===t.streamId&&e.maxBitrateKbps===t.maxBitrateKbps)))return!1;return!0}chosenStreamsSameAsLast(e){if(this.optimalNonPausedReceiveStreams.length!==e.length)return!1;for(const t of this.optimalNonPausedReceiveStreams)if(!e.some((e=>e.streamId===t.streamId)))return!1;return!0}policyStateLogStr(e,t){const n={targetBitrate:t,subscribedRate:this.calculateSubscribeRate(this.optimalReceiveStreams),probeState:this.rateProbeState,startupPeriod:this.startupPeriod};let i="remoteInfos: [";for(const t of e)i+=`{grpId:${t.groupId} strId:${t.streamId} maxBr:${t.maxBitrateKbps} avgBr:${t.avgBitrateKbps}}, `;i+="]";let r=`bwe: optimalReceiveSet ${JSON.stringify(n)}\nbwe:   prev ${JSON.stringify(this.prevDownlinkStats)}\nbwe:   now  ${JSON.stringify(this.downlinkStats)}\nbwe:   ${i}\n`;return(this.pausedStreamIds.size()>0||this.pausedBwAttendeeIds.size>0)&&(r+=`bwe:   paused: app stream ids ${JSON.stringify(this.pausedStreamIds)}  bw attendees { ${Array.from(this.pausedBwAttendeeIds).join(" ")} }\n`),this.videoPreferences?r+=`bwe:   preferences: ${JSON.stringify(this.videoPreferences)}`:r+=`bwe:   default preferences: ${JSON.stringify(this.defaultVideoPreferences)}`,r}getCurrentVideoPreferences(){return this.videoPreferences||this.defaultVideoPreferences}getServerSideNetworkAdaption(){return this.serverSideNetworkAdaption}setServerSideNetworkAdaption(e){this.serverSideNetworkAdaption=e,this.setProbeState("Not Probing")}supportedServerSideNetworkAdaptions(){return[s.default.None,s.default.BandwidthProbing]}getVideoPreferences(){let e=this.getCurrentVideoPreferences();return e||(e=u.VideoPreferences.prepare().build()),e}}t.default=m,m.DEFAULT_BANDWIDTH_KBPS=2800,m.STARTUP_PERIOD_MS=6e3,m.LARGE_RATE_CHANGE_TRIGGER_PERCENT=20,m.TARGET_RATE_CHANGE_TRIGGER_PERCENT=15,m.LOW_BITRATE_THRESHOLD_KBPS=300,m.MIN_TIME_BETWEEN_PROBE_MS=5e3,m.MIN_TIME_BETWEEN_SUBSCRIBE_MS=2e3,m.MAX_HOLD_BEFORE_PROBE_MS=3e4,m.MAX_ALLOWED_PROBE_TIME_MS=6e4,m.SPURIOUS_PACKET_LOST_THRESHOLD=2,m.USED_BANDWIDTH_OVERRIDE_BUFFER_KBPS=100},1034:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(7103);class r{constructor(e=0,t=0){this.networkIssueResponseDelayFactor=e,this.networkIssueRecoveryDelayFactor=t,this.currentNetworkEvent=0,this.bandwidthDecreaseTimestamp=0,this.referenceBitrate=0,this.serverSideNetworkAdaption=i.default.Default,e<0?e=0:e>1&&(e=1),this.networkIssueResponseDelayFactor=e,t<0?t=0:t>1&&(t=1),this.networkIssueRecoveryDelayFactor=t}allowSubscribe(e,t){let n=0;const i=this.currentNetworkEvent;if(t>this.referenceBitrate)return this.currentNetworkEvent=2,this.referenceBitrate=t,!0;if(t<this.referenceBitrate){if(this.currentNetworkEvent=1,n=this.getSubscribeDelay(this.currentNetworkEvent,e),1!==i)this.bandwidthDecreaseTimestamp=Date.now();else if(Date.now()-this.bandwidthDecreaseTimestamp>n)return this.referenceBitrate=t,!0;return!1}return this.currentNetworkEvent=0,!1}getSubscribeDelay(e,t){let n=r.MINIMUM_DELAY_MS;const i=r.MAXIMUM_DELAY_MS-r.MINIMUM_DELAY_MS,a=this.networkIssueResponseDelayFactor;return 1===e&&(n+=i*a*(1+t/10),n=Math.min(r.MAXIMUM_DELAY_MS,n)),n}}t.default=r,r.MINIMUM_DELAY_MS=2e3,r.MAXIMUM_DELAY_MS=8e3,r.Default=new r(0,0),r.UnstableNetworkPreset=new r(0,1),r.StableNetworkPreset=new r(1,0)},3663:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{create(){const e={clientWidth:400,clientHeight:300,width:400,height:300,videoWidth:400,videoHeight:300,style:{transform:""},hasAttribute:()=>!1,removeAttribute:()=>{},setAttribute:()=>{},srcObject:!1,paused:!0,pause:()=>{e.paused=!0},play:()=>(e.paused=!1,Promise.resolve())};return e}}},9807:function(e,t){"use strict";var n=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,a){function o(e){try{c(i.next(e))}catch(e){a(e)}}function s(e){try{c(i.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{constructor(e){this.canvas=e,this.destroyed=!1}destroy(){this.canvas=null,this.destroyed=!0}asCanvasImageSource(){return n(this,void 0,void 0,(function*(){return this.destroyed?Promise.reject("canvas buffer is destroyed"):Promise.resolve(this.canvas)}))}asCanvasElement(){return this.canvas}}},8919:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,a){function o(e){try{c(i.next(e))}catch(e){a(e)}}function s(e){try{c(i.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const r=n(9807);t.default=class{constructor(e,t){this.logger=e,this.stages=t,this.fr=15,this.outputMediaStream=new MediaStream,this.videoInput=document.createElement("video"),this.canvasOutput=document.createElement("canvas"),this.outputCtx=this.canvasOutput.getContext("2d"),this.canvasInput=document.createElement("canvas"),this.inputCtx=this.canvasInput.getContext("2d"),this.inputVideoStream=null,this.sourceBuffers=[],this.destBuffers=[],this.observers=new Set,this.hasStarted=!1,this.process=e=>i(this,void 0,void 0,(function*(){if(!this.inputVideoStream)return;const e=performance.now();this.videoInput.videoWidth&&(this.canvasInput.width!==this.videoInput.videoWidth&&(this.canvasInput.width=this.videoInput.videoWidth,this.canvasInput.height=this.videoInput.videoHeight,this.sourceBuffers[0].height=this.canvasInput.height,this.sourceBuffers[0].width=this.canvasInput.width,this.sourceBuffers[0].framerate=this.framerate),this.inputCtx.drawImage(this.videoInput,0,0));let t,n=[];n.push(this.sourceBuffers[0]);try{for(const e of this.processors)n=yield e.process(n)}catch(e){return void this.forEachObserver((e=>{e.processingDidFailToStart&&e.processingDidFailToStart()}))}this.destBuffers=n;try{t=yield this.destBuffers[0].asCanvasImageSource()}catch(e){return void(this.inputVideoStream&&(this.logger.info("buffers are destroyed and pipeline could not start"),this.forEachObserver((e=>{e.processingDidFailToStart&&e.processingDidFailToStart()}))))}const i=t.width,r=t.height;0!==i&&0!==r&&(this.canvasOutput.width!==i&&this.canvasOutput.height!==r&&(this.canvasOutput.width=i,this.canvasOutput.height=r),this.outputCtx.drawImage(t,0,0,i,r,0,0,i,r),this.hasStarted||(this.hasStarted=!0,this.forEachObserver((e=>{e.processingDidStart&&e.processingDidStart()}))));const a=performance.now()-e,o=2e3/this.framerate-a,s=Math.max(0,1e3/this.framerate-a);o<=0&&this.forEachObserver((e=>{e.processingLatencyTooHigh&&e.processingLatencyTooHigh(a)})),this.lastTimeOut=setTimeout(this.process,s)}))}destroy(){if(this.stop(),this.stages)for(const e of this.stages)e.destroy()}get framerate(){return this.fr}set framerate(e){this.fr=e<0?15:e}stop(){if(this.videoInput.removeEventListener("loadedmetadata",this.process),this.videoInput.srcObject=null,this.destroyInputMediaStreamAndBuffers(),this.outputMediaStream)for(const e of this.outputMediaStream.getVideoTracks())e.stop();this.lastTimeOut&&(clearTimeout(this.lastTimeOut),this.lastTimeOut=void 0),this.hasStarted&&(this.hasStarted=!1,this.forEachObserver((e=>{e.processingDidStop&&e.processingDidStop()})))}addObserver(e){this.observers.add(e)}removeObserver(e){this.observers.delete(e)}getInputMediaStream(){return i(this,void 0,void 0,(function*(){return this.inputVideoStream}))}getActiveOutputMediaStream(){return this.isOutputMediaStreamActive()||(this.outputMediaStream=this.canvasOutput.captureStream(this.framerate),this.cloneInputAudioTracksToOutput()),this.outputMediaStream}setInputMediaStream(e){return i(this,void 0,void 0,(function*(){if(!e)return void this.stop();if(0===e.getVideoTracks().length)return void this.logger.error("No video tracks in input media stream, ignoring");this.inputVideoStream=e;const t=this.inputVideoStream.getVideoTracks()[0].getSettings();this.logger.info(`processing pipeline input stream settings ${JSON.stringify(t)}`),this.canvasOutput.width=t.width,this.canvasOutput.height=t.height,this.videoInput.addEventListener("loadedmetadata",this.process),this.videoInput.srcObject=this.inputVideoStream,this.videoInput.setAttribute("playsinline","true");const n=new r.default(this.canvasInput);this.sourceBuffers.push(n),this.videoInput.load();try{yield this.videoInput.play()}catch(e){this.logger.warn("Video element play() overrided by another load().")}this.cloneInputAudioTracksToOutput()}))}cloneInputAudioTracksToOutput(){if(this.isOutputMediaStreamActive()&&null!==this.inputVideoStream){for(const e of this.outputMediaStream.getAudioTracks())this.logger.info(`Removing audio track ${e.id} from output stream`),this.outputMediaStream.removeTrack(e);for(const e of this.inputVideoStream.getAudioTracks())this.logger.info(`Adding audio track ${e.id} to output stream`),this.outputMediaStream.addTrack(e)}else this.logger.info("Not cloning input audio tracks to output, do not have media streams ready")}isOutputMediaStreamActive(){return this.outputMediaStream&&this.outputMediaStream.active}set processors(e){this.stages=e}get processors(){return this.stages}forEachObserver(e){for(const t of this.observers)setTimeout((()=>{e(t)}),0)}destroyInputMediaStreamAndBuffers(){if(this.inputVideoStream)for(const e of this.inputVideoStream.getTracks())e.stop();this.inputVideoStream=null;for(const e of this.sourceBuffers)e.destroy();this.sourceBuffers=[]}}},1944:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,a){function o(e){try{c(i.next(e))}catch(e){a(e)}}function s(e){try{c(i.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const r=n(543),a=n(8919);class o{constructor(e,t,n,i=new r.default){this.logger=e,this.device=t,this.processors=n,this.browserBehavior=i,this.observers=new Set,this.pipe=new a.default(this.logger,this.processors),this.pipe.addObserver(this)}get outputMediaStream(){return this.pipe.outputMediaStream}passEventControllerToProcessors(e){if(this.pipe.processors)for(const t of this.pipe.processors)"function"==typeof t.setEventController&&t.setEventController(e)}chooseNewInnerDevice(e){const t=new o(this.logger,e,this.processors,this.browserBehavior);return t.pipe=this.pipe,t}getInnerDevice(){return this.device}intrinsicDevice(){return i(this,void 0,void 0,(function*(){return this.device}))}transformStream(e){return i(this,void 0,void 0,(function*(){return yield this.pipe.setInputMediaStream(e),this.inputMediaStream=e,this.pipe.getActiveOutputMediaStream()}))}onOutputStreamDisconnect(){this.logger.info("DefaultVideoTransformDevice: detach stopping input media stream");const e=this.device&&this.device.id;if(this.pipe.stop(),!e&&this.inputMediaStream)for(const e of this.inputMediaStream.getVideoTracks())e.stop()}stop(){return i(this,void 0,void 0,(function*(){if(this.inputMediaStream)for(const e of this.inputMediaStream.getVideoTracks())e.stop();this.pipe.destroy(),this.inputMediaStream=null}))}addObserver(e){this.observers.add(e)}removeObserver(e){this.observers.delete(e)}processingDidStart(){this.logger.info("video transform device processing started"),this.forEachObserver((e=>{e.processingDidStart&&e.processingDidStart()}))}processingLatencyTooHigh(e){this.forEachObserver((t=>{t.processingLatencyTooHigh&&t.processingLatencyTooHigh(e)}))}processingDidFailToStart(){this.logger.info("video transform device processing failed to start"),this.forEachObserver((e=>{e.processingDidFailToStart&&e.processingDidFailToStart()}))}processingDidStop(){this.logger.info("video transform device processing stopped"),this.forEachObserver((e=>{e.processingDidStop&&e.processingDidStop()}))}forEachObserver(e){for(const t of this.observers)setTimeout((()=>{e(t)}),0)}}t.default=o},2801:function(e,t){"use strict";var n=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,a){function o(e){try{c(i.next(e))}catch(e){a(e)}}function s(e){try{c(i.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{process(e){return n(this,void 0,void 0,(function*(){return e}))}destroy(){return n(this,void 0,void 0,(function*(){}))}}},2826:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DeferredPromise=void 0,t.DeferredPromise=class{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}getPromise(){return this.promise}resolvePromise(e){this.resolve(e)}resolveAndReplacePromise(e){this.resolve(e),this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}rejectPromise(e){this.reject(e)}rejectAndReplacePromise(e){this.reject(e),this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}},8190:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,a){function o(e){try{c(i.next(e))}catch(e){a(e)}}function s(e){try{c(i.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.VideoFxCanvasOpsManager=void 0;const r=n(2913);t.VideoFxCanvasOpsManager=class{constructor(e,t){this.streamParameters=e,this.outputCanvas=t,this.configureCanvasPipeline()}getInferenceInputData(e){return this.inferenceCtx.save(),this.inferenceCtx.scale(this.horizontalResizeScalar,this.verticalResizeScalar),this.inferenceCtx.drawImage(e,0,0),this.inferenceCtx.restore(),this.inferenceCtx.getImageData(0,0,r.SEGMENTATION_MODEL.WIDTH_IN_PIXELS,r.SEGMENTATION_MODEL.HEIGHT_IN_PIXELS)}configureForStreamParameters(e){return i(this,void 0,void 0,(function*(){if(this.streamParameters=e,this.outputCanvas.width=this.streamParameters.width,this.outputCanvas.height=this.streamParameters.height,this.backgroundReplacementCanvas){const e=document.createElement("canvas");e.width=this.streamParameters.width,e.height=this.streamParameters.height,e.getContext("2d").drawImage(this.backgroundReplacementCanvas,0,0,this.streamParameters.width,this.streamParameters.height),this.backgroundReplacementCanvas=e}this.configureCanvasPipeline()}))}configureCanvasPipeline(){this.inferenceCanvas=document.createElement("canvas"),this.inferenceCtx=this.inferenceCanvas.getContext("2d",{willReadFrequently:!0}),this.inferenceCanvas.width=r.SEGMENTATION_MODEL.WIDTH_IN_PIXELS,this.inferenceCanvas.height=r.SEGMENTATION_MODEL.HEIGHT_IN_PIXELS,this.horizontalResizeScalar=r.SEGMENTATION_MODEL.WIDTH_IN_PIXELS/this.streamParameters.width,this.verticalResizeScalar=r.SEGMENTATION_MODEL.HEIGHT_IN_PIXELS/this.streamParameters.height}getBackgroundReplacementCanvas(){return this.backgroundReplacementCanvas}loadReplacementBackground(e){return i(this,void 0,void 0,(function*(){const t=e.backgroundReplacement.backgroundImageURL,n=e.backgroundReplacement.defaultColor;if(t)try{const e=yield this.loadImage(t);this.backgroundReplacementImage=e,this.resizeAndSetReplacementImage(this.backgroundReplacementImage)}catch(e){throw this.logger.error(e),new Error("Failed to set the replacement image.")}else this.resizeAndSetReplacementColor(n)}))}resizeAndSetReplacementImage(e){const t=document.createElement("canvas"),n=t.getContext("2d");t.width=this.streamParameters.width,t.height=this.streamParameters.height,n.drawImage(e,0,0,this.streamParameters.width,this.streamParameters.height),this.backgroundReplacementCanvas=t}resizeAndSetReplacementColor(e){const t=document.createElement("canvas"),n=t.getContext("2d");t.width=this.streamParameters.width,t.height=this.streamParameters.height,n.fillStyle=e,n.fillRect(0,0,this.streamParameters.width,this.streamParameters.height),this.backgroundReplacementCanvas=t}loadImage(e){return i(this,void 0,void 0,(function*(){const t=yield fetch(e).catch((e=>{throw this.logger.error(e.toString()),new Error("Failed to fetch image.")})),n=yield t.blob(),i=new Image;return i.src=URL.createObjectURL(n),new Promise(((e,t)=>{i.onload=()=>{e(i)},i.onerror=e=>{t(e)}}))}))}}},2913:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FXLIB_PATH=t.WORKER_PATH=t.CDN_BASE_PATH=t.RESOURCE_CONSTRAINTS=t.SEGMENTATION_MODEL=t.DEFAULT_STREAM_PARAMETERS=t.WORKER_MSG=void 0,t.WORKER_MSG={BUILD_ENGINE_REQUEST:"BuildEngineRequest",BUILD_ENGINE_RESPONSE:"BuildEngineResponse",PERFORM_SEGMENTATION_REQUEST:"PerformSegmentationRequest",PERFORM_SEGMENTATION_RESPONSE:"PerformSegmentationResponse",PERFORM_SEGMENTATION_SAB_REQUEST:"PerformSegmentationSABRequest",PERFORM_SEGMENTATION_SAB_RESPONSE:"PerformSegmentationSABResponse",DESTROY_ASSETS_REQUEST:"DestroyAssetsRequest",DESTROY_ASSETS_RESPONSE:"DestroyAssetsResponse",CLOSE_WORKER_REQUEST:"CloseWorkerRequest"},t.DEFAULT_STREAM_PARAMETERS={FRAMES_PER_SECOND:15,WIDTH_IN_PIXEL:960,HEIGHT_IN_PIXEL:540,CHANNEL_COUNT:4},t.SEGMENTATION_MODEL={LOAD_SUCCESS:2,WIDTH_IN_PIXELS:176,HEIGHT_IN_PIXELS:160},t.RESOURCE_CONSTRAINTS={DEFAULT_PROCESSING_BUDGET_PER_FRAME:50,SEGMENTATION_DEFAULT_FRAMES_PER_SEGMENTATION:1,SEGMENTATION_SAMPLING_PERIOD_FRAME_COUNT:500,BLUR_DEFAULT_CYCLE_PERCENTAGE:10,BLUR_SAMPLING_PERIOD_FRAME_COUNT:1e3,MIN_PROCESSING_BUDGET:0,MAX_PROCESSING_BUDGET:100},t.CDN_BASE_PATH="https://static.sdkassets.chime.aws";const n="/ml_media_fx/otherassets";t.WORKER_PATH=`${n}/worker.js`,t.FXLIB_PATH=`${n}/fxlib.js`},7746:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,a){function o(e){try{c(i.next(e))}catch(e){a(e)}}function s(e){try{c(i.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const r=n(623),a=n(5021),o=n(9424),s=n(543),c=n(7434),d=n(8690),l=n(4046),u=n(9807),h=n(2826),p=n(8190),m=n(2913),f=n(9935);class g{constructor(e,t=m.RESOURCE_CONSTRAINTS.DEFAULT_PROCESSING_BUDGET_PER_FRAME,n){this.logger=e,this.outputCanvas=document.createElement("canvas"),this.canvasVideoFrameBuffer=new u.default(this.outputCanvas);try{this.validateProcessingBudgetPerFrame(t)}catch(e){throw this.logger.error(e),new Error(`Cannot instantiate VideoFxProcessor due to invalid processingBudgetPerFrame of ${t}`)}n&&(this.eventController=n),this.effectConfig={backgroundBlur:{isEnabled:!1,strength:"low"},backgroundReplacement:{isEnabled:!1,backgroundImageURL:null,defaultColor:"black"}},this.segmentationRequestPromise=new h.DeferredPromise,this.segmentationRateManager=new f.VideoFxSegmentationRateManager(this.logger,t),this.streamParameters={framerate:m.DEFAULT_STREAM_PARAMETERS.FRAMES_PER_SECOND,width:m.DEFAULT_STREAM_PARAMETERS.WIDTH_IN_PIXEL,height:m.DEFAULT_STREAM_PARAMETERS.HEIGHT_IN_PIXEL,channels:m.DEFAULT_STREAM_PARAMETERS.CHANNEL_COUNT},g.isSharedArrayBufferSupported&&(this.sharedImageBuffer=new SharedArrayBuffer(m.SEGMENTATION_MODEL.WIDTH_IN_PIXELS*m.SEGMENTATION_MODEL.HEIGHT_IN_PIXELS*this.streamParameters.channels),this.sharedImageData=new Uint8ClampedArray(this.sharedImageBuffer)),this.logger.info(`VideoFx supports Shared Array Buffer: ${g.isSharedArrayBufferSupported}`),this.canvasOpsManager=new p.VideoFxCanvasOpsManager(this.streamParameters,this.outputCanvas),this.outputCanvas.width=this.streamParameters.width,this.outputCanvas.height=this.streamParameters.height,this.segmentationMask=new ImageData(this.streamParameters.width,this.streamParameters.height),this.logger.info(`VideoFxProcessor instantiated with a processingBudgetPerFrame of ${t}`)}process(e){return i(this,void 0,void 0,(function*(){return e}))}fxProcess(e){return i(this,void 0,void 0,(function*(){const t=e[0].asCanvasElement();this.didStreamParametersChange(t)&&(yield this.adjustProcessorForNewStreamParameters(t));try{yield this.manageSegmentationMask(t)}catch(e){throw this.logger.error(e),new Error("Video stream could not be processed")}return yield this.renderer.render(t,this.segmentationMask),e[0]=this.canvasVideoFrameBuffer,e}))}noOpProcess(e){return i(this,void 0,void 0,(function*(){return e}))}didStreamParametersChange(e){return e.width!==this.streamParameters.width||e.height!==this.streamParameters.height}adjustProcessorForNewStreamParameters(e){return i(this,void 0,void 0,(function*(){this.streamParameters.width=e.width,this.streamParameters.height=e.height,yield this.canvasOpsManager.configureForStreamParameters(this.streamParameters),yield this.renderer.configure(this.streamParameters.width,this.streamParameters.height,this.effectConfig)}))}destroy(){return i(this,void 0,void 0,(function*(){this.canvasVideoFrameBuffer.destroy(),this.fxLibScript&&this.fxLibScript.parentNode&&this.fxLibScript.parentNode.removeChild(this.fxLibScript),this.engineWorker&&(this.destroyedAssetsPromise=new h.DeferredPromise,this.engineWorker.postMessage({msg:m.WORKER_MSG.DESTROY_ASSETS_REQUEST}),yield this.destroyedAssetsPromise.getPromise(),this.engineWorker.postMessage({msg:m.WORKER_MSG.CLOSE_WORKER_REQUEST})),this.logger.info("VideoFxProcessor destroyed.")}))}manageSegmentationMask(e){return i(this,void 0,void 0,(function*(){try{if(this.segmentationRateManager.submitFrame(),this.segmentationRateManager.shouldApplySegmentation()){this.segmentationRateManager.startSegmentation();const t=this.canvasOpsManager.getInferenceInputData(e);this.segmentationMask=yield this.generateSegmentationMask(t),this.segmentationRateManager.completeSegmentation()}}catch(e){throw this.logger.error(e.toString()),new Error("Can not properly manage the returned segmentation mask")}}))}generateSegmentationMask(e){return i(this,void 0,void 0,(function*(){g.isSharedArrayBufferSupported?(this.sharedImageData.set(e.data),this.engineWorker.postMessage({msg:m.WORKER_MSG.PERFORM_SEGMENTATION_SAB_REQUEST,payload:this.sharedImageBuffer})):this.engineWorker.postMessage({msg:m.WORKER_MSG.PERFORM_SEGMENTATION_REQUEST,payload:e},[e.data.buffer]);try{return yield this.segmentationRequestPromise.getPromise()}catch(e){throw this.logger.error(e.toString()),new Error("Segmentation mask could not be generated")}}))}cloneConfigFrom(e){return{backgroundBlur:{isEnabled:e.backgroundBlur.isEnabled,strength:e.backgroundBlur.strength},backgroundReplacement:{isEnabled:e.backgroundReplacement.isEnabled,backgroundImageURL:e.backgroundReplacement.backgroundImageURL,defaultColor:e.backgroundReplacement.defaultColor}}}setEffectConfig(e){return i(this,void 0,void 0,(function*(){if(this.sameVideoFxConfig(e,this.effectConfig))return;const t=this.cloneConfigFrom(e);try{yield this.validateEffectConfig(t)}catch(e){throw this.logger.error(e.toString()),new Error("Provided effect config is invalid, not updating VideoFxProcessor")}t.backgroundReplacement.isEnabled&&(yield this.canvasOpsManager.loadReplacementBackground(t),yield this.renderer.setBackgroundReplacementCanvas(this.canvasOpsManager.getBackgroundReplacementCanvas())),yield this.renderer.configure(this.streamParameters.width,this.streamParameters.height,t),this.effectConfig=t,this.effectConfig.backgroundBlur.isEnabled||this.effectConfig.backgroundReplacement.isEnabled?this.process=this.fxProcess:this.process=this.noOpProcess,this.logger.info(`VideoFxProcessor effect configuration updated to: ${JSON.stringify(this.effectConfig)}`),this.eventController&&this.publishVideoFxConfigEvent()}))}validateEffectConfig(e){return i(this,void 0,void 0,(function*(){if(e.backgroundBlur.isEnabled&&e.backgroundReplacement.isEnabled)throw new Error("Invalid VideoFx configuration: Background Blur and Background Replacement can not both be enabled");e.backgroundReplacement.isEnabled&&(yield this.validateReplacementConfig(e))}))}validateReplacementConfig(e){return i(this,void 0,void 0,(function*(){if(e.backgroundReplacement.backgroundImageURL&&e.backgroundReplacement.defaultColor)throw new Error("Invalid VideoFx configuration: Background Replacement can not have both an image URL and default color");if(!e.backgroundReplacement.backgroundImageURL&&!e.backgroundReplacement.defaultColor)throw new Error("Invalid VideoFx configuration: Background Replacement image URL and default can not both be null/undefined");try{e.backgroundReplacement.backgroundImageURL&&(yield this.canvasOpsManager.loadImage(e.backgroundReplacement.backgroundImageURL))}catch(e){throw this.logger.error(e.toString()),new Error("Invalid VideoFx configuration: backgroundImageURL failed to load")}const t=e.backgroundReplacement.defaultColor;if(t&&"black"!==t&&"#000000"!==t&&"#000"!==t){if(t.includes("#")&&!new RegExp(/^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/).test(t))throw new Error(`Invalid hexadecimal color code for default replacement background: ${t}`);const e=document.createElement("canvas").getContext("2d"),n=e.fillStyle;if(e.fillStyle=t,e.fillStyle===n)throw new Error(`Invalid color for default replacement background: ${t}`)}}))}validateProcessingBudgetPerFrame(e){if(e<m.RESOURCE_CONSTRAINTS.MIN_PROCESSING_BUDGET||e>m.RESOURCE_CONSTRAINTS.MAX_PROCESSING_BUDGET)throw new Error(`Invalid resource constraint: cycle percentage must be within range of ${m.RESOURCE_CONSTRAINTS.MIN_PROCESSING_BUDGET} and ${m.RESOURCE_CONSTRAINTS.MAX_PROCESSING_BUDGET}`)}loadAssets(){return i(this,void 0,void 0,(function*(){this.logger.info("Loading required assets for the VideoFxProcessor");try{const e=this.getVideoFxAssetParams();yield this.loadEngineWorker(e),yield this.buildEngine(e),yield this.loadFxLib(e),this.renderer=constructRenderer(m.SEGMENTATION_MODEL.WIDTH_IN_PIXELS,m.SEGMENTATION_MODEL.HEIGHT_IN_PIXELS,this.effectConfig,this.outputCanvas)}catch(e){throw this.logger.error(e.toString()),new Error("Failed to load necessary assets for the VideoFxProcessor")}this.logger.info("Finished loading of essential VideoFxProcessor assets.")}))}getVideoFxAssetParams(){const e=d.getDefaultAssetSpec();return{assetGroup:e.assetGroup,revisionID:e.revisionID,sdk:encodeURIComponent(l.default.sdkVersion),ua:encodeURIComponent(l.default.sdkUserAgentLowResolution)}}getPathFromVideoFxAssetParams(e,t){const n=new URL(e);for(const[e,i]of Object.entries(t))if(void 0!==i){const t=encodeURIComponent(e),r=encodeURIComponent(i);n.searchParams.set(t,r)}return n.toString()}loadEngineWorker(e){return i(this,void 0,void 0,(function*(){try{const t=this.getPathFromVideoFxAssetParams(m.CDN_BASE_PATH+m.WORKER_PATH,e);this.engineWorker=yield a.loadWorker(t,"VideoFxEngineWorker",{},null),this.logger.info("Successfully loaded the VideoFxProcessor's engine worker"),this.engineWorker.addEventListener("message",(e=>this.engineWorkerReceiver(e)))}catch(e){throw this.logger.error(e.toString()),new Error("Failed to load the VideoFxProcessor's engine worker")}}))}buildEngine(e){return i(this,void 0,void 0,(function*(){this.buildEnginePromise=new h.DeferredPromise,this.engineWorker.postMessage({msg:m.WORKER_MSG.BUILD_ENGINE_REQUEST,payload:{cdnBasePath:m.CDN_BASE_PATH,sdkVersioningParams:e}});try{yield this.buildEnginePromise.getPromise()}catch(e){throw this.logger.error(e.toString()),new Error("Failed to instantiate the VideoFxEngine")}}))}loadFxLib(e){return i(this,void 0,void 0,(function*(){const t=this.getPathFromVideoFxAssetParams(m.CDN_BASE_PATH+m.FXLIB_PATH,e),n={method:"GET",mode:"cors",credentials:"omit",redirect:"follow",referrerPolicy:"no-referrer"};try{const e=yield r.fetchWithBehavior(t,n,{});if(!e.ok)throw new Error("Fetch failed.");const i=window.URL.createObjectURL(yield e.blob());yield new Promise(((e,t)=>{this.fxLibScript=document.createElement("script"),this.fxLibScript.setAttribute("src",i),this.fxLibScript.setAttribute("type","module"),this.fxLibScript.setAttribute("async","false"),this.fxLibScript.addEventListener("load",e),this.fxLibScript.addEventListener("error",t),document.body.appendChild(this.fxLibScript)}))}catch(e){throw this.logger.error(e.toString()),new Error("Failed to load the fxlib")}}))}getEffectConfig(){return this.cloneConfigFrom(this.effectConfig)}engineWorkerReceiver(e){const t=e.data;switch(t.msg){case m.WORKER_MSG.BUILD_ENGINE_RESPONSE:this.settleEngineBuildPromise(t.payload);break;case m.WORKER_MSG.PERFORM_SEGMENTATION_RESPONSE:this.settleSegmentationPromise(t.payload.output);break;case m.WORKER_MSG.PERFORM_SEGMENTATION_SAB_RESPONSE:this.settleSegmentationPromiseSAB();break;case m.WORKER_MSG.DESTROY_ASSETS_RESPONSE:this.destroyedAssetsPromise.resolvePromise();break;default:this.logger.info(`VideoFx worker received unknown event msg: ${JSON.stringify(t)}`)}}settleEngineBuildPromise(e){e!==m.SEGMENTATION_MODEL.LOAD_SUCCESS?this.buildEnginePromise.rejectPromise(new Error("Failed to build VideoFxProcessor's engine")):(this.logger.info("Successfully built the VideoFxEngine"),this.buildEnginePromise.resolvePromise())}settleSegmentationPromise(e){e?this.segmentationRequestPromise.resolveAndReplacePromise(e):this.segmentationRequestPromise.rejectAndReplacePromise(new Error("Failed to perform a segmentation on the input image"))}settleSegmentationPromiseSAB(){try{const e=new ImageData(new Uint8ClampedArray(this.sharedImageData),m.SEGMENTATION_MODEL.WIDTH_IN_PIXELS,m.SEGMENTATION_MODEL.HEIGHT_IN_PIXELS);this.segmentationRequestPromise.resolveAndReplacePromise(e)}catch(e){this.segmentationRequestPromise.rejectAndReplacePromise(new Error("Failed to perform a segmentation with a shared array buffer on the input image"))}}setToNoOpProcess(){this.process=this.noOpProcess}static isSupported(e=new c.default,t=!0){return i(this,void 0,void 0,(function*(){let n=!0;const r=(t,i)=>{t&&(e.info(i),n=!1)};return r("undefined"==typeof globalThis,"Browser does not have globalThis."),r(!o.supportsWorker(globalThis,e),"Browser does not support web workers."),r(!o.supportsWASM(globalThis,e),"Browser does not support wasm."),r(!document.createElement("canvas").getContext("webgl2"),"Browser does not support webgl."),r(!(new s.default).isVideoFxSupportedBrowser(),"Browser is unsupported for VideoFxProcessor"),Promise.resolve(!!n&&(yield(()=>i(this,void 0,void 0,(function*(){if(t)try{const t=new g(e);yield t.loadAssets(),yield t.destroy()}catch(t){return e.info("Browser environment is unable to access the required external assets."),Promise.resolve(!1)}return Promise.resolve(!0)})))()))}))}static create(e,t,n=m.RESOURCE_CONSTRAINTS.DEFAULT_PROCESSING_BUDGET_PER_FRAME){return i(this,void 0,void 0,(function*(){const i=new g(e,n);try{return yield i.loadAssets(),yield i.setEffectConfig(t),i}catch(t){throw e.error(t.toString()),i.setToNoOpProcess(),new Error("VideoFxProcessor built with support for only NoOp processing")}}))}setEventController(e){this.eventController?this.eventController=e:(this.eventController=e,this.publishVideoFxConfigEvent())}publishVideoFxConfigEvent(){const e={backgroundBlurEnabled:this.effectConfig.backgroundBlur.isEnabled.toString(),backgroundBlurStrength:this.effectConfig.backgroundBlur.strength,backgroundReplacementEnabled:this.effectConfig.backgroundReplacement.isEnabled.toString(),backgroundFilterVersion:2};this.eventController.publishEvent("backgroundFilterConfigSelected",e)}sameVideoFxConfig(e,t){return e.backgroundBlur.isEnabled===t.backgroundBlur.isEnabled&&e.backgroundBlur.strength===t.backgroundBlur.strength&&e.backgroundReplacement.backgroundImageURL===t.backgroundReplacement.backgroundImageURL&&e.backgroundReplacement.defaultColor===t.backgroundReplacement.defaultColor&&e.backgroundReplacement.isEnabled===t.backgroundReplacement.isEnabled}}t.default=g,g.isSharedArrayBufferSupported="undefined"!=typeof SharedArrayBuffer},9935:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VideoFxSegmentationRateManager=void 0;const i=n(2913);t.VideoFxSegmentationRateManager=class{constructor(e,t){this.logger=e,this.targetSegmentationCyclePercentage=t/100,this.frameCountOverSamplingPeriod=0,this.totalSegmentationDurationOverSamplingPeriod=0,this.samplingPeriodStartTime=performance.now(),this.framesPerSegmentation=i.RESOURCE_CONSTRAINTS.SEGMENTATION_DEFAULT_FRAMES_PER_SEGMENTATION}submitFrame(){this.frameCountOverSamplingPeriod++}shouldApplySegmentation(){return this.frameCountOverSamplingPeriod%this.framesPerSegmentation==0}startSegmentation(){this.frameSegmentationStartTime=performance.now()}completeSegmentation(){this.totalSegmentationDurationOverSamplingPeriod+=performance.now()-this.frameSegmentationStartTime,this.frameCountOverSamplingPeriod>=i.RESOURCE_CONSTRAINTS.SEGMENTATION_SAMPLING_PERIOD_FRAME_COUNT&&this.adjustFramesPerSegmentation(this.totalSegmentationDurationOverSamplingPeriod/(performance.now()-this.samplingPeriodStartTime))}adjustFramesPerSegmentation(e){e>this.targetSegmentationCyclePercentage?(this.framesPerSegmentation++,this.logger.info(`Segmentation cycle percentage above the configured maximal value. Decreasing segmentation rate to 1 segmentation per ${this.framesPerSegmentation} frames`)):this.framesPerSegmentation>1&&e<this.targetSegmentationCyclePercentage&&(this.framesPerSegmentation--,this.logger.info(`Segmentation cycle percentage below the configured maximal value. Increasing segmentation rate to 1 segmentation per ${this.framesPerSegmentation} frames`)),this.totalSegmentationDurationOverSamplingPeriod=0,this.frameCountOverSamplingPeriod=0,this.samplingPeriodStartTime=performance.now()}}},60:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{}},1508:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});class n{constructor(e){this.ids=new Set(e)}add(e){this.ids.add(e)}array(){return Array.from(this.ids.values()).sort(((e,t)=>e-t))}contain(e){return this.ids.has(e)}forEach(e){this.ids.forEach(e)}empty(){return 0===this.ids.size}size(){return this.ids.size}equal(e){if(!e)return 0===this.ids.size;const t=this.array(),n=e.array();if(t.length!==n.length)return!1;for(let e=0;e<t.length;e++)if(t[e]!==n[e])return!1;return!0}clone(){return new n(this.array())}remove(e){this.ids.delete(e)}toJSON(){return this.array()}truncate(e){const t=this.array();return new n(t.splice(0,e))}}t.default=n},1318:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(289),r=n(1508),a=n(6876);t.default=class{constructor(e){this.logger=e,this.currentIndex=null,this.indexForSubscribe=null,this.currentSubscribeAck=null,this.subscribeTrackToStreamMap=null,this.subscribeStreamToAttendeeMap=null,this.subscribeStreamToExternalUserIdMap=null,this.subscribeSsrcToStreamMap=null,this.streamToAttendeeMap=null,this.streamToExternalUserIdMap=null,this.videoStreamDescription=new a.default,this.videoStreamDescription.trackLabel="AmazonChimeExpressVideo",this.videoStreamDescription.streamId=2,this.videoStreamDescription.groupId=2}localStreamDescriptions(){return[this.videoStreamDescription.clone()]}convertBpsToKbps(e){return e>0&&e<1e3?1:Math.trunc(e/1e3)}remoteStreamDescriptions(){if(!this.currentIndex||!this.currentIndex.sources)return[];const e=[];return this.currentIndex.sources.forEach((t=>{const n=new a.default;n.attendeeId=t.attendeeId,n.groupId=t.groupId,n.streamId=t.streamId,n.maxBitrateKbps=t.maxBitrateKbps,n.avgBitrateKbps=this.convertBpsToKbps(t.avgBitrateBps),e.push(n)})),e}integrateUplinkPolicyDecision(e){if(e&&e.length){const t=e[0];this.videoStreamDescription.maxBitrateKbps=t.maxBitrate/1e3,this.videoStreamDescription.maxFrameRate=t.maxFramerate}}integrateIndexFrame(e){this.currentIndex=e;const t=new Map;let n=!1;for(const i of e.sources){if(!t.has(i.attendeeId)){t.set(i.attendeeId,i.groupId);continue}const e=t.get(i.attendeeId);e<i.groupId&&(this.logger.warn(`Old group ID ${e} found for attendee ID ${i.attendeeId}, replacing with newer group ID ${i.groupId}`),t.set(i.attendeeId,i.groupId)),n=!0}n&&(this.currentIndex.sources=this.currentIndex.sources.filter((e=>t.get(e.attendeeId)===e.groupId))),this.streamToAttendeeMap=null,this.streamToExternalUserIdMap=null}subscribeFrameSent(){this.indexForSubscribe=this.currentIndex}integrateSubscribeAckFrame(e){this.currentSubscribeAck=e,this.subscribeTrackToStreamMap=this.buildTrackToStreamMap(this.currentSubscribeAck),this.subscribeSsrcToStreamMap=this.buildSSRCToStreamMap(this.currentSubscribeAck),this.subscribeStreamToAttendeeMap=this.buildStreamToAttendeeMap(this.indexForSubscribe),this.subscribeStreamToExternalUserIdMap=this.buildStreamExternalUserIdMap(this.indexForSubscribe)}integrateBitratesFrame(e){if(this.currentIndex)for(const t of e.bitrates){const e=this.currentIndex.sources.find((e=>e.streamId===t.sourceStreamId));void 0!==e&&(e.avgBitrateBps=t.avgBitrateBps)}}allStreams(){const e=new r.default;if(this.currentIndex)for(const t of this.currentIndex.sources)e.add(t.streamId);return e}allVideoSendingSourcesExcludingSelf(e){const t=[],n=new Set;if(this.currentIndex&&this.currentIndex.sources&&this.currentIndex.sources.length)for(const r of this.currentIndex.sources){const{attendeeId:a,externalUserId:o,mediaType:s}=r;a!==e&&s===i.SdkStreamMediaType.VIDEO&&(n.has(a)||(t.push({attendee:{attendeeId:a,externalUserId:o}}),n.add(a)))}return t}streamSelectionUnderBandwidthConstraint(e,t,n,a){const o=new Set;if(this.currentIndex)for(const r of this.currentIndex.sources)r.attendeeId!==e&&r.mediaType===i.SdkStreamMediaType.VIDEO&&(t.has(r.attendeeId)||n.has(r.attendeeId)||o.add(r.attendeeId));const s=this.buildAttendeeToSortedStreamDescriptorMapExcludingSelf(e),c=new Map;let d=0;s.forEach(((e,t)=>{c.set(t,e[0]),d+=e[0].maxBitrateKbps})),d=this.trySelectHighBitrateForAttendees(s,t,d,a,c),this.trySelectHighBitrateForAttendees(s,o,d,a,c);const l=new r.default;for(const e of c.values())l.add(e.streamId);return l}highestQualityStreamFromEachGroupExcludingSelf(e){const t=new r.default;if(this.currentIndex){const n=new Map;for(const t of this.currentIndex.sources)t.attendeeId!==e&&t.mediaType===i.SdkStreamMediaType.VIDEO&&(!n.has(t.groupId)||t.maxBitrateKbps>n.get(t.groupId).maxBitrateKbps)&&n.set(t.groupId,t);for(const e of n.values())t.add(e.streamId)}return t}numberOfVideoPublishingParticipantsExcludingSelf(e){return this.highestQualityStreamFromEachGroupExcludingSelf(e).array().length}numberOfParticipants(){return this.currentIndex.numParticipants?this.currentIndex.numParticipants:-1}attendeeIdForTrack(e){const t=this.streamIdForTrack(e);if(void 0===t||!this.subscribeStreamToAttendeeMap)return this.logger.warn(`no attendee found for track ${e}`),"";return this.subscribeStreamToAttendeeMap.get(t)||(this.logger.info(`track ${e} (stream ${t}) does not correspond to a known attendee`),"")}externalUserIdForTrack(e){const t=this.streamIdForTrack(e);if(void 0===t||!this.subscribeStreamToExternalUserIdMap)return this.logger.warn(`no external user id found for track ${e}`),"";return this.subscribeStreamToExternalUserIdMap.get(t)||(this.logger.info(`track ${e} (stream ${t}) does not correspond to a known externalUserId`),"")}attendeeIdForStreamId(e){if(!this.streamToAttendeeMap){if(!this.currentIndex)return"";this.streamToAttendeeMap=this.buildStreamToAttendeeMap(this.currentIndex)}return this.streamToAttendeeMap.get(e)||(this.logger.info(`stream ${e}) does not correspond to a known attendee`),"")}groupIdForStreamId(e){if(this.currentIndex&&this.currentIndex.sources){for(const t of this.currentIndex.sources)if(t.streamId===e)return t.groupId;if(this.indexForSubscribe)for(const t of this.indexForSubscribe.sources)if(t.streamId===e)return t.groupId}}StreamIdsInSameGroup(e,t){return this.groupIdForStreamId(e)===this.groupIdForStreamId(t)}streamIdForTrack(e){if(this.subscribeTrackToStreamMap)return this.subscribeTrackToStreamMap.get(e)}streamIdForSSRC(e){if(this.subscribeSsrcToStreamMap)return this.subscribeSsrcToStreamMap.get(e)}overrideStreamIdMappings(e,t){if(this.subscribeTrackToStreamMap)for(const[n,i]of this.subscribeTrackToStreamMap.entries())if(e===i){this.subscribeTrackToStreamMap.set(n,t);break}if(this.subscribeSsrcToStreamMap)for(const[n,i]of this.subscribeSsrcToStreamMap.entries())if(e===i){this.subscribeSsrcToStreamMap.set(n,t);break}}streamsPausedAtSource(){const e=new r.default;if(this.currentIndex)for(const t of this.currentIndex.pausedAtSourceIds)e.add(t);return e}buildTrackToStreamMap(e){const t=new Map;this.logger.debug((()=>`trackMap ${JSON.stringify(e.tracks)}`));for(const n of e.tracks)n.trackLabel.length>0&&n.streamId>0&&t.set(n.trackLabel,n.streamId);return t}buildSSRCToStreamMap(e){const t=new Map;this.logger.debug((()=>`ssrcMap ${JSON.stringify(e.tracks)}`));for(const n of e.tracks)n.trackLabel.length>0&&n.streamId>0&&t.set(n.ssrc,n.streamId);return t}buildStreamToAttendeeMap(e){const t=new Map;if(e)for(const n of e.sources)t.set(n.streamId,n.attendeeId);return t}buildStreamExternalUserIdMap(e){const t=new Map;if(e)for(const n of e.sources)n.externalUserId&&t.set(n.streamId,n.externalUserId);return t}trySelectHighBitrateForAttendees(e,t,n,i,r){for(const a of t){if(n>=i)break;if(e.has(a)){const t=e.get(a);for(const e of t.reverse())if(n-r.get(a).maxBitrateKbps+e.maxBitrateKbps<i){n=n-r.get(a).maxBitrateKbps+e.maxBitrateKbps,r.set(a,e);break}}}return n}buildAttendeeToSortedStreamDescriptorMapExcludingSelf(e){const t=new Map;if(this.currentIndex)for(const n of this.currentIndex.sources)n.attendeeId!==e&&n.mediaType===i.SdkStreamMediaType.VIDEO&&(t.has(n.attendeeId)?t.get(n.attendeeId).push(n):t.set(n.attendeeId,[n]));return t.forEach(((e,t)=>{e.sort(((e,t)=>e.maxBitrateKbps>t.maxBitrateKbps?1:e.maxBitrateKbps<t.maxBitrateKbps?-1:0))})),t}}},4242:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(289),r=n(1318),a=n(6876);class o extends r.default{constructor(e){super(e),this.streamIdToBitrateKbpsMap=new Map,this._localStreamInfos=[],this._lastBitRateMsgTime=Date.now()}localStreamDescriptions(){const e=[];return this._localStreamInfos.forEach((t=>{e.push(t.clone())})),e}integrateUplinkPolicyDecision(e){let t=!0,n=0;for(let i=0;i<e.length;i++){const r=e[i].maxBitrate/1e3,o=e[i].maxFramerate;if(t&&i!==this._localStreamInfos.length)0===this._localStreamInfos[n].maxBitrateKbps&&r>0&&(this._localStreamInfos[n].timeEnabled=Date.now()),this._localStreamInfos[n].maxBitrateKbps=r,this._localStreamInfos[n].maxFrameRate=o,this._localStreamInfos[n].disabledByUplinkPolicy=0===r,!0===this._localStreamInfos[n].disabledByUplinkPolicy&&(this._localStreamInfos[n].disabledByWebRTC=!1),n++;else{t=!1;const e=new a.default;e.maxBitrateKbps=r,e.maxFrameRate=o,e.disabledByUplinkPolicy=0===r,0!==r&&(e.timeEnabled=Date.now()),this._localStreamInfos.push(e),n++}}t&&this._localStreamInfos.splice(n)}integrateBitratesFrame(e){super.integrateBitratesFrame(e);const t=new Set,n=new Set(this.streamIdToBitrateKbpsMap.keys());for(const n of e.bitrates)t.add(n.sourceStreamId),this.streamIdToBitrateKbpsMap.set(n.sourceStreamId,this.convertBpsToKbps(n.avgBitrateBps));for(const e of n)t.has(e)||(this.streamIdToBitrateKbpsMap.get(e)===o.UNSEEN_STREAM_BITRATE?this.streamIdToBitrateKbpsMap.set(e,o.RECENTLY_INACTIVE_STREAM_BITRATE):this.streamIdToBitrateKbpsMap.set(e,o.NOT_SENDING_STREAM_BITRATE));for(let e=0;e<this._localStreamInfos.length;e++){this._localStreamInfos[e].disabledByWebRTC=!1;const t=this._localStreamInfos[e].streamId;this._localStreamInfos[e].disabledByUplinkPolicy||(this.streamIdToBitrateKbpsMap.has(t)?this.streamIdToBitrateKbpsMap.get(t)===o.NOT_SENDING_STREAM_BITRATE&&this._lastBitRateMsgTime-this._localStreamInfos[e].timeEnabled>o.BitratesMsgFrequencyMs&&(this._localStreamInfos[e].disabledByWebRTC=!0):this._lastBitRateMsgTime-this._localStreamInfos[e].timeEnabled>o.BitratesMsgFrequencyMs&&(this._localStreamInfos[e].disabledByWebRTC=!0))}this._lastBitRateMsgTime=Date.now(),this.logLocalStreamDescriptions()}logLocalStreamDescriptions(){let e="";for(const t of this._localStreamInfos)e+=`streamId=${t.streamId} maxBitrate=${t.maxBitrateKbps} disabledByWebRTC=${t.disabledByWebRTC} disabledByUplink=${t.disabledByUplinkPolicy}\n`;this.logger.debug((()=>e))}integrateIndexFrame(e){super.integrateIndexFrame(e);const t=new Set,n=new Set(this.streamIdToBitrateKbpsMap.keys());for(const e of this.currentIndex.sources)e.mediaType===i.SdkStreamMediaType.VIDEO&&(t.add(e.streamId),this.streamIdToBitrateKbpsMap.has(e.streamId)||this.streamIdToBitrateKbpsMap.set(e.streamId,o.UNSEEN_STREAM_BITRATE));for(const e of n)t.has(e)||this.streamIdToBitrateKbpsMap.delete(e)}integrateSubscribeAckFrame(e){if(super.integrateSubscribeAckFrame(e),!e.allocations||void 0===e.allocations)return;let t=0;for(const n of e.allocations){if(this._localStreamInfos.length<t+1){this.logger.info("simulcast: allocation has more than number of local streams");break}this._localStreamInfos[t].groupId=n.groupId,this._localStreamInfos[t].streamId=n.streamId,this.streamIdToBitrateKbpsMap.has(n.streamId)||this.streamIdToBitrateKbpsMap.set(n.streamId,o.UNSEEN_STREAM_BITRATE),t++}}}t.default=o,o.UNSEEN_STREAM_BITRATE=-2,o.RECENTLY_INACTIVE_STREAM_BITRATE=-1,o.NOT_SENDING_STREAM_BITRATE=0,o.BitratesMsgFrequencyMs=4e3},6876:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(289);class r{constructor(e,t,n,i,r){this.attendeeId="",this.groupId=0,this.streamId=0,this.ssrc=0,this.trackLabel="",this.maxBitrateKbps=0,this.avgBitrateKbps=0,this.maxFrameRate=0,this.timeEnabled=0,this.disabledByWebRTC=!1,this.disabledByUplinkPolicy=!1,this.attendeeId=e,this.groupId=t,this.streamId=n,this.maxBitrateKbps=i,this.avgBitrateKbps=r}clone(){const e=new r;return e.attendeeId=this.attendeeId,e.groupId=this.groupId,e.streamId=this.streamId,e.ssrc=this.ssrc,e.trackLabel=this.trackLabel,e.maxBitrateKbps=this.maxBitrateKbps,e.avgBitrateKbps=this.avgBitrateKbps,e.maxFrameRate=this.maxFrameRate,e.timeEnabled=this.timeEnabled,e.disabledByWebRTC=this.disabledByWebRTC,e.disabledByUplinkPolicy=this.disabledByUplinkPolicy,e}toStreamDescriptor(){const e=i.SdkStreamDescriptor.create();return e.mediaType=i.SdkStreamMediaType.VIDEO,e.trackLabel=this.trackLabel,e.attendeeId=this.attendeeId,e.streamId=this.streamId,e.groupId=this.groupId,e.framerate=this.maxFrameRate,e.maxBitrateKbps=this.disabledByUplinkPolicy||this.disabledByWebRTC?0:this.maxBitrateKbps,e.avgBitrateBps=this.avgBitrateKbps,e}}t.default=r},3327:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(543),r=n(214),a=n(7804);class o{constructor(e,t,n,i){this.tileController=n,this.devicePixelRatioMonitor=i,this.tileState=new a.default,this.tileState.tileId=e,this.tileState.localTile=t,this.devicePixelRatioMonitor.registerObserver(this)}static connectVideoStreamToVideoElement(e,t,n){const r=n&&"environment"!==e.getVideoTracks()[0].getSettings().facingMode?"rotateY(180deg)":"";if(o.setVideoElementFlag(t,"disablePictureInPicture",n),o.setVideoElementFlag(t,"disableRemotePlayback",n),t.style.transform!==r&&(t.style.transform=r),t.hasAttribute("controls")&&t.removeAttribute("controls"),t.hasAttribute("autoplay")||t.setAttribute("autoplay","true"),t.hasAttribute("playsinline")||t.setAttribute("playsinline","true"),t.hasAttribute("muted")||(t.setAttribute("muted","true"),t.muted=!0),t.srcObject!==e&&(t.srcObject=e,(new i.default).requiresVideoPlayWorkaround()&&t.paused)){const e=t.play();void 0!==e&&e.catch((e=>{console.warn("Error playing video in Safari",e)})).then((()=>{console.debug("Video played successfully in Safari")}))}}static disconnectVideoStreamFromVideoElement(e,t,n=!1){if(e)if(t)n||(e.srcObject=null,e.style.transform="");else{if(!e.srcObject)return;e.pause(),e.style.transform="",o.setVideoElementFlag(e,"disablePictureInPicture",!1),o.setVideoElementFlag(e,"disableRemotePlayback",!1),e.srcObject=null}}destroy(){this.devicePixelRatioMonitor.removeObserver(this),this.tileState.boundVideoElement&&this.tileState.boundVideoElement.srcObject===this.tileState.boundVideoStream&&o.disconnectVideoStreamFromVideoElement(this.tileState.boundVideoElement,!1),this.tileState=new a.default}devicePixelRatioChanged(e){this.tileState.devicePixelRatio=e,this.sendTileStateUpdate()}id(){return this.tileState.tileId}state(){return this.tileState.clone()}stateRef(){return this.tileState}bindVideoStream(e,t,n,i,a,o,s){let c=!1;this.tileState.boundAttendeeId!==e&&(this.tileState.boundAttendeeId=e,new r.default(e).hasModality(r.default.MODALITY_CONTENT)&&(this.tileState.isContent=!0),c=!0),this.tileState.boundExternalUserId!==s&&(this.tileState.boundExternalUserId=s,c=!0),this.tileState.localTile!==t&&(this.tileState.localTile=t,c=!0),this.tileState.boundVideoStream!==n&&(this.tileState.boundVideoStream=n,c=!0),this.tileState.videoStreamContentWidth!==i&&(this.tileState.videoStreamContentWidth=i,c=!0),this.tileState.videoStreamContentHeight!==a&&(this.tileState.videoStreamContentHeight=a,c=!0),this.tileState.streamId!==o&&(this.tileState.streamId=o,c=!0),c&&this.sendTileStateUpdate()}bindVideoElement(e){let t=!1;this.tileState.boundVideoElement!==e&&(this.tileState.boundVideoElement=e,t=!0),null!==this.tileState.boundVideoElement?(this.tileState.videoElementCSSWidthPixels!==e.clientWidth&&(this.tileState.videoElementCSSWidthPixels=e.clientWidth,t=!0),this.tileState.videoElementCSSHeightPixels!==e.clientHeight&&(this.tileState.videoElementCSSHeightPixels=e.clientHeight,t=!0)):(this.tileState.videoElementCSSWidthPixels=null,this.tileState.videoElementCSSHeightPixels=null),t&&this.sendTileStateUpdate()}pause(){this.tileState.paused||(this.tileState.paused=!0,this.sendTileStateUpdate())}unpause(){this.tileState.paused&&(this.tileState.paused=!1,this.sendTileStateUpdate())}markPoorConnection(){return!this.tileState.poorConnection&&(this.tileState.poorConnection=!0,this.sendTileStateUpdate(),!0)}unmarkPoorConnection(){return!!this.tileState.poorConnection&&(this.tileState.poorConnection=!1,this.sendTileStateUpdate(),!0)}capture(){if(!this.tileState.active)return null;const e=document.createElement("canvas"),t=this.tileState.boundVideoElement;e.width=t.videoWidth||t.width,e.height=t.videoHeight||t.height;const n=e.getContext("2d");return n.drawImage(t,0,0,e.width,e.height),n.getImageData(0,0,e.width,e.height)}setStreamId(e){this.tileState.streamId=e,this.tileController.sendTileStateUpdate(this.state())}sendTileStateUpdate(){this.updateActiveState(),this.updateVideoStreamOnVideoElement(),this.updateVideoElementPhysicalPixels(),this.tileController.sendTileStateUpdate(this.state())}updateActiveState(){this.tileState.active=!(this.tileState.paused||this.tileState.poorConnection||!this.tileState.boundAttendeeId||!this.tileState.boundVideoElement||!this.tileState.boundVideoStream)}updateVideoElementPhysicalPixels(){"number"==typeof this.tileState.videoElementCSSWidthPixels&&"number"==typeof this.tileState.videoElementCSSHeightPixels?(this.tileState.videoElementPhysicalWidthPixels=this.tileState.devicePixelRatio*this.tileState.videoElementCSSWidthPixels,this.tileState.videoElementPhysicalHeightPixels=this.tileState.devicePixelRatio*this.tileState.videoElementCSSHeightPixels):(this.tileState.videoElementPhysicalWidthPixels=null,this.tileState.videoElementPhysicalHeightPixels=null)}updateVideoStreamOnVideoElement(){this.tileState.active?o.connectVideoStreamToVideoElement(this.tileState.boundVideoStream,this.tileState.boundVideoElement,this.tileState.localTile):o.disconnectVideoStreamFromVideoElement(this.tileState.boundVideoElement,this.tileState.paused,this.tileController.keepLastFrameWhenPaused)}static setVideoElementFlag(e,t,n){t in e&&(e[t]=n)}}t.default=o},7804:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});class n{constructor(){this.tileId=null,this.localTile=!1,this.localTileStarted=!1,this.isContent=!1,this.active=!1,this.paused=!1,this.poorConnection=!1,this.boundAttendeeId=null,this.boundExternalUserId=null,this.boundVideoStream=null,this.boundVideoElement=null,this.nameplate=null,this.videoStreamContentWidth=null,this.videoStreamContentHeight=null,this.videoElementCSSWidthPixels=null,this.videoElementCSSHeightPixels=null,this.devicePixelRatio=0,this.videoElementPhysicalWidthPixels=null,this.videoElementPhysicalHeightPixels=null,this.streamId=null}clone(){const e=new n;return e.tileId=this.tileId,e.localTile=this.localTile,e.isContent=this.isContent,e.active=this.active,e.paused=this.paused,e.poorConnection=this.poorConnection,e.boundAttendeeId=this.boundAttendeeId,e.boundExternalUserId=this.boundExternalUserId,e.boundVideoStream=this.boundVideoStream,e.boundVideoElement=this.boundVideoElement,e.nameplate=this.nameplate,e.videoStreamContentWidth=this.videoStreamContentWidth,e.videoStreamContentHeight=this.videoStreamContentHeight,e.videoElementCSSWidthPixels=this.videoElementCSSWidthPixels,e.videoElementCSSHeightPixels=this.videoElementCSSHeightPixels,e.devicePixelRatio=this.devicePixelRatio,e.videoElementPhysicalWidthPixels=this.videoElementPhysicalWidthPixels,e.videoElementPhysicalHeightPixels=this.videoElementPhysicalHeightPixels,e.streamId=this.streamId,e}}t.default=n},2958:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,a){function o(e){try{c(i.next(e))}catch(e){a(e)}}function s(e){try{c(i.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const r=n(8236),a=n(9190),o=n(8660),s=n(3327);t.default=class{constructor(e,t,n){this.tileFactory=e,this.audioVideoController=t,this.logger=n,this.tileMap=new Map,this.nextTileId=1,this.currentLocalTile=null,this.currentPausedTilesByIds=new Set,this.keepLastFrameWhenPaused=!1,this.keepLastFrameWhenPaused=t.configuration.keepLastFrameWhenPaused}createDevicePixelRatioMonitorIfNeeded(){this.devicePixelRatioMonitor||(this.devicePixelRatioMonitor=new r.default(new a.default,this.logger))}discardDevicePixelRatioMonitorIfNotNeeded(){return i(this,void 0,void 0,(function*(){if(this.tileMap.size||!this.devicePixelRatioMonitor)return;const e=this.devicePixelRatioMonitor;return this.devicePixelRatioMonitor=void 0,e.destroy()}))}bindVideoElement(e,t){const n=this.getVideoTile(e);null!==n?n.bindVideoElement(t):this.logger.warn(`Ignoring video element binding for unknown tile id ${e}`)}unbindVideoElement(e,t=!0){const n=this.getVideoTile(e);if(null===n)return void this.logger.warn(`Ignoring video element unbinding for unknown tile id ${e}`);this.logger.info("Unbinding the video element");const i=n.stateRef().boundVideoElement;n.bindVideoElement(null),t&&(this.logger.info("Cleaning up the video element"),s.default.disconnectVideoStreamFromVideoElement(i,!1))}startLocalVideoTile(){const e=this.findOrCreateLocalVideoTile();return this.currentLocalTile.stateRef().localTileStarted=!0,this.audioVideoController.update({needsRenegotiation:!0}),e.id()}stopLocalVideoTile(){this.currentLocalTile&&(this.currentLocalTile.stateRef().localTileStarted=!1,this.currentLocalTile.bindVideoStream(this.audioVideoController.configuration.credentials.attendeeId,!0,null,null,null,null,this.audioVideoController.configuration.credentials.externalUserId),this.audioVideoController.update({needsRenegotiation:!0}))}hasStartedLocalVideoTile(){return!(!this.currentLocalTile||!this.currentLocalTile.stateRef().localTileStarted)}removeLocalVideoTile(){this.currentLocalTile&&this.removeVideoTile(this.currentLocalTile.id())}getLocalVideoTile(){return this.currentLocalTile}pauseVideoTile(e){const t=this.getVideoTile(e);t&&(this.currentPausedTilesByIds.has(e)||(this.audioVideoController.pauseReceivingStream(t.stateRef().streamId),this.currentPausedTilesByIds.add(e)),t.pause())}unpauseVideoTile(e){const t=this.getVideoTile(e);t&&(this.currentPausedTilesByIds.has(e)&&(this.audioVideoController.resumeReceivingStream(t.stateRef().streamId),this.currentPausedTilesByIds.delete(e)),t.unpause())}getVideoTile(e){return this.tileMap.has(e)?this.tileMap.get(e):null}getVideoTileArea(e){const t=e.state();let n=0,i=0;return t.boundVideoElement&&(n=t.boundVideoElement.clientHeight*t.devicePixelRatio,i=t.boundVideoElement.clientWidth*t.devicePixelRatio),n*i}getAllRemoteVideoTiles(){const e=new Array;return this.tileMap.forEach(((t,n)=>{this.currentLocalTile&&n===this.currentLocalTile.id()||e.push(t)})),e}getAllVideoTiles(){return Array.from(this.tileMap.values())}addVideoTile(e=!1){const t=this.nextTileId;this.nextTileId+=1,this.createDevicePixelRatioMonitorIfNeeded();const n=this.tileFactory.makeTile(t,e,this,this.devicePixelRatioMonitor);return this.tileMap.set(t,n),n}removeVideoTile(e){if(!this.tileMap.has(e))return;const t=this.tileMap.get(e);this.currentLocalTile===t&&(this.currentLocalTile=null),t.destroy(),this.tileMap.delete(e),this.audioVideoController.forEachObserver((t=>{o.Maybe.of(t.videoTileWasRemoved).map((n=>n.bind(t)(e)))})),this.discardDevicePixelRatioMonitorIfNotNeeded()}removeVideoTilesByAttendeeId(e){const t=[];for(const n of this.getAllVideoTiles()){const i=n.state();i.boundAttendeeId===e&&(this.removeVideoTile(i.tileId),t.push(i.tileId))}return t}removeAllVideoTiles(){const e=Array.from(this.tileMap.keys());for(const t of e)this.removeVideoTile(t)}sendTileStateUpdate(e){this.audioVideoController.forEachObserver((t=>{o.Maybe.of(t.videoTileDidUpdate).map((n=>n.bind(t)(e)))}))}haveVideoTilesWithStreams(){for(const e of this.getAllVideoTiles())if(e.state().boundVideoStream)return!0;return!1}haveVideoTileForAttendeeId(e){return!!this.getVideoTileForAttendeeId(e)}getVideoTileForAttendeeId(e){for(const t of this.getAllVideoTiles())if(t.state().boundAttendeeId===e)return t}captureVideoTile(e){const t=this.getVideoTile(e);return t?t.capture():null}findOrCreateLocalVideoTile(){return this.currentLocalTile||(this.currentLocalTile=this.addVideoTile(!0),this.currentLocalTile.bindVideoStream(this.audioVideoController.configuration.credentials.attendeeId,!0,null,null,null,null,this.audioVideoController.configuration.credentials.externalUserId)),this.currentLocalTile}}},4922:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(3327);t.default=class{makeTile(e,t,n,r){return new i.default(e,t,n,r)}}},9394:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{}},4450:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(7606),r=n(5785),a=n(8660),o=n(1133),s=n(9394);class c{constructor(e,t){this.selfAttendeeId=e,this.logger=t,this.numSenders=0,this.shouldDisableSimulcast=!1,this.newQualityMap=new Map,this.currentQualityMap=new Map,this.newActiveStreams=1,this.currentActiveStreams=1,this.lastUplinkBandwidthKbps=c.defaultUplinkBandwidthKbps,this.startTimeMs=0,this.lastUpdatedMs=Date.now(),this.videoIndex=null,this.currLocalDescriptions=[],this.nextLocalDescriptions=[],this.observerQueue=new Set,this.optimalParameters=new o.default(0,0,0,0,!0),this.parametersInEffect=new o.default(0,0,0,0,!0),this.lastUplinkBandwidthKbps=c.defaultUplinkBandwidthKbps,this.currentQualityMap=this.fillEncodingParamWithBitrates([300,0,1200]),this.newQualityMap=this.fillEncodingParamWithBitrates([300,0,1200])}updateConnectionMetric({uplinkKbps:e=0}){if(isNaN(e))return;0===this.startTimeMs&&(this.startTimeMs=Date.now()),Date.now()-this.startTimeMs<c.startupDurationMs?this.lastUplinkBandwidthKbps=c.defaultUplinkBandwidthKbps:this.lastUplinkBandwidthKbps=e,this.logger.debug((()=>`simulcast: uplink policy update metrics ${this.lastUplinkBandwidthKbps}`));let t=c.holdDownDurationMs;3===this.currentActiveStreams?t=2*c.holdDownDurationMs:(2===this.currentActiveStreams&&e<=c.kMidDisabledRate||1===this.currentActiveStreams&&e<=c.kHiDisabledRate)&&(t=c.holdDownDurationMs/2),Date.now()<this.lastUpdatedMs+t||(this.newQualityMap=this.calculateEncodingParameters(!1))}calculateEncodingParameters(e){const t=[new s.default,new s.default,new s.default];let n=0,i=0;if(0===this.currentActiveStreams?(n=this.lastUplinkBandwidthKbps+1,i=0):1===this.currentActiveStreams?(n=2400,i=c.kHiDisabledRate):2===this.currentActiveStreams?(n=1e3,i=c.kMidDisabledRate):(n=300,i=0),e||this.lastUplinkBandwidthKbps>=n||this.lastUplinkBandwidthKbps<=i){this.shouldDisableSimulcast?(this.newActiveStreams=0,t[0].maxBitrateKbps=0,t[1].maxBitrateKbps=1200,t[2].maxBitrateKbps=0):this.numSenders<=4&&this.lastUplinkBandwidthKbps>=c.kHiDisabledRate?(this.newActiveStreams=1,t[0].maxBitrateKbps=300,t[1].maxBitrateKbps=0,t[2].maxBitrateKbps=1200):this.lastUplinkBandwidthKbps>=c.kMidDisabledRate?(this.newActiveStreams=2,t[0].maxBitrateKbps=this.lastUplinkBandwidthKbps>=350?200:150,t[1].maxBitrateKbps=this.numSenders<=6?600:350,t[2].maxBitrateKbps=0):(this.newActiveStreams=3,t[0].maxBitrateKbps=300,t[1].maxBitrateKbps=0,t[2].maxBitrateKbps=0);const e=t.map(((e,t,n)=>e.maxBitrateKbps));this.newQualityMap=this.fillEncodingParamWithBitrates(e),this.encodingParametersEqual()||this.logger.info(`simulcast: policy:calculateEncodingParameters bw:${this.lastUplinkBandwidthKbps} numSources:${this.numSenders} shouldDisableSimulcast:${this.shouldDisableSimulcast} newQualityMap: ${this.getQualityMapString(this.newQualityMap)}`)}return this.newQualityMap}chooseMediaTrackConstraints(){return{width:{ideal:1280},height:{ideal:768},frameRate:{ideal:15}}}chooseEncodingParameters(){return this.currentQualityMap=this.newQualityMap,this.currentActiveStreams=this.newActiveStreams,this.activeStreamsToPublish!==this.newActiveStreams&&(this.activeStreamsToPublish=this.newActiveStreams,this.publishEncodingSimulcastLayer()),this.currentQualityMap}updateIndex(e){const t=e.numberOfVideoPublishingParticipantsExcludingSelf(this.selfAttendeeId)+1,n=t!==this.numSenders,i=e.numberOfParticipants(),r=i>=0&&i<=2,a=this.shouldDisableSimulcast!==r;this.numSenders=t,this.shouldDisableSimulcast=r,this.optimalParameters=new o.default(this.captureWidth(),this.captureHeight(),this.captureFrameRate(),this.maxBandwidthKbps(),!1),this.videoIndex=e,this.newQualityMap=this.calculateEncodingParameters(n||a)}wantsResubscribe(){let e=!this.encodingParametersEqual();this.nextLocalDescriptions=this.videoIndex.localStreamDescriptions();for(let t=0;t<this.nextLocalDescriptions.length;t++){const n=this.nextLocalDescriptions[t].streamId;if(0!==n&&n){const i=this.currLocalDescriptions.findIndex((e=>e.streamId===n));-1!==i&&this.nextLocalDescriptions[t].disabledByWebRTC!==this.currLocalDescriptions[i].disabledByWebRTC&&(e=!0)}}return e&&(this.lastUpdatedMs=Date.now()),this.currLocalDescriptions=this.nextLocalDescriptions,e}compareEncodingParameter(e,t){return JSON.stringify(e)===JSON.stringify(t)}encodingParametersEqual(){let e=!1;for(const t of r.default.NAME_ARR_ASCENDING)if(e=e||!this.compareEncodingParameter(this.newQualityMap.get(t),this.currentQualityMap.get(t)),e)break;return!e}chooseCaptureAndEncodeParameters(){return this.parametersInEffect=this.optimalParameters.clone(),this.parametersInEffect.clone()}captureWidth(){return 1280}captureHeight(){return 768}captureFrameRate(){return 15}maxBandwidthKbps(){return 1400}setIdealMaxBandwidthKbps(e){}setHasBandwidthPriority(e){}fillEncodingParamWithBitrates(e){const t=new Map,n=r.default.NAME_ARR_ASCENDING,i=e;let a=this.shouldDisableSimulcast?1:4;for(let e=0;e<n.length;e++){const r=n[e];t.set(r,{rid:r,active:i[e]>0,scaleResolutionDownBy:Math.max(a,1),maxBitrate:1e3*i[e]}),a/=2}return t}getQualityMapString(e){let t="";const n=this.videoIndex.localStreamDescriptions();return 3===n.length&&e.forEach((e=>{let i=!1;i="low"===e.rid?n[0].disabledByWebRTC:"mid"===e.rid?n[1].disabledByWebRTC:n[2].disabledByWebRTC,t+=`{ rid: ${e.rid} active:${e.active} disabledByWebRTC: ${i} maxBitrate:${e.maxBitrate}}`})),t}getEncodingSimulcastLayer(e){switch(e){case 0:return i.default.High;case 1:return i.default.LowAndHigh;case 2:return i.default.LowAndMedium;case 3:return i.default.Low}}publishEncodingSimulcastLayer(){const e=this.getEncodingSimulcastLayer(this.activeStreamsToPublish);this.forEachObserver((t=>{a.Maybe.of(t.encodingSimulcastLayersDidChange).map((n=>n.bind(t)(e)))}))}addObserver(e){this.logger.info("adding simulcast uplink observer"),this.observerQueue.add(e)}removeObserver(e){this.logger.info("removing simulcast uplink observer"),this.observerQueue.delete(e)}forEachObserver(e){for(const t of this.observerQueue)e(t)}}t.default=c,c.defaultUplinkBandwidthKbps=1200,c.startupDurationMs=6e3,c.holdDownDurationMs=4e3,c.defaultMaxFrameRate=15,c.kHiDisabledRate=700,c.kMidDisabledRate=240},3879:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(816);t.default=class{constructor(e,t){this.logger=e,this.encodingParams=t,this.videoIndex=null,this.currLocalDescriptions=[],this.nextLocalDescriptions=[]}updateConnectionMetric(e){}chooseMediaTrackConstraints(){}chooseEncodingParameters(){var e,t,n,r,a,o,s,c,d,l,u,h;const p=new Map,m=i.default.NAME_ARR_ASCENDING;return p.set(m[0],{rid:m[0],active:!0,scaleResolutionDownBy:(null===(t=null===(e=this.encodingParams)||void 0===e?void 0:e.low)||void 0===t?void 0:t.scaleResolutionDownBy)||2,maxBitrate:1e3*((null===(r=null===(n=this.encodingParams)||void 0===n?void 0:n.low)||void 0===r?void 0:r.maxBitrateKbps)||300),maxFramerate:(null===(o=null===(a=this.encodingParams)||void 0===a?void 0:a.low)||void 0===o?void 0:o.maxFramerate)||5}),p.set(m[1],{rid:m[1],active:!0,scaleResolutionDownBy:(null===(c=null===(s=this.encodingParams)||void 0===s?void 0:s.high)||void 0===c?void 0:c.scaleResolutionDownBy)||1,maxBitrate:1e3*((null===(l=null===(d=this.encodingParams)||void 0===d?void 0:d.high)||void 0===l?void 0:l.maxBitrateKbps)||1200),maxFramerate:null===(h=null===(u=this.encodingParams)||void 0===u?void 0:u.high)||void 0===h?void 0:h.maxFramerate}),this.getQualityMapString(p),p}updateIndex(e){this.videoIndex=e}wantsResubscribe(){var e,t;let n=!1;this.nextLocalDescriptions=null===(e=this.videoIndex)||void 0===e?void 0:e.localStreamDescriptions();for(let e=0;e<(null===(t=this.nextLocalDescriptions)||void 0===t?void 0:t.length);e++){const t=this.nextLocalDescriptions[e].streamId;if(0!==t&&t){const i=this.currLocalDescriptions.findIndex((e=>e.streamId===t));-1!==i&&this.nextLocalDescriptions[e].disabledByWebRTC!==this.currLocalDescriptions[i].disabledByWebRTC&&(n=!0)}}return this.currLocalDescriptions=this.nextLocalDescriptions,n}chooseCaptureAndEncodeParameters(){}maxBandwidthKbps(){return 1200}setIdealMaxBandwidthKbps(e){}setHasBandwidthPriority(e){}getQualityMapString(e){var t;let n="";const i=null===(t=this.videoIndex)||void 0===t?void 0:t.localStreamDescriptions();(null==i?void 0:i.length)>0&&(e.forEach((e=>{let t=!1;t="low"===e.rid?i[0].disabledByWebRTC:i[1].disabledByWebRTC,n+=`{ rid: ${e.rid} active:${e.active} disabledByWebRTC: ${t} maxBitrate:${e.maxBitrate} scaleResolutionDownBy:${e.scaleResolutionDownBy} maxFrameRate:${e.maxFramerate}`})),this.logger.info(`simulcast: content policy:chooseEncodingParameters newQualityMap: ${n}`))}addObserver(e){}removeObserver(e){}forEachObserver(e){}}},2472:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,a){function o(e){try{c(i.next(e))}catch(e){a(e)}}function s(e){try{c(i.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const r=n(1133);class a{constructor(e,t=!0,n=void 0,i=void 0){this.selfAttendeeId=e,this.scaleResolution=t,this.logger=n,this.browserBehavior=i,this.numberOfPublishedVideoSources=0,this.idealMaxBandwidthKbps=1400,this.hasBandwidthPriority=!1,this.encodingParamMap=new Map,this.reset()}reset(){this.numberOfPublishedVideoSources=0,this.optimalParameters=new r.default(0,0,0,0,!1),this.parametersInEffect=new r.default(0,0,0,0,!1),this.encodingParamMap.set(a.encodingMapKey,{maxBitrate:0})}updateConnectionMetric(e){}chooseMediaTrackConstraints(){return{}}chooseEncodingParameters(){return new Map}updateIndex(e){var t;let n=!0,i=1;this.transceiverController&&(n=this.transceiverController.hasVideoInput());const a=e.numberOfVideoPublishingParticipantsExcludingSelf(this.selfAttendeeId)+(n?1:0);if(this.numberOfPublishedVideoSources!==a){if(this.numberOfPublishedVideoSources=a,this.transceiverController){const e=this.getStreamCaptureSetting();e&&(i=this.calculateEncodingParameters(e).scaleResolutionDownBy)}this.optimalParameters=new r.default(this.captureWidth(),this.captureHeight(),this.captureFrameRate(),this.maxBandwidthKbps(),!1,i)}else null===(t=this.logger)||void 0===t||t.debug("Skipping update index; Number of participants has not changed")}wantsResubscribe(){return!this.parametersInEffect.equal(this.optimalParameters)}chooseCaptureAndEncodeParameters(){return this.parametersInEffect=this.optimalParameters.clone(),this.parametersInEffect.clone()}captureWidth(){let e=640;return this.getNumberOfPublishedVideoSources()>4&&(e=320),e}captureHeight(){let e=384;return this.getNumberOfPublishedVideoSources()>4&&(e=192),e}captureFrameRate(){return 15}maxBandwidthKbps(){if(this.hasBandwidthPriority)return Math.trunc(this.idealMaxBandwidthKbps);let e=0;return e=this.getNumberOfPublishedVideoSources()<=2?this.idealMaxBandwidthKbps:this.getNumberOfPublishedVideoSources()<=4?2*this.idealMaxBandwidthKbps/3:(544/11+14880/(11*this.getNumberOfPublishedVideoSources()))/600*this.idealMaxBandwidthKbps,Math.trunc(e)}setIdealMaxBandwidthKbps(e){this.idealMaxBandwidthKbps=e}setHasBandwidthPriority(e){this.hasBandwidthPriority=e}setTransceiverController(e){this.transceiverController=e}updateTransceiverController(){return i(this,void 0,void 0,(function*(){const e=this.getStreamCaptureSetting();if(!e)return;const t=this.calculateEncodingParameters(e);this.shouldUpdateEndcodingParameters(t)&&(this.encodingParamMap.set(a.encodingMapKey,t),this.transceiverController.setEncodingParameters(this.encodingParamMap))}))}shouldUpdateEndcodingParameters(e){var t,n;const i=null===(n=null===(t=this.transceiverController.localVideoTransceiver().sender.getParameters())||void 0===t?void 0:t.encodings)||void 0===n?void 0:n[0];return e.maxBitrate!==(null==i?void 0:i.maxBitrate)||e.scaleResolutionDownBy!==(null==i?void 0:i.scaleResolutionDownBy)}calculateEncodingParameters(e){var t,n;const i=1e3*this.maxBandwidthKbps();let r=1;if(void 0!==e.height&&void 0!==e.width&&this.scaleResolution&&!this.hasBandwidthPriority&&this.getNumberOfPublishedVideoSources()>2){let i=a.targetHeightArray[Math.min(this.getNumberOfPublishedVideoSources(),a.targetHeightArray.length-1)];480===i&&(null===(t=this.browserBehavior)||void 0===t?void 0:t.disable480pResolutionScaleDown())&&(i=360),r=Math.max(Math.min(e.height,e.width)/i,1),null===(n=this.logger)||void 0===n||n.info(`Resolution scale factor is ${r} for capture resolution ${e.width}x${e.height}. New dimension is ${e.width/r}x${e.height/r}`)}return{scaleResolutionDownBy:r,maxBitrate:i}}getStreamCaptureSetting(){var e,t,n,i;return null===(i=null===(n=null===(t=null===(e=this.transceiverController)||void 0===e?void 0:e.localVideoTransceiver())||void 0===t?void 0:t.sender)||void 0===n?void 0:n.track)||void 0===i?void 0:i.getSettings()}getNumberOfPublishedVideoSources(){var e;return null!==(e=this.numberOfPublishedVideoSources)&&void 0!==e?e:0}}t.default=a,a.encodingMapKey="video",a.targetHeightArray=[0,0,0,540,540,480,480,480,480,360,360,360,360,270,270,270,270,180,180,180,180,180,180,180,180,180]},657:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(1133);t.default=class{constructor(){}updateConnectionMetric(e){}chooseMediaTrackConstraints(){return{}}chooseEncodingParameters(){return new Map}updateIndex(e){}wantsResubscribe(){return!1}chooseCaptureAndEncodeParameters(){return new i.default(0,0,0,0,!1)}maxBandwidthKbps(){return 0}setIdealMaxBandwidthKbps(e){}setHasBandwidthPriority(e){}}},3928:(e,t)=>{"use strict";function n(e){return e.map((e=>"object"==typeof e?JSON.stringify(e):`${e}`)).join(" ")}Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{constructor(e){this.base=e}debug(...e){this.base.debug(n(e))}info(...e){this.base.info(n(e))}warn(...e){this.base.warn(n(e))}error(...e){this.base.error(n(e))}}},2497:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,a){function o(e){try{c(i.next(e))}catch(e){a(e)}}function s(e){try{c(i.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.VoiceFocusDeviceTransformer=void 0;const r=n(6035),a=n(8690),o=n(4046),s=n(3928),c=n(8878),d=n(851);class l{constructor(e,{preload:t=!0,logger:n,fetchBehavior:i=l.defaultFetchBehavior()},r){this.spec=e,this.supported=!0,this.logger=n,this.vfLogger=n?new s.default(n):void 0,this.preload=t,this.fetchBehavior=i,this.spec=l.augmentSpec(this.spec),r&&(this.configuration=Promise.resolve(r))}static isSupported(e,t){var n,i;const o={fetchBehavior:l.defaultFetchBehavior(),logger:(null==t?void 0:t.logger)?new s.default(t.logger):void 0};if(a.isIFramed()){if(!1===(null==t?void 0:t.allowIFrame))return null===(n=null==t?void 0:t.logger)||void 0===n||n.error("Amazon Voice Focus support check inside iframe: not supported."),Promise.resolve(!1);null===(i=null==t?void 0:t.logger)||void 0===i||i.warn("Amazon Voice Focus support check inside iframe: not recommended.")}return r.VoiceFocus.isSupported(l.augmentSpec(e),o)}static create(e={},t={},n,r,a){var o,s,c;return i(this,void 0,void 0,(function*(){r&&r.Meeting.Meeting&&(r=r.Meeting);const i="AVAILABLE"===(null===(c=null===(s=null===(o=null==r?void 0:r.Meeting)||void 0===o?void 0:o.MeetingFeatures)||void 0===s?void 0:s.Audio)||void 0===c?void 0:c.EchoReduction),a=n&&!0===n.supported&&"ns_es"===n.model.name&&!i,d="ns_es"===e.name&&!i;if(a||d)throw new Error("Echo Reduction requested but not enabled.");const u=new l(e,t,n);return yield u.init(),u}))}static configure(e={},t={}){return i(this,void 0,void 0,(function*(){return new l(e,t,void 0).configure(!0)}))}getConfiguration(){return this.configuration}isSupported(){return this.supported}createTransformDevice(e,t){return i(this,void 0,void 0,(function*(){if(this.supported)try{const n=!0,[i,r]=yield this.allocateVoiceFocus(n),a=Object.assign(Object.assign({},t),{es:"ns_es"===this.spec.name});return new c.default(e,i,r,a)}catch(e){return}}))}static destroyVoiceFocus(e){var t;return i(this,void 0,void 0,(function*(){null===(t=null==e?void 0:e.vf)||void 0===t||t.destroy()}))}static augmentSpec(e){return e&&(e.assetGroup||e.revisionID)?e:Object.assign(Object.assign({},e),{assetGroup:l.currentSDKAssetGroup()})}configure(e=!1){return i(this,void 0,void 0,(function*(){const t={fetchBehavior:this.fetchBehavior,preResolve:e,logger:this.vfLogger};return r.VoiceFocus.configure(this.spec,t)}))}init(){var e;return i(this,void 0,void 0,(function*(){this.configuration||(this.configuration=this.configure());const t=yield this.configuration;if(t.supported){this.pendingVoiceFocus=this.createVoiceFocus(t,this.preload);try{yield this.pendingVoiceFocus}catch(t){null===(e=this.logger)||void 0===e||e.error(`Unable to initialize Amazon Voice Focus: ${t}`),this.supported=!1}}else this.supported=!1}))}createVoiceFocus(e,t){return i(this,void 0,void 0,(function*(){const n=new d.default;return this.vf=yield r.VoiceFocus.init(e,{delegate:n,preload:t,logger:this.vfLogger}),[this.vf,n]}))}allocateVoiceFocus(e){return i(this,void 0,void 0,(function*(){if(!this.supported)throw new Error("Not supported.");if(this.pendingVoiceFocus){const e=this.pendingVoiceFocus;return this.pendingVoiceFocus=void 0,e}return this.createVoiceFocus(yield this.configuration,e)}))}static majorVersion(){return o.default.sdkVersion.match(/^[1-9][0-9]*\.(?:0|[1-9][0-9]*)/)[0]}static majorMinorVersion(){return o.default.sdkVersion.match(/^[1-9][0-9]*\.(?:0|(?:[1-9][0-9]*))\.(?:0|[1-9][0-9]*)/)[0]}static currentSDKAssetGroup(){const e=this.majorVersion();return e?`sdk-${e}`:"stable-v1"}static defaultFetchBehavior(){const e=l.majorMinorVersion()||"unknown",t=o.default.sdkUserAgentLowResolution;return{escapedQueryString:`sdk=${encodeURIComponent(e)}&ua=${encodeURIComponent(t)}`}}}t.VoiceFocusDeviceTransformer=l,t.default=l},8878:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,a){function o(e){try{c(i.next(e))}catch(e){a(e)}}function s(e){try{c(i.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const r=n(543);class a{constructor(e,t,n,i,a=!1,o=void 0,s=new r.default,c=new Map,d=void 0,l=void 0){this.device=e,this.voiceFocus=t,this.delegate=n,this.nodeOptions=i,this.failed=a,this.node=o,this.browserBehavior=s,this.farEndStreamToAudioSourceNode=c,this.mixDestNode=d,this.mixSourceNode=l}getInnerDevice(){return this.device}mute(e){return i(this,void 0,void 0,(function*(){this.node&&(e?yield this.node.disable():yield this.node.enable())}))}stop(){return i(this,void 0,void 0,(function*(){this.node&&(this.node.disconnect(),yield this.node.stop())}))}chooseNewInnerDevice(e){return i(this,void 0,void 0,(function*(){return this.device!==e||("default"===(t=e)||t&&"object"==typeof t&&("deviceId"in t&&"default"===t.deviceId||"id"in t&&"default"===t.id))?new a(e,this.voiceFocus,this.delegate,this.nodeOptions,this.failed,this.node,this.browserBehavior,this.farEndStreamToAudioSourceNode,this.mixDestNode,this.mixSourceNode):this;var t}))}intrinsicDevice(){return i(this,void 0,void 0,(function*(){if(this.failed)return this.device;const e=this.nodeOptions.es,t={echoCancellation:!e,googEchoCancellation:!e,googEchoCancellation2:!e,noiseSuppression:!1,googNoiseSuppression:!1,googHighpassFilter:!1,googNoiseSuppression2:!1};let n;return n=!this.nodeOptions||void 0===this.nodeOptions.agc||this.nodeOptions.agc.useBuiltInAGC,t.autoGainControl=n,t.googAutoGainControl=n,t.googAutoGainControl2=n,this.device?"string"==typeof this.device?(this.browserBehavior.requiresNoExactMediaStreamConstraints()?t.deviceId=this.device:t.deviceId={exact:this.device},t):this.device.id?this.device:Object.assign(Object.assign({},this.device),t):t}))}createAudioNode(e){var t,n;return i(this,void 0,void 0,(function*(){if((null===(t=this.node)||void 0===t?void 0:t.context)===e)return{start:this.node,end:this.node};const i=Object.assign({enabled:!0,agc:{useVoiceFocusAGC:!1}},this.nodeOptions);try{if(null===(n=this.node)||void 0===n||n.disconnect(),this.node=yield this.voiceFocus.createNode(e,i),this.nodeOptions.es){this.mixDestNode=new MediaStreamAudioDestinationNode(e,{channelCount:1,channelCountMode:"explicit"});for(const e of this.farEndStreamToAudioSourceNode.keys())this.assignFarEndStreamToAudioSourceNode(e);this.createMixSourceNode()}return{start:this.node,end:this.node}}catch(e){throw this.failed=!0,this.delegate.onFallback(this,e),e}}))}observeMeetingAudio(e){return i(this,void 0,void 0,(function*(){if(!this.nodeOptions.es)return;e.addAudioMixObserver(this);const t=yield e.getCurrentMeetingAudioStream();t&&this.addFarEndStream(t)}))}unObserveMeetingAudio(e){return i(this,void 0,void 0,(function*(){if(!this.nodeOptions.es)return;e.removeAudioMixObserver(this);const t=yield e.getCurrentMeetingAudioStream();t&&this.removeFarendStream(t)}))}addObserver(e){this.delegate.addObserver(e)}removeObserver(e){this.delegate.removeObserver(e)}addFarEndStream(e){return i(this,void 0,void 0,(function*(){this.nodeOptions.es&&e&&!this.farEndStreamToAudioSourceNode.has(e)&&(this.node?this.assignFarEndStreamToAudioSourceNode(e):this.farEndStreamToAudioSourceNode.set(e,null))}))}removeFarendStream(e){var t;return i(this,void 0,void 0,(function*(){null===(t=this.farEndStreamToAudioSourceNode.get(e))||void 0===t||t.disconnect(),this.farEndStreamToAudioSourceNode.delete(e)}))}meetingAudioStreamBecameActive(e){return i(this,void 0,void 0,(function*(){this.addFarEndStream(e)}))}meetingAudioStreamBecameInactive(e){return i(this,void 0,void 0,(function*(){this.removeFarendStream(e)}))}assignFarEndStreamToAudioSourceNode(e){const t=this.node.context.createMediaStreamSource(e);t.channelCount=1,t.channelCountMode="explicit",this.farEndStreamToAudioSourceNode.set(e,t),t.connect(this.mixDestNode,0)}createMixSourceNode(){this.mixSourceNode=this.node.context.createMediaStreamSource(this.mixDestNode.stream),this.mixSourceNode.channelCount=1,this.mixSourceNode.channelCountMode="explicit",this.mixSourceNode.connect(this.node,0,1)}}t.default=a},851:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{constructor(){this.observers=new Set}addObserver(e){this.observers.add(e)}removeObserver(e){this.observers.delete(e)}onFallback(e,t){var n;for(const i of this.observers)null===(n=i.voiceFocusFellBackToInnerStream)||void 0===n||n.call(i,e,t)}onCPUWarning(){var e;for(const t of this.observers)null===(e=t.voiceFocusInsufficientResources)||void 0===e||e.call(t)}}},9751:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});class n{constructor(e,t,n,i,r){this.logger=e,this.realtimeController=t,this.minVolumeDecibels=n,this.maxVolumeDecibels=i,this.selfAttendeeId=r,this.streamIdToAttendeeId={},this.streamIdToExternalUserId={},this.warnedAboutMissingStreamIdMapping={},this.attendeeIdToStreamId={},this.sessionReconnected=!1}onReconnect(){this.sessionReconnected=!0}sendRealtimeUpdatesForAudioStreamIdInfo(e){let t=0;for(const n of e.streams){const i=!!n.attendeeId,r=!!n.externalUserId,a=n.hasOwnProperty("muted"),o=!!n.dropped;if(i){this.attendeeIdToStreamId[n.attendeeId]&&this.attendeeIdToStreamId[n.attendeeId]<n.audioStreamId&&delete this.attendeeIdToStreamId[n.attendeeId],this.streamIdToAttendeeId[n.audioStreamId]=n.attendeeId;const i=r?n.externalUserId:n.attendeeId;this.streamIdToExternalUserId[n.audioStreamId]=i,this.attendeeIdToStreamId[n.attendeeId]=n.audioStreamId,this.realtimeController.realtimeSetAttendeeIdPresence(n.attendeeId,!0,i,!1,{attendeeIndex:t++,attendeesInFrame:e.streams.length})}if(a){const e=this.streamIdToAttendeeId[n.audioStreamId],t=this.streamIdToExternalUserId[n.audioStreamId];this.realtimeController.realtimeUpdateVolumeIndicator(e,null,n.muted,null,t)}if(!i&&!a){const i=this.streamIdToAttendeeId[n.audioStreamId];if(i){const r=this.streamIdToExternalUserId[n.audioStreamId];delete this.streamIdToAttendeeId[n.audioStreamId],delete this.streamIdToExternalUserId[n.audioStreamId],delete this.warnedAboutMissingStreamIdMapping[n.audioStreamId],this.attendeeIdToStreamId[i]===n.audioStreamId&&delete this.attendeeIdToStreamId[i];let a=!1;for(const e of Object.keys(this.streamIdToAttendeeId)){const t=parseInt(e);if(t>n.audioStreamId&&this.streamIdToAttendeeId[t]===i){a=!0;break}}a||this.realtimeController.realtimeSetAttendeeIdPresence(i,!1,r,o,{attendeeIndex:t++,attendeesInFrame:e.streams.length})}}}this.sessionReconnected&&(this.cleanUpState(e),this.sessionReconnected=!1)}cleanUpState(e){const t=Object.values(this.streamIdToAttendeeId),n=e.streams.map((e=>e.attendeeId)),i=t.filter((e=>!n.includes(e)));for(const[e,t]of i.entries()){const n=this.attendeeIdToStreamId[t],i=this.streamIdToExternalUserId[n];delete this.streamIdToAttendeeId[n],delete this.streamIdToExternalUserId[n],delete this.warnedAboutMissingStreamIdMapping[n],delete this.attendeeIdToStreamId[t],t!==this.selfAttendeeId?this.realtimeController.realtimeSetAttendeeIdPresence(t,!1,i,!1,{attendeeIndex:e,attendeesInFrame:t.length}):this.logger.warn("the volume indicator adapter cleans up the current attendee (presence = false) after reconnection")}}sendRealtimeUpdatesForAudioMetadata(e){let t=null,n=null;for(const i of e.attendeeStates){const e=this.attendeeIdForStreamId(i.audioStreamId);i.hasOwnProperty("volume")&&(null===t&&(t={}),null!==e&&(t[e]=this.normalizedVolume(i))),i.hasOwnProperty("signalStrength")&&(null===n&&(n={}),null!==e&&(n[e]=this.normalizedSignalStrength(i)))}this.applyRealtimeUpdatesForAudioMetadata(t,n)}normalizedVolume(e){const t=1-(-e.volume-this.maxVolumeDecibels)/(this.minVolumeDecibels-this.maxVolumeDecibels);return Math.min(Math.max(t,0),1)}normalizedSignalStrength(e){const t=e.signalStrength/n.MAX_SIGNAL_STRENGTH_LEVELS;return Math.min(Math.max(t,0),1)}applyRealtimeUpdatesForAudioMetadata(e,t){for(const i in this.streamIdToAttendeeId){const r=this.streamIdToAttendeeId[i],a=this.streamIdToExternalUserId[i];let o=null,s=null;null!==e&&(o=e.hasOwnProperty(r)?e[r]:n.IMPLICIT_VOLUME),null!==t&&(s=t.hasOwnProperty(r)?t[r]:n.IMPLICIT_SIGNAL_STRENGTH),null===o&&null===s||this.realtimeController.realtimeUpdateVolumeIndicator(r,o,null,s,a)}}attendeeIdForStreamId(e){if(0===e)return null;return this.streamIdToAttendeeId[e]||(this.warnedAboutMissingStreamIdMapping[e]||(this.warnedAboutMissingStreamIdMapping[e]=!0,this.logger.warn(`volume indicator stream id ${e} seen before being defined`)),null)}}t.default=n,n.MAX_SIGNAL_STRENGTH_LEVELS=2,n.IMPLICIT_VOLUME=0,n.IMPLICIT_SIGNAL_STRENGTH=1},7631:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4046),r=n(7387);t.default=class{constructor(e){this.logger=e}create(e,t,n){this.connection=new WebSocket(n?e:i.default.urlWithVersion(e),t),this.connection.binaryType="arraybuffer"}send(e){if(!this.connection)return this.logger.error("WebSocket not yet created or already destroyed."),!1;try{return e instanceof Uint8Array?this.connection.send(e.buffer):this.connection.send(e),!0}catch(e){return this.logger.debug((()=>`send error: ${e.message}, websocket state=${r.default[this.readyState()]}`)),!1}}close(e,t){var n;null===(n=this.connection)||void 0===n||n.close(e,t)}destroy(){this.connection=void 0}addEventListener(e,t){this.connection?this.connection.addEventListener(e,t):this.logger.warn("Cannot add event listener with no WebSocket connection.")}removeEventListener(e,t){var n;null===(n=this.connection)||void 0===n||n.removeEventListener(e,t)}readyState(){if(!this.connection)return r.default.None;switch(this.connection.readyState){case WebSocket.CONNECTING:return r.default.Connecting;case WebSocket.OPEN:return r.default.Open;case WebSocket.CLOSING:return r.default.Closing;case WebSocket.CLOSED:return r.default.Closed}}}},7387:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.WebSocketReadyState=void 0,function(e){e[e.None=0]="None",e[e.Connecting=1]="Connecting",e[e.Open=2]="Open",e[e.Closing=3]="Closing",e[e.Closed=4]="Closed"}(n=t.WebSocketReadyState||(t.WebSocketReadyState={})),t.default=n},5995:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,a){function o(e){try{c(i.next(e))}catch(e){a(e)}}function s(e){try{c(i.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.decideModel=t.measureAndDecideExecutionApproach=void 0;const r=n(5021),a=n(9424),o={wasm:{noSupport:.07,inline:{c100:1,c50:.36,c20:.16,c10:.07},worker:{c100:.5,c50:.18,c20:.08,c10:.06}},simd:{noSupport:.1,inline:{c100:1,c50:.43,c20:.3,c10:.2},worker:{c100:.5,c50:.21,c20:.15,c10:.1}}};class s{constructor(e,t){this.fetchConfig=e,this.logger=t;const n=`${e.paths.workers}estimator-v1.js`;this.fetchBehavior={headers:e.headers,escapedQueryString:e.escapedQueryString},this.worker=r.loadWorker(n,"VoiceFocusEstimator",this.fetchBehavior,t)}roundtrip(e,t,n){return new Promise(((i,r)=>{this.worker.then((r=>{let a;a=e=>{const{message:o,key:s}=e.data;o===t&&s===n&&(r.removeEventListener("message",a),i(e.data))},r.addEventListener("message",a),r.postMessage(e)})).catch((e=>{var t;null===(t=this.logger)||void 0===t||t.error("Failed to load worker.",e),r(e)}))}))}supportsSIMD(e){const t="simd",n=e||`${this.fetchConfig.paths.wasm}simd-v1.wasm`,i={message:"supports-simd",fetchBehavior:this.fetchBehavior,path:n,key:t};return this.roundtrip(i,"simd-support",t).then((e=>e.supports))}measure(e,t){const n=`${this.fetchConfig.paths.wasm}bench-v1.wasm`,i=`${this.fetchConfig.paths.wasm}bench-v1_simd.wasm`,r=e?i:n,a=`bench:${e}`,o={message:"measure",fetchBehavior:this.fetchBehavior,budget:t,path:r,key:a};return this.roundtrip(o,"measurement",a).then((e=>{if(e.measurement)return e.measurement;throw new Error("Failed to measure.")}))}stop(){this.worker.then((e=>{var t;null===(t=this.logger)||void 0===t||t.debug("Stopping estimator worker."),e.terminate()})).catch((e=>{}))}}const c=(e,t,n,r)=>i(void 0,void 0,void 0,(function*(){const i={supportsSIMD:e,supportsSAB:a.supportsSharedArrayBuffer(globalThis,window,n),duration:-1};if(e)return null==n||n.info("Supports SIMD: true (force)"),i;const o=!r,c=r||new s(t,n);try{const t=!a.isOldChrome(window,n)&&(yield c.supportsSIMD());return null==n||n.info(`Supports SIMD: ${t} (force: ${e})`),i.supportsSIMD=t,i}finally{o&&c.stop()}}));t.measureAndDecideExecutionApproach=(e,t,n,r=o)=>i(void 0,void 0,void 0,(function*(){let d=e.executionPreference;const{usagePreference:l,variantPreference:u,namePreference:h,simdPreference:p,estimatorBudget:m,executionQuantaPreference:f}=e;"interactivity"===l&&"inline"!==d&&(null==n||n.debug(`Overriding execution preference ${d} to reflect interactivity preference.`),d="inline");const g="force"===p,w="auto"!==u,y="auto"!==d;let v;try{v=w&&y?yield c(g,t,n):yield((e,t,n,r)=>i(void 0,void 0,void 0,(function*(){const i=new s(t,r);try{const a=yield c(e,t,r,i);if(a.supportsSIMD)try{return a.duration=yield i.measure(!0,n),null==r||r.info("SIMD timing:",a.duration),a}catch(e){null==r||r.warn("Failed SIMD estimation; falling back to non-SIMD."),a.supportsSIMD=!1}return a.duration=yield i.measure(!1,n),null==r||r.info("No-SIMD timing:",a.duration),a}catch(e){throw null==r||r.error("Could not feature check.",e),e}finally{i.stop()}})))(g,t,m,n)}catch(e){throw null==n||n.error("Could not load estimator.",e),new Error("Could not load Voice Focus estimator.")}return(({supportsSIMD:e,supportsSAB:t,duration:n,executionPreference:i="auto",simdPreference:r,variantPreference:s="auto",namePreference:c="default",usagePreference:d,executionQuantaPreference:l=3},u=o,h)=>{const p="force"===r||"disable"!==r&&e,m=-1!==n,f=m?(p?2.5:2.63)/n:0,g=p?u.simd:u.wasm,w=m?((e,t)=>1===e?.6:"quality"===t?.65*e:.5*e)(l,d)*f:0,y=m?.7*f:0,v=c,b=e=>({supported:!1,reason:e});if(m){if(f<g.noSupport)return b(`Performance score ${f} worse than threshold ${g.noSupport}.`)}else if("auto"===i||"auto"===s)return b(`Missing explicit execution (${i}) or variant (${s}) preference, but no scoring performed.`);null==h||h.debug(`Bench duration ${n} yields inline score ${w} and worker score ${y}.`);const S=(e,t,n)=>({supported:!0,useSIMD:p,processor:e,executionApproach:t,variant:n,executionQuanta:"inline"===t?l:void 0,name:v}),E=(e,t,n)=>"auto"!==t?!m||e>n[t]?t:"failed":e>n.c100?"c100":e>n.c50?"c50":e>n.c20?"c20":e>n.c10?"c10":"failed",C=e=>{switch(e||"auto"){case"auto":{let e=C("inline"),t=C("worker");return null==h||h.debug(`Reducing auto preference: ${JSON.stringify(e)} vs ${JSON.stringify(t)}`),!1===e.supported||!1===t.supported?t:e.variant===t.variant||"c50"===e.variant?e:t}case"worker":return a.supportsSharedArrayBuffer(globalThis,window,h)?C("worker-sab"):C("worker-postMessage");case"inline":{const e=E(w,s,g.inline);return"failed"===e?b(`Performance score ${w} not sufficient for inline use with variant preference ${s}.`):S("voicefocus-inline-processor","inline",e)}case"worker-sab":{if(!t){const e="Requested worker-sab but no SharedArrayBuffer support.";return null==h||h.warn(e),{supported:!1,reason:e}}const e=E(y,s,g.worker);return"failed"===e?b(`Performance score ${y} not sufficient for worker use with variant preference ${s}.`):S("voicefocus-worker-sab-processor","worker-sab",e)}case"worker-postMessage":{const e=E(y,s,g.worker);if("failed"===e)return b(`Performance score ${y} not sufficient for worker use.`);if("ns_es"===v){const e="Requested echo suppression but postMessage executor does not support it.";return null==h||h.warn(e),{supported:!1,reason:e}}return S("voicefocus-worker-postMessage-processor","worker-postMessage",e)}}};return C(i)})(Object.assign(Object.assign({},v),{simdPreference:p,executionPreference:d,variantPreference:u,namePreference:h,usagePreference:l,executionQuantaPreference:f}),r,n)})),t.decideModel=({category:e,name:t,variant:n,simd:i,url:r})=>`${e}-${t}-${n}-v1${i?"_simd":""}`},623:(e,t)=>{"use strict";function n(e,t,n){if(!n)return fetch(e,t);const a=r(e,n),o=i(t,n);return fetch(a,o)}function i(e,t){return(null==t?void 0:t.headers)?e?Object.assign(Object.assign({},e),{headers:Object.assign(Object.assign({},e.headers||{}),t.headers)}):{headers:t.headers}:e}function r(e,t){if(!(null==t?void 0:t.escapedQueryString))return e;const n=-1!==e.lastIndexOf("?");return`${e}${n?"&":"?"}${t.escapedQueryString}`}Object.defineProperty(t,"__esModule",{value:!0}),t.isValidRevisionID=t.isValidAssetGroup=t.resolveURL=t.addQueryParams=t.withQueryString=t.withRequestHeaders=t.fetchWithBehavior=void 0,t.fetchWithBehavior=n,t.withRequestHeaders=i,t.withQueryString=r,t.addQueryParams=function(e,t){const n=Object.keys(t);if(!n.length)return e;const i=new URLSearchParams(null==e?void 0:e.escapedQueryString);for(const e of n)i.append(e,t[e]);return Object.assign(Object.assign({},e),{escapedQueryString:i.toString()})};const a={method:"HEAD",mode:"cors",credentials:"omit",redirect:"follow",referrerPolicy:"origin"};t.resolveURL=function(e,t){return n(e,a,t).then((t=>t.redirected?t.url:e))},t.isValidAssetGroup=function(e){return!!e&&/^[-.a-zA-Z0-9]+$/.test(e)},t.isValidRevisionID=function(e){return!!e&&/^[123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ]{22}$/.test(e)}},5021:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.loadWorker=void 0;const i=n(623),r={method:"GET",mode:"cors",credentials:"omit",redirect:"follow",referrerPolicy:"no-referrer"};t.loadWorker=(e,t,n,a)=>{null==a||a.debug(`Loading ${t} worker from ${e}.`);let o=!1;try{o=self.origin===new URL(e).origin}catch(e){null==a||a.error("Could not compare origins.",e)}if(o){const r=i.withQueryString(e,n);return Promise.resolve(new Worker(r,{name:t}))}return i.fetchWithBehavior(e,r,n).then((e=>{if(e.ok)return e.blob().then((e=>new Worker(window.URL.createObjectURL(e))));throw new Error("Fetch failed.")}))}},9424:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,a){function o(e){try{c(i.next(e))}catch(e){a(e)}}function s(e){try{c(i.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.isOldChrome=t.supportsWASMStreaming=t.supportsSharedArrayBuffer=t.supportsWASM=t.supportsAudioWorklet=t.supportsWorker=t.supportsVoiceFocusWorker=t.supportsWASMPostMessage=t.isSafari=void 0;const r=n(5021);t.isSafari=(e=globalThis)=>{const t=e.navigator.userAgent,n=t.match(/Safari\//),i=t.match(/Chrom(?:e|ium)\//);return!(!n||i)},t.supportsWASMPostMessage=(e=globalThis)=>!t.isSafari(e)&&(!((e=globalThis)=>!!e.navigator.userAgent.match(/Chrom(?:e|ium)\/([0-9]+)/))(e)||(a(e)||0)<95),t.supportsVoiceFocusWorker=(e=globalThis,n,a)=>i(void 0,void 0,void 0,(function*(){if(!t.supportsWorker(e,a))return!1;const i=`${n.paths.workers}worker-v1.js`;try{const e=yield r.loadWorker(i,"VoiceFocusTestWorker",n,a);try{e.terminate()}catch(e){null==a||a.debug("Failed to terminate worker.",e)}return!0}catch(e){return null==a||a.info("Failed to fetch and instantiate test worker",e),!1}})),t.supportsWorker=(e=globalThis,t)=>{try{return!!e.Worker}catch(e){return null==t||t.info("Does not support Worker",e),!1}},t.supportsAudioWorklet=(e=globalThis,t)=>{try{return!!e.AudioWorklet&&!!e.AudioWorkletNode}catch(e){return null==t||t.info("Does not support Audio Worklet",e),!1}},t.supportsWASM=(e=globalThis,t)=>{try{return!(!e.WebAssembly||!e.WebAssembly.compile&&!e.WebAssembly.compileStreaming)}catch(e){return null==t||t.info("Does not support WASM",e),!1}},t.supportsSharedArrayBuffer=(e=globalThis,t=globalThis,n)=>{try{return!(!e.SharedArrayBuffer||!t.chrome&&!e.crossOriginIsolated)}catch(e){return null==n||n.info("Does not support SharedArrayBuffer."),!1}},t.supportsWASMStreaming=(e=globalThis,t)=>{var n;try{return!!(null===(n=e.WebAssembly)||void 0===n?void 0:n.compileStreaming)}catch(e){return null==t||t.info("Does not support WASM streaming compilation",e),!1}};const a=(e=globalThis)=>{try{if(!e.chrome)return}catch(e){}const t=e.navigator.userAgent.match(/Chrom(?:e|ium)\/([0-9]+)/);if(t)return parseInt(t[1],10)};t.isOldChrome=(e=globalThis,t)=>{const n=a(e);return!!n&&n<90&&(null==t||t.debug(`Chrome ${n} has incomplete SIMD support.`),!0)}},103:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VoiceFocusAudioWorkletNode=void 0;class n extends("undefined"!=typeof globalThis&&globalThis.AudioWorkletNode||class{}){}t.VoiceFocusAudioWorkletNode=n},6035:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,a){function o(e){try{c(i.next(e))}catch(e){a(e)}}function s(e){try{c(i.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.getAudioInput=t.createAudioContext=t.VoiceFocus=void 0;const r=n(5995),a=n(623),o=n(5021),s=n(9424),c=n(2633),d=n(1678),l=n(271),u={useVoiceFocusAGC:!1,useBuiltInAGC:!0},h="stable-v1",p="https://static.sdkassets.chime.aws",m={processors:`${p}/processors/`,workers:`${p}/workers/`,wasm:`${p}/wasm/`,models:`${p}/wasm/`},f={latencyHint:0},g={channelCount:1,echoCancellation:!0,googEchoCancellation:!0,noiseSuppression:!1,googNoiseSuppression:!1,googHighpassFilter:!1,googTypingNoiseDetection:!1},w=Object.assign(Object.assign({},g),{autoGainControl:!0,googAutoGainControl:!0,googAutoGainControl2:!0}),y=Object.assign(Object.assign({},g),{autoGainControl:!1,googAutoGainControl:!1,googAutoGainControl2:!1}),v={"voicefocus-worker-sab-processor":{file:"worklet-worker-sab-processor-v1.js",node:d.default},"voicefocus-worker-postMessage-processor":{file:"worklet-worker-postMessage-processor-v1.js",node:l.default},"voicefocus-inline-processor":{file:"worklet-inline-processor-v1.js",node:c.default}},b=(e,t)=>{if(void 0!==e&&!a.isValidAssetGroup(e))throw new Error(`Invalid asset group ${e}`);if(void 0!==t&&!a.isValidRevisionID(t))throw new Error(`Invalid revision ID ${t}`)},S=(e,t)=>`${t.models}${r.decideModel(e)}.wasm`;class E{constructor(e,t,n,i,r){this.processorURL=t,this.nodeConstructor=n,this.nodeOptions=i,this.executionQuanta=r,this.internal={worker:e,nodeOptions:i,isDestroyed:!1}}static isSupported(e,t){const{fetchBehavior:n,logger:i}=t||{};if("undefined"==typeof globalThis)return null==i||i.debug("Browser does not have globalThis."),Promise.resolve(!1);if(!s.supportsAudioWorklet(globalThis,i))return null==i||i.debug("Browser does not support Audio Worklet."),Promise.resolve(!1);if(!s.supportsWASM(globalThis,i))return null==i||i.debug("Browser does not support WASM."),Promise.resolve(!1);s.supportsWASMStreaming(globalThis,i)||null==i||i.debug("Browser does not support streaming WASM compilation.");const{assetGroup:r=h,revisionID:o,paths:c=m}=e||{};b(r,o);const d=o?{revisionID:o}:{assetGroup:r},l=a.addQueryParams(n,d),u=Object.assign(Object.assign({},l),{paths:c});return s.supportsVoiceFocusWorker(globalThis,u,i)}static mungeExecutionPreference(e,t){const n=void 0===e||"auto"===e;if(s.isSafari(globalThis)){if(n||"inline"===e)return"inline";if(!n)throw new Error(`Unsupported execution preference ${e}`)}if("worker-sab"===e&&!s.supportsSharedArrayBuffer(globalThis,globalThis,t))throw new Error(`Unsupported execution preference ${e}`);return e||"auto"}static configure(e,t){return i(this,void 0,void 0,(function*(){const{fetchBehavior:n,preResolve:i,logger:o}=t||{},{category:s="voicefocus",name:c="default",variant:d="auto",assetGroup:l=h,revisionID:u,simd:p="detect",executionPreference:f="auto",executionQuantaPreference:g,usagePreference:w="interactivity",estimatorBudget:y=100,paths:v=m,thresholds:E}=e||{};if(null==o||o.debug("Configuring Voice Focus with spec",e),void 0!==s&&"voicefocus"!==s)throw new Error(`Unrecognized category ${s}`);if(void 0!==c&&"default"!==c&&"ns_es"!==c)throw new Error(`Unrecognized feature name ${c}`);if(void 0!==d&&!["auto","c100","c50","c20","c10"].includes(d))throw new Error(`Unrecognized feature variant ${d}`);if(void 0!==g&&![1,2,3].includes(g))throw new Error(`Unrecognized execution quanta preference ${g}`);if(b(l,u),void 0!==p&&!["detect","force","disable"].includes(p))throw new Error(`Unrecognized SIMD option ${p}`);if(void 0!==f&&!["auto","inline","worker","worker-sab","worker-postMessage"].includes(f))throw new Error(`Unrecognized execution preference ${f}`);if(void 0!==w&&!["quality","interactivity"].includes(w))throw new Error(`Unrecognized usage preference ${w}`);const C={executionPreference:this.mungeExecutionPreference(f,o),usagePreference:w,executionQuantaPreference:g,variantPreference:d,namePreference:c,simdPreference:p,estimatorBudget:y},x=u?{revisionID:u}:{assetGroup:l},I=a.addQueryParams(n,x),k=Object.assign({paths:v},I),P=yield r.measureAndDecideExecutionApproach(C,k,o,E);if(!1===P.supported)return{supported:!1,reason:P.reason};null==o||o.info("Decided execution approach",P);const{useSIMD:A,processor:T,variant:M,executionQuanta:R}=P,F={category:s||"voicefocus",name:c||"default",variant:M,simd:A};if(i){const e=S(F,v);F.url=yield a.resolveURL(e,I)}return{fetchConfig:k,model:F,processor:T,executionQuanta:R,supported:!0}}))}static init(e,{delegate:t,preload:n=!0,logger:r}){return i(this,void 0,void 0,(function*(){if(!1===e.supported)throw new Error("Voice Focus not supported. Reason: "+e.reason);const{model:i,processor:a,fetchConfig:c,executionQuanta:d}=e,{simd:l,name:u}=i,{paths:h}=c;if("voicefocus-inline-processor"!==a&&"voicefocus-worker-postMessage-processor"!==a&&"voicefocus-worker-sab-processor"!==a)throw new Error(`Unknown processor ${a}`);const p=i.url||S(i,h);null==r||r.debug(`Using model URL ${p}.`);const m=`${h.wasm}audio_buffer-v1${l?"_simd":""}.wasm`,f=`${h.wasm}resampler-v1${l?"_simd":""}.wasm`,g=`${h.workers}worker-v1.js`,{file:w,node:y}=v[a],b=`${h.processors}${w}`,C=yield o.loadWorker(g,"VoiceFocusWorker",c,r);if(n){null==r||r.debug("Preloading",p);let e=s.supportsWASMPostMessage(globalThis)?"get-module":"get-module-buffer";C.postMessage({message:e,preload:!0,key:"model",fetchBehavior:c,path:p})}const x=new E(C,b,y,{processor:a,worker:C,audioBufferURL:m,resamplerURL:f,fetchBehavior:c,modelURL:p,delegate:t,logger:r,numberOfInputs:"ns_es"===u?2:1},d);return Promise.resolve(x)}))}createNode(e,t){var n;if(this.internal.isDestroyed)throw new Error("Unable to create node because VoiceFocus worker has been destroyed.");const{voiceFocusSampleRate:i=(16e3===e.sampleRate?16e3:48e3),enabled:r=!0,agc:o=u}=t||{},s=null==t?void 0:t.es,c={voiceFocusSampleRate:i,enabled:r,sendBufferCount:10,prefill:6,agc:o,executionQuanta:this.executionQuanta,supportFarendStream:s},d=a.withQueryString(this.processorURL,null===(n=this.nodeOptions)||void 0===n?void 0:n.fetchBehavior);return e.audioWorklet.addModule(d).then((()=>new this.nodeConstructor(e,Object.assign(Object.assign({},this.nodeOptions),{processorOptions:c}))))}applyToStream(e,t,n){return i(this,void 0,void 0,(function*(){if(this.internal.isDestroyed)throw new Error("Unable to apply stream because VoiceFocus worker has been destroyed");const i=t.createMediaStreamSource(e),r=yield this.applyToSourceNode(i,t,n),a=t.createMediaStreamDestination();return r.connect(a),{node:r,source:i,destination:a,stream:a.stream}}))}applyToSourceNode(e,t,n){return i(this,void 0,void 0,(function*(){const i=yield this.createNode(t,n);return e.connect(i),i}))}destroy(){this.internal.worker&&this.internal.worker.terminate(),this.internal.isDestroyed=!0}}t.VoiceFocus=E,t.createAudioContext=(e=f)=>new(window.AudioContext||window.webkitAudioContext)(e),t.getAudioInput=(e,t,n)=>i(void 0,void 0,void 0,(function*(){var i,r;const{constraints:a,spec:o,delegate:s,preload:c=!0,options:d}=t,{logger:l}=n,h=yield E.configure(o,n);if(!h.supported)return null===(i=n.logger)||void 0===i||i.warn("Voice Focus not supported; returning standard stream."),window.navigator.mediaDevices.getUserMedia(a);const p=yield E.init(h,{delegate:s,preload:c,logger:l}),m=(null===(r=t.options)||void 0===r?void 0:r.agc)||u,f=yield window.navigator.mediaDevices.getUserMedia(((e,t)=>{let n;if(n=t.useBuiltInAGC?w:y,!e)return{audio:n};if(!e.audio)return e;if(e.video)throw new Error("Not adding Voice Focus to multi-device getUserMedia call.");return Object.assign(Object.assign({},e),{audio:!0===e.audio?n:Object.assign(Object.assign({},e.audio),n)})})(a,m));return p.applyToStream(f,e,d).then((e=>e.stream))}))},2633:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,a){function o(e){try{c(i.next(e))}catch(e){a(e)}}function s(e){try{c(i.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const r=n(9424),a=n(103);class o extends a.VoiceFocusAudioWorkletNode{constructor(e,t){super(e,t.processor,t),this.cpuWarningCount=0,this.channelCountMode="explicit",this.channelCount=1;const{modelURL:n,worker:i,fetchBehavior:a,logger:o,delegate:s}=t;this.logger=o,this.port.onmessage=this.onProcessorMessage.bind(this),this.delegate=s,o&&o.debug("VoiceFocusInlineNode:",n),this.worker=i,this.worker.onmessage=this.onWorkerMessage.bind(this);const c=r.supportsWASMPostMessage(globalThis)?"get-module":"get-module-buffer";this.worker.postMessage({message:c,key:"model",fetchBehavior:a,path:n})}onModuleBufferLoaded(e,t){this.port.postMessage({message:"module-buffer",buffer:e,key:t})}onModuleLoaded(e,t){this.port.postMessage({message:"module",module:e,key:t})}enable(){return i(this,void 0,void 0,(function*(){this.port.postMessage({message:"enable"})}))}disable(){return i(this,void 0,void 0,(function*(){this.port.postMessage({message:"disable"})}))}stop(){var e;return i(this,void 0,void 0,(function*(){this.port.postMessage({message:"stop"});try{null===(e=this.worker)||void 0===e||e.terminate()}catch(e){console.error("failed to terminate worker:",e)}this.disconnect()}))}onProcessorMessage(e){var t,n,i;const r=e.data;if("cpu"===r.message){this.cpuWarningCount++;const e=Date.now(),i=this.cpuWarningLastTriggered||e,a=Math.abs(e-i);(!this.cpuWarningLastTriggered||a>5e3)&&(null===(t=this.logger)||void 0===t||t.warn(`CPU warning (count: ${this.cpuWarningCount}):`,r.message),this.cpuWarningCount=0,this.cpuWarningLastTriggered=e),null===(n=this.delegate)||void 0===n||n.onCPUWarning()}else null===(i=this.logger)||void 0===i||i.debug("Ignoring processor message.")}onWorkerMessage(e){const t=e.data;switch(t.message){case"module-buffer":if(!t.buffer||!t.key)return;this.onModuleBufferLoaded(t.buffer,t.key);break;case"module":if(!t.module||!t.key)return;this.onModuleLoaded(t.module,t.key);break;case"stopped":this.worker&&this.worker.terminate();break;default:return}}}t.default=o},271:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,a){function o(e){try{c(i.next(e))}catch(e){a(e)}}function s(e){try{c(i.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const r=n(9424),a=n(103);class o extends a.VoiceFocusAudioWorkletNode{constructor(e,t){super(e,t.processor,t),this.channelCountMode="explicit",this.channelCount=1;const{modelURL:n,audioBufferURL:i,worker:a,fetchBehavior:o,delegate:s}=t;this.delegate=s,this.worker=a,this.worker.onmessage=this.onWorkerMessage.bind(this),this.port.onmessage=this.onProcessorMessage.bind(this);const{enabled:c,agc:d,supportFarendStream:l}=t.processorOptions;this.worker.postMessage({message:"init",approach:"postMessage",frames:16e3===e.sampleRate?160:480,enabled:c,agc:d,fetchBehavior:o,model:n,supportFarendStream:l});const u=r.supportsWASMPostMessage(globalThis)?"get-module":"get-module-buffer";this.worker.postMessage({message:u,key:"buffer",fetchBehavior:o,path:i})}enable(){return i(this,void 0,void 0,(function*(){this.worker.postMessage({message:"enable"})}))}disable(){return i(this,void 0,void 0,(function*(){this.worker.postMessage({message:"disable"})}))}stop(){return i(this,void 0,void 0,(function*(){try{this.worker.postMessage({message:"stop"})}catch(e){}this.disconnect()}))}onWorkerMessage(e){var t;const n=e.data;switch(n.message){case"ready":this.port.postMessage({message:"ready",shared:n.shared},n.shared?Object.values(n.shared):[]);break;case"data":if(!n.buffer)return;this.port.postMessage({message:"data",buffer:n.buffer},[n.buffer]);break;case"stopped":this.worker.terminate();break;case"module-buffer":case"module":case"processing":this.port.postMessage(n);break;case"cpu":null===(t=this.delegate)||void 0===t||t.onCPUWarning();break;default:return}}onProcessorMessage(e){var t;const n=e.data;switch(n.message){case"data":if(!n.buffer)return;this.worker.postMessage({message:"data",buffer:n.buffer},[n.buffer]);break;case"cpu":null===(t=this.delegate)||void 0===t||t.onCPUWarning();break;case"prepare-for-frames":this.worker.postMessage(n);break;default:return}}}t.default=o},1678:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,a){function o(e){try{c(i.next(e))}catch(e){a(e)}}function s(e){try{c(i.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const r=n(9424),a=n(103);class o extends a.VoiceFocusAudioWorkletNode{constructor(e,t){super(e,t.processor,t),this.channelCountMode="explicit",this.channelCount=1;const{modelURL:n,resamplerURL:i,worker:a,fetchBehavior:o,delegate:s}=t;this.delegate=s,this.worker=a,this.worker.onmessage=this.onWorkerMessage.bind(this),this.port.onmessage=this.onProcessorMessage.bind(this);const{enabled:c,supportFarendStream:d}=t.processorOptions;this.worker.postMessage({message:"init",approach:"sab",frames:16e3===e.sampleRate?160:480,enabled:c,model:n,supportFarendStream:d});const l=r.supportsWASMPostMessage(globalThis)?"get-module":"get-module-buffer";this.worker.postMessage({message:l,key:"resampler",fetchBehavior:o,path:i})}enable(){return i(this,void 0,void 0,(function*(){this.state?(Atomics.store(this.state,1,1),Atomics.notify(this.state,0,1)):this.worker.postMessage({message:"enable"})}))}disable(){return i(this,void 0,void 0,(function*(){this.state?(Atomics.store(this.state,1,0),Atomics.notify(this.state,0,1)):this.worker.postMessage({message:"disable"})}))}stop(){return i(this,void 0,void 0,(function*(){if(this.state)Atomics.store(this.state,1,2),Atomics.notify(this.state,0,1);else try{this.worker.postMessage({message:"stop"})}catch(e){}this.disconnect()}))}onWorkerMessage(e){var t;const n=e.data;switch(n.message){case"ready":if(!n.shared)throw new Error("No shared state.");this.state=new Int32Array(n.shared.state),this.port.postMessage(n);break;case"stopped":this.worker.terminate();break;case"module-buffer":case"module":case"processing":this.port.postMessage(n);break;case"cpu":null===(t=this.delegate)||void 0===t||t.onCPUWarning();break;default:return}}onProcessorMessage(e){var t;const n=e.data;switch(n.message){case"cpu":null===(t=this.delegate)||void 0===t||t.onCPUWarning();break;case"prepare-for-frames":this.worker.postMessage(n)}}}t.default=o},5334:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RawSha256=void 0;var i=n(1216),r=function(){function e(){this.state=Int32Array.from(i.INIT),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return e.prototype.update=function(e){if(this.finished)throw new Error("Attempted to update an already finished hash.");var t=0,n=e.byteLength;if(this.bytesHashed+=n,8*this.bytesHashed>i.MAX_HASHABLE_LENGTH)throw new Error("Cannot hash more than 2^53 - 1 bits");for(;n>0;)this.buffer[this.bufferLength++]=e[t++],n--,this.bufferLength===i.BLOCK_SIZE&&(this.hashBuffer(),this.bufferLength=0)},e.prototype.digest=function(){if(!this.finished){var e=8*this.bytesHashed,t=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),n=this.bufferLength;if(t.setUint8(this.bufferLength++,128),n%i.BLOCK_SIZE>=i.BLOCK_SIZE-8){for(var r=this.bufferLength;r<i.BLOCK_SIZE;r++)t.setUint8(r,0);this.hashBuffer(),this.bufferLength=0}for(r=this.bufferLength;r<i.BLOCK_SIZE-8;r++)t.setUint8(r,0);t.setUint32(i.BLOCK_SIZE-8,Math.floor(e/4294967296),!0),t.setUint32(i.BLOCK_SIZE-4,e),this.hashBuffer(),this.finished=!0}var a=new Uint8Array(i.DIGEST_LENGTH);for(r=0;r<8;r++)a[4*r]=this.state[r]>>>24&255,a[4*r+1]=this.state[r]>>>16&255,a[4*r+2]=this.state[r]>>>8&255,a[4*r+3]=this.state[r]>>>0&255;return a},e.prototype.hashBuffer=function(){for(var e=this.buffer,t=this.state,n=t[0],r=t[1],a=t[2],o=t[3],s=t[4],c=t[5],d=t[6],l=t[7],u=0;u<i.BLOCK_SIZE;u++){if(u<16)this.temp[u]=(255&e[4*u])<<24|(255&e[4*u+1])<<16|(255&e[4*u+2])<<8|255&e[4*u+3];else{var h=this.temp[u-2],p=(h>>>17|h<<15)^(h>>>19|h<<13)^h>>>10,m=((h=this.temp[u-15])>>>7|h<<25)^(h>>>18|h<<14)^h>>>3;this.temp[u]=(p+this.temp[u-7]|0)+(m+this.temp[u-16]|0)}var f=(((s>>>6|s<<26)^(s>>>11|s<<21)^(s>>>25|s<<7))+(s&c^~s&d)|0)+(l+(i.KEY[u]+this.temp[u]|0)|0)|0,g=((n>>>2|n<<30)^(n>>>13|n<<19)^(n>>>22|n<<10))+(n&r^n&a^r&a)|0;l=d,d=c,c=s,s=o+f|0,o=a,a=r,r=n,n=f+g|0}t[0]+=n,t[1]+=r,t[2]+=a,t[3]+=o,t[4]+=s,t[5]+=c,t[6]+=d,t[7]+=l},e}();t.RawSha256=r},1216:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MAX_HASHABLE_LENGTH=t.INIT=t.KEY=t.DIGEST_LENGTH=t.BLOCK_SIZE=void 0,t.BLOCK_SIZE=64,t.DIGEST_LENGTH=32,t.KEY=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),t.INIT=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],t.MAX_HASHABLE_LENGTH=Math.pow(2,53)-1},3625:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(4459).__exportStar(n(1103),t)},1103:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sha256=void 0;var i=n(4459),r=n(1216),a=n(5334),o=n(6433),s=function(){function e(e){if(this.hash=new a.RawSha256,e){this.outer=new a.RawSha256;var t=function(e){var t=(0,o.convertToBuffer)(e);if(t.byteLength>r.BLOCK_SIZE){var n=new a.RawSha256;n.update(t),t=n.digest()}var i=new Uint8Array(r.BLOCK_SIZE);return i.set(t),i}(e),n=new Uint8Array(r.BLOCK_SIZE);n.set(t);for(var i=0;i<r.BLOCK_SIZE;i++)t[i]^=54,n[i]^=92;for(this.hash.update(t),this.outer.update(n),i=0;i<t.byteLength;i++)t[i]=0}}return e.prototype.update=function(e){if(!(0,o.isEmptyData)(e)&&!this.error)try{this.hash.update((0,o.convertToBuffer)(e))}catch(e){this.error=e}},e.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},e.prototype.digest=function(){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(e){return[2,this.digestSync()]}))}))},e}();t.Sha256=s},5142:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.convertToBuffer=void 0;var i=n(470),r="undefined"!=typeof Buffer&&Buffer.from?function(e){return Buffer.from(e,"utf8")}:i.fromUtf8;t.convertToBuffer=function(e){return e instanceof Uint8Array?e:"string"==typeof e?r(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}},6433:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uint32ArrayFrom=t.numToUint8=t.isEmptyData=t.convertToBuffer=void 0;var i=n(5142);Object.defineProperty(t,"convertToBuffer",{enumerable:!0,get:function(){return i.convertToBuffer}});var r=n(4766);Object.defineProperty(t,"isEmptyData",{enumerable:!0,get:function(){return r.isEmptyData}});var a=n(5877);Object.defineProperty(t,"numToUint8",{enumerable:!0,get:function(){return a.numToUint8}});var o=n(1484);Object.defineProperty(t,"uint32ArrayFrom",{enumerable:!0,get:function(){return o.uint32ArrayFrom}})},4766:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isEmptyData=void 0,t.isEmptyData=function(e){return"string"==typeof e?0===e.length:0===e.byteLength}},5877:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.numToUint8=void 0,t.numToUint8=function(e){return new Uint8Array([(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e])}},1484:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uint32ArrayFrom=void 0,t.uint32ArrayFrom=function(e){if(!Uint32Array.from){for(var t=new Uint32Array(e.length),n=0;n<e.length;)t[n]=e[n],n+=1;return t}return Uint32Array.from(e)}},4459:(e,t,n)=>{"use strict";n.r(t),n.d(t,{__assign:()=>a,__asyncDelegator:()=>b,__asyncGenerator:()=>v,__asyncValues:()=>S,__await:()=>y,__awaiter:()=>l,__classPrivateFieldGet:()=>I,__classPrivateFieldSet:()=>k,__createBinding:()=>h,__decorate:()=>s,__exportStar:()=>p,__extends:()=>r,__generator:()=>u,__importDefault:()=>x,__importStar:()=>C,__makeTemplateObject:()=>E,__metadata:()=>d,__param:()=>c,__read:()=>f,__rest:()=>o,__spread:()=>g,__spreadArrays:()=>w,__values:()=>m});var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},i(e,t)};function r(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var a=function(){return a=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},a.apply(this,arguments)};function o(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n}function s(e,t,n,i){var r,a=arguments.length,o=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(o=(a<3?r(o):a>3?r(t,n,o):r(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o}function c(e,t){return function(n,i){t(n,i,e)}}function d(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,n,i){return new(n||(n=Promise))((function(r,a){function o(e){try{c(i.next(e))}catch(e){a(e)}}function s(e){try{c(i.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((i=i.apply(e,t||[])).next())}))}function u(e,t){var n,i,r,a,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(r=2&a[0]?i.return:a[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,a[1])).done)return r;switch(i=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,i=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!((r=(r=o.trys).length>0&&r[r.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){o.label=a[1];break}if(6===a[0]&&o.label<r[1]){o.label=r[1],r=a;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(a);break}r[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],i=0}finally{n=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}}function h(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}function p(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])}function m(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function f(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var i,r,a=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(i=a.next()).done;)o.push(i.value)}catch(e){r={error:e}}finally{try{i&&!i.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}return o}function g(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(f(arguments[t]));return e}function w(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var i=Array(e),r=0;for(t=0;t<n;t++)for(var a=arguments[t],o=0,s=a.length;o<s;o++,r++)i[r]=a[o];return i}function y(e){return this instanceof y?(this.v=e,this):new y(e)}function v(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(e,t||[]),a=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(e){r[e]&&(i[e]=function(t){return new Promise((function(n,i){a.push([e,t,n,i])>1||s(e,t)}))})}function s(e,t){try{(n=r[e](t)).value instanceof y?Promise.resolve(n.value.v).then(c,d):l(a[0][2],n)}catch(e){l(a[0][3],e)}var n}function c(e){s("next",e)}function d(e){s("throw",e)}function l(e,t){e(t),a.shift(),a.length&&s(a[0][0],a[0][1])}}function b(e){var t,n;return t={},i("next"),i("throw",(function(e){throw e})),i("return"),t[Symbol.iterator]=function(){return this},t;function i(i,r){t[i]=e[i]?function(t){return(n=!n)?{value:y(e[i](t)),done:"return"===i}:r?r(t):t}:r}}function S(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=m(e),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(n){t[n]=e[n]&&function(t){return new Promise((function(i,r){!function(e,t,n,i){Promise.resolve(i).then((function(t){e({value:t,done:n})}),t)}(i,r,(t=e[n](t)).done,t.value)}))}}}function E(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function C(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function x(e){return e&&e.__esModule?e:{default:e}}function I(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function k(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},8891:(e,t,n)=>{n(7321);var i=n(9614);"undefined"!=typeof window&&(window.AWS=i),e.exports=i,"undefined"!=typeof self&&(self.AWS=i)},739:(e,t,n)=>{n(7321);var i=n(9614),r=i.Service,a=i.apiLoader;a.services.chimesdkmessaging={},i.ChimeSDKMessaging=r.defineService("chimesdkmessaging",["2021-05-15"]),Object.defineProperty(a.services.chimesdkmessaging,"2021-05-15",{get:function(){var e=n(2239);return e.paginators=n(807).o,e},enumerable:!0,configurable:!0}),e.exports=i.ChimeSDKMessaging},6105:(e,t,n)=>{n(7321);var i=n(9614),r=i.Service,a=i.apiLoader;a.services.cognitoidentity={},i.CognitoIdentity=r.defineService("cognitoidentity",["2014-06-30"]),Object.defineProperty(a.services.cognitoidentity,"2014-06-30",{get:function(){var e=n(7377);return e.paginators=n(5010).o,e},enumerable:!0,configurable:!0}),e.exports=i.CognitoIdentity},3568:(e,t,n)=>{n(7321);var i=n(9614),r=i.Service,a=i.apiLoader;a.services.sts={},i.STS=r.defineService("sts",["2011-06-15"]),n(4456),Object.defineProperty(a.services.sts,"2011-06-15",{get:function(){var e=n(753);return e.paginators=n(3639).o,e},enumerable:!0,configurable:!0}),e.exports=i.STS},6862:e=>{function t(e,n){if(!t.services.hasOwnProperty(e))throw new Error("InvalidService: Failed to load api for "+e);return t.services[e][n]}t.services={},e.exports=t},7821:(e,t,n)=>{var i=n(9790),r=n(5610),a=n(4314),o=n(1365);e.exports={createHash:function(e){if("md5"===(e=e.toLowerCase()))return new r;if("sha256"===e)return new o;if("sha1"===e)return new a;throw new Error("Hash algorithm "+e+" is not supported in the browser SDK")},createHmac:function(e,t){if("md5"===(e=e.toLowerCase()))return new i(r,t);if("sha256"===e)return new i(o,t);if("sha1"===e)return new i(a,t);throw new Error("HMAC algorithm "+e+" is not supported in the browser SDK")},createSign:function(){throw new Error("createSign is not implemented in the browser")}}},6323:(e,t,n)=>{var i=n(8764).lW;"undefined"!=typeof ArrayBuffer&&void 0===ArrayBuffer.isView&&(ArrayBuffer.isView=function(e){return r.indexOf(Object.prototype.toString.call(e))>-1});var r=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]","[object DataView]"];e.exports={isEmptyData:function(e){return"string"==typeof e?0===e.length:0===e.byteLength},convertToBuffer:function(e){return"string"==typeof e&&(e=new i(e,"utf8")),ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}}},9790:(e,t,n)=>{var i=n(6323);function r(e,t){this.hash=new e,this.outer=new e;var n=function(e,t){var n=i.convertToBuffer(t);if(n.byteLength>e.BLOCK_SIZE){var r=new e;r.update(n),n=r.digest()}var a=new Uint8Array(e.BLOCK_SIZE);return a.set(n),a}(e,t),r=new Uint8Array(e.BLOCK_SIZE);r.set(n);for(var a=0;a<e.BLOCK_SIZE;a++)n[a]^=54,r[a]^=92;for(this.hash.update(n),this.outer.update(r),a=0;a<n.byteLength;a++)n[a]=0}e.exports=r,r.prototype.update=function(e){if(i.isEmptyData(e)||this.error)return this;try{this.hash.update(i.convertToBuffer(e))}catch(e){this.error=e}return this},r.prototype.digest=function(e){return this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest(e)}},5610:(e,t,n)=>{var i=n(6323),r=n(8764).lW;function a(){this.state=[1732584193,4023233417,2562383102,271733878],this.buffer=new DataView(new ArrayBuffer(64)),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}function o(e,t,n,i,r,a){return((t=(t+e&4294967295)+(i+a&4294967295)&4294967295)<<r|t>>>32-r)+n&4294967295}function s(e,t,n,i,r,a,s){return o(t&n|~t&i,e,t,r,a,s)}function c(e,t,n,i,r,a,s){return o(t&i|n&~i,e,t,r,a,s)}function d(e,t,n,i,r,a,s){return o(t^n^i,e,t,r,a,s)}function l(e,t,n,i,r,a,s){return o(n^(t|~i),e,t,r,a,s)}e.exports=a,a.BLOCK_SIZE=64,a.prototype.update=function(e){if(i.isEmptyData(e))return this;if(this.finished)throw new Error("Attempted to update an already finished hash.");var t=i.convertToBuffer(e),n=0,r=t.byteLength;for(this.bytesHashed+=r;r>0;)this.buffer.setUint8(this.bufferLength++,t[n++]),r--,64===this.bufferLength&&(this.hashBuffer(),this.bufferLength=0);return this},a.prototype.digest=function(e){if(!this.finished){var t=this,n=t.buffer,i=t.bufferLength,a=8*t.bytesHashed;if(n.setUint8(this.bufferLength++,128),i%64>=56){for(var o=this.bufferLength;o<64;o++)n.setUint8(o,0);this.hashBuffer(),this.bufferLength=0}for(o=this.bufferLength;o<56;o++)n.setUint8(o,0);n.setUint32(56,a>>>0,!0),n.setUint32(60,Math.floor(a/4294967296),!0),this.hashBuffer(),this.finished=!0}var s=new DataView(new ArrayBuffer(16));for(o=0;o<4;o++)s.setUint32(4*o,this.state[o],!0);var c=new r(s.buffer,s.byteOffset,s.byteLength);return e?c.toString(e):c},a.prototype.hashBuffer=function(){var e=this.buffer,t=this.state,n=t[0],i=t[1],r=t[2],a=t[3];n=s(n,i,r,a,e.getUint32(0,!0),7,3614090360),a=s(a,n,i,r,e.getUint32(4,!0),12,3905402710),r=s(r,a,n,i,e.getUint32(8,!0),17,606105819),i=s(i,r,a,n,e.getUint32(12,!0),22,3250441966),n=s(n,i,r,a,e.getUint32(16,!0),7,4118548399),a=s(a,n,i,r,e.getUint32(20,!0),12,1200080426),r=s(r,a,n,i,e.getUint32(24,!0),17,2821735955),i=s(i,r,a,n,e.getUint32(28,!0),22,4249261313),n=s(n,i,r,a,e.getUint32(32,!0),7,1770035416),a=s(a,n,i,r,e.getUint32(36,!0),12,2336552879),r=s(r,a,n,i,e.getUint32(40,!0),17,4294925233),i=s(i,r,a,n,e.getUint32(44,!0),22,2304563134),n=s(n,i,r,a,e.getUint32(48,!0),7,1804603682),a=s(a,n,i,r,e.getUint32(52,!0),12,4254626195),r=s(r,a,n,i,e.getUint32(56,!0),17,2792965006),n=c(n,i=s(i,r,a,n,e.getUint32(60,!0),22,1236535329),r,a,e.getUint32(4,!0),5,4129170786),a=c(a,n,i,r,e.getUint32(24,!0),9,3225465664),r=c(r,a,n,i,e.getUint32(44,!0),14,643717713),i=c(i,r,a,n,e.getUint32(0,!0),20,3921069994),n=c(n,i,r,a,e.getUint32(20,!0),5,3593408605),a=c(a,n,i,r,e.getUint32(40,!0),9,38016083),r=c(r,a,n,i,e.getUint32(60,!0),14,3634488961),i=c(i,r,a,n,e.getUint32(16,!0),20,3889429448),n=c(n,i,r,a,e.getUint32(36,!0),5,568446438),a=c(a,n,i,r,e.getUint32(56,!0),9,3275163606),r=c(r,a,n,i,e.getUint32(12,!0),14,4107603335),i=c(i,r,a,n,e.getUint32(32,!0),20,1163531501),n=c(n,i,r,a,e.getUint32(52,!0),5,2850285829),a=c(a,n,i,r,e.getUint32(8,!0),9,4243563512),r=c(r,a,n,i,e.getUint32(28,!0),14,1735328473),n=d(n,i=c(i,r,a,n,e.getUint32(48,!0),20,2368359562),r,a,e.getUint32(20,!0),4,4294588738),a=d(a,n,i,r,e.getUint32(32,!0),11,2272392833),r=d(r,a,n,i,e.getUint32(44,!0),16,1839030562),i=d(i,r,a,n,e.getUint32(56,!0),23,4259657740),n=d(n,i,r,a,e.getUint32(4,!0),4,2763975236),a=d(a,n,i,r,e.getUint32(16,!0),11,1272893353),r=d(r,a,n,i,e.getUint32(28,!0),16,4139469664),i=d(i,r,a,n,e.getUint32(40,!0),23,3200236656),n=d(n,i,r,a,e.getUint32(52,!0),4,681279174),a=d(a,n,i,r,e.getUint32(0,!0),11,3936430074),r=d(r,a,n,i,e.getUint32(12,!0),16,3572445317),i=d(i,r,a,n,e.getUint32(24,!0),23,76029189),n=d(n,i,r,a,e.getUint32(36,!0),4,3654602809),a=d(a,n,i,r,e.getUint32(48,!0),11,3873151461),r=d(r,a,n,i,e.getUint32(60,!0),16,530742520),n=l(n,i=d(i,r,a,n,e.getUint32(8,!0),23,3299628645),r,a,e.getUint32(0,!0),6,4096336452),a=l(a,n,i,r,e.getUint32(28,!0),10,1126891415),r=l(r,a,n,i,e.getUint32(56,!0),15,2878612391),i=l(i,r,a,n,e.getUint32(20,!0),21,4237533241),n=l(n,i,r,a,e.getUint32(48,!0),6,1700485571),a=l(a,n,i,r,e.getUint32(12,!0),10,2399980690),r=l(r,a,n,i,e.getUint32(40,!0),15,4293915773),i=l(i,r,a,n,e.getUint32(4,!0),21,2240044497),n=l(n,i,r,a,e.getUint32(32,!0),6,1873313359),a=l(a,n,i,r,e.getUint32(60,!0),10,4264355552),r=l(r,a,n,i,e.getUint32(24,!0),15,2734768916),i=l(i,r,a,n,e.getUint32(52,!0),21,1309151649),n=l(n,i,r,a,e.getUint32(16,!0),6,4149444226),a=l(a,n,i,r,e.getUint32(44,!0),10,3174756917),r=l(r,a,n,i,e.getUint32(8,!0),15,718787259),i=l(i,r,a,n,e.getUint32(36,!0),21,3951481745),t[0]=n+t[0]&4294967295,t[1]=i+t[1]&4294967295,t[2]=r+t[2]&4294967295,t[3]=a+t[3]&4294967295}},4314:(e,t,n)=>{var i=n(8764).lW,r=n(6323);function a(){this.h0=1732584193,this.h1=4023233417,this.h2=2562383102,this.h3=271733878,this.h4=3285377520,this.block=new Uint32Array(80),this.offset=0,this.shift=24,this.totalLength=0}new Uint32Array([1518500249,1859775393,-1894007588,-899497514]),Math.pow(2,53),e.exports=a,a.BLOCK_SIZE=64,a.prototype.update=function(e){if(this.finished)throw new Error("Attempted to update an already finished hash.");if(r.isEmptyData(e))return this;var t=(e=r.convertToBuffer(e)).length;this.totalLength+=8*t;for(var n=0;n<t;n++)this.write(e[n]);return this},a.prototype.write=function(e){this.block[this.offset]|=(255&e)<<this.shift,this.shift?this.shift-=8:(this.offset++,this.shift=24),16===this.offset&&this.processBlock()},a.prototype.digest=function(e){this.write(128),(this.offset>14||14===this.offset&&this.shift<24)&&this.processBlock(),this.offset=14,this.shift=24,this.write(0),this.write(0),this.write(this.totalLength>0xffffffffff?this.totalLength/1099511627776:0),this.write(this.totalLength>4294967295?this.totalLength/4294967296:0);for(var t=24;t>=0;t-=8)this.write(this.totalLength>>t);var n=new i(20),r=new DataView(n.buffer);return r.setUint32(0,this.h0,!1),r.setUint32(4,this.h1,!1),r.setUint32(8,this.h2,!1),r.setUint32(12,this.h3,!1),r.setUint32(16,this.h4,!1),e?n.toString(e):n},a.prototype.processBlock=function(){for(var e=16;e<80;e++){var t=this.block[e-3]^this.block[e-8]^this.block[e-14]^this.block[e-16];this.block[e]=t<<1|t>>>31}var n,i,r=this.h0,a=this.h1,o=this.h2,s=this.h3,c=this.h4;for(e=0;e<80;e++){e<20?(n=s^a&(o^s),i=1518500249):e<40?(n=a^o^s,i=1859775393):e<60?(n=a&o|s&(a|o),i=2400959708):(n=a^o^s,i=3395469782);var d=(r<<5|r>>>27)+n+c+i+(0|this.block[e]);c=s,s=o,o=a<<30|a>>>2,a=r,r=d}for(this.h0=this.h0+r|0,this.h1=this.h1+a|0,this.h2=this.h2+o|0,this.h3=this.h3+s|0,this.h4=this.h4+c|0,this.offset=0,e=0;e<16;e++)this.block[e]=0}},1365:(e,t,n)=>{var i=n(8764).lW,r=n(6323),a=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),o=Math.pow(2,53)-1;function s(){this.state=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}e.exports=s,s.BLOCK_SIZE=64,s.prototype.update=function(e){if(this.finished)throw new Error("Attempted to update an already finished hash.");if(r.isEmptyData(e))return this;var t=0,n=(e=r.convertToBuffer(e)).byteLength;if(this.bytesHashed+=n,8*this.bytesHashed>o)throw new Error("Cannot hash more than 2^53 - 1 bits");for(;n>0;)this.buffer[this.bufferLength++]=e[t++],n--,64===this.bufferLength&&(this.hashBuffer(),this.bufferLength=0);return this},s.prototype.digest=function(e){if(!this.finished){var t=8*this.bytesHashed,n=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),r=this.bufferLength;if(n.setUint8(this.bufferLength++,128),r%64>=56){for(var a=this.bufferLength;a<64;a++)n.setUint8(a,0);this.hashBuffer(),this.bufferLength=0}for(a=this.bufferLength;a<56;a++)n.setUint8(a,0);n.setUint32(56,Math.floor(t/4294967296),!0),n.setUint32(60,t),this.hashBuffer(),this.finished=!0}var o=new i(32);for(a=0;a<8;a++)o[4*a]=this.state[a]>>>24&255,o[4*a+1]=this.state[a]>>>16&255,o[4*a+2]=this.state[a]>>>8&255,o[4*a+3]=this.state[a]>>>0&255;return e?o.toString(e):o},s.prototype.hashBuffer=function(){for(var e=this.buffer,t=this.state,n=t[0],i=t[1],r=t[2],o=t[3],s=t[4],c=t[5],d=t[6],l=t[7],u=0;u<64;u++){if(u<16)this.temp[u]=(255&e[4*u])<<24|(255&e[4*u+1])<<16|(255&e[4*u+2])<<8|255&e[4*u+3];else{var h=this.temp[u-2],p=(h>>>17|h<<15)^(h>>>19|h<<13)^h>>>10,m=((h=this.temp[u-15])>>>7|h<<25)^(h>>>18|h<<14)^h>>>3;this.temp[u]=(p+this.temp[u-7]|0)+(m+this.temp[u-16]|0)}var f=(((s>>>6|s<<26)^(s>>>11|s<<21)^(s>>>25|s<<7))+(s&c^~s&d)|0)+(l+(a[u]+this.temp[u]|0)|0)|0,g=((n>>>2|n<<30)^(n>>>13|n<<19)^(n>>>22|n<<10))+(n&i^n&r^i&r)|0;l=d,d=c,c=s,s=o+f|0,o=r,r=i,i=n,n=f+g|0}t[0]+=n,t[1]+=i,t[2]+=r,t[3]+=o,t[4]+=s,t[5]+=c,t[6]+=d,t[7]+=l}},7321:(e,t,n)=>{var i=n(2662);i.crypto.lib=n(7821),i.Buffer=n(8764).lW,i.url=n(8575),i.querystring=n(7673),i.realClock=n(1414),i.environment="js",i.createEventStream=n(2403).createEventStream,i.isBrowser=function(){return!0},i.isNode=function(){return!1};var r=n(9614);if(e.exports=r,n(4465),n(3227),n(6662),n(91),n(7719),n(7372),n(6986),r.XML.Parser=n(5106),n(2631),void 0===a)var a={browser:!0}},2709:(e,t,n)=>{var i,r=n(9614);n(4465),n(3227),r.Config=r.util.inherit({constructor:function(e){void 0===e&&(e={}),e=this.extractCredentials(e),r.util.each.call(this,this.keys,(function(t,n){this.set(t,e[t],n)}))},getCredentials:function(e){var t,n=this;function i(t){e(t,t?null:n.credentials)}function a(e,t){return new r.util.error(t||new Error,{code:"CredentialsError",message:e,name:"CredentialsError"})}n.credentials?"function"==typeof n.credentials.get?n.credentials.get((function(e){e&&(e=a("Could not load credentials from "+n.credentials.constructor.name,e)),i(e)})):(t=null,n.credentials.accessKeyId&&n.credentials.secretAccessKey||(t=a("Missing credentials")),i(t)):n.credentialProvider?n.credentialProvider.resolve((function(e,t){e&&(e=a("Could not load credentials from any providers",e)),n.credentials=t,i(e)})):i(a("No credentials to load"))},getToken:function(e){var t,n=this;function i(t){e(t,t?null:n.token)}function a(e,t){return new r.util.error(t||new Error,{code:"TokenError",message:e,name:"TokenError"})}n.token?"function"==typeof n.token.get?n.token.get((function(e){e&&(e=a("Could not load token from "+n.token.constructor.name,e)),i(e)})):(t=null,n.token.token||(t=a("Missing token")),i(t)):n.tokenProvider?n.tokenProvider.resolve((function(e,t){e&&(e=a("Could not load token from any providers",e)),n.token=t,i(e)})):i(a("No token to load"))},update:function(e,t){t=t||!1,e=this.extractCredentials(e),r.util.each.call(this,e,(function(e,n){(t||Object.prototype.hasOwnProperty.call(this.keys,e)||r.Service.hasService(e))&&this.set(e,n)}))},loadFromPath:function(e){this.clear();var t=JSON.parse(r.util.readFileSync(e)),n=new r.FileSystemCredentials(e),i=new r.CredentialProviderChain;return i.providers.unshift(n),i.resolve((function(e,n){if(e)throw e;t.credentials=n})),this.constructor(t),this},clear:function(){r.util.each.call(this,this.keys,(function(e){delete this[e]})),this.set("credentials",void 0),this.set("credentialProvider",void 0)},set:function(e,t,n){void 0===t?(void 0===n&&(n=this.keys[e]),this[e]="function"==typeof n?n.call(this):n):"httpOptions"===e&&this[e]?this[e]=r.util.merge(this[e],t):this[e]=t},keys:{credentials:null,credentialProvider:null,region:null,logger:null,apiVersions:{},apiVersion:null,endpoint:void 0,httpOptions:{timeout:12e4},maxRetries:void 0,maxRedirects:10,paramValidation:!0,sslEnabled:!0,s3ForcePathStyle:!1,s3BucketEndpoint:!1,s3DisableBodySigning:!0,s3UsEast1RegionalEndpoint:"legacy",s3UseArnRegion:void 0,computeChecksums:!0,convertResponseTypes:!0,correctClockSkew:!1,customUserAgent:null,dynamoDbCrc32:!0,systemClockOffset:0,signatureVersion:null,signatureCache:!0,retryDelayOptions:{},useAccelerateEndpoint:!1,clientSideMonitoring:!1,endpointDiscoveryEnabled:void 0,endpointCacheSize:1e3,hostPrefixEnabled:!0,stsRegionalEndpoints:"legacy",useFipsEndpoint:!1,useDualstackEndpoint:!1,token:null},extractCredentials:function(e){return e.accessKeyId&&e.secretAccessKey&&((e=r.util.copy(e)).credentials=new r.Credentials(e)),e},setPromisesDependency:function(e){i=e,null===e&&"function"==typeof Promise&&(i=Promise);var t=[r.Request,r.Credentials,r.CredentialProviderChain];r.S3&&(t.push(r.S3),r.S3.ManagedUpload&&t.push(r.S3.ManagedUpload)),r.util.addPromises(t,i)},getPromisesDependency:function(){return i}}),r.config=new r.Config},5456:(e,t,n)=>{var i=n(9614);function r(e,t){if("string"==typeof e){if(["legacy","regional"].indexOf(e.toLowerCase())>=0)return e.toLowerCase();throw i.util.error(new Error,t)}}e.exports=function(e,t){var n;if((e=e||{})[t.clientConfig]&&(n=r(e[t.clientConfig],{code:"InvalidConfiguration",message:'invalid "'+t.clientConfig+'" configuration. Expect "legacy"  or "regional". Got "'+e[t.clientConfig]+'".'})))return n;if(!i.util.isNode())return n;if(Object.prototype.hasOwnProperty.call(process.env,t.env)&&(n=r(process.env[t.env],{code:"InvalidEnvironmentalVariable",message:"invalid "+t.env+' environmental variable. Expect "legacy"  or "regional". Got "'+process.env[t.env]+'".'})))return n;var a={};try{a=i.util.getProfilesFromSharedConfig(i.util.iniLoader)[process.env.AWS_PROFILE||i.util.defaultProfile]}catch(e){}return a&&Object.prototype.hasOwnProperty.call(a,t.sharedConfig)&&(n=r(a[t.sharedConfig],{code:"InvalidConfiguration",message:"invalid "+t.sharedConfig+' profile config. Expect "legacy"  or "regional". Got "'+a[t.sharedConfig]+'".'})),n}},9614:(e,t,n)=>{var i={util:n(2662)};({}).toString(),e.exports=i,i.util.update(i,{VERSION:"2.1404.0",Signers:{},Protocol:{Json:n(6933),Query:n(293),Rest:n(6225),RestJson:n(3699),RestXml:n(1674)},XML:{Builder:n(2369),Parser:null},JSON:{Builder:n(3658),Parser:n(2622)},Model:{Api:n(5863),Operation:n(6797),Shape:n(8136),Paginator:n(7937),ResourceWaiter:n(306)},apiLoader:n(6862),EndpointCache:n(5101).$}),n(6380),n(173),n(2709),n(6344),n(2274),n(3682),n(3975),n(2413),n(2604),n(5479),n(3580),i.events=new i.SequentialExecutor,i.util.memoizedProperty(i,"endpointCache",(function(){return new i.EndpointCache(i.config.endpointCacheSize)}),!0)},4465:(e,t,n)=>{var i=n(9614);i.Credentials=i.util.inherit({constructor:function(){if(i.util.hideProperties(this,["secretAccessKey"]),this.expired=!1,this.expireTime=null,this.refreshCallbacks=[],1===arguments.length&&"object"==typeof arguments[0]){var e=arguments[0].credentials||arguments[0];this.accessKeyId=e.accessKeyId,this.secretAccessKey=e.secretAccessKey,this.sessionToken=e.sessionToken}else this.accessKeyId=arguments[0],this.secretAccessKey=arguments[1],this.sessionToken=arguments[2]},expiryWindow:15,needsRefresh:function(){var e=i.util.date.getDate().getTime(),t=new Date(e+1e3*this.expiryWindow);return!!(this.expireTime&&t>this.expireTime)||this.expired||!this.accessKeyId||!this.secretAccessKey},get:function(e){var t=this;this.needsRefresh()?this.refresh((function(n){n||(t.expired=!1),e&&e(n)})):e&&e()},refresh:function(e){this.expired=!1,e()},coalesceRefresh:function(e,t){var n=this;1===n.refreshCallbacks.push(e)&&n.load((function(e){i.util.arrayEach(n.refreshCallbacks,(function(n){t?n(e):i.util.defer((function(){n(e)}))})),n.refreshCallbacks.length=0}))},load:function(e){e()}}),i.Credentials.addPromisesToClass=function(e){this.prototype.getPromise=i.util.promisifyMethod("get",e),this.prototype.refreshPromise=i.util.promisifyMethod("refresh",e)},i.Credentials.deletePromisesFromClass=function(){delete this.prototype.getPromise,delete this.prototype.refreshPromise},i.util.addPromises(i.Credentials)},91:(e,t,n)=>{var i=n(9614),r=n(3568);i.ChainableTemporaryCredentials=i.util.inherit(i.Credentials,{constructor:function(e){i.Credentials.call(this),e=e||{},this.errorCode="ChainableTemporaryCredentialsProviderFailure",this.expired=!0,this.tokenCodeFn=null;var t=i.util.copy(e.params)||{};if(t.RoleArn&&(t.RoleSessionName=t.RoleSessionName||"temporary-credentials"),t.SerialNumber){if(!e.tokenCodeFn||"function"!=typeof e.tokenCodeFn)throw new i.util.error(new Error("tokenCodeFn must be a function when params.SerialNumber is given"),{code:this.errorCode});this.tokenCodeFn=e.tokenCodeFn}var n=i.util.merge({params:t,credentials:e.masterCredentials||i.config.credentials},e.stsConfig||{});this.service=new r(n)},refresh:function(e){this.coalesceRefresh(e||i.util.fn.callback)},load:function(e){var t=this,n=t.service.config.params.RoleArn?"assumeRole":"getSessionToken";this.getTokenCode((function(i,r){var a={};i?e(i):(r&&(a.TokenCode=r),t.service[n](a,(function(n,i){n||t.service.credentialsFrom(i,t),e(n)})))}))},getTokenCode:function(e){var t=this;this.tokenCodeFn?this.tokenCodeFn(this.service.config.params.SerialNumber,(function(n,r){if(n){var a=n;return n instanceof Error&&(a=n.message),void e(i.util.error(new Error("Error fetching MFA token: "+a),{code:t.errorCode}))}e(null,r)})):e(null)}})},7372:(e,t,n)=>{var i=n(9614),r=n(6105),a=n(3568);i.CognitoIdentityCredentials=i.util.inherit(i.Credentials,{localStorageKey:{id:"aws.cognito.identity-id.",providers:"aws.cognito.identity-providers."},constructor:function(e,t){i.Credentials.call(this),this.expired=!0,this.params=e,this.data=null,this._identityId=null,this._clientConfig=i.util.copy(t||{}),this.loadCachedId();var n=this;Object.defineProperty(this,"identityId",{get:function(){return n.loadCachedId(),n._identityId||n.params.IdentityId},set:function(e){n._identityId=e}})},refresh:function(e){this.coalesceRefresh(e||i.util.fn.callback)},load:function(e){var t=this;t.createClients(),t.data=null,t._identityId=null,t.getId((function(n){n?(t.clearIdOnNotAuthorized(n),e(n)):t.params.RoleArn?t.getCredentialsFromSTS(e):t.getCredentialsForIdentity(e)}))},clearCachedId:function(){this._identityId=null,delete this.params.IdentityId;var e=this.params.IdentityPoolId,t=this.params.LoginId||"";delete this.storage[this.localStorageKey.id+e+t],delete this.storage[this.localStorageKey.providers+e+t]},clearIdOnNotAuthorized:function(e){"NotAuthorizedException"==e.code&&this.clearCachedId()},getId:function(e){var t=this;if("string"==typeof t.params.IdentityId)return e(null,t.params.IdentityId);t.cognito.getId((function(n,i){!n&&i.IdentityId?(t.params.IdentityId=i.IdentityId,e(null,i.IdentityId)):e(n)}))},loadCredentials:function(e,t){e&&t&&(t.expired=!1,t.accessKeyId=e.Credentials.AccessKeyId,t.secretAccessKey=e.Credentials.SecretKey,t.sessionToken=e.Credentials.SessionToken,t.expireTime=e.Credentials.Expiration)},getCredentialsForIdentity:function(e){var t=this;t.cognito.getCredentialsForIdentity((function(n,i){n?t.clearIdOnNotAuthorized(n):(t.cacheId(i),t.data=i,t.loadCredentials(t.data,t)),e(n)}))},getCredentialsFromSTS:function(e){var t=this;t.cognito.getOpenIdToken((function(n,i){n?(t.clearIdOnNotAuthorized(n),e(n)):(t.cacheId(i),t.params.WebIdentityToken=i.Token,t.webIdentityCredentials.refresh((function(n){n||(t.data=t.webIdentityCredentials.data,t.sts.credentialsFrom(t.data,t)),e(n)})))}))},loadCachedId:function(){var e=this;if(i.util.isBrowser()&&!e.params.IdentityId){var t=e.getStorage("id");if(t&&e.params.Logins){var n=Object.keys(e.params.Logins);0!==(e.getStorage("providers")||"").split(",").filter((function(e){return-1!==n.indexOf(e)})).length&&(e.params.IdentityId=t)}else t&&(e.params.IdentityId=t)}},createClients:function(){var e=this._clientConfig;if(this.webIdentityCredentials=this.webIdentityCredentials||new i.WebIdentityCredentials(this.params,e),!this.cognito){var t=i.util.merge({},e);t.params=this.params,this.cognito=new r(t)}this.sts=this.sts||new a(e)},cacheId:function(e){this._identityId=e.IdentityId,this.params.IdentityId=this._identityId,i.util.isBrowser()&&(this.setStorage("id",e.IdentityId),this.params.Logins&&this.setStorage("providers",Object.keys(this.params.Logins).join(",")))},getStorage:function(e){return this.storage[this.localStorageKey[e]+this.params.IdentityPoolId+(this.params.LoginId||"")]},setStorage:function(e,t){try{this.storage[this.localStorageKey[e]+this.params.IdentityPoolId+(this.params.LoginId||"")]=t}catch(e){}},storage:function(){try{var e=i.util.isBrowser()&&null!==window.localStorage&&"object"==typeof window.localStorage?window.localStorage:{};return e["aws.test-storage"]="foobar",delete e["aws.test-storage"],e}catch(e){return{}}}()})},3227:(e,t,n)=>{var i=n(9614);i.CredentialProviderChain=i.util.inherit(i.Credentials,{constructor:function(e){this.providers=e||i.CredentialProviderChain.defaultProviders.slice(0),this.resolveCallbacks=[]},resolve:function(e){var t=this;if(0===t.providers.length)return e(new Error("No providers")),t;if(1===t.resolveCallbacks.push(e)){var n=0,r=t.providers.slice(0);!function e(a,o){if(!a&&o||n===r.length)return i.util.arrayEach(t.resolveCallbacks,(function(e){e(a,o)})),void(t.resolveCallbacks.length=0);var s=r[n++];(o="function"==typeof s?s.call():s).get?o.get((function(t){e(t,t?null:o)})):e(null,o)}()}return t}}),i.CredentialProviderChain.defaultProviders=[],i.CredentialProviderChain.addPromisesToClass=function(e){this.prototype.resolvePromise=i.util.promisifyMethod("resolve",e)},i.CredentialProviderChain.deletePromisesFromClass=function(){delete this.prototype.resolvePromise},i.util.addPromises(i.CredentialProviderChain)},6986:(e,t,n)=>{var i=n(9614),r=n(3568);i.SAMLCredentials=i.util.inherit(i.Credentials,{constructor:function(e){i.Credentials.call(this),this.expired=!0,this.params=e},refresh:function(e){this.coalesceRefresh(e||i.util.fn.callback)},load:function(e){var t=this;t.createClients(),t.service.assumeRoleWithSAML((function(n,i){n||t.service.credentialsFrom(i,t),e(n)}))},createClients:function(){this.service=this.service||new r({params:this.params})}})},6662:(e,t,n)=>{var i=n(9614),r=n(3568);i.TemporaryCredentials=i.util.inherit(i.Credentials,{constructor:function(e,t){i.Credentials.call(this),this.loadMasterCredentials(t),this.expired=!0,this.params=e||{},this.params.RoleArn&&(this.params.RoleSessionName=this.params.RoleSessionName||"temporary-credentials")},refresh:function(e){this.coalesceRefresh(e||i.util.fn.callback)},load:function(e){var t=this;t.createClients(),t.masterCredentials.get((function(){t.service.config.credentials=t.masterCredentials,(t.params.RoleArn?t.service.assumeRole:t.service.getSessionToken).call(t.service,(function(n,i){n||t.service.credentialsFrom(i,t),e(n)}))}))},loadMasterCredentials:function(e){for(this.masterCredentials=e||i.config.credentials;this.masterCredentials.masterCredentials;)this.masterCredentials=this.masterCredentials.masterCredentials;"function"!=typeof this.masterCredentials.get&&(this.masterCredentials=new i.Credentials(this.masterCredentials))},createClients:function(){this.service=this.service||new r({params:this.params})}})},7719:(e,t,n)=>{var i=n(9614),r=n(3568);i.WebIdentityCredentials=i.util.inherit(i.Credentials,{constructor:function(e,t){i.Credentials.call(this),this.expired=!0,this.params=e,this.params.RoleSessionName=this.params.RoleSessionName||"web-identity",this.data=null,this._clientConfig=i.util.copy(t||{})},refresh:function(e){this.coalesceRefresh(e||i.util.fn.callback)},load:function(e){var t=this;t.createClients(),t.service.assumeRoleWithWebIdentity((function(n,i){t.data=null,n||(t.data=i,t.service.credentialsFrom(i,t)),e(n)}))},createClients:function(){if(!this.service){var e=i.util.merge({},this._clientConfig);e.params=this.params,this.service=new r(e)}}})},3320:(e,t,n)=>{var i=n(9614),r=n(2662),a=["AWS_ENABLE_ENDPOINT_DISCOVERY","AWS_ENDPOINT_DISCOVERY_ENABLED"];function o(e){var t=e.service,n=t.api||{},i=(n.operations,{});return t.config.region&&(i.region=t.config.region),n.serviceId&&(i.serviceId=n.serviceId),t.config.credentials.accessKeyId&&(i.accessKeyId=t.config.credentials.accessKeyId),i}function s(e,t,n){n&&null!=t&&"structure"===n.type&&n.required&&n.required.length>0&&r.arrayEach(n.required,(function(i){var r=n.members[i];if(!0===r.endpointDiscoveryId){var a=r.isLocationName?r.name:i;e[a]=String(t[i])}else s(e,t[i],r)}))}function c(e,t){var n={};return s(n,e.params,t),n}function d(e){var t=e.service,n=t.api,a=n.operations?n.operations[e.operation]:void 0,s=c(e,a?a.input:void 0),d=o(e);Object.keys(s).length>0&&(d=r.update(d,s),a&&(d.operation=a.name));var l=i.endpointCache.get(d);if(!l||1!==l.length||""!==l[0].Address)if(l&&l.length>0)e.httpRequest.updateEndpoint(l[0].Address);else{var u=t.makeRequest(n.endpointOperation,{Operation:a.name,Identifiers:s});h(u),u.removeListener("validate",i.EventListeners.Core.VALIDATE_PARAMETERS),u.removeListener("retry",i.EventListeners.Core.RETRY_CHECK),i.endpointCache.put(d,[{Address:"",CachePeriodInMinutes:1}]),u.send((function(e,t){t&&t.Endpoints?i.endpointCache.put(d,t.Endpoints):e&&i.endpointCache.put(d,[{Address:"",CachePeriodInMinutes:1}])}))}}var l={};function u(e,t){var n=e.service,a=n.api,s=a.operations?a.operations[e.operation]:void 0,d=s?s.input:void 0,u=c(e,d),p=o(e);Object.keys(u).length>0&&(p=r.update(p,u),s&&(p.operation=s.name));var m=i.EndpointCache.getKeyString(p),f=i.endpointCache.get(m);if(f&&1===f.length&&""===f[0].Address)return l[m]||(l[m]=[]),void l[m].push({request:e,callback:t});if(f&&f.length>0)e.httpRequest.updateEndpoint(f[0].Address),t();else{var g=n.makeRequest(a.endpointOperation,{Operation:s.name,Identifiers:u});g.removeListener("validate",i.EventListeners.Core.VALIDATE_PARAMETERS),h(g),i.endpointCache.put(m,[{Address:"",CachePeriodInMinutes:60}]),g.send((function(n,a){if(n){if(e.response.error=r.error(n,{retryable:!1}),i.endpointCache.remove(p),l[m]){var o=l[m];r.arrayEach(o,(function(e){e.request.response.error=r.error(n,{retryable:!1}),e.callback()})),delete l[m]}}else a&&(i.endpointCache.put(m,a.Endpoints),e.httpRequest.updateEndpoint(a.Endpoints[0].Address),l[m])&&(o=l[m],r.arrayEach(o,(function(e){e.request.httpRequest.updateEndpoint(a.Endpoints[0].Address),e.callback()})),delete l[m]);t()}))}}function h(e){var t=e.service.api.apiVersion;t&&!e.httpRequest.headers["x-amz-api-version"]&&(e.httpRequest.headers["x-amz-api-version"]=t)}function p(e){var t=e.error,n=e.httpResponse;if(t&&("InvalidEndpointException"===t.code||421===n.statusCode)){var a=e.request,s=a.service.api.operations||{},d=c(a,s[a.operation]?s[a.operation].input:void 0),l=o(a);Object.keys(d).length>0&&(l=r.update(l,d),s[a.operation]&&(l.operation=s[a.operation].name)),i.endpointCache.remove(l)}}function m(e){return["false","0"].indexOf(e)>=0}e.exports={discoverEndpoint:function(e,t){var n=e.service||{};if(function(e){if(e._originalConfig&&e._originalConfig.endpoint&&!0===e._originalConfig.endpointDiscoveryEnabled)throw r.error(new Error,{code:"ConfigurationException",message:"Custom endpoint is supplied; endpointDiscoveryEnabled must not be true."});var t=i.config[e.serviceIdentifier]||{};return Boolean(i.config.endpoint||t.endpoint||e._originalConfig&&e._originalConfig.endpoint)}(n)||e.isPresigned())return t();var o=(n.api.operations||{})[e.operation],s=o?o.endpointDiscoveryRequired:"NULL",c=function(e){var t=e.service||{};if(void 0!==t.config.endpointDiscoveryEnabled)return t.config.endpointDiscoveryEnabled;if(!r.isBrowser()){for(var n=0;n<a.length;n++){var o=a[n];if(Object.prototype.hasOwnProperty.call(process.env,o)){if(""===process.env[o]||void 0===process.env[o])throw r.error(new Error,{code:"ConfigurationException",message:"environmental variable "+o+" cannot be set to nothing"});return!m(process.env[o])}}var s={};try{s=i.util.iniLoader?i.util.iniLoader.loadFrom({isConfig:!0,filename:process.env[i.util.sharedConfigFileEnv]}):{}}catch(e){}var c=s[process.env.AWS_PROFILE||i.util.defaultProfile]||{};if(Object.prototype.hasOwnProperty.call(c,"endpoint_discovery_enabled")){if(void 0===c.endpoint_discovery_enabled)throw r.error(new Error,{code:"ConfigurationException",message:"config file entry 'endpoint_discovery_enabled' cannot be set to nothing"});return!m(c.endpoint_discovery_enabled)}}}(e),l=n.api.hasRequiredEndpointDiscovery;switch((c||l)&&e.httpRequest.appendToUserAgent("endpoint-discovery"),s){case"OPTIONAL":(c||l)&&(d(e),e.addNamedListener("INVALIDATE_CACHED_ENDPOINTS","extractError",p)),t();break;case"REQUIRED":if(!1===c){e.response.error=r.error(new Error,{code:"ConfigurationException",message:"Endpoint Discovery is disabled but "+n.api.className+"."+e.operation+"() requires it. Please check your configurations."}),t();break}e.addNamedListener("INVALIDATE_CACHED_ENDPOINTS","extractError",p),u(e,t);break;default:t()}},requiredDiscoverEndpoint:u,optionalDiscoverEndpoint:d,marshallCustomIdentifiers:c,getCacheKey:o,invalidateCachedEndpoint:p}},2403:(e,t,n)=>{var i=n(7550).eventMessageChunker,r=n(3851).parseEvent;e.exports={createEventStream:function(e,t,n){for(var a=i(e),o=[],s=0;s<a.length;s++)o.push(r(t,a[s],n));return o}}},7550:e=>{e.exports={eventMessageChunker:function(e){for(var t=[],n=0;n<e.length;){var i=e.readInt32BE(n),r=e.slice(n,i+n);n+=i,t.push(r)}return t}}},1231:(e,t,n)=>{var i=n(9614).util,r=i.buffer.toBuffer;function a(e){if(8!==e.length)throw new Error("Int64 buffers must be exactly 8 bytes");i.Buffer.isBuffer(e)||(e=r(e)),this.bytes=e}function o(e){for(var t=0;t<8;t++)e[t]^=255;for(t=7;t>-1&&(e[t]++,0===e[t]);t--);}a.fromNumber=function(e){if(e>0x8000000000000000||e<-0x8000000000000000)throw new Error(e+" is too large (or, if negative, too small) to represent as an Int64");for(var t=new Uint8Array(8),n=7,i=Math.abs(Math.round(e));n>-1&&i>0;n--,i/=256)t[n]=i;return e<0&&o(t),new a(t)},a.prototype.valueOf=function(){var e=this.bytes.slice(0),t=128&e[0];return t&&o(e),parseInt(e.toString("hex"),16)*(t?-1:1)},a.prototype.toString=function(){return String(this.valueOf())},e.exports={Int64:a}},3851:(e,t,n)=>{var i=n(9524).parseMessage;e.exports={parseEvent:function(e,t,n){var r=i(t),a=r.headers[":message-type"];if(a){if("error"===a.value)throw function(e){var t=e.headers[":error-code"],n=e.headers[":error-message"],i=new Error(n.value||n);return i.code=i.name=t.value||t,i}(r);if("event"!==a.value)return}var o=r.headers[":event-type"],s=n.members[o.value];if(s){var c={},d=s.eventPayloadMemberName;if(d){var l=s.members[d];"binary"===l.type?c[d]=r.body:c[d]=e.parse(r.body.toString(),l)}for(var u=s.eventHeaderMemberNames,h=0;h<u.length;h++){var p=u[h];r.headers[p]&&(c[p]=s.members[p].toType(r.headers[p].value))}var m={};return m[o.value]=c,m}}}},9524:(e,t,n)=>{var i=n(1231).Int64,r=n(4441).splitMessage,a="boolean";function o(e){for(var t={},n=0;n<e.length;){var r=e.readUInt8(n++),o=e.slice(n,n+r).toString();switch(n+=r,e.readUInt8(n++)){case 0:t[o]={type:a,value:!0};break;case 1:t[o]={type:a,value:!1};break;case 2:t[o]={type:"byte",value:e.readInt8(n++)};break;case 3:t[o]={type:"short",value:e.readInt16BE(n)},n+=2;break;case 4:t[o]={type:"integer",value:e.readInt32BE(n)},n+=4;break;case 5:t[o]={type:"long",value:new i(e.slice(n,n+8))},n+=8;break;case 6:var s=e.readUInt16BE(n);n+=2,t[o]={type:"binary",value:e.slice(n,n+s)},n+=s;break;case 7:var c=e.readUInt16BE(n);n+=2,t[o]={type:"string",value:e.slice(n,n+c).toString()},n+=c;break;case 8:t[o]={type:"timestamp",value:new Date(new i(e.slice(n,n+8)).valueOf())},n+=8;break;case 9:var d=e.slice(n,n+16).toString("hex");n+=16,t[o]={type:"uuid",value:d.substr(0,8)+"-"+d.substr(8,4)+"-"+d.substr(12,4)+"-"+d.substr(16,4)+"-"+d.substr(20)};break;default:throw new Error("Unrecognized header type tag")}}return t}e.exports={parseMessage:function(e){var t=r(e);return{headers:o(t.headers),body:t.body}}}},4441:(e,t,n)=>{var i=n(9614).util,r=i.buffer.toBuffer;e.exports={splitMessage:function(e){if(i.Buffer.isBuffer(e)||(e=r(e)),e.length<16)throw new Error("Provided message too short to accommodate event stream message overhead");if(e.length!==e.readUInt32BE(0))throw new Error("Reported message length does not match received message length");var t=e.readUInt32BE(8);if(t!==i.crypto.crc32(e.slice(0,8)))throw new Error("The prelude checksum specified in the message ("+t+") does not match the calculated CRC32 checksum.");var n=e.readUInt32BE(e.length-4);if(n!==i.crypto.crc32(e.slice(0,e.length-4)))throw new Error("The message checksum did not match the expected value of "+n);var a=12+e.readUInt32BE(4);return{headers:e.slice(12,a),body:e.slice(a,e.length-4)}}}},2274:(e,t,n)=>{var i=n(9614),r=n(6380),a=n(3320).discoverEndpoint;function o(e){if(!e.service.api.operations)return"";var t=e.service.api.operations[e.operation];return t?t.authtype:""}function s(e){var t=e.service;return t.config.signatureVersion?t.config.signatureVersion:t.api.signatureVersion?t.api.signatureVersion:o(e)}i.EventListeners={Core:{}},i.EventListeners={Core:(new r).addNamedListeners((function(e,t){t("VALIDATE_CREDENTIALS","validate",(function(e,t){if(!e.service.api.signatureVersion&&!e.service.config.signatureVersion)return t();"bearer"!==s(e)?e.service.config.getCredentials((function(n){n&&(e.response.error=i.util.error(n,{code:"CredentialsError",message:"Missing credentials in config, if using AWS_CONFIG_FILE, set AWS_SDK_LOAD_CONFIG=1"})),t()})):e.service.config.getToken((function(n){n&&(e.response.error=i.util.error(n,{code:"TokenError"})),t()}))})),e("VALIDATE_REGION","validate",(function(e){if(!e.service.isGlobalEndpoint){var t=new RegExp(/^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9])$/);e.service.config.region?t.test(e.service.config.region)||(e.response.error=i.util.error(new Error,{code:"ConfigError",message:"Invalid region in config"})):e.response.error=i.util.error(new Error,{code:"ConfigError",message:"Missing region in config"})}})),e("BUILD_IDEMPOTENCY_TOKENS","validate",(function(e){if(e.service.api.operations){var t=e.service.api.operations[e.operation];if(t){var n=t.idempotentMembers;if(n.length){for(var r=i.util.copy(e.params),a=0,o=n.length;a<o;a++)r[n[a]]||(r[n[a]]=i.util.uuid.v4());e.params=r}}}})),e("VALIDATE_PARAMETERS","validate",(function(e){if(e.service.api.operations){var t=e.service.api.operations[e.operation].input,n=e.service.config.paramValidation;new i.ParamValidator(n).validate(t,e.params)}})),e("COMPUTE_CHECKSUM","afterBuild",(function(e){if(e.service.api.operations){var t=e.service.api.operations[e.operation];if(t){var n=e.httpRequest.body,r=n&&(i.util.Buffer.isBuffer(n)||"string"==typeof n),a=e.httpRequest.headers;if(t.httpChecksumRequired&&e.service.config.computeChecksums&&r&&!a["Content-MD5"]){var o=i.util.crypto.md5(n,"base64");a["Content-MD5"]=o}}}})),t("COMPUTE_SHA256","afterBuild",(function(e,t){if(e.haltHandlersOnError(),e.service.api.operations){var n=e.service.api.operations[e.operation],r=n?n.authtype:"";if(!e.service.api.signatureVersion&&!r&&!e.service.config.signatureVersion)return t();if(e.service.getSignerClass(e)===i.Signers.V4){var a=e.httpRequest.body||"";if(r.indexOf("unsigned-body")>=0)return e.httpRequest.headers["X-Amz-Content-Sha256"]="UNSIGNED-PAYLOAD",t();i.util.computeSha256(a,(function(n,i){n?t(n):(e.httpRequest.headers["X-Amz-Content-Sha256"]=i,t())}))}else t()}})),e("SET_CONTENT_LENGTH","afterBuild",(function(e){var t=o(e),n=i.util.getRequestPayloadShape(e);if(void 0===e.httpRequest.headers["Content-Length"])try{var r=i.util.string.byteLength(e.httpRequest.body);e.httpRequest.headers["Content-Length"]=r}catch(i){if(n&&n.isStreaming){if(n.requiresLength)throw i;if(t.indexOf("unsigned-body")>=0)return void(e.httpRequest.headers["Transfer-Encoding"]="chunked");throw i}throw i}})),e("SET_HTTP_HOST","afterBuild",(function(e){e.httpRequest.headers.Host=e.httpRequest.endpoint.host})),e("SET_TRACE_ID","afterBuild",(function(e){var t="X-Amzn-Trace-Id";if(i.util.isNode()&&!Object.hasOwnProperty.call(e.httpRequest.headers,t)){var n=process.env.AWS_LAMBDA_FUNCTION_NAME,r=process.env._X_AMZN_TRACE_ID;"string"==typeof n&&n.length>0&&"string"==typeof r&&r.length>0&&(e.httpRequest.headers[t]=r)}})),e("RESTART","restart",(function(){var e=this.response.error;e&&e.retryable&&(this.httpRequest=new i.HttpRequest(this.service.endpoint,this.service.region),this.response.retryCount<this.service.config.maxRetries?this.response.retryCount++:this.response.error=null)})),t("DISCOVER_ENDPOINT","sign",a,!0),t("SIGN","sign",(function(e,t){var n=e.service,i=s(e);if(!i||0===i.length)return t();"bearer"===i?n.config.getToken((function(i,r){if(i)return e.response.error=i,t();try{new(n.getSignerClass(e))(e.httpRequest).addAuthorization(r)}catch(t){e.response.error=t}t()})):n.config.getCredentials((function(i,r){if(i)return e.response.error=i,t();try{var a=n.getSkewCorrectedDate(),o=n.getSignerClass(e),s=(e.service.api.operations||{})[e.operation],c=new o(e.httpRequest,n.getSigningName(e),{signatureCache:n.config.signatureCache,operation:s,signatureVersion:n.api.signatureVersion});c.setServiceClientId(n._clientId),delete e.httpRequest.headers.Authorization,delete e.httpRequest.headers.Date,delete e.httpRequest.headers["X-Amz-Date"],c.addAuthorization(r,a),e.signedAt=a}catch(t){e.response.error=t}t()}))})),e("VALIDATE_RESPONSE","validateResponse",(function(e){this.service.successfulResponse(e,this)?(e.data={},e.error=null):(e.data=null,e.error=i.util.error(new Error,{code:"UnknownError",message:"An unknown error occurred."}))})),e("ERROR","error",(function(e,t){if(t.request.service.api.awsQueryCompatible){var n=t.httpResponse.headers,i=n?n["x-amzn-query-error"]:void 0;i&&i.includes(";")&&(t.error.code=i.split(";")[0])}}),!0),t("SEND","send",(function(e,t){function n(n){e.httpResponse.stream=n;var r=e.request.httpRequest.stream,a=e.request.service,o=a.api,s=e.request.operation,c=o.operations[s]||{};n.on("headers",(function(r,o,s){if(e.request.emit("httpHeaders",[r,o,e,s]),!e.httpResponse.streaming)if(2===i.HttpClient.streamsApiVersion){if(c.hasEventOutput&&a.successfulResponse(e))return e.request.emit("httpDone"),void t();n.on("readable",(function(){var t=n.read();null!==t&&e.request.emit("httpData",[t,e])}))}else n.on("data",(function(t){e.request.emit("httpData",[t,e])}))})),n.on("end",(function(){if(!r||!r.didCallback){if(2===i.HttpClient.streamsApiVersion&&c.hasEventOutput&&a.successfulResponse(e))return;e.request.emit("httpDone"),t()}}))}function r(n){if("RequestAbortedError"!==n.code){var r="TimeoutError"===n.code?n.code:"NetworkingError";n=i.util.error(n,{code:r,region:e.request.httpRequest.region,hostname:e.request.httpRequest.endpoint.hostname,retryable:!0})}e.error=n,e.request.emit("httpError",[e.error,e],(function(){t()}))}function a(){var t,a=i.HttpClient.getInstance(),o=e.request.service.config.httpOptions||{};try{(t=a.handleRequest(e.request.httpRequest,o,n,r)).on("sendProgress",(function(t){e.request.emit("httpUploadProgress",[t,e])})),t.on("receiveProgress",(function(t){e.request.emit("httpDownloadProgress",[t,e])}))}catch(e){r(e)}}e.httpResponse._abortCallback=t,e.error=null,e.data=null,(e.request.service.getSkewCorrectedDate()-this.signedAt)/1e3>=600?this.emit("sign",[this],(function(e){e?t(e):a()})):a()})),e("HTTP_HEADERS","httpHeaders",(function(e,t,n,r){n.httpResponse.statusCode=e,n.httpResponse.statusMessage=r,n.httpResponse.headers=t,n.httpResponse.body=i.util.buffer.toBuffer(""),n.httpResponse.buffers=[],n.httpResponse.numBytes=0;var a=t.date||t.Date,o=n.request.service;if(a){var s=Date.parse(a);o.config.correctClockSkew&&o.isClockSkewed(s)&&o.applyClockOffset(s)}})),e("HTTP_DATA","httpData",(function(e,t){if(e){if(i.util.isNode()){t.httpResponse.numBytes+=e.length;var n=t.httpResponse.headers["content-length"],r={loaded:t.httpResponse.numBytes,total:n};t.request.emit("httpDownloadProgress",[r,t])}t.httpResponse.buffers.push(i.util.buffer.toBuffer(e))}})),e("HTTP_DONE","httpDone",(function(e){if(e.httpResponse.buffers&&e.httpResponse.buffers.length>0){var t=i.util.buffer.concat(e.httpResponse.buffers);e.httpResponse.body=t}delete e.httpResponse.numBytes,delete e.httpResponse.buffers})),e("FINALIZE_ERROR","retry",(function(e){e.httpResponse.statusCode&&(e.error.statusCode=e.httpResponse.statusCode,void 0===e.error.retryable&&(e.error.retryable=this.service.retryableError(e.error,this)))})),e("INVALIDATE_CREDENTIALS","retry",(function(e){if(e.error)switch(e.error.code){case"RequestExpired":case"ExpiredTokenException":case"ExpiredToken":e.error.retryable=!0,e.request.service.config.credentials.expired=!0}})),e("EXPIRED_SIGNATURE","retry",(function(e){var t=e.error;t&&"string"==typeof t.code&&"string"==typeof t.message&&t.code.match(/Signature/)&&t.message.match(/expired/)&&(e.error.retryable=!0)})),e("CLOCK_SKEWED","retry",(function(e){e.error&&this.service.clockSkewError(e.error)&&this.service.config.correctClockSkew&&(e.error.retryable=!0)})),e("REDIRECT","retry",(function(e){e.error&&e.error.statusCode>=300&&e.error.statusCode<400&&e.httpResponse.headers.location&&(this.httpRequest.endpoint=new i.Endpoint(e.httpResponse.headers.location),this.httpRequest.headers.Host=this.httpRequest.endpoint.host,e.error.redirect=!0,e.error.retryable=!0)})),e("RETRY_CHECK","retry",(function(e){e.error&&(e.error.redirect&&e.redirectCount<e.maxRedirects?e.error.retryDelay=0:e.retryCount<e.maxRetries&&(e.error.retryDelay=this.service.retryDelays(e.retryCount,e.error)||0))})),t("RESET_RETRY_STATE","afterRetry",(function(e,t){var n,i=!1;e.error&&(n=e.error.retryDelay||0,e.error.retryable&&e.retryCount<e.maxRetries?(e.retryCount++,i=!0):e.error.redirect&&e.redirectCount<e.maxRedirects&&(e.redirectCount++,i=!0)),i&&n>=0?(e.error=null,setTimeout(t,n)):t()}))})),CorePost:(new r).addNamedListeners((function(e){e("EXTRACT_REQUEST_ID","extractData",i.util.extractRequestId),e("EXTRACT_REQUEST_ID","extractError",i.util.extractRequestId),e("ENOTFOUND_ERROR","httpError",(function(e){if("NetworkingError"===e.code&&function(e){return"ENOTFOUND"===e.errno||"number"==typeof e.errno&&"function"==typeof i.util.getSystemErrorName&&["EAI_NONAME","EAI_NODATA"].indexOf(i.util.getSystemErrorName(e.errno)>=0)}(e)){var t="Inaccessible host: `"+e.hostname+"' at port `"+e.port+"'. This service may not be available in the `"+e.region+"' region.";this.response.error=i.util.error(new Error(t),{code:"UnknownEndpoint",region:e.region,hostname:e.hostname,retryable:!0,originalError:e})}}))})),Logger:(new r).addNamedListeners((function(e){e("LOG_REQUEST","complete",(function(e){var t=e.request,r=t.service.config.logger;if(r){var a=function(){var a=(e.request.service.getSkewCorrectedDate().getTime()-t.startTime.getTime())/1e3,s=!!r.isTTY,c=e.httpResponse.statusCode,d=t.params;t.service.api.operations&&t.service.api.operations[t.operation]&&t.service.api.operations[t.operation].input&&(d=o(t.service.api.operations[t.operation].input,t.params));var l=n(9539).inspect(d,!0,null),u="";return s&&(u+="[33m"),u+="[AWS "+t.service.serviceIdentifier+" "+c,u+=" "+a.toString()+"s "+e.retryCount+" retries]",s&&(u+="[0;1m"),u+=" "+i.util.string.lowerFirst(t.operation),u+="("+l+")",s&&(u+="[0m"),u}();"function"==typeof r.log?r.log(a):"function"==typeof r.write&&r.write(a+"\n")}function o(e,t){if(!t)return t;if(e.isSensitive)return"***SensitiveInformation***";switch(e.type){case"structure":var n={};return i.util.each(t,(function(t,i){Object.prototype.hasOwnProperty.call(e.members,t)?n[t]=o(e.members[t],i):n[t]=i})),n;case"list":var r=[];return i.util.arrayEach(t,(function(t,n){r.push(o(e.member,t))})),r;case"map":var a={};return i.util.each(t,(function(t,n){a[t]=o(e.value,n)})),a;default:return t}}}))})),Json:(new r).addNamedListeners((function(e){var t=n(6933);e("BUILD","build",t.buildRequest),e("EXTRACT_DATA","extractData",t.extractData),e("EXTRACT_ERROR","extractError",t.extractError)})),Rest:(new r).addNamedListeners((function(e){var t=n(6225);e("BUILD","build",t.buildRequest),e("EXTRACT_DATA","extractData",t.extractData),e("EXTRACT_ERROR","extractError",t.extractError)})),RestJson:(new r).addNamedListeners((function(e){var t=n(3699);e("BUILD","build",t.buildRequest),e("EXTRACT_DATA","extractData",t.extractData),e("EXTRACT_ERROR","extractError",t.extractError),e("UNSET_CONTENT_LENGTH","afterBuild",t.unsetContentLength)})),RestXml:(new r).addNamedListeners((function(e){var t=n(1674);e("BUILD","build",t.buildRequest),e("EXTRACT_DATA","extractData",t.extractData),e("EXTRACT_ERROR","extractError",t.extractError)})),Query:(new r).addNamedListeners((function(e){var t=n(293);e("BUILD","build",t.buildRequest),e("EXTRACT_DATA","extractData",t.extractData),e("EXTRACT_ERROR","extractError",t.extractError)}))}},6344:(e,t,n)=>{var i=n(9614),r=i.util.inherit;i.Endpoint=r({constructor:function(e,t){if(i.util.hideProperties(this,["slashes","auth","hash","search","query"]),null==e)throw new Error("Invalid endpoint: "+e);if("string"!=typeof e)return i.util.copy(e);e.match(/^http/)||(e=((t&&void 0!==t.sslEnabled?t.sslEnabled:i.config.sslEnabled)?"https":"http")+"://"+e),i.util.update(this,i.util.urlParse(e)),this.port?this.port=parseInt(this.port,10):this.port="https:"===this.protocol?443:80}}),i.HttpRequest=r({constructor:function(e,t){e=new i.Endpoint(e),this.method="POST",this.path=e.path||"/",this.headers={},this.body="",this.endpoint=e,this.region=t,this._userAgent="",this.setUserAgent()},setUserAgent:function(){this._userAgent=this.headers[this.getUserAgentHeaderName()]=i.util.userAgent()},getUserAgentHeaderName:function(){return(i.util.isBrowser()?"X-Amz-":"")+"User-Agent"},appendToUserAgent:function(e){"string"==typeof e&&e&&(this._userAgent+=" "+e),this.headers[this.getUserAgentHeaderName()]=this._userAgent},getUserAgent:function(){return this._userAgent},pathname:function(){return this.path.split("?",1)[0]},search:function(){var e=this.path.split("?",2)[1];return e?(e=i.util.queryStringParse(e),i.util.queryParamsToString(e)):""},updateEndpoint:function(e){var t=new i.Endpoint(e);this.endpoint=t,this.path=t.path||"/",this.headers.Host&&(this.headers.Host=t.host)}}),i.HttpResponse=r({constructor:function(){this.statusCode=void 0,this.headers={},this.body=void 0,this.streaming=!1,this.stream=null},createUnbufferedStream:function(){return this.streaming=!0,this.stream}}),i.HttpClient=r({}),i.HttpClient.getInstance=function(){return void 0===this.singleton&&(this.singleton=new this),this.singleton}},2631:(e,t,n)=>{var i=n(9614),r=n(3498).EventEmitter;n(6344),i.XHRClient=i.util.inherit({handleRequest:function(e,t,n,a){var o=this,s=e.endpoint,c=new r,d=s.protocol+"//"+s.hostname;80!==s.port&&443!==s.port&&(d+=":"+s.port),d+=e.path;var l=new XMLHttpRequest,u=!1;e.stream=l,l.addEventListener("readystatechange",(function(){try{if(0===l.status)return}catch(e){return}this.readyState>=this.HEADERS_RECEIVED&&!u&&(c.statusCode=l.status,c.headers=o.parseHeaders(l.getAllResponseHeaders()),c.emit("headers",c.statusCode,c.headers,l.statusText),u=!0),this.readyState===this.DONE&&o.finishRequest(l,c)}),!1),l.upload.addEventListener("progress",(function(e){c.emit("sendProgress",e)})),l.addEventListener("progress",(function(e){c.emit("receiveProgress",e)}),!1),l.addEventListener("timeout",(function(){a(i.util.error(new Error("Timeout"),{code:"TimeoutError"}))}),!1),l.addEventListener("error",(function(){a(i.util.error(new Error("Network Failure"),{code:"NetworkingError"}))}),!1),l.addEventListener("abort",(function(){a(i.util.error(new Error("Request aborted"),{code:"RequestAbortedError"}))}),!1),n(c),l.open(e.method,d,!1!==t.xhrAsync),i.util.each(e.headers,(function(e,t){"Content-Length"!==e&&"User-Agent"!==e&&"Host"!==e&&l.setRequestHeader(e,t)})),t.timeout&&!1!==t.xhrAsync&&(l.timeout=t.timeout),t.xhrWithCredentials&&(l.withCredentials=!0);try{l.responseType="arraybuffer"}catch(e){}try{e.body?l.send(e.body):l.send()}catch(t){if(!e.body||"object"!=typeof e.body.buffer)throw t;l.send(e.body.buffer)}return c},parseHeaders:function(e){var t={};return i.util.arrayEach(e.split(/\r?\n/),(function(e){var n=e.split(":",1)[0],i=e.substring(n.length+2);n.length>0&&(t[n.toLowerCase()]=i)})),t},finishRequest:function(e,t){var n;if("arraybuffer"===e.responseType&&e.response){var r=e.response;n=new i.util.Buffer(r.byteLength);for(var a=new Uint8Array(r),o=0;o<n.length;++o)n[o]=a[o]}try{n||"string"!=typeof e.responseText||(n=new i.util.Buffer(e.responseText))}catch(e){}n&&t.emit("data",n),t.emit("end")}}),i.HttpClient.prototype=i.XHRClient.prototype,i.HttpClient.streamsApiVersion=1},3658:(e,t,n)=>{var i=n(2662);function r(){}function a(e,t){if(t&&null!=e)switch(t.type){case"structure":return function(e,t){if(t.isDocument)return e;var n={};return i.each(e,(function(e,i){var r=t.members[e];if(r){if("body"!==r.location)return;var o=r.isLocationName?r.name:e,s=a(i,r);void 0!==s&&(n[o]=s)}})),n}(e,t);case"map":return function(e,t){var n={};return i.each(e,(function(e,i){var r=a(i,t.value);void 0!==r&&(n[e]=r)})),n}(e,t);case"list":return function(e,t){var n=[];return i.arrayEach(e,(function(e){var i=a(e,t.member);void 0!==i&&n.push(i)})),n}(e,t);default:return function(e,t){return t.toWireFormat(e)}(e,t)}}r.prototype.build=function(e,t){return JSON.stringify(a(e,t))},e.exports=r},2622:(e,t,n)=>{var i=n(2662);function r(){}function a(e,t){if(t&&void 0!==e)switch(t.type){case"structure":return function(e,t){if(null!=e){if(t.isDocument)return e;var n={},r=t.members;return i.each(r,(function(t,i){var r=i.isLocationName?i.name:t;if(Object.prototype.hasOwnProperty.call(e,r)){var o=a(e[r],i);void 0!==o&&(n[t]=o)}})),n}}(e,t);case"map":return function(e,t){if(null!=e){var n={};return i.each(e,(function(e,i){var r=a(i,t.value);n[e]=void 0===r?null:r})),n}}(e,t);case"list":return function(e,t){if(null!=e){var n=[];return i.arrayEach(e,(function(e){var i=a(e,t.member);void 0===i?n.push(null):n.push(i)})),n}}(e,t);default:return function(e,t){return t.toType(e)}(e,t)}}r.prototype.parse=function(e,t){return a(JSON.parse(e),t)},e.exports=r},3580:e=>{var t=["We are formalizing our plans to enter AWS SDK for JavaScript (v2) into maintenance mode in 2023.\n","Please migrate your code to use AWS SDK for JavaScript (v3).","For more information, check the migration guide at https://a.co/7PzMCcy"].join("\n");e.exports={suppress:!1},setTimeout((function(){e.exports.suppress||"undefined"!=typeof process&&("object"==typeof process.env&&void 0!==process.env.AWS_EXECUTION_ENV&&0===process.env.AWS_EXECUTION_ENV.indexOf("AWS_Lambda_")||"object"==typeof process.env&&void 0!==process.env.AWS_SDK_JS_SUPPRESS_MAINTENANCE_MODE_MESSAGE||"function"==typeof process.emitWarning&&process.emitWarning(t,{type:"NOTE"}))}),0)},5863:(e,t,n)=>{var i=n(4351),r=n(6797),a=n(8136),o=n(7937),s=n(306),c=n(7752),d=n(2662),l=d.property,u=d.memoizedProperty;e.exports=function(e,t){var n=this;e=e||{},(t=t||{}).api=this,e.metadata=e.metadata||{};var h=t.serviceIdentifier;delete t.serviceIdentifier,l(this,"isApi",!0,!1),l(this,"apiVersion",e.metadata.apiVersion),l(this,"endpointPrefix",e.metadata.endpointPrefix),l(this,"signingName",e.metadata.signingName),l(this,"globalEndpoint",e.metadata.globalEndpoint),l(this,"signatureVersion",e.metadata.signatureVersion),l(this,"jsonVersion",e.metadata.jsonVersion),l(this,"targetPrefix",e.metadata.targetPrefix),l(this,"protocol",e.metadata.protocol),l(this,"timestampFormat",e.metadata.timestampFormat),l(this,"xmlNamespaceUri",e.metadata.xmlNamespace),l(this,"abbreviation",e.metadata.serviceAbbreviation),l(this,"fullName",e.metadata.serviceFullName),l(this,"serviceId",e.metadata.serviceId),h&&c[h]&&l(this,"xmlNoDefaultLists",c[h].xmlNoDefaultLists,!1),u(this,"className",(function(){var t=e.metadata.serviceAbbreviation||e.metadata.serviceFullName;return t?("ElasticLoadBalancing"===(t=t.replace(/^Amazon|AWS\s*|\(.*|\s+|\W+/g,""))&&(t="ELB"),t):null})),l(this,"operations",new i(e.operations,t,(function(e,n){return new r(e,n,t)}),d.string.lowerFirst,(function(e,t){!0===t.endpointoperation&&l(n,"endpointOperation",d.string.lowerFirst(e)),t.endpointdiscovery&&!n.hasRequiredEndpointDiscovery&&l(n,"hasRequiredEndpointDiscovery",!0===t.endpointdiscovery.required)}))),l(this,"shapes",new i(e.shapes,t,(function(e,n){return a.create(n,t)}))),l(this,"paginators",new i(e.paginators,t,(function(e,n){return new o(e,n,t)}))),l(this,"waiters",new i(e.waiters,t,(function(e,n){return new s(e,n,t)}),d.string.lowerFirst)),t.documentation&&(l(this,"documentation",e.documentation),l(this,"documentationUrl",e.documentationUrl)),l(this,"awsQueryCompatible",e.metadata.awsQueryCompatible)}},4351:(e,t,n)=>{var i=n(2662).memoizedProperty;function r(e,t,n,r){i(this,r(e),(function(){return n(e,t)}))}e.exports=function(e,t,n,i,a){for(var o in i=i||String,e)Object.prototype.hasOwnProperty.call(e,o)&&(r.call(this,o,e[o],n,i),a&&a(o,e[o]))}},6797:(e,t,n)=>{var i=n(8136),r=n(2662),a=r.property,o=r.memoizedProperty;e.exports=function(e,t,n){var r=this;n=n||{},a(this,"name",t.name||e),a(this,"api",n.api,!1),t.http=t.http||{},a(this,"endpoint",t.endpoint),a(this,"httpMethod",t.http.method||"POST"),a(this,"httpPath",t.http.requestUri||"/"),a(this,"authtype",t.authtype||""),a(this,"endpointDiscoveryRequired",t.endpointdiscovery?t.endpointdiscovery.required?"REQUIRED":"OPTIONAL":"NULL");var s=t.httpChecksumRequired||t.httpChecksum&&t.httpChecksum.requestChecksumRequired;a(this,"httpChecksumRequired",s,!1),o(this,"input",(function(){return t.input?i.create(t.input,n):new i.create({type:"structure"},n)})),o(this,"output",(function(){return t.output?i.create(t.output,n):new i.create({type:"structure"},n)})),o(this,"errors",(function(){var e=[];if(!t.errors)return null;for(var r=0;r<t.errors.length;r++)e.push(i.create(t.errors[r],n));return e})),o(this,"paginator",(function(){return n.api.paginators[e]})),n.documentation&&(a(this,"documentation",t.documentation),a(this,"documentationUrl",t.documentationUrl)),o(this,"idempotentMembers",(function(){var e=[],t=r.input,n=t.members;if(!t.members)return e;for(var i in n)n.hasOwnProperty(i)&&!0===n[i].isIdempotent&&e.push(i);return e})),o(this,"hasEventOutput",(function(){return function(e){var t=e.members,n=e.payload;if(!e.members)return!1;if(n)return t[n].isEventStream;for(var i in t)if(!t.hasOwnProperty(i)&&!0===t[i].isEventStream)return!0;return!1}(r.output)}))}},7937:(e,t,n)=>{var i=n(2662).property;e.exports=function(e,t){i(this,"inputToken",t.input_token),i(this,"limitKey",t.limit_key),i(this,"moreResults",t.more_results),i(this,"outputToken",t.output_token),i(this,"resultKey",t.result_key)}},306:(e,t,n)=>{var i=n(2662),r=i.property;e.exports=function(e,t,n){n=n||{},r(this,"name",e),r(this,"api",n.api,!1),t.operation&&r(this,"operation",i.string.lowerFirst(t.operation));var a=this;["type","description","delay","maxAttempts","acceptors"].forEach((function(e){var n=t[e];n&&r(a,e,n)}))}},8136:(e,t,n)=>{var i=n(4351),r=n(2662);function a(e,t,n){null!=n&&r.property.apply(this,arguments)}function o(e,t){e.constructor.prototype[t]||r.memoizedProperty.apply(this,arguments)}function s(e,t,n){t=t||{},a(this,"shape",e.shape),a(this,"api",t.api,!1),a(this,"type",e.type),a(this,"enum",e.enum),a(this,"min",e.min),a(this,"max",e.max),a(this,"pattern",e.pattern),a(this,"location",e.location||this.location||"body"),a(this,"name",this.name||e.xmlName||e.queryName||e.locationName||n),a(this,"isStreaming",e.streaming||this.isStreaming||!1),a(this,"requiresLength",e.requiresLength,!1),a(this,"isComposite",e.isComposite||!1),a(this,"isShape",!0,!1),a(this,"isQueryName",Boolean(e.queryName),!1),a(this,"isLocationName",Boolean(e.locationName),!1),a(this,"isIdempotent",!0===e.idempotencyToken),a(this,"isJsonValue",!0===e.jsonvalue),a(this,"isSensitive",!0===e.sensitive||e.prototype&&!0===e.prototype.sensitive),a(this,"isEventStream",Boolean(e.eventstream),!1),a(this,"isEvent",Boolean(e.event),!1),a(this,"isEventPayload",Boolean(e.eventpayload),!1),a(this,"isEventHeader",Boolean(e.eventheader),!1),a(this,"isTimestampFormatSet",Boolean(e.timestampFormat)||e.prototype&&!0===e.prototype.isTimestampFormatSet,!1),a(this,"endpointDiscoveryId",Boolean(e.endpointdiscoveryid),!1),a(this,"hostLabel",Boolean(e.hostLabel),!1),t.documentation&&(a(this,"documentation",e.documentation),a(this,"documentationUrl",e.documentationUrl)),e.xmlAttribute&&a(this,"isXmlAttribute",e.xmlAttribute||!1),a(this,"defaultValue",null),this.toWireFormat=function(e){return null==e?"":e},this.toType=function(e){return e}}function c(e){s.apply(this,arguments),a(this,"isComposite",!0),e.flattened&&a(this,"flattened",e.flattened||!1)}function d(e,t){var n=this,r=null,d=!this.isShape;c.apply(this,arguments),d&&(a(this,"defaultValue",(function(){return{}})),a(this,"members",{}),a(this,"memberNames",[]),a(this,"required",[]),a(this,"isRequired",(function(){return!1})),a(this,"isDocument",Boolean(e.document))),e.members&&(a(this,"members",new i(e.members,t,(function(e,n){return s.create(n,t,e)}))),o(this,"memberNames",(function(){return e.xmlOrder||Object.keys(e.members)})),e.event&&(o(this,"eventPayloadMemberName",(function(){for(var e=n.members,t=n.memberNames,i=0,r=t.length;i<r;i++)if(e[t[i]].isEventPayload)return t[i]})),o(this,"eventHeaderMemberNames",(function(){for(var e=n.members,t=n.memberNames,i=[],r=0,a=t.length;r<a;r++)e[t[r]].isEventHeader&&i.push(t[r]);return i})))),e.required&&(a(this,"required",e.required),a(this,"isRequired",(function(t){if(!r){r={};for(var n=0;n<e.required.length;n++)r[e.required[n]]=!0}return r[t]}),!1,!0)),a(this,"resultWrapper",e.resultWrapper||null),e.payload&&a(this,"payload",e.payload),"string"==typeof e.xmlNamespace?a(this,"xmlNamespaceUri",e.xmlNamespace):"object"==typeof e.xmlNamespace&&(a(this,"xmlNamespacePrefix",e.xmlNamespace.prefix),a(this,"xmlNamespaceUri",e.xmlNamespace.uri))}function l(e,t){var n=this,i=!this.isShape;if(c.apply(this,arguments),i&&a(this,"defaultValue",(function(){return[]})),e.member&&o(this,"member",(function(){return s.create(e.member,t)})),this.flattened){var r=this.name;o(this,"name",(function(){return n.member.name||r}))}}function u(e,t){var n=!this.isShape;c.apply(this,arguments),n&&(a(this,"defaultValue",(function(){return{}})),a(this,"key",s.create({type:"string"},t)),a(this,"value",s.create({type:"string"},t))),e.key&&o(this,"key",(function(){return s.create(e.key,t)})),e.value&&o(this,"value",(function(){return s.create(e.value,t)}))}function h(){s.apply(this,arguments);var e=["rest-xml","query","ec2"];this.toType=function(t){return t=this.api&&e.indexOf(this.api.protocol)>-1?t||"":t,this.isJsonValue?JSON.parse(t):t&&"function"==typeof t.toString?t.toString():t},this.toWireFormat=function(e){return this.isJsonValue?JSON.stringify(e):e}}function p(){s.apply(this,arguments),this.toType=function(e){var t=r.base64.decode(e);if(this.isSensitive&&r.isNode()&&"function"==typeof r.Buffer.alloc){var n=r.Buffer.alloc(t.length,t);t.fill(0),t=n}return t},this.toWireFormat=r.base64.encode}function m(){p.apply(this,arguments)}function f(){s.apply(this,arguments),this.toType=function(e){return"boolean"==typeof e?e:null==e?null:"true"===e}}s.normalizedTypes={character:"string",double:"float",long:"integer",short:"integer",biginteger:"integer",bigdecimal:"float",blob:"binary"},s.types={structure:d,list:l,map:u,boolean:f,timestamp:function(e){var t=this;if(s.apply(this,arguments),e.timestampFormat)a(this,"timestampFormat",e.timestampFormat);else if(t.isTimestampFormatSet&&this.timestampFormat)a(this,"timestampFormat",this.timestampFormat);else if("header"===this.location)a(this,"timestampFormat","rfc822");else if("querystring"===this.location)a(this,"timestampFormat","iso8601");else if(this.api)switch(this.api.protocol){case"json":case"rest-json":a(this,"timestampFormat","unixTimestamp");break;case"rest-xml":case"query":case"ec2":a(this,"timestampFormat","iso8601")}this.toType=function(e){return null==e?null:"function"==typeof e.toUTCString?e:"string"==typeof e||"number"==typeof e?r.date.parseTimestamp(e):null},this.toWireFormat=function(e){return r.date.format(e,t.timestampFormat)}},float:function(){s.apply(this,arguments),this.toType=function(e){return null==e?null:parseFloat(e)},this.toWireFormat=this.toType},integer:function(){s.apply(this,arguments),this.toType=function(e){return null==e?null:parseInt(e,10)},this.toWireFormat=this.toType},string:h,base64:m,binary:p},s.resolve=function(e,t){if(e.shape){var n=t.api.shapes[e.shape];if(!n)throw new Error("Cannot find shape reference: "+e.shape);return n}return null},s.create=function(e,t,n){if(e.isShape)return e;var i=s.resolve(e,t);if(i){var r=Object.keys(e);t.documentation||(r=r.filter((function(e){return!e.match(/documentation/)})));var a=function(){i.constructor.call(this,e,t,n)};return a.prototype=i,new a}e.type||(e.members?e.type="structure":e.member?e.type="list":e.key?e.type="map":e.type="string");var o=e.type;if(s.normalizedTypes[e.type]&&(e.type=s.normalizedTypes[e.type]),s.types[e.type])return new s.types[e.type](e,t,n);throw new Error("Unrecognized shape type: "+o)},s.shapes={StructureShape:d,ListShape:l,MapShape:u,StringShape:h,BooleanShape:f,Base64Shape:m},e.exports=s},5479:(e,t,n)=>{var i=n(9614);i.ParamValidator=i.util.inherit({constructor:function(e){!0!==e&&void 0!==e||(e={min:!0}),this.validation=e},validate:function(e,t,n){if(this.errors=[],this.validateMember(e,t||{},n||"params"),this.errors.length>1){var r=this.errors.join("\n* ");throw r="There were "+this.errors.length+" validation errors:\n* "+r,i.util.error(new Error(r),{code:"MultipleValidationErrors",errors:this.errors})}if(1===this.errors.length)throw this.errors[0];return!0},fail:function(e,t){this.errors.push(i.util.error(new Error(t),{code:e}))},validateStructure:function(e,t,n){if(e.isDocument)return!0;var i;this.validateType(t,n,["object"],"structure");for(var r=0;e.required&&r<e.required.length;r++){null==t[i=e.required[r]]&&this.fail("MissingRequiredParameter","Missing required key '"+i+"' in "+n)}for(i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var a=t[i],o=e.members[i];if(void 0!==o){var s=[n,i].join(".");this.validateMember(o,a,s)}else null!=a&&this.fail("UnexpectedParameter","Unexpected key '"+i+"' found in "+n)}return!0},validateMember:function(e,t,n){switch(e.type){case"structure":return this.validateStructure(e,t,n);case"list":return this.validateList(e,t,n);case"map":return this.validateMap(e,t,n);default:return this.validateScalar(e,t,n)}},validateList:function(e,t,n){if(this.validateType(t,n,[Array])){this.validateRange(e,t.length,n,"list member count");for(var i=0;i<t.length;i++)this.validateMember(e.member,t[i],n+"["+i+"]")}},validateMap:function(e,t,n){if(this.validateType(t,n,["object"],"map")){var i=0;for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(this.validateMember(e.key,r,n+"[key='"+r+"']"),this.validateMember(e.value,t[r],n+"['"+r+"']"),i++);this.validateRange(e,i,n,"map member count")}},validateScalar:function(e,t,n){switch(e.type){case null:case void 0:case"string":return this.validateString(e,t,n);case"base64":case"binary":return this.validatePayload(t,n);case"integer":case"float":return this.validateNumber(e,t,n);case"boolean":return this.validateType(t,n,["boolean"]);case"timestamp":return this.validateType(t,n,[Date,/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}(\.\d+)?Z$/,"number"],"Date object, ISO-8601 string, or a UNIX timestamp");default:return this.fail("UnkownType","Unhandled type "+e.type+" for "+n)}},validateString:function(e,t,n){var i=["string"];e.isJsonValue&&(i=i.concat(["number","object","boolean"])),null!==t&&this.validateType(t,n,i)&&(this.validateEnum(e,t,n),this.validateRange(e,t.length,n,"string length"),this.validatePattern(e,t,n),this.validateUri(e,t,n))},validateUri:function(e,t,n){"uri"===e.location&&0===t.length&&this.fail("UriParameterError",'Expected uri parameter to have length >= 1, but found "'+t+'" for '+n)},validatePattern:function(e,t,n){this.validation.pattern&&void 0!==e.pattern&&(new RegExp(e.pattern).test(t)||this.fail("PatternMatchError",'Provided value "'+t+'" does not match regex pattern /'+e.pattern+"/ for "+n))},validateRange:function(e,t,n,i){this.validation.min&&void 0!==e.min&&t<e.min&&this.fail("MinRangeError","Expected "+i+" >= "+e.min+", but found "+t+" for "+n),this.validation.max&&void 0!==e.max&&t>e.max&&this.fail("MaxRangeError","Expected "+i+" <= "+e.max+", but found "+t+" for "+n)},validateEnum:function(e,t,n){this.validation.enum&&void 0!==e.enum&&-1===e.enum.indexOf(t)&&this.fail("EnumError","Found string value of "+t+", but expected "+e.enum.join("|")+" for "+n)},validateType:function(e,t,n,r){if(null==e)return!1;for(var a=!1,o=0;o<n.length;o++){if("string"==typeof n[o]){if(typeof e===n[o])return!0}else if(n[o]instanceof RegExp){if((e||"").toString().match(n[o]))return!0}else{if(e instanceof n[o])return!0;if(i.util.isType(e,n[o]))return!0;r||a||(n=n.slice()),n[o]=i.util.typeName(n[o])}a=!0}var s=r;s||(s=n.join(", ").replace(/,([^,]+)$/,", or$1"));var c=s.match(/^[aeiou]/i)?"n":"";return this.fail("InvalidParameterType","Expected "+t+" to be a"+c+" "+s),!1},validateNumber:function(e,t,n){if(null!=t){if("string"==typeof t){var i=parseFloat(t);i.toString()===t&&(t=i)}this.validateType(t,n,["number"])&&this.validateRange(e,t,n,"numeric value")}},validatePayload:function(e,t){if(null!=e&&"string"!=typeof e&&(!e||"number"!=typeof e.byteLength)){if(i.util.isNode()){var n=i.util.stream.Stream;if(i.util.Buffer.isBuffer(e)||e instanceof n)return}else if(void 0!==typeof Blob&&e instanceof Blob)return;var r=["Buffer","Stream","File","Blob","ArrayBuffer","DataView"];if(e)for(var a=0;a<r.length;a++){if(i.util.isType(e,r[a]))return;if(i.util.typeName(e.constructor)===r[a])return}this.fail("InvalidParameterType","Expected "+t+" to be a string, Buffer, Stream, Blob, or typed array object")}}})},987:(e,t,n)=>{var i=n(2662),r=n(9614);e.exports={populateHostPrefix:function(e){if(!e.service.config.hostPrefixEnabled)return e;var t,n,a,o,s,c,d,l=e.service.api.operations[e.operation];if(function(e){var t=e.service.api,n=t.operations[e.operation],r=t.endpointOperation&&t.endpointOperation===i.string.lowerFirst(n.name);return"NULL"!==n.endpointDiscoveryRequired||!0===r}(e))return e;if(l.endpoint&&l.endpoint.hostPrefix){var u=(s=l.endpoint.hostPrefix,c=e.params,d=l.input,i.each(d.members,(function(e,t){if(!0===t.hostLabel){if("string"!=typeof c[e]||""===c[e])throw i.error(new Error,{message:"Parameter "+e+" should be a non-empty string.",code:"InvalidParameter"});var n=new RegExp("\\{"+e+"\\}","g");s=s.replace(n,c[e])}})),s);a=e.httpRequest.endpoint,o=u,a.host&&(a.host=o+a.host),a.hostname&&(a.hostname=o+a.hostname),t=e.httpRequest.endpoint.hostname.split("."),n=/^[a-zA-Z0-9]{1}$|^[a-zA-Z0-9][a-zA-Z0-9\-]*[a-zA-Z0-9]$/,i.arrayEach(t,(function(e){if(!e.length||e.length<1||e.length>63)throw i.error(new Error,{code:"ValidationError",message:"Hostname label length should be between 1 to 63 characters, inclusive."});if(!n.test(e))throw r.util.error(new Error,{code:"ValidationError",message:e+" is not hostname compatible."})}))}return e}}},6933:(e,t,n)=>{var i=n(2662),r=n(3658),a=n(2622),o=n(987).populateHostPrefix;e.exports={buildRequest:function(e){var t=e.httpRequest,n=e.service.api,i=n.targetPrefix+"."+n.operations[e.operation].name,a=n.jsonVersion||"1.0",s=n.operations[e.operation].input,c=new r;1===a&&(a="1.0"),n.awsQueryCompatible&&(t.params||(t.params={}),Object.assign(t.params,e.params)),t.body=c.build(e.params||{},s),t.headers["Content-Type"]="application/x-amz-json-"+a,t.headers["X-Amz-Target"]=i,o(e)},extractError:function(e){var t={},n=e.httpResponse;if(t.code=n.headers["x-amzn-errortype"]||"UnknownError","string"==typeof t.code&&(t.code=t.code.split(":")[0]),n.body.length>0)try{var r=JSON.parse(n.body.toString()),a=r.__type||r.code||r.Code;for(var o in a&&(t.code=a.split("#").pop()),"RequestEntityTooLarge"===t.code?t.message="Request body must be less than 1 MB":t.message=r.message||r.Message||null,r||{})"code"!==o&&"message"!==o&&(t["["+o+"]"]="See error."+o+" for details.",Object.defineProperty(t,o,{value:r[o],enumerable:!1,writable:!0}))}catch(r){t.statusCode=n.statusCode,t.message=n.statusMessage}else t.statusCode=n.statusCode,t.message=n.statusCode.toString();e.error=i.error(new Error,t)},extractData:function(e){var t=e.httpResponse.body.toString()||"{}";if(!1===e.request.service.config.convertResponseTypes)e.data=JSON.parse(t);else{var n=e.request.service.api.operations[e.request.operation].output||{},i=new a;e.data=i.parse(t,n)}}}},293:(e,t,n)=>{var i=n(9614),r=n(2662),a=n(864),o=n(8136),s=n(987).populateHostPrefix;e.exports={buildRequest:function(e){var t=e.service.api.operations[e.operation],n=e.httpRequest;n.headers["Content-Type"]="application/x-www-form-urlencoded; charset=utf-8",n.params={Version:e.service.api.apiVersion,Action:t.name},(new a).serialize(e.params,t.input,(function(e,t){n.params[e]=t})),n.body=r.queryParamsToString(n.params),s(e)},extractError:function(e){var t,n=e.httpResponse.body.toString();if(n.match("<UnknownOperationException"))t={Code:"UnknownOperation",Message:"Unknown operation "+e.request.operation};else try{t=(new i.XML.Parser).parse(n)}catch(n){t={Code:e.httpResponse.statusCode,Message:e.httpResponse.statusMessage}}t.requestId&&!e.requestId&&(e.requestId=t.requestId),t.Errors&&(t=t.Errors),t.Error&&(t=t.Error),t.Code?e.error=r.error(new Error,{code:t.Code,message:t.Message}):e.error=r.error(new Error,{code:e.httpResponse.statusCode,message:null})},extractData:function(e){var t=e.request,n=t.service.api.operations[t.operation].output||{},a=n;if(a.resultWrapper){var s=o.create({type:"structure"});s.members[a.resultWrapper]=n,s.memberNames=[a.resultWrapper],r.property(n,"name",n.resultWrapper),n=s}var c=new i.XML.Parser;if(n&&n.members&&!n.members._XAMZRequestId){var d=o.create({type:"string"},{api:{protocol:"query"}},"requestId");n.members._XAMZRequestId=d}var l=c.parse(e.httpResponse.body.toString(),n);e.requestId=l._XAMZRequestId||l.requestId,l._XAMZRequestId&&delete l._XAMZRequestId,a.resultWrapper&&l[a.resultWrapper]&&(r.update(l,l[a.resultWrapper]),delete l[a.resultWrapper]),e.data=l}}},6225:(e,t,n)=>{var i=n(2662),r=n(987).populateHostPrefix;function a(e,t,n,r){var a=[e,t].join("/");a=a.replace(/\/+/g,"/");var o={},s=!1;if(i.each(n.members,(function(e,t){var n=r[e];if(null!=n)if("uri"===t.location){var c=new RegExp("\\{"+t.name+"(\\+)?\\}");a=a.replace(c,(function(e,t){return(t?i.uriEscapePath:i.uriEscape)(String(n))}))}else"querystring"===t.location&&(s=!0,"list"===t.type?o[t.name]=n.map((function(e){return i.uriEscape(t.member.toWireFormat(e).toString())})):"map"===t.type?i.each(n,(function(e,t){Array.isArray(t)?o[e]=t.map((function(e){return i.uriEscape(String(e))})):o[e]=i.uriEscape(String(t))})):o[t.name]=i.uriEscape(t.toWireFormat(n).toString()))})),s){a+=a.indexOf("?")>=0?"&":"?";var c=[];i.arrayEach(Object.keys(o).sort(),(function(e){Array.isArray(o[e])||(o[e]=[o[e]]);for(var t=0;t<o[e].length;t++)c.push(i.uriEscape(String(e))+"="+o[e][t])})),a+=c.join("&")}return a}e.exports={buildRequest:function(e){!function(e){e.httpRequest.method=e.service.api.operations[e.operation].httpMethod}(e),function(e){var t=e.service.api.operations[e.operation],n=t.input,i=a(e.httpRequest.endpoint.path,t.httpPath,n,e.params);e.httpRequest.path=i}(e),function(e){var t=e.service.api.operations[e.operation];i.each(t.input.members,(function(t,n){var r=e.params[t];null!=r&&("headers"===n.location&&"map"===n.type?i.each(r,(function(t,i){e.httpRequest.headers[n.name+t]=i})):"header"===n.location&&(r=n.toWireFormat(r).toString(),n.isJsonValue&&(r=i.base64.encode(r)),e.httpRequest.headers[n.name]=r))}))}(e),r(e)},extractError:function(){},extractData:function(e){var t=e.request,n={},r=e.httpResponse,a=t.service.api.operations[t.operation].output,o={};i.each(r.headers,(function(e,t){o[e.toLowerCase()]=t})),i.each(a.members,(function(e,t){var a=(t.name||e).toLowerCase();if("headers"===t.location&&"map"===t.type){n[e]={};var s=t.isLocationName?t.name:"",c=new RegExp("^"+s+"(.+)","i");i.each(r.headers,(function(t,i){var r=t.match(c);null!==r&&(n[e][r[1]]=i)}))}else if("header"===t.location){if(void 0!==o[a]){var d=t.isJsonValue?i.base64.decode(o[a]):o[a];n[e]=t.toType(d)}}else"statusCode"===t.location&&(n[e]=parseInt(r.statusCode,10))})),e.data=n},generateURI:a}},3699:(e,t,n)=>{var i=n(2662),r=n(6225),a=n(6933),o=n(3658),s=n(2622),c=["GET","HEAD","DELETE"];function d(e,t){if(!e.httpRequest.headers["Content-Type"]){var n=t?"binary/octet-stream":"application/json";e.httpRequest.headers["Content-Type"]=n}}e.exports={buildRequest:function(e){r.buildRequest(e),c.indexOf(e.httpRequest.method)<0&&function(e){var t=new o,n=e.service.api.operations[e.operation].input;if(n.payload){var i,r=n.members[n.payload];i=e.params[n.payload],"structure"===r.type?(e.httpRequest.body=t.build(i||{},r),d(e)):void 0!==i&&(e.httpRequest.body=i,("binary"===r.type||r.isStreaming)&&d(e,!0))}else e.httpRequest.body=t.build(e.params,n),d(e)}(e)},extractError:function(e){a.extractError(e)},extractData:function(e){r.extractData(e);var t=e.request,n=t.service.api.operations[t.operation],o=t.service.api.operations[t.operation].output||{};if(n.hasEventOutput,o.payload){var c=o.members[o.payload],d=e.httpResponse.body;if(c.isEventStream)l=new s,e.data[payload]=i.createEventStream(2===AWS.HttpClient.streamsApiVersion?e.httpResponse.stream:d,l,c);else if("structure"===c.type||"list"===c.type){var l=new s;e.data[o.payload]=l.parse(d,c)}else"binary"===c.type||c.isStreaming?e.data[o.payload]=d:e.data[o.payload]=c.toType(d)}else{var u=e.data;a.extractData(e),e.data=i.merge(u,e.data)}},unsetContentLength:function(e){void 0===i.getRequestPayloadShape(e)&&c.indexOf(e.httpRequest.method)>=0&&delete e.httpRequest.headers["Content-Length"]}}},1674:(e,t,n)=>{var i=n(9614),r=n(2662),a=n(6225);e.exports={buildRequest:function(e){a.buildRequest(e),["GET","HEAD"].indexOf(e.httpRequest.method)<0&&function(e){var t=e.service.api.operations[e.operation].input,n=new i.XML.Builder,a=e.params,o=t.payload;if(o){var s=t.members[o];if(void 0===(a=a[o]))return;if("structure"===s.type){var c=s.name;e.httpRequest.body=n.toXML(a,s,c,!0)}else e.httpRequest.body=a}else e.httpRequest.body=n.toXML(a,t,t.name||t.shape||r.string.upperFirst(e.operation)+"Request")}(e)},extractError:function(e){var t;a.extractError(e);try{t=(new i.XML.Parser).parse(e.httpResponse.body.toString())}catch(n){t={Code:e.httpResponse.statusCode,Message:e.httpResponse.statusMessage}}t.Errors&&(t=t.Errors),t.Error&&(t=t.Error),t.Code?e.error=r.error(new Error,{code:t.Code,message:t.Message}):e.error=r.error(new Error,{code:e.httpResponse.statusCode,message:null})},extractData:function(e){var t;a.extractData(e);var n=e.request,o=e.httpResponse.body,s=n.service.api.operations[n.operation],c=s.output,d=(s.hasEventOutput,c.payload);if(d){var l=c.members[d];l.isEventStream?(t=new i.XML.Parser,e.data[d]=r.createEventStream(2===i.HttpClient.streamsApiVersion?e.httpResponse.stream:e.httpResponse.body,t,l)):"structure"===l.type?(t=new i.XML.Parser,e.data[d]=t.parse(o.toString(),l)):"binary"===l.type||l.isStreaming?e.data[d]=o:e.data[d]=l.toType(o)}else if(o.length>0){var u=(t=new i.XML.Parser).parse(o.toString(),c);r.update(e.data,u)}}}},864:(e,t,n)=>{var i=n(2662);function r(){}function a(e){return e.isQueryName||"ec2"!==e.api.protocol?e.name:e.name[0].toUpperCase()+e.name.substr(1)}function o(e,t,n,r){i.each(n.members,(function(n,i){var o=t[n];if(null!=o){var c=a(i);s(c=e?e+"."+c:c,o,i,r)}}))}function s(e,t,n,r){null!=t&&("structure"===n.type?o(e,t,n,r):"list"===n.type?function(e,t,n,r){var o=n.member||{};0!==t.length?i.arrayEach(t,(function(t,i){var c="."+(i+1);if("ec2"===n.api.protocol)c+="";else if(n.flattened){if(o.name){var d=e.split(".");d.pop(),d.push(a(o)),e=d.join(".")}}else c="."+(o.name?o.name:"member")+c;s(e+c,t,o,r)})):r.call(this,e,null)}(e,t,n,r):"map"===n.type?function(e,t,n,r){var a=1;i.each(t,(function(t,i){var o=(n.flattened?".":".entry.")+a+++".",c=o+(n.key.name||"key"),d=o+(n.value.name||"value");s(e+c,t,n.key,r),s(e+d,i,n.value,r)}))}(e,t,n,r):r(e,n.toWireFormat(t).toString()))}r.prototype.serialize=function(e,t,n){o("",e,t,n)},e.exports=r},1414:e=>{e.exports={now:function(){return"undefined"!=typeof performance&&"function"==typeof performance.now?performance.now():Date.now()}}},4040:e=>{e.exports={isFipsRegion:function(e){return"string"==typeof e&&(e.startsWith("fips-")||e.endsWith("-fips"))},isGlobalRegion:function(e){return"string"==typeof e&&["aws-global","aws-us-gov-global"].includes(e)},getRealRegion:function(e){return["fips-aws-global","aws-fips","aws-global"].includes(e)?"us-east-1":["fips-aws-us-gov-global","aws-us-gov-global"].includes(e)?"us-gov-west-1":e.replace(/fips-(dkr-|prod-)?|-fips/,"")}}},1404:(e,t,n)=>{var i=n(2662),r=n(738);function a(e,t){i.each(t,(function(t,n){"globalEndpoint"!==t&&(void 0!==e.config[t]&&null!==e.config[t]||(e.config[t]=n))}))}e.exports={configureEndpoint:function(e){for(var t=function(e){var t=e.config.region,n=function(e){if(!e)return null;var t=e.split("-");return t.length<3?null:t.slice(0,t.length-2).join("-")+"-*"}(t),i=e.api.endpointPrefix;return[[t,i],[n,i],[t,"*"],[n,"*"],["*",i],[t,"internal-*"],["*","*"]].map((function(e){return e[0]&&e[1]?e.join("/"):null}))}(e),n=e.config.useFipsEndpoint,i=e.config.useDualstackEndpoint,o=0;o<t.length;o++){var s=t[o];if(s){var c=n?i?r.dualstackFipsRules:r.fipsRules:i?r.dualstackRules:r.rules;if(Object.prototype.hasOwnProperty.call(c,s)){var d=c[s];"string"==typeof d&&(d=r.patterns[d]),e.isGlobalEndpoint=!!d.globalEndpoint,d.signingRegion&&(e.signingRegion=d.signingRegion),d.signatureVersion||(d.signatureVersion="v4");var l="bearer"===(e.api&&e.api.signatureVersion);return void a(e,Object.assign({},d,{signatureVersion:l?"bearer":d.signatureVersion}))}}}},getEndpointSuffix:function(e){for(var t={"^(us|eu|ap|sa|ca|me)\\-\\w+\\-\\d+$":"amazonaws.com","^cn\\-\\w+\\-\\d+$":"amazonaws.com.cn","^us\\-gov\\-\\w+\\-\\d+$":"amazonaws.com","^us\\-iso\\-\\w+\\-\\d+$":"c2s.ic.gov","^us\\-isob\\-\\w+\\-\\d+$":"sc2s.sgov.gov"},n=Object.keys(t),i=0;i<n.length;i++){var r=RegExp(n[i]),a=t[n[i]];if(r.test(e))return a}return"amazonaws.com"}}},3682:(e,t,n)=>{var i=n(9614),r=n(1793),a=i.util.inherit,o=i.util.domain,s=n(4509),c={success:1,error:1,complete:1},d=new r;d.setupStates=function(){var e=function(e,t){var n=this;n._haltHandlersOnError=!1,n.emit(n._asm.currentState,(function(e){if(e)if(i=n,Object.prototype.hasOwnProperty.call(c,i._asm.currentState)){if(!(o&&n.domain instanceof o.Domain))throw e;e.domainEmitter=n,e.domain=n.domain,e.domainThrown=!1,n.domain.emit("error",e)}else n.response.error=e,t(e);else t(n.response.error);var i}))};this.addState("validate","build","error",e),this.addState("build","afterBuild","restart",e),this.addState("afterBuild","sign","restart",e),this.addState("sign","send","retry",e),this.addState("retry","afterRetry","afterRetry",e),this.addState("afterRetry","sign","error",e),this.addState("send","validateResponse","retry",e),this.addState("validateResponse","extractData","extractError",e),this.addState("extractError","extractData","retry",e),this.addState("extractData","success","retry",e),this.addState("restart","build","error",e),this.addState("success","complete","complete",e),this.addState("error","complete","complete",e),this.addState("complete",null,null,e)},d.setupStates(),i.Request=a({constructor:function(e,t,n){var a=e.endpoint,s=e.config.region,c=e.config.customUserAgent;e.signingRegion?s=e.signingRegion:e.isGlobalEndpoint&&(s="us-east-1"),this.domain=o&&o.active,this.service=e,this.operation=t,this.params=n||{},this.httpRequest=new i.HttpRequest(a,s),this.httpRequest.appendToUserAgent(c),this.startTime=e.getSkewCorrectedDate(),this.response=new i.Response(this),this._asm=new r(d.states,"validate"),this._haltHandlersOnError=!1,i.SequentialExecutor.call(this),this.emit=this.emitEvent},send:function(e){return e&&(this.httpRequest.appendToUserAgent("callback"),this.on("complete",(function(t){e.call(t,t.error,t.data)}))),this.runTo(),this.response},build:function(e){return this.runTo("send",e)},runTo:function(e,t){return this._asm.runTo(e,t,this),this},abort:function(){return this.removeAllListeners("validateResponse"),this.removeAllListeners("extractError"),this.on("validateResponse",(function(e){e.error=i.util.error(new Error("Request aborted by user"),{code:"RequestAbortedError",retryable:!1})})),this.httpRequest.stream&&!this.httpRequest.stream.didCallback&&(this.httpRequest.stream.abort(),this.httpRequest._abortCallback?this.httpRequest._abortCallback():this.removeAllListeners("send")),this},eachPage:function(e){e=i.util.fn.makeAsync(e,3),this.on("complete",(function t(n){e.call(n,n.error,n.data,(function(r){!1!==r&&(n.hasNextPage()?n.nextPage().on("complete",t).send():e.call(n,null,null,i.util.fn.noop))}))})).send()},eachItem:function(e){var t=this;this.eachPage((function(n,r){if(n)return e(n,null);if(null===r)return e(null,null);var a=t.service.paginationConfig(t.operation).resultKey;Array.isArray(a)&&(a=a[0]);var o=s.search(r,a),c=!0;return i.util.arrayEach(o,(function(t){if(!1===(c=e(null,t)))return i.util.abort})),c}))},isPageable:function(){return!!this.service.paginationConfig(this.operation)},createReadStream:function(){var e=i.util.stream,t=this,n=null;return 2===i.HttpClient.streamsApiVersion?(n=new e.PassThrough,process.nextTick((function(){t.send()}))):((n=new e.Stream).readable=!0,n.sent=!1,n.on("newListener",(function(e){n.sent||"data"!==e||(n.sent=!0,process.nextTick((function(){t.send()})))}))),this.on("error",(function(e){n.emit("error",e)})),this.on("httpHeaders",(function(r,a,o){if(r<300){t.removeListener("httpData",i.EventListeners.Core.HTTP_DATA),t.removeListener("httpError",i.EventListeners.Core.HTTP_ERROR),t.on("httpError",(function(e){o.error=e,o.error.retryable=!1}));var s,c=!1;if("HEAD"!==t.httpRequest.method&&(s=parseInt(a["content-length"],10)),void 0!==s&&!isNaN(s)&&s>=0){c=!0;var d=0}var l=function(){c&&d!==s?n.emit("error",i.util.error(new Error("Stream content length mismatch. Received "+d+" of "+s+" bytes."),{code:"StreamContentLengthMismatch"})):2===i.HttpClient.streamsApiVersion?n.end():n.emit("end")},u=o.httpResponse.createUnbufferedStream();if(2===i.HttpClient.streamsApiVersion)if(c){var h=new e.PassThrough;h._write=function(t){return t&&t.length&&(d+=t.length),e.PassThrough.prototype._write.apply(this,arguments)},h.on("end",l),n.on("error",(function(e){c=!1,u.unpipe(h),h.emit("end"),h.end()})),u.pipe(h).pipe(n,{end:!1})}else u.pipe(n);else c&&u.on("data",(function(e){e&&e.length&&(d+=e.length)})),u.on("data",(function(e){n.emit("data",e)})),u.on("end",l);u.on("error",(function(e){c=!1,n.emit("error",e)}))}})),n},emitEvent:function(e,t,n){"function"==typeof t&&(n=t,t=null),n||(n=function(){}),t||(t=this.eventParameters(e,this.response)),i.SequentialExecutor.prototype.emit.call(this,e,t,(function(e){e&&(this.response.error=e),n.call(this,e)}))},eventParameters:function(e){switch(e){case"restart":case"validate":case"sign":case"build":case"afterValidate":case"afterBuild":return[this];case"error":return[this.response.error,this.response];default:return[this.response]}},presign:function(e,t){return t||"function"!=typeof e||(t=e,e=null),(new i.Signers.Presign).sign(this.toGet(),e,t)},isPresigned:function(){return Object.prototype.hasOwnProperty.call(this.httpRequest.headers,"presigned-expires")},toUnauthenticated:function(){return this._unAuthenticated=!0,this.removeListener("validate",i.EventListeners.Core.VALIDATE_CREDENTIALS),this.removeListener("sign",i.EventListeners.Core.SIGN),this},toGet:function(){return"query"!==this.service.api.protocol&&"ec2"!==this.service.api.protocol||(this.removeListener("build",this.buildAsGet),this.addListener("build",this.buildAsGet)),this},buildAsGet:function(e){e.httpRequest.method="GET",e.httpRequest.path=e.service.endpoint.path+"?"+e.httpRequest.body,e.httpRequest.body="",delete e.httpRequest.headers["Content-Length"],delete e.httpRequest.headers["Content-Type"]},haltHandlersOnError:function(){this._haltHandlersOnError=!0}}),i.Request.addPromisesToClass=function(e){this.prototype.promise=function(){var t=this;return this.httpRequest.appendToUserAgent("promise"),new e((function(e,n){t.on("complete",(function(t){t.error?n(t.error):e(Object.defineProperty(t.data||{},"$response",{value:t}))})),t.runTo()}))}},i.Request.deletePromisesFromClass=function(){delete this.prototype.promise},i.util.addPromises(i.Request),i.util.mixin(i.Request,i.SequentialExecutor)},2413:(e,t,n)=>{var i=n(9614),r=i.util.inherit,a=n(4509);function o(e){var t=e.request._waiter,n=t.config.acceptors,i=!1,r="retry";n.forEach((function(n){if(!i){var a=t.matchers[n.matcher];a&&a(e,n.expected,n.argument)&&(i=!0,r=n.state)}})),!i&&e.error&&(r="failure"),"success"===r?t.setSuccess(e):t.setError(e,"retry"===r)}i.ResourceWaiter=r({constructor:function(e,t){this.service=e,this.state=t,this.loadWaiterConfig(this.state)},service:null,state:null,config:null,matchers:{path:function(e,t,n){try{var i=a.search(e.data,n)}catch(e){return!1}return a.strictDeepEqual(i,t)},pathAll:function(e,t,n){try{var i=a.search(e.data,n)}catch(e){return!1}Array.isArray(i)||(i=[i]);var r=i.length;if(!r)return!1;for(var o=0;o<r;o++)if(!a.strictDeepEqual(i[o],t))return!1;return!0},pathAny:function(e,t,n){try{var i=a.search(e.data,n)}catch(e){return!1}Array.isArray(i)||(i=[i]);for(var r=i.length,o=0;o<r;o++)if(a.strictDeepEqual(i[o],t))return!0;return!1},status:function(e,t){var n=e.httpResponse.statusCode;return"number"==typeof n&&n===t},error:function(e,t){return"string"==typeof t&&e.error?t===e.error.code:t===!!e.error}},listeners:(new i.SequentialExecutor).addNamedListeners((function(e){e("RETRY_CHECK","retry",(function(e){var t=e.request._waiter;e.error&&"ResourceNotReady"===e.error.code&&(e.error.retryDelay=1e3*(t.config.delay||0))})),e("CHECK_OUTPUT","extractData",o),e("CHECK_ERROR","extractError",o)})),wait:function(e,t){"function"==typeof e&&(t=e,e=void 0),e&&e.$waiter&&("number"==typeof(e=i.util.copy(e)).$waiter.delay&&(this.config.delay=e.$waiter.delay),"number"==typeof e.$waiter.maxAttempts&&(this.config.maxAttempts=e.$waiter.maxAttempts),delete e.$waiter);var n=this.service.makeRequest(this.config.operation,e);return n._waiter=this,n.response.maxRetries=this.config.maxAttempts,n.addListeners(this.listeners),t&&n.send(t),n},setSuccess:function(e){e.error=null,e.data=e.data||{},e.request.removeAllListeners("extractData")},setError:function(e,t){e.data=null,e.error=i.util.error(e.error||new Error,{code:"ResourceNotReady",message:"Resource is not in the state "+this.state,retryable:t})},loadWaiterConfig:function(e){if(!this.service.api.waiters[e])throw new i.util.error(new Error,{code:"StateNotFoundError",message:"State "+e+" not found."});this.config=i.util.copy(this.service.api.waiters[e])}})},3975:(e,t,n)=>{var i=n(9614),r=i.util.inherit,a=n(4509);i.Response=r({constructor:function(e){this.request=e,this.data=null,this.error=null,this.retryCount=0,this.redirectCount=0,this.httpResponse=new i.HttpResponse,e&&(this.maxRetries=e.service.numRetries(),this.maxRedirects=e.service.config.maxRedirects)},nextPage:function(e){var t,n=this.request.service,r=this.request.operation;try{t=n.paginationConfig(r,!0)}catch(e){this.error=e}if(!this.hasNextPage()){if(e)e(this.error,null);else if(this.error)throw this.error;return null}var a=i.util.copy(this.request.params);if(this.nextPageTokens){var o=t.inputToken;"string"==typeof o&&(o=[o]);for(var s=0;s<o.length;s++)a[o[s]]=this.nextPageTokens[s];return n.makeRequest(this.request.operation,a,e)}return e?e(null,null):null},hasNextPage:function(){return this.cacheNextPageTokens(),!!this.nextPageTokens||void 0===this.nextPageTokens&&void 0},cacheNextPageTokens:function(){if(Object.prototype.hasOwnProperty.call(this,"nextPageTokens"))return this.nextPageTokens;this.nextPageTokens=void 0;var e=this.request.service.paginationConfig(this.request.operation);if(!e)return this.nextPageTokens;if(this.nextPageTokens=null,e.moreResults&&!a.search(this.data,e.moreResults))return this.nextPageTokens;var t=e.outputToken;return"string"==typeof t&&(t=[t]),i.util.arrayEach.call(this,t,(function(e){var t=a.search(this.data,e);t&&(this.nextPageTokens=this.nextPageTokens||[],this.nextPageTokens.push(t))})),this.nextPageTokens}})},6380:(e,t,n)=>{var i=n(9614);i.SequentialExecutor=i.util.inherit({constructor:function(){this._events={}},listeners:function(e){return this._events[e]?this._events[e].slice(0):[]},on:function(e,t,n){return this._events[e]?n?this._events[e].unshift(t):this._events[e].push(t):this._events[e]=[t],this},onAsync:function(e,t,n){return t._isAsync=!0,this.on(e,t,n)},removeListener:function(e,t){var n=this._events[e];if(n){for(var i=n.length,r=-1,a=0;a<i;++a)n[a]===t&&(r=a);r>-1&&n.splice(r,1)}return this},removeAllListeners:function(e){return e?delete this._events[e]:this._events={},this},emit:function(e,t,n){n||(n=function(){});var i=this.listeners(e),r=i.length;return this.callListeners(i,t,n),r>0},callListeners:function(e,t,n,r){var a=this,o=r||null;function s(r){if(r&&(o=i.util.error(o||new Error,r),a._haltHandlersOnError))return n.call(a,o);a.callListeners(e,t,n,o)}for(;e.length>0;){var c=e.shift();if(c._isAsync)return void c.apply(a,t.concat([s]));try{c.apply(a,t)}catch(e){o=i.util.error(o||new Error,e)}if(o&&a._haltHandlersOnError)return void n.call(a,o)}n.call(a,o)},addListeners:function(e){var t=this;return e._events&&(e=e._events),i.util.each(e,(function(e,n){"function"==typeof n&&(n=[n]),i.util.arrayEach(n,(function(n){t.on(e,n)}))})),t},addNamedListener:function(e,t,n,i){return this[e]=n,this.addListener(t,n,i),this},addNamedAsyncListener:function(e,t,n,i){return n._isAsync=!0,this.addNamedListener(e,t,n,i)},addNamedListeners:function(e){var t=this;return e((function(){t.addNamedListener.apply(t,arguments)}),(function(){t.addNamedAsyncListener.apply(t,arguments)})),this}}),i.SequentialExecutor.prototype.addListener=i.SequentialExecutor.prototype.on,e.exports=i.SequentialExecutor},173:(e,t,n)=>{var i=n(9614),r=n(5863),a=n(1404),o=i.util.inherit,s=0,c=n(4040);i.Service=o({constructor:function(e){if(!this.loadServiceClass)throw i.util.error(new Error,"Service must be constructed with `new' operator");if(e){if(e.region){var t=e.region;c.isFipsRegion(t)&&(e.region=c.getRealRegion(t),e.useFipsEndpoint=!0),c.isGlobalRegion(t)&&(e.region=c.getRealRegion(t))}"boolean"==typeof e.useDualstack&&"boolean"!=typeof e.useDualstackEndpoint&&(e.useDualstackEndpoint=e.useDualstack)}var n=this.loadServiceClass(e||{});if(n){var r=i.util.copy(e),a=new n(e);return Object.defineProperty(a,"_originalConfig",{get:function(){return r},enumerable:!1,configurable:!0}),a._clientId=++s,a}this.initialize(e)},initialize:function(e){var t=i.config[this.serviceIdentifier];if(this.config=new i.Config(i.config),t&&this.config.update(t,!0),e&&this.config.update(e,!0),this.validateService(),this.config.endpoint||a.configureEndpoint(this),this.config.endpoint=this.endpointFromTemplate(this.config.endpoint),this.setEndpoint(this.config.endpoint),i.SequentialExecutor.call(this),i.Service.addDefaultMonitoringListeners(this),(this.config.clientSideMonitoring||i.Service._clientSideMonitoring)&&this.publisher){var n=this.publisher;this.addNamedListener("PUBLISH_API_CALL","apiCall",(function(e){process.nextTick((function(){n.eventHandler(e)}))})),this.addNamedListener("PUBLISH_API_ATTEMPT","apiCallAttempt",(function(e){process.nextTick((function(){n.eventHandler(e)}))}))}},validateService:function(){},loadServiceClass:function(e){var t=e;if(i.util.isEmpty(this.api)){if(t.apiConfig)return i.Service.defineServiceApi(this.constructor,t.apiConfig);if(this.constructor.services){(t=new i.Config(i.config)).update(e,!0);var n=t.apiVersions[this.constructor.serviceIdentifier];return n=n||t.apiVersion,this.getLatestServiceClass(n)}return null}return null},getLatestServiceClass:function(e){return e=this.getLatestServiceVersion(e),null===this.constructor.services[e]&&i.Service.defineServiceApi(this.constructor,e),this.constructor.services[e]},getLatestServiceVersion:function(e){if(!this.constructor.services||0===this.constructor.services.length)throw new Error("No services defined on "+this.constructor.serviceIdentifier);if(e?i.util.isType(e,Date)&&(e=i.util.date.iso8601(e).split("T")[0]):e="latest",Object.hasOwnProperty(this.constructor.services,e))return e;for(var t=Object.keys(this.constructor.services).sort(),n=null,r=t.length-1;r>=0;r--)if("*"!==t[r][t[r].length-1]&&(n=t[r]),t[r].substr(0,10)<=e)return n;throw new Error("Could not find "+this.constructor.serviceIdentifier+" API to satisfy version constraint `"+e+"'")},api:{},defaultRetryCount:3,customizeRequests:function(e){if(e){if("function"!=typeof e)throw new Error("Invalid callback type '"+typeof e+"' provided in customizeRequests");this.customRequestHandler=e}else this.customRequestHandler=null},makeRequest:function(e,t,n){if("function"==typeof t&&(n=t,t=null),t=t||{},this.config.params){var r=this.api.operations[e];r&&(t=i.util.copy(t),i.util.each(this.config.params,(function(e,n){r.input.members[e]&&(void 0!==t[e]&&null!==t[e]||(t[e]=n))})))}var a=new i.Request(this,e,t);return this.addAllRequestListeners(a),this.attachMonitoringEmitter(a),n&&a.send(n),a},makeUnauthenticatedRequest:function(e,t,n){"function"==typeof t&&(n=t,t={});var i=this.makeRequest(e,t).toUnauthenticated();return n?i.send(n):i},waitFor:function(e,t,n){return new i.ResourceWaiter(this,e).wait(t,n)},addAllRequestListeners:function(e){for(var t=[i.events,i.EventListeners.Core,this.serviceInterface(),i.EventListeners.CorePost],n=0;n<t.length;n++)t[n]&&e.addListeners(t[n]);this.config.paramValidation||e.removeListener("validate",i.EventListeners.Core.VALIDATE_PARAMETERS),this.config.logger&&e.addListeners(i.EventListeners.Logger),this.setupRequestListeners(e),"function"==typeof this.constructor.prototype.customRequestHandler&&this.constructor.prototype.customRequestHandler(e),Object.prototype.hasOwnProperty.call(this,"customRequestHandler")&&"function"==typeof this.customRequestHandler&&this.customRequestHandler(e)},apiCallEvent:function(e){var t=e.service.api.operations[e.operation],n={Type:"ApiCall",Api:t?t.name:e.operation,Version:1,Service:e.service.api.serviceId||e.service.api.endpointPrefix,Region:e.httpRequest.region,MaxRetriesExceeded:0,UserAgent:e.httpRequest.getUserAgent()},i=e.response;if(i.httpResponse.statusCode&&(n.FinalHttpStatusCode=i.httpResponse.statusCode),i.error){var r=i.error;i.httpResponse.statusCode>299?(r.code&&(n.FinalAwsException=r.code),r.message&&(n.FinalAwsExceptionMessage=r.message)):((r.code||r.name)&&(n.FinalSdkException=r.code||r.name),r.message&&(n.FinalSdkExceptionMessage=r.message))}return n},apiAttemptEvent:function(e){var t=e.service.api.operations[e.operation],n={Type:"ApiCallAttempt",Api:t?t.name:e.operation,Version:1,Service:e.service.api.serviceId||e.service.api.endpointPrefix,Fqdn:e.httpRequest.endpoint.hostname,UserAgent:e.httpRequest.getUserAgent()},i=e.response;return i.httpResponse.statusCode&&(n.HttpStatusCode=i.httpResponse.statusCode),!e._unAuthenticated&&e.service.config.credentials&&e.service.config.credentials.accessKeyId&&(n.AccessKey=e.service.config.credentials.accessKeyId),i.httpResponse.headers?(e.httpRequest.headers["x-amz-security-token"]&&(n.SessionToken=e.httpRequest.headers["x-amz-security-token"]),i.httpResponse.headers["x-amzn-requestid"]&&(n.XAmznRequestId=i.httpResponse.headers["x-amzn-requestid"]),i.httpResponse.headers["x-amz-request-id"]&&(n.XAmzRequestId=i.httpResponse.headers["x-amz-request-id"]),i.httpResponse.headers["x-amz-id-2"]&&(n.XAmzId2=i.httpResponse.headers["x-amz-id-2"]),n):n},attemptFailEvent:function(e){var t=this.apiAttemptEvent(e),n=e.response,i=n.error;return n.httpResponse.statusCode>299?(i.code&&(t.AwsException=i.code),i.message&&(t.AwsExceptionMessage=i.message)):((i.code||i.name)&&(t.SdkException=i.code||i.name),i.message&&(t.SdkExceptionMessage=i.message)),t},attachMonitoringEmitter:function(e){var t,n,r,a,o,s,c=0,d=this;e.on("validate",(function(){a=i.util.realClock.now(),s=Date.now()}),!0),e.on("sign",(function(){n=i.util.realClock.now(),t=Date.now(),o=e.httpRequest.region,c++}),!0),e.on("validateResponse",(function(){r=Math.round(i.util.realClock.now()-n)})),e.addNamedListener("API_CALL_ATTEMPT","success",(function(){var n=d.apiAttemptEvent(e);n.Timestamp=t,n.AttemptLatency=r>=0?r:0,n.Region=o,d.emit("apiCallAttempt",[n])})),e.addNamedListener("API_CALL_ATTEMPT_RETRY","retry",(function(){var a=d.attemptFailEvent(e);a.Timestamp=t,r=r||Math.round(i.util.realClock.now()-n),a.AttemptLatency=r>=0?r:0,a.Region=o,d.emit("apiCallAttempt",[a])})),e.addNamedListener("API_CALL","complete",(function(){var t=d.apiCallEvent(e);if(t.AttemptCount=c,!(t.AttemptCount<=0)){t.Timestamp=s;var n=Math.round(i.util.realClock.now()-a);t.Latency=n>=0?n:0;var r=e.response;r.error&&r.error.retryable&&"number"==typeof r.retryCount&&"number"==typeof r.maxRetries&&r.retryCount>=r.maxRetries&&(t.MaxRetriesExceeded=1),d.emit("apiCall",[t])}}))},setupRequestListeners:function(e){},getSigningName:function(){return this.api.signingName||this.api.endpointPrefix},getSignerClass:function(e){var t,n=null,r="";return e&&(r=(n=(e.service.api.operations||{})[e.operation]||null)?n.authtype:""),t=this.config.signatureVersion?this.config.signatureVersion:"v4"===r||"v4-unsigned-body"===r?"v4":"bearer"===r?"bearer":this.api.signatureVersion,i.Signers.RequestSigner.getVersion(t)},serviceInterface:function(){switch(this.api.protocol){case"ec2":case"query":return i.EventListeners.Query;case"json":return i.EventListeners.Json;case"rest-json":return i.EventListeners.RestJson;case"rest-xml":return i.EventListeners.RestXml}if(this.api.protocol)throw new Error("Invalid service `protocol' "+this.api.protocol+" in API config")},successfulResponse:function(e){return e.httpResponse.statusCode<300},numRetries:function(){return void 0!==this.config.maxRetries?this.config.maxRetries:this.defaultRetryCount},retryDelays:function(e,t){return i.util.calculateRetryDelay(e,this.config.retryDelayOptions,t)},retryableError:function(e){return!!this.timeoutError(e)||!!this.networkingError(e)||!!this.expiredCredentialsError(e)||!!this.throttledError(e)||e.statusCode>=500},networkingError:function(e){return"NetworkingError"===e.code},timeoutError:function(e){return"TimeoutError"===e.code},expiredCredentialsError:function(e){return"ExpiredTokenException"===e.code},clockSkewError:function(e){switch(e.code){case"RequestTimeTooSkewed":case"RequestExpired":case"InvalidSignatureException":case"SignatureDoesNotMatch":case"AuthFailure":case"RequestInTheFuture":return!0;default:return!1}},getSkewCorrectedDate:function(){return new Date(Date.now()+this.config.systemClockOffset)},applyClockOffset:function(e){e&&(this.config.systemClockOffset=e-Date.now())},isClockSkewed:function(e){if(e)return Math.abs(this.getSkewCorrectedDate().getTime()-e)>=3e5},throttledError:function(e){if(429===e.statusCode)return!0;switch(e.code){case"ProvisionedThroughputExceededException":case"Throttling":case"ThrottlingException":case"RequestLimitExceeded":case"RequestThrottled":case"RequestThrottledException":case"TooManyRequestsException":case"TransactionInProgressException":case"EC2ThrottledException":return!0;default:return!1}},endpointFromTemplate:function(e){if("string"!=typeof e)return e;var t=e;return(t=(t=t.replace(/\{service\}/g,this.api.endpointPrefix)).replace(/\{region\}/g,this.config.region)).replace(/\{scheme\}/g,this.config.sslEnabled?"https":"http")},setEndpoint:function(e){this.endpoint=new i.Endpoint(e,this.config)},paginationConfig:function(e,t){var n=this.api.operations[e].paginator;if(!n){if(t){var r=new Error;throw i.util.error(r,"No pagination configuration for "+e)}return null}return n}}),i.util.update(i.Service,{defineMethods:function(e){i.util.each(e.prototype.api.operations,(function(t){e.prototype[t]||("none"===e.prototype.api.operations[t].authtype?e.prototype[t]=function(e,n){return this.makeUnauthenticatedRequest(t,e,n)}:e.prototype[t]=function(e,n){return this.makeRequest(t,e,n)})}))},defineService:function(e,t,n){i.Service._serviceMap[e]=!0,Array.isArray(t)||(n=t,t=[]);var r=o(i.Service,n||{});if("string"==typeof e){i.Service.addVersions(r,t);var a=r.serviceIdentifier||e;r.serviceIdentifier=a}else r.prototype.api=e,i.Service.defineMethods(r);if(i.SequentialExecutor.call(this.prototype),!this.prototype.publisher&&i.util.clientSideMonitoring){var s=i.util.clientSideMonitoring.Publisher,c=(0,i.util.clientSideMonitoring.configProvider)();this.prototype.publisher=new s(c),c.enabled&&(i.Service._clientSideMonitoring=!0)}return i.SequentialExecutor.call(r.prototype),i.Service.addDefaultMonitoringListeners(r.prototype),r},addVersions:function(e,t){Array.isArray(t)||(t=[t]),e.services=e.services||{};for(var n=0;n<t.length;n++)void 0===e.services[t[n]]&&(e.services[t[n]]=null);e.apiVersions=Object.keys(e.services).sort()},defineServiceApi:function(e,t,n){var a=o(e,{serviceIdentifier:e.serviceIdentifier});function s(t){t.isApi?a.prototype.api=t:a.prototype.api=new r(t,{serviceIdentifier:e.serviceIdentifier})}if("string"==typeof t){if(n)s(n);else try{s(i.apiLoader(e.serviceIdentifier,t))}catch(n){throw i.util.error(n,{message:"Could not find API configuration "+e.serviceIdentifier+"-"+t})}Object.prototype.hasOwnProperty.call(e.services,t)||(e.apiVersions=e.apiVersions.concat(t).sort()),e.services[t]=a}else s(t);return i.Service.defineMethods(a),a},hasService:function(e){return Object.prototype.hasOwnProperty.call(i.Service._serviceMap,e)},addDefaultMonitoringListeners:function(e){e.addNamedListener("MONITOR_EVENTS_BUBBLE","apiCallAttempt",(function(t){var n=Object.getPrototypeOf(e);n._events&&n.emit("apiCallAttempt",[t])})),e.addNamedListener("CALL_EVENTS_BUBBLE","apiCall",(function(t){var n=Object.getPrototypeOf(e);n._events&&n.emit("apiCall",[t])}))},_serviceMap:{}}),i.util.mixin(i.Service,i.SequentialExecutor),e.exports=i.Service},4456:(e,t,n)=>{var i=n(9614),r=n(5456);i.util.update(i.STS.prototype,{credentialsFrom:function(e,t){return e?(t||(t=new i.TemporaryCredentials),t.expired=!1,t.accessKeyId=e.Credentials.AccessKeyId,t.secretAccessKey=e.Credentials.SecretAccessKey,t.sessionToken=e.Credentials.SessionToken,t.expireTime=e.Credentials.Expiration,t):null},assumeRoleWithWebIdentity:function(e,t){return this.makeUnauthenticatedRequest("assumeRoleWithWebIdentity",e,t)},assumeRoleWithSAML:function(e,t){return this.makeUnauthenticatedRequest("assumeRoleWithSAML",e,t)},setupRequestListeners:function(e){e.addListener("validate",this.optInRegionalEndpoint,!0)},optInRegionalEndpoint:function(e){var t=e.service,n=t.config;if(n.stsRegionalEndpoints=r(t._originalConfig,{env:"AWS_STS_REGIONAL_ENDPOINTS",sharedConfig:"sts_regional_endpoints",clientConfig:"stsRegionalEndpoints"}),"regional"===n.stsRegionalEndpoints&&t.isGlobalEndpoint){if(!n.region)throw i.util.error(new Error,{code:"ConfigError",message:"Missing region in config"});var a=n.endpoint.indexOf(".amazonaws.com"),o=n.endpoint.substring(0,a)+"."+n.region+n.endpoint.substring(a);e.httpRequest.updateEndpoint(o),e.httpRequest.region=n.region}}})},4114:(e,t,n)=>{var i=n(9614);i.Signers.Bearer=i.util.inherit(i.Signers.RequestSigner,{constructor:function(e){i.Signers.RequestSigner.call(this,e)},addAuthorization:function(e){this.request.headers.Authorization="Bearer "+e.token}})},9688:(e,t,n)=>{var i=n(9614),r=i.util.inherit,a="presigned-expires";function o(e){var t=e.httpRequest.headers[a],n=e.service.getSignerClass(e);if(delete e.httpRequest.headers["User-Agent"],delete e.httpRequest.headers["X-Amz-User-Agent"],n===i.Signers.V4){if(t>604800)throw i.util.error(new Error,{code:"InvalidExpiryTime",message:"Presigning does not support expiry time greater than a week with SigV4 signing.",retryable:!1});e.httpRequest.headers[a]=t}else{if(n!==i.Signers.S3)throw i.util.error(new Error,{message:"Presigning only supports S3 or SigV4 signing.",code:"UnsupportedSigner",retryable:!1});var r=e.service?e.service.getSkewCorrectedDate():i.util.date.getDate();e.httpRequest.headers[a]=parseInt(i.util.date.unixTimestamp(r)+t,10).toString()}}function s(e){var t=e.httpRequest.endpoint,n=i.util.urlParse(e.httpRequest.path),r={};n.search&&(r=i.util.queryStringParse(n.search.substr(1)));var o=e.httpRequest.headers.Authorization.split(" ");if("AWS"===o[0])o=o[1].split(":"),r.Signature=o.pop(),r.AWSAccessKeyId=o.join(":"),i.util.each(e.httpRequest.headers,(function(e,t){e===a&&(e="Expires"),0===e.indexOf("x-amz-meta-")&&(delete r[e],e=e.toLowerCase()),r[e]=t})),delete e.httpRequest.headers[a],delete r.Authorization,delete r.Host;else if("AWS4-HMAC-SHA256"===o[0]){o.shift();var s=o.join(" ").match(/Signature=(.*?)(?:,|\s|\r?\n|$)/)[1];r["X-Amz-Signature"]=s,delete r.Expires}t.pathname=n.pathname,t.search=i.util.queryParamsToString(r)}i.Signers.Presign=r({sign:function(e,t,n){if(e.httpRequest.headers[a]=t||3600,e.on("build",o),e.on("sign",s),e.removeListener("afterBuild",i.EventListeners.Core.SET_CONTENT_LENGTH),e.removeListener("afterBuild",i.EventListeners.Core.COMPUTE_SHA256),e.emit("beforePresign",[e]),!n){if(e.build(),e.response.error)throw e.response.error;return i.util.urlFormat(e.httpRequest.endpoint)}e.build((function(){this.response.error?n(this.response.error):n(null,i.util.urlFormat(e.httpRequest.endpoint))}))}}),e.exports=i.Signers.Presign},2604:(e,t,n)=>{var i=n(9614),r=i.util.inherit;i.Signers.RequestSigner=r({constructor:function(e){this.request=e},setServiceClientId:function(e){this.serviceClientId=e},getServiceClientId:function(){return this.serviceClientId}}),i.Signers.RequestSigner.getVersion=function(e){switch(e){case"v2":return i.Signers.V2;case"v3":return i.Signers.V3;case"s3v4":case"v4":return i.Signers.V4;case"s3":return i.Signers.S3;case"v3https":return i.Signers.V3Https;case"bearer":return i.Signers.Bearer}throw new Error("Unknown signing version "+e)},n(7194),n(6342),n(416),n(7203),n(1190),n(9688),n(4114)},1190:(e,t,n)=>{var i=n(9614),r=i.util.inherit;i.Signers.S3=r(i.Signers.RequestSigner,{subResources:{acl:1,accelerate:1,analytics:1,cors:1,lifecycle:1,delete:1,inventory:1,location:1,logging:1,metrics:1,notification:1,partNumber:1,policy:1,requestPayment:1,replication:1,restore:1,tagging:1,torrent:1,uploadId:1,uploads:1,versionId:1,versioning:1,versions:1,website:1},responseHeaders:{"response-content-type":1,"response-content-language":1,"response-expires":1,"response-cache-control":1,"response-content-disposition":1,"response-content-encoding":1},addAuthorization:function(e,t){this.request.headers["presigned-expires"]||(this.request.headers["X-Amz-Date"]=i.util.date.rfc822(t)),e.sessionToken&&(this.request.headers["x-amz-security-token"]=e.sessionToken);var n=this.sign(e.secretAccessKey,this.stringToSign()),r="AWS "+e.accessKeyId+":"+n;this.request.headers.Authorization=r},stringToSign:function(){var e=this.request,t=[];t.push(e.method),t.push(e.headers["Content-MD5"]||""),t.push(e.headers["Content-Type"]||""),t.push(e.headers["presigned-expires"]||"");var n=this.canonicalizedAmzHeaders();return n&&t.push(n),t.push(this.canonicalizedResource()),t.join("\n")},canonicalizedAmzHeaders:function(){var e=[];i.util.each(this.request.headers,(function(t){t.match(/^x-amz-/i)&&e.push(t)})),e.sort((function(e,t){return e.toLowerCase()<t.toLowerCase()?-1:1}));var t=[];return i.util.arrayEach.call(this,e,(function(e){t.push(e.toLowerCase()+":"+String(this.request.headers[e]))})),t.join("\n")},canonicalizedResource:function(){var e=this.request,t=e.path.split("?"),n=t[0],r=t[1],a="";if(e.virtualHostedBucket&&(a+="/"+e.virtualHostedBucket),a+=n,r){var o=[];i.util.arrayEach.call(this,r.split("&"),(function(e){var t=e.split("=")[0],n=e.split("=")[1];if(this.subResources[t]||this.responseHeaders[t]){var i={name:t};void 0!==n&&(this.subResources[t]?i.value=n:i.value=decodeURIComponent(n)),o.push(i)}})),o.sort((function(e,t){return e.name<t.name?-1:1})),o.length&&(r=[],i.util.arrayEach(o,(function(e){void 0===e.value?r.push(e.name):r.push(e.name+"="+e.value)})),a+="?"+r.join("&"))}return a},sign:function(e,t){return i.util.crypto.hmac(e,t,"base64","sha1")}}),e.exports=i.Signers.S3},7194:(e,t,n)=>{var i=n(9614),r=i.util.inherit;i.Signers.V2=r(i.Signers.RequestSigner,{addAuthorization:function(e,t){t||(t=i.util.date.getDate());var n=this.request;n.params.Timestamp=i.util.date.iso8601(t),n.params.SignatureVersion="2",n.params.SignatureMethod="HmacSHA256",n.params.AWSAccessKeyId=e.accessKeyId,e.sessionToken&&(n.params.SecurityToken=e.sessionToken),delete n.params.Signature,n.params.Signature=this.signature(e),n.body=i.util.queryParamsToString(n.params),n.headers["Content-Length"]=n.body.length},signature:function(e){return i.util.crypto.hmac(e.secretAccessKey,this.stringToSign(),"base64")},stringToSign:function(){var e=[];return e.push(this.request.method),e.push(this.request.endpoint.host.toLowerCase()),e.push(this.request.pathname()),e.push(i.util.queryParamsToString(this.request.params)),e.join("\n")}}),e.exports=i.Signers.V2},6342:(e,t,n)=>{var i=n(9614),r=i.util.inherit;i.Signers.V3=r(i.Signers.RequestSigner,{addAuthorization:function(e,t){var n=i.util.date.rfc822(t);this.request.headers["X-Amz-Date"]=n,e.sessionToken&&(this.request.headers["x-amz-security-token"]=e.sessionToken),this.request.headers["X-Amzn-Authorization"]=this.authorization(e,n)},authorization:function(e){return"AWS3 AWSAccessKeyId="+e.accessKeyId+",Algorithm=HmacSHA256,SignedHeaders="+this.signedHeaders()+",Signature="+this.signature(e)},signedHeaders:function(){var e=[];return i.util.arrayEach(this.headersToSign(),(function(t){e.push(t.toLowerCase())})),e.sort().join(";")},canonicalHeaders:function(){var e=this.request.headers,t=[];return i.util.arrayEach(this.headersToSign(),(function(n){t.push(n.toLowerCase().trim()+":"+String(e[n]).trim())})),t.sort().join("\n")+"\n"},headersToSign:function(){var e=[];return i.util.each(this.request.headers,(function(t){("Host"===t||"Content-Encoding"===t||t.match(/^X-Amz/i))&&e.push(t)})),e},signature:function(e){return i.util.crypto.hmac(e.secretAccessKey,this.stringToSign(),"base64")},stringToSign:function(){var e=[];return e.push(this.request.method),e.push("/"),e.push(""),e.push(this.canonicalHeaders()),e.push(this.request.body),i.util.crypto.sha256(e.join("\n"))}}),e.exports=i.Signers.V3},416:(e,t,n)=>{var i=n(9614),r=i.util.inherit;n(6342),i.Signers.V3Https=r(i.Signers.V3,{authorization:function(e){return"AWS3-HTTPS AWSAccessKeyId="+e.accessKeyId+",Algorithm=HmacSHA256,Signature="+this.signature(e)},stringToSign:function(){return this.request.headers["X-Amz-Date"]}}),e.exports=i.Signers.V3Https},7203:(e,t,n)=>{var i=n(9614),r=n(6914),a=i.util.inherit,o="presigned-expires";i.Signers.V4=a(i.Signers.RequestSigner,{constructor:function(e,t,n){i.Signers.RequestSigner.call(this,e),this.serviceName=t,n=n||{},this.signatureCache="boolean"!=typeof n.signatureCache||n.signatureCache,this.operation=n.operation,this.signatureVersion=n.signatureVersion},algorithm:"AWS4-HMAC-SHA256",addAuthorization:function(e,t){var n=i.util.date.iso8601(t).replace(/[:\-]|\.\d{3}/g,"");this.isPresigned()?this.updateForPresigned(e,n):this.addHeaders(e,n),this.request.headers.Authorization=this.authorization(e,n)},addHeaders:function(e,t){this.request.headers["X-Amz-Date"]=t,e.sessionToken&&(this.request.headers["x-amz-security-token"]=e.sessionToken)},updateForPresigned:function(e,t){var n=this.credentialString(t),r={"X-Amz-Date":t,"X-Amz-Algorithm":this.algorithm,"X-Amz-Credential":e.accessKeyId+"/"+n,"X-Amz-Expires":this.request.headers[o],"X-Amz-SignedHeaders":this.signedHeaders()};e.sessionToken&&(r["X-Amz-Security-Token"]=e.sessionToken),this.request.headers["Content-Type"]&&(r["Content-Type"]=this.request.headers["Content-Type"]),this.request.headers["Content-MD5"]&&(r["Content-MD5"]=this.request.headers["Content-MD5"]),this.request.headers["Cache-Control"]&&(r["Cache-Control"]=this.request.headers["Cache-Control"]),i.util.each.call(this,this.request.headers,(function(e,t){if(e!==o&&this.isSignableHeader(e)){var n=e.toLowerCase();0===n.indexOf("x-amz-meta-")?r[n]=t:0===n.indexOf("x-amz-")&&(r[e]=t)}}));var a=this.request.path.indexOf("?")>=0?"&":"?";this.request.path+=a+i.util.queryParamsToString(r)},authorization:function(e,t){var n=[],i=this.credentialString(t);return n.push(this.algorithm+" Credential="+e.accessKeyId+"/"+i),n.push("SignedHeaders="+this.signedHeaders()),n.push("Signature="+this.signature(e,t)),n.join(", ")},signature:function(e,t){var n=r.getSigningKey(e,t.substr(0,8),this.request.region,this.serviceName,this.signatureCache);return i.util.crypto.hmac(n,this.stringToSign(t),"hex")},stringToSign:function(e){var t=[];return t.push("AWS4-HMAC-SHA256"),t.push(e),t.push(this.credentialString(e)),t.push(this.hexEncodedHash(this.canonicalString())),t.join("\n")},canonicalString:function(){var e=[],t=this.request.pathname();return"s3"!==this.serviceName&&"s3v4"!==this.signatureVersion&&(t=i.util.uriEscapePath(t)),e.push(this.request.method),e.push(t),e.push(this.request.search()),e.push(this.canonicalHeaders()+"\n"),e.push(this.signedHeaders()),e.push(this.hexEncodedBodyHash()),e.join("\n")},canonicalHeaders:function(){var e=[];i.util.each.call(this,this.request.headers,(function(t,n){e.push([t,n])})),e.sort((function(e,t){return e[0].toLowerCase()<t[0].toLowerCase()?-1:1}));var t=[];return i.util.arrayEach.call(this,e,(function(e){var n=e[0].toLowerCase();if(this.isSignableHeader(n)){var r=e[1];if(null==r||"function"!=typeof r.toString)throw i.util.error(new Error("Header "+n+" contains invalid value"),{code:"InvalidHeader"});t.push(n+":"+this.canonicalHeaderValues(r.toString()))}})),t.join("\n")},canonicalHeaderValues:function(e){return e.replace(/\s+/g," ").replace(/^\s+|\s+$/g,"")},signedHeaders:function(){var e=[];return i.util.each.call(this,this.request.headers,(function(t){t=t.toLowerCase(),this.isSignableHeader(t)&&e.push(t)})),e.sort().join(";")},credentialString:function(e){return r.createScope(e.substr(0,8),this.request.region,this.serviceName)},hexEncodedHash:function(e){return i.util.crypto.sha256(e,"hex")},hexEncodedBodyHash:function(){var e=this.request;return this.isPresigned()&&["s3","s3-object-lambda"].indexOf(this.serviceName)>-1&&!e.body?"UNSIGNED-PAYLOAD":e.headers["X-Amz-Content-Sha256"]?e.headers["X-Amz-Content-Sha256"]:this.hexEncodedHash(this.request.body||"")},unsignableHeaders:["authorization","content-type","content-length","user-agent",o,"expect","x-amzn-trace-id"],isSignableHeader:function(e){return 0===e.toLowerCase().indexOf("x-amz-")||this.unsignableHeaders.indexOf(e)<0},isPresigned:function(){return!!this.request.headers[o]}}),e.exports=i.Signers.V4},6914:(e,t,n)=>{var i=n(9614),r={},a=[],o="aws4_request";e.exports={createScope:function(e,t,n){return[e.substr(0,8),t,n,o].join("/")},getSigningKey:function(e,t,n,s,c){var d=[i.util.crypto.hmac(e.secretAccessKey,e.accessKeyId,"base64"),t,n,s].join("_");if((c=!1!==c)&&d in r)return r[d];var l=i.util.crypto.hmac("AWS4"+e.secretAccessKey,t,"buffer"),u=i.util.crypto.hmac(l,n,"buffer"),h=i.util.crypto.hmac(u,s,"buffer"),p=i.util.crypto.hmac(h,o,"buffer");return c&&(r[d]=p,a.push(d),a.length>50&&delete r[a.shift()]),p},emptyCache:function(){r={},a=[]}}},1793:e=>{function t(e,t){this.currentState=t||null,this.states=e||{}}t.prototype.runTo=function(e,t,n,i){"function"==typeof e&&(i=n,n=t,t=e,e=null);var r=this,a=r.states[r.currentState];a.fn.call(n||r,i,(function(i){if(i){if(!a.fail)return t?t.call(n,i):null;r.currentState=a.fail}else{if(!a.accept)return t?t.call(n):null;r.currentState=a.accept}if(r.currentState===e)return t?t.call(n,i):null;r.runTo(e,t,n,i)}))},t.prototype.addState=function(e,t,n,i){return"function"==typeof t?(i=t,t=null,n=null):"function"==typeof n&&(i=n,n=null),this.currentState||(this.currentState=e),this.states[e]={accept:t,fail:n,fn:i},this},e.exports=t},2662:(e,t,n)=>{var i,r={environment:"nodejs",engine:function(){if(r.isBrowser()&&"undefined"!=typeof navigator)return navigator.userAgent;var e=process.platform+"/"+process.version;return process.env.AWS_EXECUTION_ENV&&(e+=" exec-env/"+process.env.AWS_EXECUTION_ENV),e},userAgent:function(){var e=r.environment,t="aws-sdk-"+e+"/"+n(9614).VERSION;return"nodejs"===e&&(t+=" "+r.engine()),t},uriEscape:function(e){var t=encodeURIComponent(e);return(t=t.replace(/[^A-Za-z0-9_.~\-%]+/g,escape)).replace(/[*]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))},uriEscapePath:function(e){var t=[];return r.arrayEach(e.split("/"),(function(e){t.push(r.uriEscape(e))})),t.join("/")},urlParse:function(e){return r.url.parse(e)},urlFormat:function(e){return r.url.format(e)},queryStringParse:function(e){return r.querystring.parse(e)},queryParamsToString:function(e){var t=[],n=r.uriEscape,i=Object.keys(e).sort();return r.arrayEach(i,(function(i){var a=e[i],o=n(i),s=o+"=";if(Array.isArray(a)){var c=[];r.arrayEach(a,(function(e){c.push(n(e))})),s=o+"="+c.sort().join("&"+o+"=")}else null!=a&&(s=o+"="+n(a));t.push(s)})),t.join("&")},readFileSync:function(e){return r.isBrowser()?null:n(8022).readFileSync(e,"utf-8")},base64:{encode:function(e){if("number"==typeof e)throw r.error(new Error("Cannot base64 encode number "+e));return null==e?e:r.buffer.toBuffer(e).toString("base64")},decode:function(e){if("number"==typeof e)throw r.error(new Error("Cannot base64 decode number "+e));return null==e?e:r.buffer.toBuffer(e,"base64")}},buffer:{toBuffer:function(e,t){return"function"==typeof r.Buffer.from&&r.Buffer.from!==Uint8Array.from?r.Buffer.from(e,t):new r.Buffer(e,t)},alloc:function(e,t,n){if("number"!=typeof e)throw new Error("size passed to alloc must be a number.");if("function"==typeof r.Buffer.alloc)return r.Buffer.alloc(e,t,n);var i=new r.Buffer(e);return void 0!==t&&"function"==typeof i.fill&&i.fill(t,void 0,void 0,n),i},toStream:function(e){r.Buffer.isBuffer(e)||(e=r.buffer.toBuffer(e));var t=new r.stream.Readable,n=0;return t._read=function(i){if(n>=e.length)return t.push(null);var r=n+i;r>e.length&&(r=e.length),t.push(e.slice(n,r)),n=r},t},concat:function(e){var t,n,i=0,a=0;for(n=0;n<e.length;n++)i+=e[n].length;for(t=r.buffer.alloc(i),n=0;n<e.length;n++)e[n].copy(t,a),a+=e[n].length;return t}},string:{byteLength:function(e){if(null==e)return 0;if("string"==typeof e&&(e=r.buffer.toBuffer(e)),"number"==typeof e.byteLength)return e.byteLength;if("number"==typeof e.length)return e.length;if("number"==typeof e.size)return e.size;if("string"==typeof e.path)return n(8022).lstatSync(e.path).size;throw r.error(new Error("Cannot determine length of "+e),{object:e})},upperFirst:function(e){return e[0].toUpperCase()+e.substr(1)},lowerFirst:function(e){return e[0].toLowerCase()+e.substr(1)}},ini:{parse:function(e){var t,n={};return r.arrayEach(e.split(/\r?\n/),(function(e){if("["===(e=e.split(/(^|\s)[;#]/)[0].trim())[0]&&"]"===e[e.length-1]){if("__proto__"===(t=e.substring(1,e.length-1))||"__proto__"===t.split(/\s/)[1])throw r.error(new Error("Cannot load profile name '"+t+"' from shared ini file."))}else if(t){var i=e.indexOf("="),a=e.length-1;if(-1!==i&&0!==i&&i!==a){var o=e.substring(0,i).trim(),s=e.substring(i+1).trim();n[t]=n[t]||{},n[t][o]=s}}})),n}},fn:{noop:function(){},callback:function(e){if(e)throw e},makeAsync:function(e,t){return t&&t<=e.length?e:function(){var t=Array.prototype.slice.call(arguments,0);t.pop()(e.apply(null,t))}}},date:{getDate:function(){return i||(i=n(9614)),i.config.systemClockOffset?new Date((new Date).getTime()+i.config.systemClockOffset):new Date},iso8601:function(e){return void 0===e&&(e=r.date.getDate()),e.toISOString().replace(/\.\d{3}Z$/,"Z")},rfc822:function(e){return void 0===e&&(e=r.date.getDate()),e.toUTCString()},unixTimestamp:function(e){return void 0===e&&(e=r.date.getDate()),e.getTime()/1e3},from:function(e){return"number"==typeof e?new Date(1e3*e):new Date(e)},format:function(e,t){return t||(t="iso8601"),r.date[t](r.date.from(e))},parseTimestamp:function(e){if("number"==typeof e)return new Date(1e3*e);if(e.match(/^\d+$/))return new Date(1e3*e);if(e.match(/^\d{4}/))return new Date(e);if(e.match(/^\w{3},/))return new Date(e);throw r.error(new Error("unhandled timestamp format: "+e),{code:"TimestampParserError"})}},crypto:{crc32Table:[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117],crc32:function(e){var t=r.crypto.crc32Table,n=-1;"string"==typeof e&&(e=r.buffer.toBuffer(e));for(var i=0;i<e.length;i++)n=n>>>8^t[255&(n^e.readUInt8(i))];return(-1^n)>>>0},hmac:function(e,t,n,i){return n||(n="binary"),"buffer"===n&&(n=void 0),i||(i="sha256"),"string"==typeof t&&(t=r.buffer.toBuffer(t)),r.crypto.lib.createHmac(i,e).update(t).digest(n)},md5:function(e,t,n){return r.crypto.hash("md5",e,t,n)},sha256:function(e,t,n){return r.crypto.hash("sha256",e,t,n)},hash:function(e,t,n,i){var a=r.crypto.createHash(e);n||(n="binary"),"buffer"===n&&(n=void 0),"string"==typeof t&&(t=r.buffer.toBuffer(t));var o=r.arraySliceFn(t),s=r.Buffer.isBuffer(t);if(r.isBrowser()&&"undefined"!=typeof ArrayBuffer&&t&&t.buffer instanceof ArrayBuffer&&(s=!0),i&&"object"==typeof t&&"function"==typeof t.on&&!s)t.on("data",(function(e){a.update(e)})),t.on("error",(function(e){i(e)})),t.on("end",(function(){i(null,a.digest(n))}));else{if(!i||!o||s||"undefined"==typeof FileReader){r.isBrowser()&&"object"==typeof t&&!s&&(t=new r.Buffer(new Uint8Array(t)));var c=a.update(t).digest(n);return i&&i(null,c),c}var d=0,l=new FileReader;l.onerror=function(){i(new Error("Failed to read data."))},l.onload=function(){var e=new r.Buffer(new Uint8Array(l.result));a.update(e),d+=e.length,l._continueReading()},l._continueReading=function(){if(d>=t.size)i(null,a.digest(n));else{var e=d+524288;e>t.size&&(e=t.size),l.readAsArrayBuffer(o.call(t,d,e))}},l._continueReading()}},toHex:function(e){for(var t=[],n=0;n<e.length;n++)t.push(("0"+e.charCodeAt(n).toString(16)).substr(-2,2));return t.join("")},createHash:function(e){return r.crypto.lib.createHash(e)}},abort:{},each:function(e,t){for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t.call(this,n,e[n])===r.abort)break},arrayEach:function(e,t){for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t.call(this,e[n],parseInt(n,10))===r.abort)break},update:function(e,t){return r.each(t,(function(t,n){e[t]=n})),e},merge:function(e,t){return r.update(r.copy(e),t)},copy:function(e){if(null==e)return e;var t={};for(var n in e)t[n]=e[n];return t},isEmpty:function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0},arraySliceFn:function(e){var t=e.slice||e.webkitSlice||e.mozSlice;return"function"==typeof t?t:null},isType:function(e,t){return"function"==typeof t&&(t=r.typeName(t)),Object.prototype.toString.call(e)==="[object "+t+"]"},typeName:function(e){if(Object.prototype.hasOwnProperty.call(e,"name"))return e.name;var t=e.toString(),n=t.match(/^\s*function (.+)\(/);return n?n[1]:t},error:function(e,t){var n=null;for(var i in"string"==typeof e.message&&""!==e.message&&("string"==typeof t||t&&t.message)&&((n=r.copy(e)).message=e.message),e.message=e.message||null,"string"==typeof t?e.message=t:"object"==typeof t&&null!==t&&(r.update(e,t),t.message&&(e.message=t.message),(t.code||t.name)&&(e.code=t.code||t.name),t.stack&&(e.stack=t.stack)),"function"==typeof Object.defineProperty&&(Object.defineProperty(e,"name",{writable:!0,enumerable:!1}),Object.defineProperty(e,"message",{enumerable:!0})),e.name=String(t&&t.name||e.name||e.code||"Error"),e.time=new Date,n&&(e.originalError=n),t||{})if("["===i[0]&&"]"===i[i.length-1]){if("code"===(i=i.slice(1,-1))||"message"===i)continue;e["["+i+"]"]="See error."+i+" for details.",Object.defineProperty(e,i,{value:e[i]||t&&t[i]||n&&n[i],enumerable:!1,writable:!0})}return e},inherit:function(e,t){var n=null;if(void 0===t)t=e,e=Object,n={};else{var i=function(){};i.prototype=e.prototype,n=new i}return t.constructor===Object&&(t.constructor=function(){if(e!==Object)return e.apply(this,arguments)}),t.constructor.prototype=n,r.update(t.constructor.prototype,t),t.constructor.__super__=e,t.constructor},mixin:function(){for(var e=arguments[0],t=1;t<arguments.length;t++)for(var n in arguments[t].prototype){var i=arguments[t].prototype[n];"constructor"!==n&&(e.prototype[n]=i)}return e},hideProperties:function(e,t){"function"==typeof Object.defineProperty&&r.arrayEach(t,(function(t){Object.defineProperty(e,t,{enumerable:!1,writable:!0,configurable:!0})}))},property:function(e,t,n,i,r){var a={configurable:!0,enumerable:void 0===i||i};"function"!=typeof n||r?(a.value=n,a.writable=!0):a.get=n,Object.defineProperty(e,t,a)},memoizedProperty:function(e,t,n,i){var a=null;r.property(e,t,(function(){return null===a&&(a=n()),a}),i)},hoistPayloadMember:function(e){var t=e.request,n=t.operation,i=t.service.api.operations[n],a=i.output;if(a.payload&&!i.hasEventOutput){var o=a.members[a.payload],s=e.data[a.payload];"structure"===o.type&&r.each(s,(function(t,n){r.property(e.data,t,n,!1)}))}},computeSha256:function(e,t){if(r.isNode()){var i=r.stream.Stream,a=n(8022);if("function"==typeof i&&e instanceof i){if("string"!=typeof e.path)return t(new Error("Non-file stream objects are not supported with SigV4"));var o={};"number"==typeof e.start&&(o.start=e.start),"number"==typeof e.end&&(o.end=e.end),e=a.createReadStream(e.path,o)}}r.crypto.sha256(e,"hex",(function(e,n){e?t(e):t(null,n)}))},isClockSkewed:function(e){if(e)return r.property(i.config,"isClockSkewed",Math.abs((new Date).getTime()-e)>=3e5,!1),i.config.isClockSkewed},applyClockOffset:function(e){e&&(i.config.systemClockOffset=e-(new Date).getTime())},extractRequestId:function(e){var t=e.httpResponse.headers["x-amz-request-id"]||e.httpResponse.headers["x-amzn-requestid"];!t&&e.data&&e.data.ResponseMetadata&&(t=e.data.ResponseMetadata.RequestId),t&&(e.requestId=t),e.error&&(e.error.requestId=t)},addPromises:function(e,t){var n=!1;void 0===t&&i&&i.config&&(t=i.config.getPromisesDependency()),void 0===t&&"undefined"!=typeof Promise&&(t=Promise),"function"!=typeof t&&(n=!0),Array.isArray(e)||(e=[e]);for(var r=0;r<e.length;r++){var a=e[r];n?a.deletePromisesFromClass&&a.deletePromisesFromClass():a.addPromisesToClass&&a.addPromisesToClass(t)}},promisifyMethod:function(e,t){return function(){var n=this,i=Array.prototype.slice.call(arguments);return new t((function(t,r){i.push((function(e,n){e?r(e):t(n)})),n[e].apply(n,i)}))}},isDualstackAvailable:function(e){if(!e)return!1;var t=n(7752);return"string"!=typeof e&&(e=e.serviceIdentifier),!("string"!=typeof e||!t.hasOwnProperty(e)||!t[e].dualstackAvailable)},calculateRetryDelay:function(e,t,n){t||(t={});var i=t.customBackoff||null;if("function"==typeof i)return i(e,n);var r="number"==typeof t.base?t.base:100;return Math.random()*(Math.pow(2,e)*r)},handleRequestWithRetries:function(e,t,n){t||(t={});var a=i.HttpClient.getInstance(),o=t.httpOptions||{},s=0,c=function(e){var i=t.maxRetries||0;if(e&&"TimeoutError"===e.code&&(e.retryable=!0),e&&e.retryable&&s<i){var a=r.calculateRetryDelay(s,t.retryDelayOptions,e);if(a>=0)return s++,void setTimeout(d,a+(e.retryAfter||0))}n(e)},d=function(){var t="";a.handleRequest(e,o,(function(e){e.on("data",(function(e){t+=e.toString()})),e.on("end",(function(){var i=e.statusCode;if(i<300)n(null,t);else{var a=1e3*parseInt(e.headers["retry-after"],10)||0,o=r.error(new Error,{statusCode:i,retryable:i>=500||429===i});a&&o.retryable&&(o.retryAfter=a),c(o)}}))}),c)};i.util.defer(d)},uuid:{v4:function(){return n(2489).v4()}},convertPayloadToString:function(e){var t=e.request,n=t.operation,i=t.service.api.operations[n].output||{};i.payload&&e.data[i.payload]&&(e.data[i.payload]=e.data[i.payload].toString())},defer:function(e){"object"==typeof process&&"function"==typeof process.nextTick?process.nextTick(e):"function"==typeof setImmediate?setImmediate(e):setTimeout(e,0)},getRequestPayloadShape:function(e){var t=e.service.api.operations;if(t){var n=(t||{})[e.operation];if(n&&n.input&&n.input.payload)return n.input.members[n.input.payload]}},getProfilesFromSharedConfig:function(e,t){var n={},i={};process.env[r.configOptInEnv]&&(i=e.loadFrom({isConfig:!0,filename:process.env[r.sharedConfigFileEnv]}));var a={};try{a=e.loadFrom({filename:t||process.env[r.configOptInEnv]&&process.env[r.sharedCredentialsFileEnv]})}catch(e){if(!process.env[r.configOptInEnv])throw e}for(var o=0,s=Object.keys(i);o<s.length;o++)n[s[o]]=c(n[s[o]]||{},i[s[o]]);for(o=0,s=Object.keys(a);o<s.length;o++)n[s[o]]=c(n[s[o]]||{},a[s[o]]);return n;function c(e,t){for(var n=0,i=Object.keys(t);n<i.length;n++)e[i[n]]=t[i[n]];return e}},ARN:{validate:function(e){return e&&0===e.indexOf("arn:")&&e.split(":").length>=6},parse:function(e){var t=e.split(":");return{partition:t[1],service:t[2],region:t[3],accountId:t[4],resource:t.slice(5).join(":")}},build:function(e){if(void 0===e.service||void 0===e.region||void 0===e.accountId||void 0===e.resource)throw r.error(new Error("Input ARN object is invalid"));return"arn:"+(e.partition||"aws")+":"+e.service+":"+e.region+":"+e.accountId+":"+e.resource}},defaultProfile:"default",configOptInEnv:"AWS_SDK_LOAD_CONFIG",sharedCredentialsFileEnv:"AWS_SHARED_CREDENTIALS_FILE",sharedConfigFileEnv:"AWS_CONFIG_FILE",imdsDisabledEnv:"AWS_EC2_METADATA_DISABLED"};e.exports=r},5106:(e,t,n)=>{var i=n(2662),r=n(8136);function a(){}function o(e,t){for(var n=e.getElementsByTagName(t),i=0,r=n.length;i<r;i++)if(n[i].parentNode===e)return n[i]}function s(e,t){switch(t||(t={}),t.type){case"structure":return c(e,t);case"map":return function(e,t){for(var n={},i=t.key.name||"key",r=t.value.name||"value",a=t.flattened?t.name:"entry",c=e.firstElementChild;c;){if(c.nodeName===a){var d=o(c,i).textContent,l=o(c,r);n[d]=s(l,t.value)}c=c.nextElementSibling}return n}(e,t);case"list":return function(e,t){for(var n=[],i=t.flattened?t.name:t.member.name||"member",r=e.firstElementChild;r;)r.nodeName===i&&n.push(s(r,t.member)),r=r.nextElementSibling;return n}(e,t);case void 0:case null:return function(e){if(null==e)return"";if(!e.firstElementChild)return null===e.parentNode.parentNode?{}:0===e.childNodes.length?"":e.textContent;for(var t={type:"structure",members:{}},n=e.firstElementChild;n;){var i=n.nodeName;Object.prototype.hasOwnProperty.call(t.members,i)?t.members[i].type="list":t.members[i]={name:i},n=n.nextElementSibling}return c(e,t)}(e);default:return function(e,t){if(e.getAttribute){var n=e.getAttribute("encoding");"base64"===n&&(t=new r.create({type:n}))}var i=e.textContent;return""===i&&(i=null),"function"==typeof t.toType?t.toType(i):i}(e,t)}}function c(e,t){var n={};return null===e||i.each(t.members,(function(i,r){if(r.isXmlAttribute){if(Object.prototype.hasOwnProperty.call(e.attributes,r.name)){var a=e.attributes[r.name].value;n[i]=s({textContent:a},r)}}else{var c=r.flattened?e:o(e,r.name);c?n[i]=s(c,r):r.flattened||"list"!==r.type||t.api.xmlNoDefaultLists||(n[i]=r.defaultValue)}})),n}a.prototype.parse=function(e,t){if(""===e.replace(/^\s+/,""))return{};var n,r;try{if(window.DOMParser){try{n=(new DOMParser).parseFromString(e,"text/xml")}catch(e){throw i.error(new Error("Parse error in document"),{originalError:e,code:"XMLParserError",retryable:!0})}if(null===n.documentElement)throw i.error(new Error("Cannot parse empty document."),{code:"XMLParserError",retryable:!0});var a=n.getElementsByTagName("parsererror")[0];if(a&&(a.parentNode===n||"body"===a.parentNode.nodeName||a.parentNode.parentNode===n||"body"===a.parentNode.parentNode.nodeName)){var c=a.getElementsByTagName("div")[0]||a;throw i.error(new Error(c.textContent||"Parser error in document"),{code:"XMLParserError",retryable:!0})}}else{if(!window.ActiveXObject)throw new Error("Cannot load XML parser");if((n=new window.ActiveXObject("Microsoft.XMLDOM")).async=!1,!n.loadXML(e))throw i.error(new Error("Parse error in document"),{code:"XMLParserError",retryable:!0})}}catch(e){r=e}if(n&&n.documentElement&&!r){var d=s(n.documentElement,t),l=o(n.documentElement,"ResponseMetadata");return l&&(d.ResponseMetadata=s(l,{})),d}if(r)throw i.error(r||new Error,{code:"XMLParserError",retryable:!0});return{}},e.exports=a},2369:(e,t,n)=>{var i=n(2662),r=n(8700).XmlNode,a=n(5009).XmlText;function o(){}function s(e,t,n){switch(n.type){case"structure":return function(e,t,n){i.arrayEach(n.memberNames,(function(i){var a=n.members[i];if("body"===a.location){var o=t[i],d=a.name;if(null!=o)if(a.isXmlAttribute)e.addAttribute(d,o);else if(a.flattened)s(e,o,a);else{var l=new r(d);e.addChildNode(l),c(l,a),s(l,o,a)}}}))}(e,t,n);case"map":return function(e,t,n){var a=n.key.name||"key",o=n.value.name||"value";i.each(t,(function(t,i){var c=new r(n.flattened?n.name:"entry");e.addChildNode(c);var d=new r(a),l=new r(o);c.addChildNode(d),c.addChildNode(l),s(d,t,n.key),s(l,i,n.value)}))}(e,t,n);case"list":return function(e,t,n){n.flattened?i.arrayEach(t,(function(t){var i=n.member.name||n.name,a=new r(i);e.addChildNode(a),s(a,t,n.member)})):i.arrayEach(t,(function(t){var i=n.member.name||"member",a=new r(i);e.addChildNode(a),s(a,t,n.member)}))}(e,t,n);default:return function(e,t,n){e.addChildNode(new a(n.toWireFormat(t)))}(e,t,n)}}function c(e,t,n){var i,r="xmlns";t.xmlNamespaceUri?(i=t.xmlNamespaceUri,t.xmlNamespacePrefix&&(r+=":"+t.xmlNamespacePrefix)):n&&t.api.xmlNamespaceUri&&(i=t.api.xmlNamespaceUri),i&&e.addAttribute(r,i)}o.prototype.toXML=function(e,t,n,i){var a=new r(n);return c(a,t,!0),s(a,e,t),a.children.length>0||i?a.toString():""},e.exports=o},5373:e=>{e.exports={escapeAttribute:function(e){return e.replace(/&/g,"&amp;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}}},5077:e=>{e.exports={escapeElement:function(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#x0D;").replace(/\n/g,"&#x0A;").replace(/\u0085/g,"&#x85;").replace(/\u2028/,"&#x2028;")}}},8700:(e,t,n)=>{var i=n(5373).escapeAttribute;function r(e,t){void 0===t&&(t=[]),this.name=e,this.children=t,this.attributes={}}r.prototype.addAttribute=function(e,t){return this.attributes[e]=t,this},r.prototype.addChildNode=function(e){return this.children.push(e),this},r.prototype.removeAttribute=function(e){return delete this.attributes[e],this},r.prototype.toString=function(){for(var e=Boolean(this.children.length),t="<"+this.name,n=this.attributes,r=0,a=Object.keys(n);r<a.length;r++){var o=a[r],s=n[o];null!=s&&(t+=" "+o+'="'+i(""+s)+'"')}return t+(e?">"+this.children.map((function(e){return e.toString()})).join("")+"</"+this.name+">":"/>")},e.exports={XmlNode:r}},5009:(e,t,n)=>{var i=n(5077).escapeElement;function r(e){this.value=e}r.prototype.toString=function(){return i(""+this.value)},e.exports={XmlText:r}},3498:e=>{function t(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function n(e){return"function"==typeof e}function i(e){return"object"==typeof e&&null!==e}function r(e){return void 0===e}e.exports=t,t.EventEmitter=t,t.prototype._events=void 0,t.prototype._maxListeners=void 0,t.defaultMaxListeners=10,t.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},t.prototype.emit=function(e){var t,a,o,s,c,d;if(this._events||(this._events={}),"error"===e&&(!this._events.error||i(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var l=new Error('Uncaught, unspecified "error" event. ('+t+")");throw l.context=t,l}if(r(a=this._events[e]))return!1;if(n(a))switch(arguments.length){case 1:a.call(this);break;case 2:a.call(this,arguments[1]);break;case 3:a.call(this,arguments[1],arguments[2]);break;default:s=Array.prototype.slice.call(arguments,1),a.apply(this,s)}else if(i(a))for(s=Array.prototype.slice.call(arguments,1),o=(d=a.slice()).length,c=0;c<o;c++)d[c].apply(this,s);return!0},t.prototype.addListener=function(e,a){var o;if(!n(a))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,n(a.listener)?a.listener:a),this._events[e]?i(this._events[e])?this._events[e].push(a):this._events[e]=[this._events[e],a]:this._events[e]=a,i(this._events[e])&&!this._events[e].warned&&(o=r(this._maxListeners)?t.defaultMaxListeners:this._maxListeners)&&o>0&&this._events[e].length>o&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},t.prototype.on=t.prototype.addListener,t.prototype.once=function(e,t){if(!n(t))throw TypeError("listener must be a function");var i=!1;function r(){this.removeListener(e,r),i||(i=!0,t.apply(this,arguments))}return r.listener=t,this.on(e,r),this},t.prototype.removeListener=function(e,t){var r,a,o,s;if(!n(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(o=(r=this._events[e]).length,a=-1,r===t||n(r.listener)&&r.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(i(r)){for(s=o;s-- >0;)if(r[s]===t||r[s].listener&&r[s].listener===t){a=s;break}if(a<0)return this;1===r.length?(r.length=0,delete this._events[e]):r.splice(a,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},t.prototype.removeAllListeners=function(e){var t,i;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(n(i=this._events[e]))this.removeListener(e,i);else if(i)for(;i.length;)this.removeListener(e,i[i.length-1]);return delete this._events[e],this},t.prototype.listeners=function(e){return this._events&&this._events[e]?n(this._events[e])?[this._events[e]]:this._events[e].slice():[]},t.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(n(t))return 1;if(t)return t.length}return 0},t.listenerCount=function(e,t){return e.listenerCount(t)}},9547:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;for(var n=[],i=0;i<256;++i)n[i]=(i+256).toString(16).substr(1);t.default=function(e,t){var i=t||0,r=n;return[r[e[i++]],r[e[i++]],r[e[i++]],r[e[i++]],"-",r[e[i++]],r[e[i++]],"-",r[e[i++]],r[e[i++]],"-",r[e[i++]],r[e[i++]],"-",r[e[i++]],r[e[i++]],r[e[i++]],r[e[i++]],r[e[i++]],r[e[i++]]].join("")}},2489:(e,t,n)=>{"use strict";Object.defineProperty(t,"v4",{enumerable:!0,get:function(){return i.default}});r(n(9641)),r(n(4442));var i=r(n(1492));r(n(4032));function r(e){return e&&e.__esModule?e:{default:e}}},1488:(e,t)=>{"use strict";function n(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function i(e,t,i,r,a,o){return n((s=n(n(t,e),n(r,o)))<<(c=a)|s>>>32-c,i);var s,c}function r(e,t,n,r,a,o,s){return i(t&n|~t&r,e,t,a,o,s)}function a(e,t,n,r,a,o,s){return i(t&r|n&~r,e,t,a,o,s)}function o(e,t,n,r,a,o,s){return i(t^n^r,e,t,a,o,s)}function s(e,t,n,r,a,o,s){return i(n^(t|~r),e,t,a,o,s)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=function(e){if("string"==typeof e){var t=unescape(encodeURIComponent(e));e=new Array(t.length);for(var i=0;i<t.length;i++)e[i]=t.charCodeAt(i)}return function(e){var t,n,i,r=[],a=32*e.length,o="0123456789abcdef";for(t=0;t<a;t+=8)n=e[t>>5]>>>t%32&255,i=parseInt(o.charAt(n>>>4&15)+o.charAt(15&n),16),r.push(i);return r}(function(e,t){var i,c,d,l,u;e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;var h=1732584193,p=-271733879,m=-1732584194,f=271733878;for(i=0;i<e.length;i+=16)c=h,d=p,l=m,u=f,h=r(h,p,m,f,e[i],7,-680876936),f=r(f,h,p,m,e[i+1],12,-389564586),m=r(m,f,h,p,e[i+2],17,606105819),p=r(p,m,f,h,e[i+3],22,-1044525330),h=r(h,p,m,f,e[i+4],7,-176418897),f=r(f,h,p,m,e[i+5],12,1200080426),m=r(m,f,h,p,e[i+6],17,-1473231341),p=r(p,m,f,h,e[i+7],22,-45705983),h=r(h,p,m,f,e[i+8],7,1770035416),f=r(f,h,p,m,e[i+9],12,-1958414417),m=r(m,f,h,p,e[i+10],17,-42063),p=r(p,m,f,h,e[i+11],22,-1990404162),h=r(h,p,m,f,e[i+12],7,1804603682),f=r(f,h,p,m,e[i+13],12,-40341101),m=r(m,f,h,p,e[i+14],17,-1502002290),h=a(h,p=r(p,m,f,h,e[i+15],22,1236535329),m,f,e[i+1],5,-165796510),f=a(f,h,p,m,e[i+6],9,-1069501632),m=a(m,f,h,p,e[i+11],14,643717713),p=a(p,m,f,h,e[i],20,-373897302),h=a(h,p,m,f,e[i+5],5,-701558691),f=a(f,h,p,m,e[i+10],9,38016083),m=a(m,f,h,p,e[i+15],14,-660478335),p=a(p,m,f,h,e[i+4],20,-405537848),h=a(h,p,m,f,e[i+9],5,568446438),f=a(f,h,p,m,e[i+14],9,-1019803690),m=a(m,f,h,p,e[i+3],14,-187363961),p=a(p,m,f,h,e[i+8],20,1163531501),h=a(h,p,m,f,e[i+13],5,-1444681467),f=a(f,h,p,m,e[i+2],9,-51403784),m=a(m,f,h,p,e[i+7],14,1735328473),h=o(h,p=a(p,m,f,h,e[i+12],20,-1926607734),m,f,e[i+5],4,-378558),f=o(f,h,p,m,e[i+8],11,-2022574463),m=o(m,f,h,p,e[i+11],16,1839030562),p=o(p,m,f,h,e[i+14],23,-35309556),h=o(h,p,m,f,e[i+1],4,-1530992060),f=o(f,h,p,m,e[i+4],11,1272893353),m=o(m,f,h,p,e[i+7],16,-155497632),p=o(p,m,f,h,e[i+10],23,-1094730640),h=o(h,p,m,f,e[i+13],4,681279174),f=o(f,h,p,m,e[i],11,-358537222),m=o(m,f,h,p,e[i+3],16,-722521979),p=o(p,m,f,h,e[i+6],23,76029189),h=o(h,p,m,f,e[i+9],4,-640364487),f=o(f,h,p,m,e[i+12],11,-421815835),m=o(m,f,h,p,e[i+15],16,530742520),h=s(h,p=o(p,m,f,h,e[i+2],23,-995338651),m,f,e[i],6,-198630844),f=s(f,h,p,m,e[i+7],10,1126891415),m=s(m,f,h,p,e[i+14],15,-1416354905),p=s(p,m,f,h,e[i+5],21,-57434055),h=s(h,p,m,f,e[i+12],6,1700485571),f=s(f,h,p,m,e[i+3],10,-1894986606),m=s(m,f,h,p,e[i+10],15,-1051523),p=s(p,m,f,h,e[i+1],21,-2054922799),h=s(h,p,m,f,e[i+8],6,1873313359),f=s(f,h,p,m,e[i+15],10,-30611744),m=s(m,f,h,p,e[i+6],15,-1560198380),p=s(p,m,f,h,e[i+13],21,1309151649),h=s(h,p,m,f,e[i+4],6,-145523070),f=s(f,h,p,m,e[i+11],10,-1120210379),m=s(m,f,h,p,e[i+2],15,718787259),p=s(p,m,f,h,e[i+9],21,-343485551),h=n(h,c),p=n(p,d),m=n(m,l),f=n(f,u);return[h,p,m,f]}(function(e){var t,n=[];for(n[(e.length>>2)-1]=void 0,t=0;t<n.length;t+=1)n[t]=0;var i=8*e.length;for(t=0;t<i;t+=8)n[t>>5]|=(255&e[t/8])<<t%32;return n}(e),8*e.length))}},5532:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){if(!n)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return n(i)};var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),i=new Uint8Array(16)},7234:(e,t)=>{"use strict";function n(e,t,n,i){switch(e){case 0:return t&n^~t&i;case 1:case 3:return t^n^i;case 2:return t&n^t&i^n&i}}function i(e,t){return e<<t|e>>>32-t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=function(e){var t=[1518500249,1859775393,2400959708,3395469782],r=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof e){var a=unescape(encodeURIComponent(e));e=new Array(a.length);for(var o=0;o<a.length;o++)e[o]=a.charCodeAt(o)}e.push(128);var s=e.length/4+2,c=Math.ceil(s/16),d=new Array(c);for(o=0;o<c;o++){d[o]=new Array(16);for(var l=0;l<16;l++)d[o][l]=e[64*o+4*l]<<24|e[64*o+4*l+1]<<16|e[64*o+4*l+2]<<8|e[64*o+4*l+3]}for(d[c-1][14]=8*(e.length-1)/Math.pow(2,32),d[c-1][14]=Math.floor(d[c-1][14]),d[c-1][15]=8*(e.length-1)&4294967295,o=0;o<c;o++){for(var u=new Array(80),h=0;h<16;h++)u[h]=d[o][h];for(h=16;h<80;h++)u[h]=i(u[h-3]^u[h-8]^u[h-14]^u[h-16],1);var p=r[0],m=r[1],f=r[2],g=r[3],w=r[4];for(h=0;h<80;h++){var y=Math.floor(h/20),v=i(p,5)+n(y,m,f,g)+w+t[y]+u[h]>>>0;w=g,g=f,f=i(m,30)>>>0,m=p,p=v}r[0]=r[0]+p>>>0,r[1]=r[1]+m>>>0,r[2]=r[2]+f>>>0,r[3]=r[3]+g>>>0,r[4]=r[4]+w>>>0}return[r[0]>>24&255,r[0]>>16&255,r[0]>>8&255,255&r[0],r[1]>>24&255,r[1]>>16&255,r[1]>>8&255,255&r[1],r[2]>>24&255,r[2]>>16&255,r[2]>>8&255,255&r[2],r[3]>>24&255,r[3]>>16&255,r[3]>>8&255,255&r[3],r[4]>>24&255,r[4]>>16&255,r[4]>>8&255,255&r[4]]}},9641:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,r,a=s(n(5532)),o=s(n(9547));function s(e){return e&&e.__esModule?e:{default:e}}var c=0,d=0;t.default=function(e,t,n){var s=t&&n||0,l=t||[],u=(e=e||{}).node||i,h=void 0!==e.clockseq?e.clockseq:r;if(null==u||null==h){var p=e.random||(e.rng||a.default)();null==u&&(u=i=[1|p[0],p[1],p[2],p[3],p[4],p[5]]),null==h&&(h=r=16383&(p[6]<<8|p[7]))}var m=void 0!==e.msecs?e.msecs:(new Date).getTime(),f=void 0!==e.nsecs?e.nsecs:d+1,g=m-c+(f-d)/1e4;if(g<0&&void 0===e.clockseq&&(h=h+1&16383),(g<0||m>c)&&void 0===e.nsecs&&(f=0),f>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");c=m,d=f,r=h;var w=(1e4*(268435455&(m+=122192928e5))+f)%4294967296;l[s++]=w>>>24&255,l[s++]=w>>>16&255,l[s++]=w>>>8&255,l[s++]=255&w;var y=m/4294967296*1e4&268435455;l[s++]=y>>>8&255,l[s++]=255&y,l[s++]=y>>>24&15|16,l[s++]=y>>>16&255,l[s++]=h>>>8|128,l[s++]=255&h;for(var v=0;v<6;++v)l[s+v]=u[v];return t||(0,o.default)(l)}},4442:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(2352)),r=a(n(1488));function a(e){return e&&e.__esModule?e:{default:e}}var o=(0,i.default)("v3",48,r.default);t.default=o},2352:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){var i=function(e,i,a,o){var s=a&&o||0;if("string"==typeof e&&(e=function(e){e=unescape(encodeURIComponent(e));for(var t=new Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(e)),"string"==typeof i&&(i=function(e){var t=[];return e.replace(/[a-fA-F0-9]{2}/g,(function(e){t.push(parseInt(e,16))})),t}(i)),!Array.isArray(e))throw TypeError("value must be an array of bytes");if(!Array.isArray(i)||16!==i.length)throw TypeError("namespace must be uuid string or an Array of 16 byte values");var c=n(i.concat(e));if(c[6]=15&c[6]|t,c[8]=63&c[8]|128,a)for(var d=0;d<16;++d)a[s+d]=c[d];return a||(0,r.default)(c)};try{i.name=e}catch(e){}return i.DNS=a,i.URL=o,i},t.URL=t.DNS=void 0;var i,r=(i=n(9547))&&i.__esModule?i:{default:i};const a="6ba7b810-9dad-11d1-80b4-00c04fd430c8";t.DNS=a;const o="6ba7b811-9dad-11d1-80b4-00c04fd430c8";t.URL=o},1492:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(5532)),r=a(n(9547));function a(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t,n){var a=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var o=(e=e||{}).random||(e.rng||i.default)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t)for(var s=0;s<16;++s)t[a+s]=o[s];return t||(0,r.default)(o)}},4032:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(2352)),r=a(n(7234));function a(e){return e&&e.__esModule?e:{default:e}}var o=(0,i.default)("v5",80,r.default);t.default=o},5101:(e,t,n)=>{"use strict";var i=n(9697),r=function(){function e(e){void 0===e&&(e=1e3),this.maxSize=e,this.cache=new i.LRUCache(e)}return Object.defineProperty(e.prototype,"size",{get:function(){return this.cache.length},enumerable:!0,configurable:!0}),e.prototype.put=function(t,n){var i="string"!=typeof t?e.getKeyString(t):t,r=this.populateValue(n);this.cache.put(i,r)},e.prototype.get=function(t){var n="string"!=typeof t?e.getKeyString(t):t,i=Date.now(),r=this.cache.get(n);if(r){for(var a=r.length-1;a>=0;a--)r[a].Expire<i&&r.splice(a,1);if(0===r.length)return void this.cache.remove(n)}return r},e.getKeyString=function(e){for(var t=[],n=Object.keys(e).sort(),i=0;i<n.length;i++){var r=n[i];void 0!==e[r]&&t.push(e[r])}return t.join(" ")},e.prototype.populateValue=function(e){var t=Date.now();return e.map((function(e){return{Address:e.Address||"",Expire:t+60*(e.CachePeriodInMinutes||1)*1e3}}))},e.prototype.empty=function(){this.cache.empty()},e.prototype.remove=function(t){var n="string"!=typeof t?e.getKeyString(t):t;this.cache.remove(n)},e}();t.$=r},9697:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e,t){this.key=e,this.value=t},i=function(){function e(e){if(this.nodeMap={},this.size=0,"number"!=typeof e||e<1)throw new Error("Cache size can only be positive number");this.sizeLimit=e}return Object.defineProperty(e.prototype,"length",{get:function(){return this.size},enumerable:!0,configurable:!0}),e.prototype.prependToList=function(e){this.headerNode?(this.headerNode.prev=e,e.next=this.headerNode):this.tailNode=e,this.headerNode=e,this.size++},e.prototype.removeFromTail=function(){if(this.tailNode){var e=this.tailNode,t=e.prev;return t&&(t.next=void 0),e.prev=void 0,this.tailNode=t,this.size--,e}},e.prototype.detachFromList=function(e){this.headerNode===e&&(this.headerNode=e.next),this.tailNode===e&&(this.tailNode=e.prev),e.prev&&(e.prev.next=e.next),e.next&&(e.next.prev=e.prev),e.next=void 0,e.prev=void 0,this.size--},e.prototype.get=function(e){if(this.nodeMap[e]){var t=this.nodeMap[e];return this.detachFromList(t),this.prependToList(t),t.value}},e.prototype.remove=function(e){if(this.nodeMap[e]){var t=this.nodeMap[e];this.detachFromList(t),delete this.nodeMap[e]}},e.prototype.put=function(e,t){if(this.nodeMap[e])this.remove(e);else if(this.size===this.sizeLimit){var i=this.removeFromTail().key;delete this.nodeMap[i]}var r=new n(e,t);this.nodeMap[e]=r,this.prependToList(r)},e.prototype.empty=function(){for(var e=Object.keys(this.nodeMap),t=0;t<e.length;t++){var n=e[t],i=this.nodeMap[n];this.detachFromList(i),delete this.nodeMap[n]}},e}();t.LRUCache=i},9742:(e,t)=>{"use strict";t.byteLength=function(e){var t=s(e),n=t[0],i=t[1];return 3*(n+i)/4-i},t.toByteArray=function(e){var t,n,a=s(e),o=a[0],c=a[1],d=new r(function(e,t,n){return 3*(t+n)/4-n}(0,o,c)),l=0,u=c>0?o-4:o;for(n=0;n<u;n+=4)t=i[e.charCodeAt(n)]<<18|i[e.charCodeAt(n+1)]<<12|i[e.charCodeAt(n+2)]<<6|i[e.charCodeAt(n+3)],d[l++]=t>>16&255,d[l++]=t>>8&255,d[l++]=255&t;return 2===c&&(t=i[e.charCodeAt(n)]<<2|i[e.charCodeAt(n+1)]>>4,d[l++]=255&t),1===c&&(t=i[e.charCodeAt(n)]<<10|i[e.charCodeAt(n+1)]<<4|i[e.charCodeAt(n+2)]>>2,d[l++]=t>>8&255,d[l++]=255&t),d},t.fromByteArray=function(e){for(var t,i=e.length,r=i%3,a=[],o=16383,s=0,d=i-r;s<d;s+=o)a.push(c(e,s,s+o>d?d:s+o));return 1===r?(t=e[i-1],a.push(n[t>>2]+n[t<<4&63]+"==")):2===r&&(t=(e[i-2]<<8)+e[i-1],a.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"=")),a.join("")};for(var n=[],i=[],r="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0;o<64;++o)n[o]=a[o],i[a.charCodeAt(o)]=o;function s(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function c(e,t,i){for(var r,a,o=[],s=t;s<i;s+=3)r=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),o.push(n[(a=r)>>18&63]+n[a>>12&63]+n[a>>6&63]+n[63&a]);return o.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},1206:function(e){e.exports=function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=90)}({17:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var i=n(18),r=function(){function e(){}return e.getFirstMatch=function(e,t){var n=t.match(e);return n&&n.length>0&&n[1]||""},e.getSecondMatch=function(e,t){var n=t.match(e);return n&&n.length>1&&n[2]||""},e.matchAndReturnConst=function(e,t,n){if(e.test(t))return n},e.getWindowsVersionName=function(e){switch(e){case"NT":return"NT";case"XP":case"NT 5.1":return"XP";case"NT 5.0":return"2000";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}},e.getMacOSVersionName=function(e){var t=e.split(".").splice(0,2).map((function(e){return parseInt(e,10)||0}));if(t.push(0),10===t[0])switch(t[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}},e.getAndroidVersionName=function(e){var t=e.split(".").splice(0,2).map((function(e){return parseInt(e,10)||0}));if(t.push(0),!(1===t[0]&&t[1]<5))return 1===t[0]&&t[1]<6?"Cupcake":1===t[0]&&t[1]>=6?"Donut":2===t[0]&&t[1]<2?"Eclair":2===t[0]&&2===t[1]?"Froyo":2===t[0]&&t[1]>2?"Gingerbread":3===t[0]?"Honeycomb":4===t[0]&&t[1]<1?"Ice Cream Sandwich":4===t[0]&&t[1]<4?"Jelly Bean":4===t[0]&&t[1]>=4?"KitKat":5===t[0]?"Lollipop":6===t[0]?"Marshmallow":7===t[0]?"Nougat":8===t[0]?"Oreo":9===t[0]?"Pie":void 0},e.getVersionPrecision=function(e){return e.split(".").length},e.compareVersions=function(t,n,i){void 0===i&&(i=!1);var r=e.getVersionPrecision(t),a=e.getVersionPrecision(n),o=Math.max(r,a),s=0,c=e.map([t,n],(function(t){var n=o-e.getVersionPrecision(t),i=t+new Array(n+1).join(".0");return e.map(i.split("."),(function(e){return new Array(20-e.length).join("0")+e})).reverse()}));for(i&&(s=o-Math.min(r,a)),o-=1;o>=s;){if(c[0][o]>c[1][o])return 1;if(c[0][o]===c[1][o]){if(o===s)return 0;o-=1}else if(c[0][o]<c[1][o])return-1}},e.map=function(e,t){var n,i=[];if(Array.prototype.map)return Array.prototype.map.call(e,t);for(n=0;n<e.length;n+=1)i.push(t(e[n]));return i},e.find=function(e,t){var n,i;if(Array.prototype.find)return Array.prototype.find.call(e,t);for(n=0,i=e.length;n<i;n+=1){var r=e[n];if(t(r,n))return r}},e.assign=function(e){for(var t,n,i=e,r=arguments.length,a=new Array(r>1?r-1:0),o=1;o<r;o++)a[o-1]=arguments[o];if(Object.assign)return Object.assign.apply(Object,[e].concat(a));var s=function(){var e=a[t];"object"==typeof e&&null!==e&&Object.keys(e).forEach((function(t){i[t]=e[t]}))};for(t=0,n=a.length;t<n;t+=1)s();return e},e.getBrowserAlias=function(e){return i.BROWSER_ALIASES_MAP[e]},e.getBrowserTypeByAlias=function(e){return i.BROWSER_MAP[e]||""},e}();t.default=r,e.exports=t.default},18:function(e,t,n){"use strict";t.__esModule=!0,t.ENGINE_MAP=t.OS_MAP=t.PLATFORMS_MAP=t.BROWSER_MAP=t.BROWSER_ALIASES_MAP=void 0,t.BROWSER_ALIASES_MAP={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},t.BROWSER_MAP={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},t.PLATFORMS_MAP={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},t.OS_MAP={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},t.ENGINE_MAP={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"}},90:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var i,r=(i=n(91))&&i.__esModule?i:{default:i},a=n(18);function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var s=function(){function e(){}var t,n;return e.getParser=function(e,t){if(void 0===t&&(t=!1),"string"!=typeof e)throw new Error("UserAgent should be a string");return new r.default(e,t)},e.parse=function(e){return new r.default(e).getResult()},t=e,n=[{key:"BROWSER_MAP",get:function(){return a.BROWSER_MAP}},{key:"ENGINE_MAP",get:function(){return a.ENGINE_MAP}},{key:"OS_MAP",get:function(){return a.OS_MAP}},{key:"PLATFORMS_MAP",get:function(){return a.PLATFORMS_MAP}}],null&&o(t.prototype,null),n&&o(t,n),e}();t.default=s,e.exports=t.default},91:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var i=c(n(92)),r=c(n(93)),a=c(n(94)),o=c(n(95)),s=c(n(17));function c(e){return e&&e.__esModule?e:{default:e}}var d=function(){function e(e,t){if(void 0===t&&(t=!1),null==e||""===e)throw new Error("UserAgent parameter can't be empty");this._ua=e,this.parsedResult={},!0!==t&&this.parse()}var t=e.prototype;return t.getUA=function(){return this._ua},t.test=function(e){return e.test(this._ua)},t.parseBrowser=function(){var e=this;this.parsedResult.browser={};var t=s.default.find(i.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.browser=t.describe(this.getUA())),this.parsedResult.browser},t.getBrowser=function(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()},t.getBrowserName=function(e){return e?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""},t.getBrowserVersion=function(){return this.getBrowser().version},t.getOS=function(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()},t.parseOS=function(){var e=this;this.parsedResult.os={};var t=s.default.find(r.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.os=t.describe(this.getUA())),this.parsedResult.os},t.getOSName=function(e){var t=this.getOS().name;return e?String(t).toLowerCase()||"":t||""},t.getOSVersion=function(){return this.getOS().version},t.getPlatform=function(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()},t.getPlatformType=function(e){void 0===e&&(e=!1);var t=this.getPlatform().type;return e?String(t).toLowerCase()||"":t||""},t.parsePlatform=function(){var e=this;this.parsedResult.platform={};var t=s.default.find(a.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.platform=t.describe(this.getUA())),this.parsedResult.platform},t.getEngine=function(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()},t.getEngineName=function(e){return e?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""},t.parseEngine=function(){var e=this;this.parsedResult.engine={};var t=s.default.find(o.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.engine=t.describe(this.getUA())),this.parsedResult.engine},t.parse=function(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this},t.getResult=function(){return s.default.assign({},this.parsedResult)},t.satisfies=function(e){var t=this,n={},i=0,r={},a=0;if(Object.keys(e).forEach((function(t){var o=e[t];"string"==typeof o?(r[t]=o,a+=1):"object"==typeof o&&(n[t]=o,i+=1)})),i>0){var o=Object.keys(n),c=s.default.find(o,(function(e){return t.isOS(e)}));if(c){var d=this.satisfies(n[c]);if(void 0!==d)return d}var l=s.default.find(o,(function(e){return t.isPlatform(e)}));if(l){var u=this.satisfies(n[l]);if(void 0!==u)return u}}if(a>0){var h=Object.keys(r),p=s.default.find(h,(function(e){return t.isBrowser(e,!0)}));if(void 0!==p)return this.compareVersion(r[p])}},t.isBrowser=function(e,t){void 0===t&&(t=!1);var n=this.getBrowserName().toLowerCase(),i=e.toLowerCase(),r=s.default.getBrowserTypeByAlias(i);return t&&r&&(i=r.toLowerCase()),i===n},t.compareVersion=function(e){var t=[0],n=e,i=!1,r=this.getBrowserVersion();if("string"==typeof r)return">"===e[0]||"<"===e[0]?(n=e.substr(1),"="===e[1]?(i=!0,n=e.substr(2)):t=[],">"===e[0]?t.push(1):t.push(-1)):"="===e[0]?n=e.substr(1):"~"===e[0]&&(i=!0,n=e.substr(1)),t.indexOf(s.default.compareVersions(r,n,i))>-1},t.isOS=function(e){return this.getOSName(!0)===String(e).toLowerCase()},t.isPlatform=function(e){return this.getPlatformType(!0)===String(e).toLowerCase()},t.isEngine=function(e){return this.getEngineName(!0)===String(e).toLowerCase()},t.is=function(e,t){return void 0===t&&(t=!1),this.isBrowser(e,t)||this.isOS(e)||this.isPlatform(e)},t.some=function(e){var t=this;return void 0===e&&(e=[]),e.some((function(e){return t.is(e)}))},e}();t.default=d,e.exports=t.default},92:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var i,r=(i=n(17))&&i.__esModule?i:{default:i},a=/version\/(\d+(\.?_?\d+)+)/i,o=[{test:[/googlebot/i],describe:function(e){var t={name:"Googlebot"},n=r.default.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,e)||r.default.getFirstMatch(a,e);return n&&(t.version=n),t}},{test:[/opera/i],describe:function(e){var t={name:"Opera"},n=r.default.getFirstMatch(a,e)||r.default.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/opr\/|opios/i],describe:function(e){var t={name:"Opera"},n=r.default.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,e)||r.default.getFirstMatch(a,e);return n&&(t.version=n),t}},{test:[/SamsungBrowser/i],describe:function(e){var t={name:"Samsung Internet for Android"},n=r.default.getFirstMatch(a,e)||r.default.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/Whale/i],describe:function(e){var t={name:"NAVER Whale Browser"},n=r.default.getFirstMatch(a,e)||r.default.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/MZBrowser/i],describe:function(e){var t={name:"MZ Browser"},n=r.default.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,e)||r.default.getFirstMatch(a,e);return n&&(t.version=n),t}},{test:[/focus/i],describe:function(e){var t={name:"Focus"},n=r.default.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,e)||r.default.getFirstMatch(a,e);return n&&(t.version=n),t}},{test:[/swing/i],describe:function(e){var t={name:"Swing"},n=r.default.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,e)||r.default.getFirstMatch(a,e);return n&&(t.version=n),t}},{test:[/coast/i],describe:function(e){var t={name:"Opera Coast"},n=r.default.getFirstMatch(a,e)||r.default.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe:function(e){var t={name:"Opera Touch"},n=r.default.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,e)||r.default.getFirstMatch(a,e);return n&&(t.version=n),t}},{test:[/yabrowser/i],describe:function(e){var t={name:"Yandex Browser"},n=r.default.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,e)||r.default.getFirstMatch(a,e);return n&&(t.version=n),t}},{test:[/ucbrowser/i],describe:function(e){var t={name:"UC Browser"},n=r.default.getFirstMatch(a,e)||r.default.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/Maxthon|mxios/i],describe:function(e){var t={name:"Maxthon"},n=r.default.getFirstMatch(a,e)||r.default.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/epiphany/i],describe:function(e){var t={name:"Epiphany"},n=r.default.getFirstMatch(a,e)||r.default.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/puffin/i],describe:function(e){var t={name:"Puffin"},n=r.default.getFirstMatch(a,e)||r.default.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/sleipnir/i],describe:function(e){var t={name:"Sleipnir"},n=r.default.getFirstMatch(a,e)||r.default.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/k-meleon/i],describe:function(e){var t={name:"K-Meleon"},n=r.default.getFirstMatch(a,e)||r.default.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/micromessenger/i],describe:function(e){var t={name:"WeChat"},n=r.default.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,e)||r.default.getFirstMatch(a,e);return n&&(t.version=n),t}},{test:[/qqbrowser/i],describe:function(e){var t={name:/qqbrowserlite/i.test(e)?"QQ Browser Lite":"QQ Browser"},n=r.default.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,e)||r.default.getFirstMatch(a,e);return n&&(t.version=n),t}},{test:[/msie|trident/i],describe:function(e){var t={name:"Internet Explorer"},n=r.default.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/\sedg\//i],describe:function(e){var t={name:"Microsoft Edge"},n=r.default.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/edg([ea]|ios)/i],describe:function(e){var t={name:"Microsoft Edge"},n=r.default.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/vivaldi/i],describe:function(e){var t={name:"Vivaldi"},n=r.default.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/seamonkey/i],describe:function(e){var t={name:"SeaMonkey"},n=r.default.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/sailfish/i],describe:function(e){var t={name:"Sailfish"},n=r.default.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,e);return n&&(t.version=n),t}},{test:[/silk/i],describe:function(e){var t={name:"Amazon Silk"},n=r.default.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/phantom/i],describe:function(e){var t={name:"PhantomJS"},n=r.default.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/slimerjs/i],describe:function(e){var t={name:"SlimerJS"},n=r.default.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(e){var t={name:"BlackBerry"},n=r.default.getFirstMatch(a,e)||r.default.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t={name:"WebOS Browser"},n=r.default.getFirstMatch(a,e)||r.default.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/bada/i],describe:function(e){var t={name:"Bada"},n=r.default.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/tizen/i],describe:function(e){var t={name:"Tizen"},n=r.default.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,e)||r.default.getFirstMatch(a,e);return n&&(t.version=n),t}},{test:[/qupzilla/i],describe:function(e){var t={name:"QupZilla"},n=r.default.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,e)||r.default.getFirstMatch(a,e);return n&&(t.version=n),t}},{test:[/firefox|iceweasel|fxios/i],describe:function(e){var t={name:"Firefox"},n=r.default.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/electron/i],describe:function(e){var t={name:"Electron"},n=r.default.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/MiuiBrowser/i],describe:function(e){var t={name:"Miui"},n=r.default.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/chromium/i],describe:function(e){var t={name:"Chromium"},n=r.default.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,e)||r.default.getFirstMatch(a,e);return n&&(t.version=n),t}},{test:[/chrome|crios|crmo/i],describe:function(e){var t={name:"Chrome"},n=r.default.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/GSA/i],describe:function(e){var t={name:"Google Search"},n=r.default.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:function(e){var t=!e.test(/like android/i),n=e.test(/android/i);return t&&n},describe:function(e){var t={name:"Android Browser"},n=r.default.getFirstMatch(a,e);return n&&(t.version=n),t}},{test:[/playstation 4/i],describe:function(e){var t={name:"PlayStation 4"},n=r.default.getFirstMatch(a,e);return n&&(t.version=n),t}},{test:[/safari|applewebkit/i],describe:function(e){var t={name:"Safari"},n=r.default.getFirstMatch(a,e);return n&&(t.version=n),t}},{test:[/.*/i],describe:function(e){var t=-1!==e.search("\\(")?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:r.default.getFirstMatch(t,e),version:r.default.getSecondMatch(t,e)}}}];t.default=o,e.exports=t.default},93:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var i,r=(i=n(17))&&i.__esModule?i:{default:i},a=n(18),o=[{test:[/Roku\/DVP/],describe:function(e){var t=r.default.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,e);return{name:a.OS_MAP.Roku,version:t}}},{test:[/windows phone/i],describe:function(e){var t=r.default.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,e);return{name:a.OS_MAP.WindowsPhone,version:t}}},{test:[/windows /i],describe:function(e){var t=r.default.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,e),n=r.default.getWindowsVersionName(t);return{name:a.OS_MAP.Windows,version:t,versionName:n}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(e){var t={name:a.OS_MAP.iOS},n=r.default.getSecondMatch(/(Version\/)(\d[\d.]+)/,e);return n&&(t.version=n),t}},{test:[/macintosh/i],describe:function(e){var t=r.default.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,e).replace(/[_\s]/g,"."),n=r.default.getMacOSVersionName(t),i={name:a.OS_MAP.MacOS,version:t};return n&&(i.versionName=n),i}},{test:[/(ipod|iphone|ipad)/i],describe:function(e){var t=r.default.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,e).replace(/[_\s]/g,".");return{name:a.OS_MAP.iOS,version:t}}},{test:function(e){var t=!e.test(/like android/i),n=e.test(/android/i);return t&&n},describe:function(e){var t=r.default.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,e),n=r.default.getAndroidVersionName(t),i={name:a.OS_MAP.Android,version:t};return n&&(i.versionName=n),i}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t=r.default.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,e),n={name:a.OS_MAP.WebOS};return t&&t.length&&(n.version=t),n}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(e){var t=r.default.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,e)||r.default.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,e)||r.default.getFirstMatch(/\bbb(\d+)/i,e);return{name:a.OS_MAP.BlackBerry,version:t}}},{test:[/bada/i],describe:function(e){var t=r.default.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,e);return{name:a.OS_MAP.Bada,version:t}}},{test:[/tizen/i],describe:function(e){var t=r.default.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,e);return{name:a.OS_MAP.Tizen,version:t}}},{test:[/linux/i],describe:function(){return{name:a.OS_MAP.Linux}}},{test:[/CrOS/],describe:function(){return{name:a.OS_MAP.ChromeOS}}},{test:[/PlayStation 4/],describe:function(e){var t=r.default.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,e);return{name:a.OS_MAP.PlayStation4,version:t}}}];t.default=o,e.exports=t.default},94:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var i,r=(i=n(17))&&i.__esModule?i:{default:i},a=n(18),o=[{test:[/googlebot/i],describe:function(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe:function(e){var t=r.default.getFirstMatch(/(can-l01)/i,e)&&"Nova",n={type:a.PLATFORMS_MAP.mobile,vendor:"Huawei"};return t&&(n.model=t),n}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:function(){return{type:a.PLATFORMS_MAP.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe:function(){return{type:a.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(){return{type:a.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe:function(){return{type:a.PLATFORMS_MAP.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe:function(){return{type:a.PLATFORMS_MAP.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe:function(){return{type:a.PLATFORMS_MAP.tablet}}},{test:function(e){var t=e.test(/ipod|iphone/i),n=e.test(/like (ipod|iphone)/i);return t&&!n},describe:function(e){var t=r.default.getFirstMatch(/(ipod|iphone)/i,e);return{type:a.PLATFORMS_MAP.mobile,vendor:"Apple",model:t}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:function(){return{type:a.PLATFORMS_MAP.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe:function(){return{type:a.PLATFORMS_MAP.mobile}}},{test:function(e){return"blackberry"===e.getBrowserName(!0)},describe:function(){return{type:a.PLATFORMS_MAP.mobile,vendor:"BlackBerry"}}},{test:function(e){return"bada"===e.getBrowserName(!0)},describe:function(){return{type:a.PLATFORMS_MAP.mobile}}},{test:function(e){return"windows phone"===e.getBrowserName()},describe:function(){return{type:a.PLATFORMS_MAP.mobile,vendor:"Microsoft"}}},{test:function(e){var t=Number(String(e.getOSVersion()).split(".")[0]);return"android"===e.getOSName(!0)&&t>=3},describe:function(){return{type:a.PLATFORMS_MAP.tablet}}},{test:function(e){return"android"===e.getOSName(!0)},describe:function(){return{type:a.PLATFORMS_MAP.mobile}}},{test:function(e){return"macos"===e.getOSName(!0)},describe:function(){return{type:a.PLATFORMS_MAP.desktop,vendor:"Apple"}}},{test:function(e){return"windows"===e.getOSName(!0)},describe:function(){return{type:a.PLATFORMS_MAP.desktop}}},{test:function(e){return"linux"===e.getOSName(!0)},describe:function(){return{type:a.PLATFORMS_MAP.desktop}}},{test:function(e){return"playstation 4"===e.getOSName(!0)},describe:function(){return{type:a.PLATFORMS_MAP.tv}}},{test:function(e){return"roku"===e.getOSName(!0)},describe:function(){return{type:a.PLATFORMS_MAP.tv}}}];t.default=o,e.exports=t.default},95:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var i,r=(i=n(17))&&i.__esModule?i:{default:i},a=n(18),o=[{test:function(e){return"microsoft edge"===e.getBrowserName(!0)},describe:function(e){if(/\sedg\//i.test(e))return{name:a.ENGINE_MAP.Blink};var t=r.default.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,e);return{name:a.ENGINE_MAP.EdgeHTML,version:t}}},{test:[/trident/i],describe:function(e){var t={name:a.ENGINE_MAP.Trident},n=r.default.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:function(e){return e.test(/presto/i)},describe:function(e){var t={name:a.ENGINE_MAP.Presto},n=r.default.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:function(e){var t=e.test(/gecko/i),n=e.test(/like gecko/i);return t&&!n},describe:function(e){var t={name:a.ENGINE_MAP.Gecko},n=r.default.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/(apple)?webkit\/537\.36/i],describe:function(){return{name:a.ENGINE_MAP.Blink}}},{test:[/(apple)?webkit/i],describe:function(e){var t={name:a.ENGINE_MAP.WebKit},n=r.default.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}}];t.default=o,e.exports=t.default}})},8764:(e,t,n)=>{"use strict";var i=n(9742),r=n(645),a=n(5826);function o(){return c.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(o()<t)throw new RangeError("Invalid typed array length");return c.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=c.prototype:(null===e&&(e=new c(t)),e.length=t),e}function c(e,t,n){if(!(c.TYPED_ARRAY_SUPPORT||this instanceof c))return new c(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return u(this,e)}return d(this,e,t,n)}function d(e,t,n,i){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,i){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(i||0))throw new RangeError("'length' is out of bounds");return t=void 0===n&&void 0===i?new Uint8Array(t):void 0===i?new Uint8Array(t,n):new Uint8Array(t,n,i),c.TYPED_ARRAY_SUPPORT?(e=t).__proto__=c.prototype:e=h(e,t),e}(e,t,n,i):"string"==typeof t?function(e,t,n){if("string"==typeof n&&""!==n||(n="utf8"),!c.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var i=0|m(t,n),r=(e=s(e,i)).write(t,n);return r!==i&&(e=e.slice(0,r)),e}(e,t,n):function(e,t){if(c.isBuffer(t)){var n=0|p(t.length);return 0===(e=s(e,n)).length||t.copy(e,0,0,n),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||function(e){return e!=e}(t.length)?s(e,0):h(e,t);if("Buffer"===t.type&&a(t.data))return h(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function l(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function u(e,t){if(l(t),e=s(e,t<0?0:0|p(t)),!c.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function h(e,t){var n=t.length<0?0:0|p(t.length);e=s(e,n);for(var i=0;i<n;i+=1)e[i]=255&t[i];return e}function p(e){if(e>=o())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o().toString(16)+" bytes");return 0|e}function m(e,t){if(c.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var i=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return B(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return q(e).length;default:if(i)return B(e).length;t=(""+t).toLowerCase(),i=!0}}function f(e,t,n){var i=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return M(this,t,n);case"utf8":case"utf-8":return k(this,t,n);case"ascii":return A(this,t,n);case"latin1":case"binary":return T(this,t,n);case"base64":return I(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return R(this,t,n);default:if(i)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),i=!0}}function g(e,t,n){var i=e[t];e[t]=e[n],e[n]=i}function w(e,t,n,i,r){if(0===e.length)return-1;if("string"==typeof n?(i=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=r?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(r)return-1;n=e.length-1}else if(n<0){if(!r)return-1;n=0}if("string"==typeof t&&(t=c.from(t,i)),c.isBuffer(t))return 0===t.length?-1:y(e,t,n,i,r);if("number"==typeof t)return t&=255,c.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?r?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):y(e,[t],n,i,r);throw new TypeError("val must be string, number or Buffer")}function y(e,t,n,i,r){var a,o=1,s=e.length,c=t.length;if(void 0!==i&&("ucs2"===(i=String(i).toLowerCase())||"ucs-2"===i||"utf16le"===i||"utf-16le"===i)){if(e.length<2||t.length<2)return-1;o=2,s/=2,c/=2,n/=2}function d(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(r){var l=-1;for(a=n;a<s;a++)if(d(e,a)===d(t,-1===l?0:a-l)){if(-1===l&&(l=a),a-l+1===c)return l*o}else-1!==l&&(a-=a-l),l=-1}else for(n+c>s&&(n=s-c),a=n;a>=0;a--){for(var u=!0,h=0;h<c;h++)if(d(e,a+h)!==d(t,h)){u=!1;break}if(u)return a}return-1}function v(e,t,n,i){n=Number(n)||0;var r=e.length-n;i?(i=Number(i))>r&&(i=r):i=r;var a=t.length;if(a%2!=0)throw new TypeError("Invalid hex string");i>a/2&&(i=a/2);for(var o=0;o<i;++o){var s=parseInt(t.substr(2*o,2),16);if(isNaN(s))return o;e[n+o]=s}return o}function b(e,t,n,i){return V(B(t,e.length-n),e,n,i)}function S(e,t,n,i){return V(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,i)}function E(e,t,n,i){return S(e,t,n,i)}function C(e,t,n,i){return V(q(t),e,n,i)}function x(e,t,n,i){return V(function(e,t){for(var n,i,r,a=[],o=0;o<e.length&&!((t-=2)<0);++o)i=(n=e.charCodeAt(o))>>8,r=n%256,a.push(r),a.push(i);return a}(t,e.length-n),e,n,i)}function I(e,t,n){return 0===t&&n===e.length?i.fromByteArray(e):i.fromByteArray(e.slice(t,n))}function k(e,t,n){n=Math.min(e.length,n);for(var i=[],r=t;r<n;){var a,o,s,c,d=e[r],l=null,u=d>239?4:d>223?3:d>191?2:1;if(r+u<=n)switch(u){case 1:d<128&&(l=d);break;case 2:128==(192&(a=e[r+1]))&&(c=(31&d)<<6|63&a)>127&&(l=c);break;case 3:a=e[r+1],o=e[r+2],128==(192&a)&&128==(192&o)&&(c=(15&d)<<12|(63&a)<<6|63&o)>2047&&(c<55296||c>57343)&&(l=c);break;case 4:a=e[r+1],o=e[r+2],s=e[r+3],128==(192&a)&&128==(192&o)&&128==(192&s)&&(c=(15&d)<<18|(63&a)<<12|(63&o)<<6|63&s)>65535&&c<1114112&&(l=c)}null===l?(l=65533,u=1):l>65535&&(l-=65536,i.push(l>>>10&1023|55296),l=56320|1023&l),i.push(l),r+=u}return function(e){var t=e.length;if(t<=P)return String.fromCharCode.apply(String,e);for(var n="",i=0;i<t;)n+=String.fromCharCode.apply(String,e.slice(i,i+=P));return n}(i)}t.lW=c,t.h2=50,c.TYPED_ARRAY_SUPPORT=void 0!==n.g.TYPED_ARRAY_SUPPORT?n.g.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),o(),c.poolSize=8192,c._augment=function(e){return e.__proto__=c.prototype,e},c.from=function(e,t,n){return d(null,e,t,n)},c.TYPED_ARRAY_SUPPORT&&(c.prototype.__proto__=Uint8Array.prototype,c.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&c[Symbol.species]===c&&Object.defineProperty(c,Symbol.species,{value:null,configurable:!0})),c.alloc=function(e,t,n){return function(e,t,n,i){return l(t),t<=0?s(e,t):void 0!==n?"string"==typeof i?s(e,t).fill(n,i):s(e,t).fill(n):s(e,t)}(null,e,t,n)},c.allocUnsafe=function(e){return u(null,e)},c.allocUnsafeSlow=function(e){return u(null,e)},c.isBuffer=function(e){return!(null==e||!e._isBuffer)},c.compare=function(e,t){if(!c.isBuffer(e)||!c.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,i=t.length,r=0,a=Math.min(n,i);r<a;++r)if(e[r]!==t[r]){n=e[r],i=t[r];break}return n<i?-1:i<n?1:0},c.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(e,t){if(!a(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return c.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var i=c.allocUnsafe(t),r=0;for(n=0;n<e.length;++n){var o=e[n];if(!c.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(i,r),r+=o.length}return i},c.byteLength=m,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)g(this,t,t+1);return this},c.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)g(this,t,t+3),g(this,t+1,t+2);return this},c.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4);return this},c.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?k(this,0,e):f.apply(this,arguments)},c.prototype.equals=function(e){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===c.compare(this,e)},c.prototype.inspect=function(){var e="",n=t.h2;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},c.prototype.compare=function(e,t,n,i,r){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===i&&(i=0),void 0===r&&(r=this.length),t<0||n>e.length||i<0||r>this.length)throw new RangeError("out of range index");if(i>=r&&t>=n)return 0;if(i>=r)return-1;if(t>=n)return 1;if(this===e)return 0;for(var a=(r>>>=0)-(i>>>=0),o=(n>>>=0)-(t>>>=0),s=Math.min(a,o),d=this.slice(i,r),l=e.slice(t,n),u=0;u<s;++u)if(d[u]!==l[u]){a=d[u],o=l[u];break}return a<o?-1:o<a?1:0},c.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},c.prototype.indexOf=function(e,t,n){return w(this,e,t,n,!0)},c.prototype.lastIndexOf=function(e,t,n){return w(this,e,t,n,!1)},c.prototype.write=function(e,t,n,i){if(void 0===t)i="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)i=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===i&&(i="utf8")):(i=n,n=void 0)}var r=this.length-t;if((void 0===n||n>r)&&(n=r),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var a=!1;;)switch(i){case"hex":return v(this,e,t,n);case"utf8":case"utf-8":return b(this,e,t,n);case"ascii":return S(this,e,t,n);case"latin1":case"binary":return E(this,e,t,n);case"base64":return C(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x(this,e,t,n);default:if(a)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),a=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var P=4096;function A(e,t,n){var i="";n=Math.min(e.length,n);for(var r=t;r<n;++r)i+=String.fromCharCode(127&e[r]);return i}function T(e,t,n){var i="";n=Math.min(e.length,n);for(var r=t;r<n;++r)i+=String.fromCharCode(e[r]);return i}function M(e,t,n){var i,r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var a="",o=t;o<n;++o)a+=(i=e[o])<16?"0"+i.toString(16):i.toString(16);return a}function R(e,t,n){for(var i=e.slice(t,n),r="",a=0;a<i.length;a+=2)r+=String.fromCharCode(i[a]+256*i[a+1]);return r}function F(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function _(e,t,n,i,r,a){if(!c.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>r||t<a)throw new RangeError('"value" argument is out of bounds');if(n+i>e.length)throw new RangeError("Index out of range")}function O(e,t,n,i){t<0&&(t=65535+t+1);for(var r=0,a=Math.min(e.length-n,2);r<a;++r)e[n+r]=(t&255<<8*(i?r:1-r))>>>8*(i?r:1-r)}function U(e,t,n,i){t<0&&(t=4294967295+t+1);for(var r=0,a=Math.min(e.length-n,4);r<a;++r)e[n+r]=t>>>8*(i?r:3-r)&255}function N(e,t,n,i,r,a){if(n+i>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function z(e,t,n,i,a){return a||N(e,0,n,4),r.write(e,t,n,i,23,4),n+4}function D(e,t,n,i,a){return a||N(e,0,n,8),r.write(e,t,n,i,52,8),n+8}c.prototype.slice=function(e,t){var n,i=this.length;if((e=~~e)<0?(e+=i)<0&&(e=0):e>i&&(e=i),(t=void 0===t?i:~~t)<0?(t+=i)<0&&(t=0):t>i&&(t=i),t<e&&(t=e),c.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=c.prototype;else{var r=t-e;n=new c(r,void 0);for(var a=0;a<r;++a)n[a]=this[a+e]}return n},c.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||F(e,t,this.length);for(var i=this[e],r=1,a=0;++a<t&&(r*=256);)i+=this[e+a]*r;return i},c.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||F(e,t,this.length);for(var i=this[e+--t],r=1;t>0&&(r*=256);)i+=this[e+--t]*r;return i},c.prototype.readUInt8=function(e,t){return t||F(e,1,this.length),this[e]},c.prototype.readUInt16LE=function(e,t){return t||F(e,2,this.length),this[e]|this[e+1]<<8},c.prototype.readUInt16BE=function(e,t){return t||F(e,2,this.length),this[e]<<8|this[e+1]},c.prototype.readUInt32LE=function(e,t){return t||F(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},c.prototype.readUInt32BE=function(e,t){return t||F(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},c.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||F(e,t,this.length);for(var i=this[e],r=1,a=0;++a<t&&(r*=256);)i+=this[e+a]*r;return i>=(r*=128)&&(i-=Math.pow(2,8*t)),i},c.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||F(e,t,this.length);for(var i=t,r=1,a=this[e+--i];i>0&&(r*=256);)a+=this[e+--i]*r;return a>=(r*=128)&&(a-=Math.pow(2,8*t)),a},c.prototype.readInt8=function(e,t){return t||F(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},c.prototype.readInt16LE=function(e,t){t||F(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt16BE=function(e,t){t||F(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt32LE=function(e,t){return t||F(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},c.prototype.readInt32BE=function(e,t){return t||F(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},c.prototype.readFloatLE=function(e,t){return t||F(e,4,this.length),r.read(this,e,!0,23,4)},c.prototype.readFloatBE=function(e,t){return t||F(e,4,this.length),r.read(this,e,!1,23,4)},c.prototype.readDoubleLE=function(e,t){return t||F(e,8,this.length),r.read(this,e,!0,52,8)},c.prototype.readDoubleBE=function(e,t){return t||F(e,8,this.length),r.read(this,e,!1,52,8)},c.prototype.writeUIntLE=function(e,t,n,i){e=+e,t|=0,n|=0,i||_(this,e,t,n,Math.pow(2,8*n)-1,0);var r=1,a=0;for(this[t]=255&e;++a<n&&(r*=256);)this[t+a]=e/r&255;return t+n},c.prototype.writeUIntBE=function(e,t,n,i){e=+e,t|=0,n|=0,i||_(this,e,t,n,Math.pow(2,8*n)-1,0);var r=n-1,a=1;for(this[t+r]=255&e;--r>=0&&(a*=256);)this[t+r]=e/a&255;return t+n},c.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||_(this,e,t,1,255,0),c.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},c.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||_(this,e,t,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):O(this,e,t,!0),t+2},c.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||_(this,e,t,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):O(this,e,t,!1),t+2},c.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||_(this,e,t,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):U(this,e,t,!0),t+4},c.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||_(this,e,t,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):U(this,e,t,!1),t+4},c.prototype.writeIntLE=function(e,t,n,i){if(e=+e,t|=0,!i){var r=Math.pow(2,8*n-1);_(this,e,t,n,r-1,-r)}var a=0,o=1,s=0;for(this[t]=255&e;++a<n&&(o*=256);)e<0&&0===s&&0!==this[t+a-1]&&(s=1),this[t+a]=(e/o>>0)-s&255;return t+n},c.prototype.writeIntBE=function(e,t,n,i){if(e=+e,t|=0,!i){var r=Math.pow(2,8*n-1);_(this,e,t,n,r-1,-r)}var a=n-1,o=1,s=0;for(this[t+a]=255&e;--a>=0&&(o*=256);)e<0&&0===s&&0!==this[t+a+1]&&(s=1),this[t+a]=(e/o>>0)-s&255;return t+n},c.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||_(this,e,t,1,127,-128),c.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},c.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||_(this,e,t,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):O(this,e,t,!0),t+2},c.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||_(this,e,t,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):O(this,e,t,!1),t+2},c.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||_(this,e,t,4,2147483647,-2147483648),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):U(this,e,t,!0),t+4},c.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||_(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):U(this,e,t,!1),t+4},c.prototype.writeFloatLE=function(e,t,n){return z(this,e,t,!0,n)},c.prototype.writeFloatBE=function(e,t,n){return z(this,e,t,!1,n)},c.prototype.writeDoubleLE=function(e,t,n){return D(this,e,t,!0,n)},c.prototype.writeDoubleBE=function(e,t,n){return D(this,e,t,!1,n)},c.prototype.copy=function(e,t,n,i){if(n||(n=0),i||0===i||(i=this.length),t>=e.length&&(t=e.length),t||(t=0),i>0&&i<n&&(i=n),i===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-t<i-n&&(i=e.length-t+n);var r,a=i-n;if(this===e&&n<t&&t<i)for(r=a-1;r>=0;--r)e[r+t]=this[r+n];else if(a<1e3||!c.TYPED_ARRAY_SUPPORT)for(r=0;r<a;++r)e[r+t]=this[r+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+a),t);return a},c.prototype.fill=function(e,t,n,i){if("string"==typeof e){if("string"==typeof t?(i=t,t=0,n=this.length):"string"==typeof n&&(i=n,n=this.length),1===e.length){var r=e.charCodeAt(0);r<256&&(e=r)}if(void 0!==i&&"string"!=typeof i)throw new TypeError("encoding must be a string");if("string"==typeof i&&!c.isEncoding(i))throw new TypeError("Unknown encoding: "+i)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var a;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(a=t;a<n;++a)this[a]=e;else{var o=c.isBuffer(e)?e:B(new c(e,i).toString()),s=o.length;for(a=0;a<n-t;++a)this[a+t]=o[a%s]}return this};var L=/[^+\/0-9A-Za-z-_]/g;function B(e,t){var n;t=t||1/0;for(var i=e.length,r=null,a=[],o=0;o<i;++o){if((n=e.charCodeAt(o))>55295&&n<57344){if(!r){if(n>56319){(t-=3)>-1&&a.push(239,191,189);continue}if(o+1===i){(t-=3)>-1&&a.push(239,191,189);continue}r=n;continue}if(n<56320){(t-=3)>-1&&a.push(239,191,189),r=n;continue}n=65536+(r-55296<<10|n-56320)}else r&&(t-=3)>-1&&a.push(239,191,189);if(r=null,n<128){if((t-=1)<0)break;a.push(n)}else if(n<2048){if((t-=2)<0)break;a.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;a.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;a.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return a}function q(e){return i.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(L,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function V(e,t,n,i){for(var r=0;r<i&&!(r+n>=t.length||r>=e.length);++r)t[r+n]=e[r];return r}},1924:(e,t,n)=>{"use strict";var i=n(210),r=n(5559),a=r(i("String.prototype.indexOf"));e.exports=function(e,t){var n=i(e,!!t);return"function"==typeof n&&a(e,".prototype.")>-1?r(n):n}},5559:(e,t,n)=>{"use strict";var i=n(8612),r=n(210),a=r("%Function.prototype.apply%"),o=r("%Function.prototype.call%"),s=r("%Reflect.apply%",!0)||i.call(o,a),c=r("%Object.getOwnPropertyDescriptor%",!0),d=r("%Object.defineProperty%",!0),l=r("%Math.max%");if(d)try{d({},"a",{value:1})}catch(e){d=null}e.exports=function(e){var t=s(i,o,arguments);return c&&d&&c(t,"length").configurable&&d(t,"length",{value:1+l(0,e.length-(arguments.length-1))}),t};var u=function(){return s(i,a,arguments)};d?d(e.exports,"apply",{value:u}):e.exports.apply=u},3631:(e,t,n)=>{"use strict";n.r(t),n.d(t,{BotInfo:()=>s,BrowserInfo:()=>r,NodeInfo:()=>a,ReactNativeInfo:()=>c,SearchBotDeviceInfo:()=>o,browserName:()=>f,detect:()=>p,detectOS:()=>w,getNodeVersion:()=>y,parseUserAgent:()=>g});var i=function(e,t,n){if(n||2===arguments.length)for(var i,r=0,a=t.length;r<a;r++)!i&&r in t||(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))},r=function(e,t,n){this.name=e,this.version=t,this.os=n,this.type="browser"},a=function(e){this.version=e,this.type="node",this.name="node",this.os=process.platform},o=function(e,t,n,i){this.name=e,this.version=t,this.os=n,this.bot=i,this.type="bot-device"},s=function(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null},c=function(){this.type="react-native",this.name="react-native",this.version=null,this.os=null},d=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,l=3,u=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/]],h=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function p(e){return e?g(e):"undefined"==typeof document&&"undefined"!=typeof navigator&&"ReactNative"===navigator.product?new c:"undefined"!=typeof navigator?g(navigator.userAgent):y()}function m(e){return""!==e&&u.reduce((function(t,n){var i=n[0],r=n[1];if(t)return t;var a=r.exec(e);return!!a&&[i,a]}),!1)}function f(e){var t=m(e);return t?t[0]:null}function g(e){var t=m(e);if(!t)return null;var n=t[0],a=t[1];if("searchbot"===n)return new s;var c=a[1]&&a[1].split(".").join("_").split("_").slice(0,3);c?c.length<l&&(c=i(i([],c,!0),function(e){for(var t=[],n=0;n<e;n++)t.push("0");return t}(l-c.length),!0)):c=[];var u=c.join("."),h=w(e),p=d.exec(e);return p&&p[1]?new o(n,u,h,p[1]):new r(n,u,h)}function w(e){for(var t=0,n=h.length;t<n;t++){var i=h[t],r=i[0];if(i[1].exec(e))return r}return null}function y(){return"undefined"!=typeof process&&process.version?new a(process.version.slice(1)):null}},6932:(e,t,n)=>{"use strict";const i=n(8501),r=n(8844),a=n(1192);e.exports={XMLParser:r,XMLValidator:i,XMLBuilder:a}},350:(e,t)=>{"use strict";const n=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",i="["+n+"]["+n+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*",r=new RegExp("^"+i+"$");t.isExist=function(e){return void 0!==e},t.isEmptyObject=function(e){return 0===Object.keys(e).length},t.merge=function(e,t,n){if(t){const i=Object.keys(t),r=i.length;for(let a=0;a<r;a++)e[i[a]]="strict"===n?[t[i[a]]]:t[i[a]]}},t.getValue=function(e){return t.isExist(e)?e:""},t.isName=function(e){return!(null==r.exec(e))},t.getAllMatches=function(e,t){const n=[];let i=t.exec(e);for(;i;){const r=[];r.startIndex=t.lastIndex-i[0].length;const a=i.length;for(let e=0;e<a;e++)r.push(i[e]);n.push(r),i=t.exec(e)}return n},t.nameRegexp=i},8501:(e,t,n)=>{"use strict";const i=n(350),r={allowBooleanAttributes:!1,unpairedTags:[]};function a(e){return" "===e||"\t"===e||"\n"===e||"\r"===e}function o(e,t){const n=t;for(;t<e.length;t++)if("?"!=e[t]&&" "!=e[t]);else{const i=e.substr(n,t-n);if(t>5&&"xml"===i)return m("InvalidXml","XML declaration allowed only at the start of the document.",g(e,t));if("?"==e[t]&&">"==e[t+1]){t++;break}}return t}function s(e,t){if(e.length>t+5&&"-"===e[t+1]&&"-"===e[t+2]){for(t+=3;t<e.length;t++)if("-"===e[t]&&"-"===e[t+1]&&">"===e[t+2]){t+=2;break}}else if(e.length>t+8&&"D"===e[t+1]&&"O"===e[t+2]&&"C"===e[t+3]&&"T"===e[t+4]&&"Y"===e[t+5]&&"P"===e[t+6]&&"E"===e[t+7]){let n=1;for(t+=8;t<e.length;t++)if("<"===e[t])n++;else if(">"===e[t]&&(n--,0===n))break}else if(e.length>t+9&&"["===e[t+1]&&"C"===e[t+2]&&"D"===e[t+3]&&"A"===e[t+4]&&"T"===e[t+5]&&"A"===e[t+6]&&"["===e[t+7])for(t+=8;t<e.length;t++)if("]"===e[t]&&"]"===e[t+1]&&">"===e[t+2]){t+=2;break}return t}t.validate=function(e,t){t=Object.assign({},r,t);const n=[];let c=!1,d=!1;"\ufeff"===e[0]&&(e=e.substr(1));for(let r=0;r<e.length;r++)if("<"===e[r]&&"?"===e[r+1]){if(r+=2,r=o(e,r),r.err)return r}else{if("<"!==e[r]){if(a(e[r]))continue;return m("InvalidChar","char '"+e[r]+"' is not expected.",g(e,r))}{let f=r;if(r++,"!"===e[r]){r=s(e,r);continue}{let w=!1;"/"===e[r]&&(w=!0,r++);let y="";for(;r<e.length&&">"!==e[r]&&" "!==e[r]&&"\t"!==e[r]&&"\n"!==e[r]&&"\r"!==e[r];r++)y+=e[r];if(y=y.trim(),"/"===y[y.length-1]&&(y=y.substring(0,y.length-1),r--),u=y,!i.isName(u)){let t;return t=0===y.trim().length?"Invalid space after '<'.":"Tag '"+y+"' is an invalid name.",m("InvalidTag",t,g(e,r))}const v=l(e,r);if(!1===v)return m("InvalidAttr","Attributes for '"+y+"' have open quote.",g(e,r));let b=v.value;if(r=v.index,"/"===b[b.length-1]){const n=r-b.length;b=b.substring(0,b.length-1);const i=h(b,t);if(!0!==i)return m(i.err.code,i.err.msg,g(e,n+i.err.line));c=!0}else if(w){if(!v.tagClosed)return m("InvalidTag","Closing tag '"+y+"' doesn't have proper closing.",g(e,r));if(b.trim().length>0)return m("InvalidTag","Closing tag '"+y+"' can't have attributes or invalid starting.",g(e,f));{const t=n.pop();if(y!==t.tagName){let n=g(e,t.tagStartPos);return m("InvalidTag","Expected closing tag '"+t.tagName+"' (opened in line "+n.line+", col "+n.col+") instead of closing tag '"+y+"'.",g(e,f))}0==n.length&&(d=!0)}}else{const i=h(b,t);if(!0!==i)return m(i.err.code,i.err.msg,g(e,r-b.length+i.err.line));if(!0===d)return m("InvalidXml","Multiple possible root nodes found.",g(e,r));-1!==t.unpairedTags.indexOf(y)||n.push({tagName:y,tagStartPos:f}),c=!0}for(r++;r<e.length;r++)if("<"===e[r]){if("!"===e[r+1]){r++,r=s(e,r);continue}if("?"!==e[r+1])break;if(r=o(e,++r),r.err)return r}else if("&"===e[r]){const t=p(e,r);if(-1==t)return m("InvalidChar","char '&' is not expected.",g(e,r));r=t}else if(!0===d&&!a(e[r]))return m("InvalidXml","Extra text at the end",g(e,r));"<"===e[r]&&r--}}}var u;return c?1==n.length?m("InvalidTag","Unclosed tag '"+n[0].tagName+"'.",g(e,n[0].tagStartPos)):!(n.length>0)||m("InvalidXml","Invalid '"+JSON.stringify(n.map((e=>e.tagName)),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1}):m("InvalidXml","Start tag expected.",1)};const c='"',d="'";function l(e,t){let n="",i="",r=!1;for(;t<e.length;t++){if(e[t]===c||e[t]===d)""===i?i=e[t]:i!==e[t]||(i="");else if(">"===e[t]&&""===i){r=!0;break}n+=e[t]}return""===i&&{value:n,index:t,tagClosed:r}}const u=new RegExp("(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['\"])(([\\s\\S])*?)\\5)?","g");function h(e,t){const n=i.getAllMatches(e,u),r={};for(let e=0;e<n.length;e++){if(0===n[e][1].length)return m("InvalidAttr","Attribute '"+n[e][2]+"' has no space in starting.",w(n[e]));if(void 0!==n[e][3]&&void 0===n[e][4])return m("InvalidAttr","Attribute '"+n[e][2]+"' is without value.",w(n[e]));if(void 0===n[e][3]&&!t.allowBooleanAttributes)return m("InvalidAttr","boolean attribute '"+n[e][2]+"' is not allowed.",w(n[e]));const i=n[e][2];if(!f(i))return m("InvalidAttr","Attribute '"+i+"' is an invalid name.",w(n[e]));if(r.hasOwnProperty(i))return m("InvalidAttr","Attribute '"+i+"' is repeated.",w(n[e]));r[i]=1}return!0}function p(e,t){if(";"===e[++t])return-1;if("#"===e[t])return function(e,t){let n=/\d/;for("x"===e[t]&&(t++,n=/[\da-fA-F]/);t<e.length;t++){if(";"===e[t])return t;if(!e[t].match(n))break}return-1}(e,++t);let n=0;for(;t<e.length;t++,n++)if(!(e[t].match(/\w/)&&n<20)){if(";"===e[t])break;return-1}return t}function m(e,t,n){return{err:{code:e,msg:t,line:n.line||n,col:n.col}}}function f(e){return i.isName(e)}function g(e,t){const n=e.substring(0,t).split(/\r?\n/);return{line:n.length,col:n[n.length-1].length+1}}function w(e){return e.startIndex+e[1].length}},1192:(e,t,n)=>{"use strict";const i=n(2592),r={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(e,t){return t},attributeValueProcessor:function(e,t){return t},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:new RegExp("&","g"),val:"&amp;"},{regex:new RegExp(">","g"),val:"&gt;"},{regex:new RegExp("<","g"),val:"&lt;"},{regex:new RegExp("'","g"),val:"&apos;"},{regex:new RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[],oneListGroup:!1};function a(e){this.options=Object.assign({},r,e),this.options.ignoreAttributes||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=c),this.processTextOrObjNode=o,this.options.format?(this.indentate=s,this.tagEndChar=">\n",this.newLine="\n"):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine="")}function o(e,t,n){const i=this.j2x(e,n+1);return void 0!==e[this.options.textNodeName]&&1===Object.keys(e).length?this.buildTextValNode(e[this.options.textNodeName],t,i.attrStr,n):this.buildObjectNode(i.val,t,i.attrStr,n)}function s(e){return this.options.indentBy.repeat(e)}function c(e){return!!e.startsWith(this.options.attributeNamePrefix)&&e.substr(this.attrPrefixLen)}a.prototype.build=function(e){return this.options.preserveOrder?i(e,this.options):(Array.isArray(e)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(e={[this.options.arrayNodeName]:e}),this.j2x(e,0).val)},a.prototype.j2x=function(e,t){let n="",i="";for(let r in e)if(void 0===e[r]);else if(null===e[r])"?"===r[0]?i+=this.indentate(t)+"<"+r+"?"+this.tagEndChar:i+=this.indentate(t)+"<"+r+"/"+this.tagEndChar;else if(e[r]instanceof Date)i+=this.buildTextValNode(e[r],r,"",t);else if("object"!=typeof e[r]){const a=this.isAttribute(r);if(a)n+=this.buildAttrPairStr(a,""+e[r]);else if(r===this.options.textNodeName){let t=this.options.tagValueProcessor(r,""+e[r]);i+=this.replaceEntitiesValue(t)}else i+=this.buildTextValNode(e[r],r,"",t)}else if(Array.isArray(e[r])){const n=e[r].length;let a="";for(let o=0;o<n;o++){const n=e[r][o];void 0===n||(null===n?"?"===r[0]?i+=this.indentate(t)+"<"+r+"?"+this.tagEndChar:i+=this.indentate(t)+"<"+r+"/"+this.tagEndChar:"object"==typeof n?this.options.oneListGroup?a+=this.j2x(n,t+1).val:a+=this.processTextOrObjNode(n,r,t):a+=this.buildTextValNode(n,r,"",t))}this.options.oneListGroup&&(a=this.buildObjectNode(a,r,"",t)),i+=a}else if(this.options.attributesGroupName&&r===this.options.attributesGroupName){const t=Object.keys(e[r]),i=t.length;for(let a=0;a<i;a++)n+=this.buildAttrPairStr(t[a],""+e[r][t[a]])}else i+=this.processTextOrObjNode(e[r],r,t);return{attrStr:n,val:i}},a.prototype.buildAttrPairStr=function(e,t){return t=this.options.attributeValueProcessor(e,""+t),t=this.replaceEntitiesValue(t),this.options.suppressBooleanAttributes&&"true"===t?" "+e:" "+e+'="'+t+'"'},a.prototype.buildObjectNode=function(e,t,n,i){if(""===e)return"?"===t[0]?this.indentate(i)+"<"+t+n+"?"+this.tagEndChar:this.indentate(i)+"<"+t+n+this.closeTag(t)+this.tagEndChar;{let r="</"+t+this.tagEndChar,a="";return"?"===t[0]&&(a="?",r=""),n&&-1===e.indexOf("<")?this.indentate(i)+"<"+t+n+a+">"+e+r:!1!==this.options.commentPropName&&t===this.options.commentPropName&&0===a.length?this.indentate(i)+`\x3c!--${e}--\x3e`+this.newLine:this.indentate(i)+"<"+t+n+a+this.tagEndChar+e+this.indentate(i)+r}},a.prototype.closeTag=function(e){let t="";return-1!==this.options.unpairedTags.indexOf(e)?this.options.suppressUnpairedNode||(t="/"):t=this.options.suppressEmptyNode?"/":`></${e}`,t},a.prototype.buildTextValNode=function(e,t,n,i){if(!1!==this.options.cdataPropName&&t===this.options.cdataPropName)return this.indentate(i)+`<![CDATA[${e}]]>`+this.newLine;if(!1!==this.options.commentPropName&&t===this.options.commentPropName)return this.indentate(i)+`\x3c!--${e}--\x3e`+this.newLine;if("?"===t[0])return this.indentate(i)+"<"+t+n+"?"+this.tagEndChar;{let r=this.options.tagValueProcessor(t,e);return r=this.replaceEntitiesValue(r),""===r?this.indentate(i)+"<"+t+n+this.closeTag(t)+this.tagEndChar:this.indentate(i)+"<"+t+n+">"+r+"</"+t+this.tagEndChar}},a.prototype.replaceEntitiesValue=function(e){if(e&&e.length>0&&this.options.processEntities)for(let t=0;t<this.options.entities.length;t++){const n=this.options.entities[t];e=e.replace(n.regex,n.val)}return e},e.exports=a},2592:e=>{function t(e,o,s,c){let d="",l=!1;for(let u=0;u<e.length;u++){const h=e[u],p=n(h);let m="";if(m=0===s.length?p:`${s}.${p}`,p===o.textNodeName){let e=h[p];r(m,o)||(e=o.tagValueProcessor(p,e),e=a(e,o)),l&&(d+=c),d+=e,l=!1;continue}if(p===o.cdataPropName){l&&(d+=c),d+=`<![CDATA[${h[p][0][o.textNodeName]}]]>`,l=!1;continue}if(p===o.commentPropName){d+=c+`\x3c!--${h[p][0][o.textNodeName]}--\x3e`,l=!0;continue}if("?"===p[0]){const e=i(h[":@"],o),t="?xml"===p?"":c;let n=h[p][0][o.textNodeName];n=0!==n.length?" "+n:"",d+=t+`<${p}${n}${e}?>`,l=!0;continue}let f=c;""!==f&&(f+=o.indentBy);const g=c+`<${p}${i(h[":@"],o)}`,w=t(h[p],o,m,f);-1!==o.unpairedTags.indexOf(p)?o.suppressUnpairedNode?d+=g+">":d+=g+"/>":w&&0!==w.length||!o.suppressEmptyNode?w&&w.endsWith(">")?d+=g+`>${w}${c}</${p}>`:(d+=g+">",w&&""!==c&&(w.includes("/>")||w.includes("</"))?d+=c+o.indentBy+w+c:d+=w,d+=`</${p}>`):d+=g+"/>",l=!0}return d}function n(e){const t=Object.keys(e);for(let e=0;e<t.length;e++){const n=t[e];if(":@"!==n)return n}}function i(e,t){let n="";if(e&&!t.ignoreAttributes)for(let i in e){let r=t.attributeValueProcessor(i,e[i]);r=a(r,t),!0===r&&t.suppressBooleanAttributes?n+=` ${i.substr(t.attributeNamePrefix.length)}`:n+=` ${i.substr(t.attributeNamePrefix.length)}="${r}"`}return n}function r(e,t){let n=(e=e.substr(0,e.length-t.textNodeName.length-1)).substr(e.lastIndexOf(".")+1);for(let i in t.stopNodes)if(t.stopNodes[i]===e||t.stopNodes[i]==="*."+n)return!0;return!1}function a(e,t){if(e&&e.length>0&&t.processEntities)for(let n=0;n<t.entities.length;n++){const i=t.entities[n];e=e.replace(i.regex,i.val)}return e}e.exports=function(e,n){let i="";return n.format&&n.indentBy.length>0&&(i="\n"),t(e,n,"",i)}},4780:(e,t,n)=>{const i=n(350);function r(e,t){let n="";for(;t<e.length&&"'"!==e[t]&&'"'!==e[t];t++)n+=e[t];if(n=n.trim(),-1!==n.indexOf(" "))throw new Error("External entites are not supported");const i=e[t++];let r="";for(;t<e.length&&e[t]!==i;t++)r+=e[t];return[n,r,t]}function a(e,t){return"!"===e[t+1]&&"-"===e[t+2]&&"-"===e[t+3]}function o(e,t){return"!"===e[t+1]&&"E"===e[t+2]&&"N"===e[t+3]&&"T"===e[t+4]&&"I"===e[t+5]&&"T"===e[t+6]&&"Y"===e[t+7]}function s(e,t){return"!"===e[t+1]&&"E"===e[t+2]&&"L"===e[t+3]&&"E"===e[t+4]&&"M"===e[t+5]&&"E"===e[t+6]&&"N"===e[t+7]&&"T"===e[t+8]}function c(e,t){return"!"===e[t+1]&&"A"===e[t+2]&&"T"===e[t+3]&&"T"===e[t+4]&&"L"===e[t+5]&&"I"===e[t+6]&&"S"===e[t+7]&&"T"===e[t+8]}function d(e,t){return"!"===e[t+1]&&"N"===e[t+2]&&"O"===e[t+3]&&"T"===e[t+4]&&"A"===e[t+5]&&"T"===e[t+6]&&"I"===e[t+7]&&"O"===e[t+8]&&"N"===e[t+9]}function l(e){if(i.isName(e))return e;throw new Error(`Invalid entity name ${e}`)}e.exports=function(e,t){const n={};if("O"!==e[t+3]||"C"!==e[t+4]||"T"!==e[t+5]||"Y"!==e[t+6]||"P"!==e[t+7]||"E"!==e[t+8])throw new Error("Invalid Tag instead of DOCTYPE");{t+=9;let i=1,u=!1,h=!1,p="";for(;t<e.length;t++)if("<"!==e[t]||h)if(">"===e[t]){if(h?"-"===e[t-1]&&"-"===e[t-2]&&(h=!1,i--):i--,0===i)break}else"["===e[t]?u=!0:p+=e[t];else{if(u&&o(e,t))t+=7,[entityName,val,t]=r(e,t+1),-1===val.indexOf("&")&&(n[l(entityName)]={regx:RegExp(`&${entityName};`,"g"),val});else if(u&&s(e,t))t+=8;else if(u&&c(e,t))t+=8;else if(u&&d(e,t))t+=9;else{if(!a)throw new Error("Invalid DOCTYPE");h=!0}i++,p=""}if(0!==i)throw new Error("Unclosed DOCTYPE")}return{entities:n,i:t}}},6745:(e,t)=>{const n={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(e,t){return t},attributeValueProcessor:function(e,t){return t},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(e,t,n){return e}};t.buildOptions=function(e){return Object.assign({},n,e)},t.defaultOptions=n},1078:(e,t,n)=>{"use strict";const i=n(350),r=n(6311),a=n(4780),o=n(4153);function s(e){const t=Object.keys(e);for(let n=0;n<t.length;n++){const i=t[n];this.lastEntities[i]={regex:new RegExp("&"+i+";","g"),val:e[i]}}}function c(e,t,n,i,r,a,o){if(void 0!==e&&(this.options.trimValues&&!i&&(e=e.trim()),e.length>0)){o||(e=this.replaceEntitiesValue(e));const i=this.options.tagValueProcessor(t,e,n,r,a);return null==i?e:typeof i!=typeof e||i!==e?i:this.options.trimValues||e.trim()===e?b(e,this.options.parseTagValue,this.options.numberParseOptions):e}}function d(e){if(this.options.removeNSPrefix){const t=e.split(":"),n="/"===e.charAt(0)?"/":"";if("xmlns"===t[0])return"";2===t.length&&(e=n+t[1])}return e}"<((!\\[CDATA\\[([\\s\\S]*?)(]]>))|((NAME:)?(NAME))([^>]*)>|((\\/)(NAME)\\s*>))([^<]*)".replace(/NAME/g,i.nameRegexp);const l=new RegExp("([^\\s=]+)\\s*(=\\s*(['\"])([\\s\\S]*?)\\3)?","gm");function u(e,t,n){if(!this.options.ignoreAttributes&&"string"==typeof e){const n=i.getAllMatches(e,l),r=n.length,a={};for(let e=0;e<r;e++){const i=this.resolveNameSpace(n[e][1]);let r=n[e][4],o=this.options.attributeNamePrefix+i;if(i.length)if(this.options.transformAttributeName&&(o=this.options.transformAttributeName(o)),"__proto__"===o&&(o="#__proto__"),void 0!==r){this.options.trimValues&&(r=r.trim()),r=this.replaceEntitiesValue(r);const e=this.options.attributeValueProcessor(i,r,t);a[o]=null==e?r:typeof e!=typeof r||e!==r?e:b(r,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(a[o]=!0)}if(!Object.keys(a).length)return;if(this.options.attributesGroupName){const e={};return e[this.options.attributesGroupName]=a,e}return a}}const h=function(e){e=e.replace(/\r\n?/g,"\n");const t=new r("!xml");let n=t,i="",o="";for(let s=0;s<e.length;s++)if("<"===e[s])if("/"===e[s+1]){const t=w(e,">",s,"Closing Tag is not closed.");let r=e.substring(s+2,t).trim();if(this.options.removeNSPrefix){const e=r.indexOf(":");-1!==e&&(r=r.substr(e+1))}this.options.transformTagName&&(r=this.options.transformTagName(r)),n&&(i=this.saveTextToParentTag(i,n,o));const a=o.substring(o.lastIndexOf(".")+1);if(r&&-1!==this.options.unpairedTags.indexOf(r))throw new Error(`Unpaired tag can not be used as closing tag: </${r}>`);let c=0;a&&-1!==this.options.unpairedTags.indexOf(a)?(c=o.lastIndexOf(".",o.lastIndexOf(".")-1),this.tagsNodeStack.pop()):c=o.lastIndexOf("."),o=o.substring(0,c),n=this.tagsNodeStack.pop(),i="",s=t}else if("?"===e[s+1]){let t=y(e,s,!1,"?>");if(!t)throw new Error("Pi Tag is not closed.");if(i=this.saveTextToParentTag(i,n,o),this.options.ignoreDeclaration&&"?xml"===t.tagName||this.options.ignorePiTags);else{const e=new r(t.tagName);e.add(this.options.textNodeName,""),t.tagName!==t.tagExp&&t.attrExpPresent&&(e[":@"]=this.buildAttributesMap(t.tagExp,o,t.tagName)),this.addChild(n,e,o)}s=t.closeIndex+1}else if("!--"===e.substr(s+1,3)){const t=w(e,"--\x3e",s+4,"Comment is not closed.");if(this.options.commentPropName){const r=e.substring(s+4,t-2);i=this.saveTextToParentTag(i,n,o),n.add(this.options.commentPropName,[{[this.options.textNodeName]:r}])}s=t}else if("!D"===e.substr(s+1,2)){const t=a(e,s);this.docTypeEntities=t.entities,s=t.i}else if("!["===e.substr(s+1,2)){const t=w(e,"]]>",s,"CDATA is not closed.")-2,r=e.substring(s+9,t);if(i=this.saveTextToParentTag(i,n,o),this.options.cdataPropName)n.add(this.options.cdataPropName,[{[this.options.textNodeName]:r}]);else{let e=this.parseTextData(r,n.tagname,o,!0,!1,!0);null==e&&(e=""),n.add(this.options.textNodeName,e)}s=t+2}else{let a=y(e,s,this.options.removeNSPrefix),c=a.tagName,d=a.tagExp,l=a.attrExpPresent,u=a.closeIndex;this.options.transformTagName&&(c=this.options.transformTagName(c)),n&&i&&"!xml"!==n.tagname&&(i=this.saveTextToParentTag(i,n,o,!1));const h=n;if(h&&-1!==this.options.unpairedTags.indexOf(h.tagname)&&(n=this.tagsNodeStack.pop(),o=o.substring(0,o.lastIndexOf("."))),c!==t.tagname&&(o+=o?"."+c:c),this.isItStopNode(this.options.stopNodes,o,c)){let t="";if(d.length>0&&d.lastIndexOf("/")===d.length-1)s=a.closeIndex;else if(-1!==this.options.unpairedTags.indexOf(c))s=a.closeIndex;else{const n=this.readStopNodeData(e,c,u+1);if(!n)throw new Error(`Unexpected end of ${c}`);s=n.i,t=n.tagContent}const i=new r(c);c!==d&&l&&(i[":@"]=this.buildAttributesMap(d,o,c)),t&&(t=this.parseTextData(t,c,o,!0,l,!0,!0)),o=o.substr(0,o.lastIndexOf(".")),i.add(this.options.textNodeName,t),this.addChild(n,i,o)}else{if(d.length>0&&d.lastIndexOf("/")===d.length-1){"/"===c[c.length-1]?(c=c.substr(0,c.length-1),d=c):d=d.substr(0,d.length-1),this.options.transformTagName&&(c=this.options.transformTagName(c));const e=new r(c);c!==d&&l&&(e[":@"]=this.buildAttributesMap(d,o,c)),this.addChild(n,e,o),o=o.substr(0,o.lastIndexOf("."))}else{const e=new r(c);this.tagsNodeStack.push(n),c!==d&&l&&(e[":@"]=this.buildAttributesMap(d,o,c)),this.addChild(n,e,o),n=e}i="",s=u}}else i+=e[s];return t.child};function p(e,t,n){const i=this.options.updateTag(t.tagname,n,t[":@"]);!1===i||("string"==typeof i?(t.tagname=i,e.addChild(t)):e.addChild(t))}const m=function(e){if(this.options.processEntities){for(let t in this.docTypeEntities){const n=this.docTypeEntities[t];e=e.replace(n.regx,n.val)}for(let t in this.lastEntities){const n=this.lastEntities[t];e=e.replace(n.regex,n.val)}if(this.options.htmlEntities)for(let t in this.htmlEntities){const n=this.htmlEntities[t];e=e.replace(n.regex,n.val)}e=e.replace(this.ampEntity.regex,this.ampEntity.val)}return e};function f(e,t,n,i){return e&&(void 0===i&&(i=0===Object.keys(t.child).length),void 0!==(e=this.parseTextData(e,t.tagname,n,!1,!!t[":@"]&&0!==Object.keys(t[":@"]).length,i))&&""!==e&&t.add(this.options.textNodeName,e),e=""),e}function g(e,t,n){const i="*."+n;for(const n in e){const r=e[n];if(i===r||t===r)return!0}return!1}function w(e,t,n,i){const r=e.indexOf(t,n);if(-1===r)throw new Error(i);return r+t.length-1}function y(e,t,n,i=">"){const r=function(e,t,n=">"){let i,r="";for(let a=t;a<e.length;a++){let t=e[a];if(i)t===i&&(i="");else if('"'===t||"'"===t)i=t;else if(t===n[0]){if(!n[1])return{data:r,index:a};if(e[a+1]===n[1])return{data:r,index:a}}else"\t"===t&&(t=" ");r+=t}}(e,t+1,i);if(!r)return;let a=r.data;const o=r.index,s=a.search(/\s/);let c=a,d=!0;if(-1!==s&&(c=a.substr(0,s).replace(/\s\s*$/,""),a=a.substr(s+1)),n){const e=c.indexOf(":");-1!==e&&(c=c.substr(e+1),d=c!==r.data.substr(e+1))}return{tagName:c,tagExp:a,closeIndex:o,attrExpPresent:d}}function v(e,t,n){const i=n;let r=1;for(;n<e.length;n++)if("<"===e[n])if("/"===e[n+1]){const a=w(e,">",n,`${t} is not closed`);if(e.substring(n+2,a).trim()===t&&(r--,0===r))return{tagContent:e.substring(i,n),i:a};n=a}else if("?"===e[n+1])n=w(e,"?>",n+1,"StopNode is not closed.");else if("!--"===e.substr(n+1,3))n=w(e,"--\x3e",n+3,"StopNode is not closed.");else if("!["===e.substr(n+1,2))n=w(e,"]]>",n,"StopNode is not closed.")-2;else{const i=y(e,n,">");i&&((i&&i.tagName)===t&&"/"!==i.tagExp[i.tagExp.length-1]&&r++,n=i.closeIndex)}}function b(e,t,n){if(t&&"string"==typeof e){const t=e.trim();return"true"===t||"false"!==t&&o(e,n)}return i.isExist(e)?e:""}e.exports=class{constructor(e){this.options=e,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"¢"},pound:{regex:/&(pound|#163);/g,val:"£"},yen:{regex:/&(yen|#165);/g,val:"¥"},euro:{regex:/&(euro|#8364);/g,val:"€"},copyright:{regex:/&(copy|#169);/g,val:"©"},reg:{regex:/&(reg|#174);/g,val:"®"},inr:{regex:/&(inr|#8377);/g,val:"₹"}},this.addExternalEntities=s,this.parseXml=h,this.parseTextData=c,this.resolveNameSpace=d,this.buildAttributesMap=u,this.isItStopNode=g,this.replaceEntitiesValue=m,this.readStopNodeData=v,this.saveTextToParentTag=f,this.addChild=p}}},8844:(e,t,n)=>{const{buildOptions:i}=n(6745),r=n(1078),{prettify:a}=n(6997),o=n(8501);e.exports=class{constructor(e){this.externalEntities={},this.options=i(e)}parse(e,t){if("string"==typeof e);else{if(!e.toString)throw new Error("XML data is accepted in String or Bytes[] form.");e=e.toString()}if(t){!0===t&&(t={});const n=o.validate(e,t);if(!0!==n)throw Error(`${n.err.msg}:${n.err.line}:${n.err.col}`)}const n=new r(this.options);n.addExternalEntities(this.externalEntities);const i=n.parseXml(e);return this.options.preserveOrder||void 0===i?i:a(i,this.options)}addEntity(e,t){if(-1!==t.indexOf("&"))throw new Error("Entity value can't have '&'");if(-1!==e.indexOf("&")||-1!==e.indexOf(";"))throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if("&"===t)throw new Error("An entity with value '&' is not permitted");this.externalEntities[e]=t}}},6997:(e,t)=>{"use strict";function n(e,t,o){let s;const c={};for(let d=0;d<e.length;d++){const l=e[d],u=i(l);let h="";if(h=void 0===o?u:o+"."+u,u===t.textNodeName)void 0===s?s=l[u]:s+=""+l[u];else{if(void 0===u)continue;if(l[u]){let e=n(l[u],t,h);const i=a(e,t);l[":@"]?r(e,l[":@"],h,t):1!==Object.keys(e).length||void 0===e[t.textNodeName]||t.alwaysCreateTextNode?0===Object.keys(e).length&&(t.alwaysCreateTextNode?e[t.textNodeName]="":e=""):e=e[t.textNodeName],void 0!==c[u]&&c.hasOwnProperty(u)?(Array.isArray(c[u])||(c[u]=[c[u]]),c[u].push(e)):t.isArray(u,h,i)?c[u]=[e]:c[u]=e}}}return"string"==typeof s?s.length>0&&(c[t.textNodeName]=s):void 0!==s&&(c[t.textNodeName]=s),c}function i(e){const t=Object.keys(e);for(let e=0;e<t.length;e++){const n=t[e];if(":@"!==n)return n}}function r(e,t,n,i){if(t){const r=Object.keys(t),a=r.length;for(let o=0;o<a;o++){const a=r[o];i.isArray(a,n+"."+a,!0,!0)?e[a]=[t[a]]:e[a]=t[a]}}}function a(e,t){const{textNodeName:n}=t,i=Object.keys(e).length;return 0===i||!(1!==i||!e[n]&&"boolean"!=typeof e[n]&&0!==e[n])}t.prettify=function(e,t){return n(e,t)}},6311:e=>{"use strict";e.exports=class{constructor(e){this.tagname=e,this.child=[],this[":@"]={}}add(e,t){"__proto__"===e&&(e="#__proto__"),this.child.push({[e]:t})}addChild(e){"__proto__"===e.tagname&&(e.tagname="#__proto__"),e[":@"]&&Object.keys(e[":@"]).length>0?this.child.push({[e.tagname]:e.child,":@":e[":@"]}):this.child.push({[e.tagname]:e.child})}}},4029:(e,t,n)=>{"use strict";var i=n(5320),r=Object.prototype.toString,a=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){if(!i(t))throw new TypeError("iterator must be a function");var o;arguments.length>=3&&(o=n),"[object Array]"===r.call(e)?function(e,t,n){for(var i=0,r=e.length;i<r;i++)a.call(e,i)&&(null==n?t(e[i],i,e):t.call(n,e[i],i,e))}(e,t,o):"string"==typeof e?function(e,t,n){for(var i=0,r=e.length;i<r;i++)null==n?t(e.charAt(i),i,e):t.call(n,e.charAt(i),i,e)}(e,t,o):function(e,t,n){for(var i in e)a.call(e,i)&&(null==n?t(e[i],i,e):t.call(n,e[i],i,e))}(e,t,o)}},7648:e=>{"use strict";var t=Array.prototype.slice,n=Object.prototype.toString;e.exports=function(e){var i=this;if("function"!=typeof i||"[object Function]"!==n.call(i))throw new TypeError("Function.prototype.bind called on incompatible "+i);for(var r,a=t.call(arguments,1),o=Math.max(0,i.length-a.length),s=[],c=0;c<o;c++)s.push("$"+c);if(r=Function("binder","return function ("+s.join(",")+"){ return binder.apply(this,arguments); }")((function(){if(this instanceof r){var n=i.apply(this,a.concat(t.call(arguments)));return Object(n)===n?n:this}return i.apply(e,a.concat(t.call(arguments)))})),i.prototype){var d=function(){};d.prototype=i.prototype,r.prototype=new d,d.prototype=null}return r}},8612:(e,t,n)=>{"use strict";var i=n(7648);e.exports=Function.prototype.bind||i},210:(e,t,n)=>{"use strict";var i,r=SyntaxError,a=Function,o=TypeError,s=function(e){try{return a('"use strict"; return ('+e+").constructor;")()}catch(e){}},c=Object.getOwnPropertyDescriptor;if(c)try{c({},"")}catch(e){c=null}var d=function(){throw new o},l=c?function(){try{return d}catch(e){try{return c(arguments,"callee").get}catch(e){return d}}}():d,u=n(1405)(),h=n(8185)(),p=Object.getPrototypeOf||(h?function(e){return e.__proto__}:null),m={},f="undefined"!=typeof Uint8Array&&p?p(Uint8Array):i,g={"%AggregateError%":"undefined"==typeof AggregateError?i:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?i:ArrayBuffer,"%ArrayIteratorPrototype%":u&&p?p([][Symbol.iterator]()):i,"%AsyncFromSyncIteratorPrototype%":i,"%AsyncFunction%":m,"%AsyncGenerator%":m,"%AsyncGeneratorFunction%":m,"%AsyncIteratorPrototype%":m,"%Atomics%":"undefined"==typeof Atomics?i:Atomics,"%BigInt%":"undefined"==typeof BigInt?i:BigInt,"%BigInt64Array%":"undefined"==typeof BigInt64Array?i:BigInt64Array,"%BigUint64Array%":"undefined"==typeof BigUint64Array?i:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?i:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?i:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?i:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?i:FinalizationRegistry,"%Function%":a,"%GeneratorFunction%":m,"%Int8Array%":"undefined"==typeof Int8Array?i:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?i:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?i:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":u&&p?p(p([][Symbol.iterator]())):i,"%JSON%":"object"==typeof JSON?JSON:i,"%Map%":"undefined"==typeof Map?i:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&u&&p?p((new Map)[Symbol.iterator]()):i,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?i:Promise,"%Proxy%":"undefined"==typeof Proxy?i:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?i:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?i:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&u&&p?p((new Set)[Symbol.iterator]()):i,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?i:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":u&&p?p(""[Symbol.iterator]()):i,"%Symbol%":u?Symbol:i,"%SyntaxError%":r,"%ThrowTypeError%":l,"%TypedArray%":f,"%TypeError%":o,"%Uint8Array%":"undefined"==typeof Uint8Array?i:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?i:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?i:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?i:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?i:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?i:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?i:WeakSet};if(p)try{null.error}catch(e){var w=p(p(e));g["%Error.prototype%"]=w}var y=function e(t){var n;if("%AsyncFunction%"===t)n=s("async function () {}");else if("%GeneratorFunction%"===t)n=s("function* () {}");else if("%AsyncGeneratorFunction%"===t)n=s("async function* () {}");else if("%AsyncGenerator%"===t){var i=e("%AsyncGeneratorFunction%");i&&(n=i.prototype)}else if("%AsyncIteratorPrototype%"===t){var r=e("%AsyncGenerator%");r&&p&&(n=p(r.prototype))}return g[t]=n,n},v={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},b=n(8612),S=n(7642),E=b.call(Function.call,Array.prototype.concat),C=b.call(Function.apply,Array.prototype.splice),x=b.call(Function.call,String.prototype.replace),I=b.call(Function.call,String.prototype.slice),k=b.call(Function.call,RegExp.prototype.exec),P=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,A=/\\(\\)?/g,T=function(e,t){var n,i=e;if(S(v,i)&&(i="%"+(n=v[i])[0]+"%"),S(g,i)){var a=g[i];if(a===m&&(a=y(i)),void 0===a&&!t)throw new o("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:n,name:i,value:a}}throw new r("intrinsic "+e+" does not exist!")};e.exports=function(e,t){if("string"!=typeof e||0===e.length)throw new o("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new o('"allowMissing" argument must be a boolean');if(null===k(/^%?[^%]*%?$/,e))throw new r("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=function(e){var t=I(e,0,1),n=I(e,-1);if("%"===t&&"%"!==n)throw new r("invalid intrinsic syntax, expected closing `%`");if("%"===n&&"%"!==t)throw new r("invalid intrinsic syntax, expected opening `%`");var i=[];return x(e,P,(function(e,t,n,r){i[i.length]=n?x(r,A,"$1"):t||e})),i}(e),i=n.length>0?n[0]:"",a=T("%"+i+"%",t),s=a.name,d=a.value,l=!1,u=a.alias;u&&(i=u[0],C(n,E([0,1],u)));for(var h=1,p=!0;h<n.length;h+=1){var m=n[h],f=I(m,0,1),w=I(m,-1);if(('"'===f||"'"===f||"`"===f||'"'===w||"'"===w||"`"===w)&&f!==w)throw new r("property names with quotes must have matching quotes");if("constructor"!==m&&p||(l=!0),S(g,s="%"+(i+="."+m)+"%"))d=g[s];else if(null!=d){if(!(m in d)){if(!t)throw new o("base intrinsic for "+e+" exists, but the property is not available.");return}if(c&&h+1>=n.length){var y=c(d,m);d=(p=!!y)&&"get"in y&&!("originalValue"in y.get)?y.get:d[m]}else p=S(d,m),d=d[m];p&&!l&&(g[s]=d)}}return d}},7296:(e,t,n)=>{"use strict";var i=n(210)("%Object.getOwnPropertyDescriptor%",!0);if(i)try{i([],"length")}catch(e){i=null}e.exports=i},8185:e=>{"use strict";var t={foo:{}},n=Object;e.exports=function(){return{__proto__:t}.foo===t.foo&&!({__proto__:null}instanceof n)}},1405:(e,t,n)=>{"use strict";var i="undefined"!=typeof Symbol&&Symbol,r=n(5419);e.exports=function(){return"function"==typeof i&&"function"==typeof Symbol&&"symbol"==typeof i("foo")&&"symbol"==typeof Symbol("bar")&&r()}},5419:e=>{"use strict";e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),n=Object(t);if("string"==typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(n))return!1;for(t in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var i=Object.getOwnPropertySymbols(e);if(1!==i.length||i[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var r=Object.getOwnPropertyDescriptor(e,t);if(42!==r.value||!0!==r.enumerable)return!1}return!0}},6410:(e,t,n)=>{"use strict";var i=n(5419);e.exports=function(){return i()&&!!Symbol.toStringTag}},7642:(e,t,n)=>{"use strict";var i=n(8612);e.exports=i.call(Function.call,Object.prototype.hasOwnProperty)},645:(e,t)=>{t.read=function(e,t,n,i,r){var a,o,s=8*r-i-1,c=(1<<s)-1,d=c>>1,l=-7,u=n?r-1:0,h=n?-1:1,p=e[t+u];for(u+=h,a=p&(1<<-l)-1,p>>=-l,l+=s;l>0;a=256*a+e[t+u],u+=h,l-=8);for(o=a&(1<<-l)-1,a>>=-l,l+=i;l>0;o=256*o+e[t+u],u+=h,l-=8);if(0===a)a=1-d;else{if(a===c)return o?NaN:1/0*(p?-1:1);o+=Math.pow(2,i),a-=d}return(p?-1:1)*o*Math.pow(2,a-i)},t.write=function(e,t,n,i,r,a){var o,s,c,d=8*a-r-1,l=(1<<d)-1,u=l>>1,h=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,p=i?0:a-1,m=i?1:-1,f=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,o=l):(o=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-o))<1&&(o--,c*=2),(t+=o+u>=1?h/c:h*Math.pow(2,1-u))*c>=2&&(o++,c/=2),o+u>=l?(s=0,o=l):o+u>=1?(s=(t*c-1)*Math.pow(2,r),o+=u):(s=t*Math.pow(2,u-1)*Math.pow(2,r),o=0));r>=8;e[n+p]=255&s,p+=m,s/=256,r-=8);for(o=o<<r|s,d+=r;d>0;e[n+p]=255&o,p+=m,o/=256,d-=8);e[n+p-m]|=128*f}},5717:e=>{"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}},2584:(e,t,n)=>{"use strict";var i=n(6410)(),r=n(1924)("Object.prototype.toString"),a=function(e){return!(i&&e&&"object"==typeof e&&Symbol.toStringTag in e)&&"[object Arguments]"===r(e)},o=function(e){return!!a(e)||null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Array]"!==r(e)&&"[object Function]"===r(e.callee)},s=function(){return a(arguments)}();a.isLegacyArguments=o,e.exports=s?a:o},5320:e=>{"use strict";var t,n,i=Function.prototype.toString,r="object"==typeof Reflect&&null!==Reflect&&Reflect.apply;if("function"==typeof r&&"function"==typeof Object.defineProperty)try{t=Object.defineProperty({},"length",{get:function(){throw n}}),n={},r((function(){throw 42}),null,t)}catch(e){e!==n&&(r=null)}else r=null;var a=/^\s*class\b/,o=function(e){try{var t=i.call(e);return a.test(t)}catch(e){return!1}},s=function(e){try{return!o(e)&&(i.call(e),!0)}catch(e){return!1}},c=Object.prototype.toString,d="function"==typeof Symbol&&!!Symbol.toStringTag,l=!(0 in[,]),u=function(){return!1};if("object"==typeof document){var h=document.all;c.call(h)===c.call(document.all)&&(u=function(e){if((l||!e)&&(void 0===e||"object"==typeof e))try{var t=c.call(e);return("[object HTMLAllCollection]"===t||"[object HTML document.all class]"===t||"[object HTMLCollection]"===t||"[object Object]"===t)&&null==e("")}catch(e){}return!1})}e.exports=r?function(e){if(u(e))return!0;if(!e)return!1;if("function"!=typeof e&&"object"!=typeof e)return!1;try{r(e,null,t)}catch(e){if(e!==n)return!1}return!o(e)&&s(e)}:function(e){if(u(e))return!0;if(!e)return!1;if("function"!=typeof e&&"object"!=typeof e)return!1;if(d)return s(e);if(o(e))return!1;var t=c.call(e);return!("[object Function]"!==t&&"[object GeneratorFunction]"!==t&&!/^\[object HTML/.test(t))&&s(e)}},8662:(e,t,n)=>{"use strict";var i,r=Object.prototype.toString,a=Function.prototype.toString,o=/^\s*(?:function)?\*/,s=n(6410)(),c=Object.getPrototypeOf;e.exports=function(e){if("function"!=typeof e)return!1;if(o.test(a.call(e)))return!0;if(!s)return"[object GeneratorFunction]"===r.call(e);if(!c)return!1;if(void 0===i){var t=function(){if(!s)return!1;try{return Function("return function*() {}")()}catch(e){}}();i=!!t&&c(t)}return c(e)===i}},5692:(e,t,n)=>{"use strict";var i=n(4029),r=n(3083),a=n(1924),o=a("Object.prototype.toString"),s=n(6410)(),c=n(7296),d="undefined"==typeof globalThis?n.g:globalThis,l=r(),u=a("Array.prototype.indexOf",!0)||function(e,t){for(var n=0;n<e.length;n+=1)if(e[n]===t)return n;return-1},h=a("String.prototype.slice"),p={},m=Object.getPrototypeOf;s&&c&&m&&i(l,(function(e){var t=new d[e];if(Symbol.toStringTag in t){var n=m(t),i=c(n,Symbol.toStringTag);if(!i){var r=m(n);i=c(r,Symbol.toStringTag)}p[e]=i.get}})),e.exports=function(e){if(!e||"object"!=typeof e)return!1;if(!s||!(Symbol.toStringTag in e)){var t=h(o(e),8,-1);return u(l,t)>-1}return!!c&&function(e){var t=!1;return i(p,(function(n,i){if(!t)try{t=n.call(e)===i}catch(e){}})),t}(e)}},5826:e=>{var t={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==t.call(e)}},4509:(e,t)=>{!function(e){"use strict";function t(e){return null!==e&&"[object Array]"===Object.prototype.toString.call(e)}function n(e){return null!==e&&"[object Object]"===Object.prototype.toString.call(e)}function i(e,r){if(e===r)return!0;if(Object.prototype.toString.call(e)!==Object.prototype.toString.call(r))return!1;if(!0===t(e)){if(e.length!==r.length)return!1;for(var a=0;a<e.length;a++)if(!1===i(e[a],r[a]))return!1;return!0}if(!0===n(e)){var o={};for(var s in e)if(hasOwnProperty.call(e,s)){if(!1===i(e[s],r[s]))return!1;o[s]=!0}for(var c in r)if(hasOwnProperty.call(r,c)&&!0!==o[c])return!1;return!0}return!1}function r(e){if(""===e||!1===e||null===e)return!0;if(t(e)&&0===e.length)return!0;if(n(e)){for(var i in e)if(e.hasOwnProperty(i))return!1;return!0}return!1}var a;a="function"==typeof String.prototype.trimLeft?function(e){return e.trimLeft()}:function(e){return e.match(/^\s*(.*)/)[1]};var o=0,s=2,c={0:"number",1:"any",2:"string",3:"array",4:"object",5:"boolean",6:"expression",7:"null",8:"Array<number>",9:"Array<string>"},d="EOF",l="UnquotedIdentifier",u="QuotedIdentifier",h="Rbracket",p="Rparen",m="Comma",f="Colon",g="Rbrace",w="Number",y="Current",v="Expref",b="Pipe",S="Or",E="And",C="EQ",x="GT",I="LT",k="GTE",P="LTE",A="NE",T="Flatten",M="Star",R="Filter",F="Dot",_="Not",O="Lbrace",U="Lbracket",N="Lparen",z="Literal",D={".":F,"*":M,",":m,":":f,"{":O,"}":g,"]":h,"(":N,")":p,"@":y},L={"<":!0,">":!0,"=":!0,"!":!0},B={" ":!0,"\t":!0,"\n":!0};function q(e){return e>="0"&&e<="9"||"-"===e}function V(){}V.prototype={tokenize:function(e){var t,n,i,r,a=[];for(this._current=0;this._current<e.length;)if((r=e[this._current])>="a"&&r<="z"||r>="A"&&r<="Z"||"_"===r)t=this._current,n=this._consumeUnquotedIdentifier(e),a.push({type:l,value:n,start:t});else if(void 0!==D[e[this._current]])a.push({type:D[e[this._current]],value:e[this._current],start:this._current}),this._current++;else if(q(e[this._current]))i=this._consumeNumber(e),a.push(i);else if("["===e[this._current])i=this._consumeLBracket(e),a.push(i);else if('"'===e[this._current])t=this._current,n=this._consumeQuotedIdentifier(e),a.push({type:u,value:n,start:t});else if("'"===e[this._current])t=this._current,n=this._consumeRawStringLiteral(e),a.push({type:z,value:n,start:t});else if("`"===e[this._current]){t=this._current;var o=this._consumeLiteral(e);a.push({type:z,value:o,start:t})}else if(void 0!==L[e[this._current]])a.push(this._consumeOperator(e));else if(void 0!==B[e[this._current]])this._current++;else if("&"===e[this._current])t=this._current,this._current++,"&"===e[this._current]?(this._current++,a.push({type:E,value:"&&",start:t})):a.push({type:v,value:"&",start:t});else{if("|"!==e[this._current]){var s=new Error("Unknown character:"+e[this._current]);throw s.name="LexerError",s}t=this._current,this._current++,"|"===e[this._current]?(this._current++,a.push({type:S,value:"||",start:t})):a.push({type:b,value:"|",start:t})}return a},_consumeUnquotedIdentifier:function(e){var t,n=this._current;for(this._current++;this._current<e.length&&((t=e[this._current])>="a"&&t<="z"||t>="A"&&t<="Z"||t>="0"&&t<="9"||"_"===t);)this._current++;return e.slice(n,this._current)},_consumeQuotedIdentifier:function(e){var t=this._current;this._current++;for(var n=e.length;'"'!==e[this._current]&&this._current<n;){var i=this._current;"\\"!==e[i]||"\\"!==e[i+1]&&'"'!==e[i+1]?i++:i+=2,this._current=i}return this._current++,JSON.parse(e.slice(t,this._current))},_consumeRawStringLiteral:function(e){var t=this._current;this._current++;for(var n=e.length;"'"!==e[this._current]&&this._current<n;){var i=this._current;"\\"!==e[i]||"\\"!==e[i+1]&&"'"!==e[i+1]?i++:i+=2,this._current=i}return this._current++,e.slice(t+1,this._current-1).replace("\\'","'")},_consumeNumber:function(e){var t=this._current;this._current++;for(var n=e.length;q(e[this._current])&&this._current<n;)this._current++;var i=parseInt(e.slice(t,this._current));return{type:w,value:i,start:t}},_consumeLBracket:function(e){var t=this._current;return this._current++,"?"===e[this._current]?(this._current++,{type:R,value:"[?",start:t}):"]"===e[this._current]?(this._current++,{type:T,value:"[]",start:t}):{type:U,value:"[",start:t}},_consumeOperator:function(e){var t=this._current,n=e[t];return this._current++,"!"===n?"="===e[this._current]?(this._current++,{type:A,value:"!=",start:t}):{type:_,value:"!",start:t}:"<"===n?"="===e[this._current]?(this._current++,{type:P,value:"<=",start:t}):{type:I,value:"<",start:t}:">"===n?"="===e[this._current]?(this._current++,{type:k,value:">=",start:t}):{type:x,value:">",start:t}:"="===n&&"="===e[this._current]?(this._current++,{type:C,value:"==",start:t}):void 0},_consumeLiteral:function(e){this._current++;for(var t,n=this._current,i=e.length;"`"!==e[this._current]&&this._current<i;){var r=this._current;"\\"!==e[r]||"\\"!==e[r+1]&&"`"!==e[r+1]?r++:r+=2,this._current=r}var o=a(e.slice(n,this._current));return o=o.replace("\\`","`"),t=this._looksLikeJSON(o)?JSON.parse(o):JSON.parse('"'+o+'"'),this._current++,t},_looksLikeJSON:function(e){if(""===e)return!1;if('[{"'.indexOf(e[0])>=0)return!0;if(["true","false","null"].indexOf(e)>=0)return!0;if(!("-0123456789".indexOf(e[0])>=0))return!1;try{return JSON.parse(e),!0}catch(e){return!1}}};var j={};function W(){}function $(e){this.runtime=e}function H(e){this._interpreter=e,this.functionTable={abs:{_func:this._functionAbs,_signature:[{types:[o]}]},avg:{_func:this._functionAvg,_signature:[{types:[8]}]},ceil:{_func:this._functionCeil,_signature:[{types:[o]}]},contains:{_func:this._functionContains,_signature:[{types:[s,3]},{types:[1]}]},ends_with:{_func:this._functionEndsWith,_signature:[{types:[s]},{types:[s]}]},floor:{_func:this._functionFloor,_signature:[{types:[o]}]},length:{_func:this._functionLength,_signature:[{types:[s,3,4]}]},map:{_func:this._functionMap,_signature:[{types:[6]},{types:[3]}]},max:{_func:this._functionMax,_signature:[{types:[8,9]}]},merge:{_func:this._functionMerge,_signature:[{types:[4],variadic:!0}]},max_by:{_func:this._functionMaxBy,_signature:[{types:[3]},{types:[6]}]},sum:{_func:this._functionSum,_signature:[{types:[8]}]},starts_with:{_func:this._functionStartsWith,_signature:[{types:[s]},{types:[s]}]},min:{_func:this._functionMin,_signature:[{types:[8,9]}]},min_by:{_func:this._functionMinBy,_signature:[{types:[3]},{types:[6]}]},type:{_func:this._functionType,_signature:[{types:[1]}]},keys:{_func:this._functionKeys,_signature:[{types:[4]}]},values:{_func:this._functionValues,_signature:[{types:[4]}]},sort:{_func:this._functionSort,_signature:[{types:[9,8]}]},sort_by:{_func:this._functionSortBy,_signature:[{types:[3]},{types:[6]}]},join:{_func:this._functionJoin,_signature:[{types:[s]},{types:[9]}]},reverse:{_func:this._functionReverse,_signature:[{types:[s,3]}]},to_array:{_func:this._functionToArray,_signature:[{types:[1]}]},to_string:{_func:this._functionToString,_signature:[{types:[1]}]},to_number:{_func:this._functionToNumber,_signature:[{types:[1]}]},not_null:{_func:this._functionNotNull,_signature:[{types:[1],variadic:!0}]}}}j[d]=0,j[l]=0,j[u]=0,j[h]=0,j[p]=0,j[m]=0,j[g]=0,j[w]=0,j[y]=0,j[v]=0,j[b]=1,j[S]=2,j[E]=3,j[C]=5,j[x]=5,j[I]=5,j[k]=5,j[P]=5,j[A]=5,j[T]=9,j[M]=20,j[R]=21,j[F]=40,j[_]=45,j[O]=50,j[U]=55,j[N]=60,W.prototype={parse:function(e){this._loadTokens(e),this.index=0;var t=this.expression(0);if(this._lookahead(0)!==d){var n=this._lookaheadToken(0),i=new Error("Unexpected token type: "+n.type+", value: "+n.value);throw i.name="ParserError",i}return t},_loadTokens:function(e){var t=(new V).tokenize(e);t.push({type:d,value:"",start:e.length}),this.tokens=t},expression:function(e){var t=this._lookaheadToken(0);this._advance();for(var n=this.nud(t),i=this._lookahead(0);e<j[i];)this._advance(),n=this.led(i,n),i=this._lookahead(0);return n},_lookahead:function(e){return this.tokens[this.index+e].type},_lookaheadToken:function(e){return this.tokens[this.index+e]},_advance:function(){this.index++},nud:function(e){var t,n;switch(e.type){case z:return{type:"Literal",value:e.value};case l:return{type:"Field",name:e.value};case u:var i={type:"Field",name:e.value};if(this._lookahead(0)===N)throw new Error("Quoted identifier not allowed for function names.");return i;case _:return{type:"NotExpression",children:[t=this.expression(j.Not)]};case M:return t=null,{type:"ValueProjection",children:[{type:"Identity"},t=this._lookahead(0)===h?{type:"Identity"}:this._parseProjectionRHS(j.Star)]};case R:return this.led(e.type,{type:"Identity"});case O:return this._parseMultiselectHash();case T:return{type:"Projection",children:[{type:T,children:[{type:"Identity"}]},t=this._parseProjectionRHS(j.Flatten)]};case U:return this._lookahead(0)===w||this._lookahead(0)===f?(t=this._parseIndexExpression(),this._projectIfSlice({type:"Identity"},t)):this._lookahead(0)===M&&this._lookahead(1)===h?(this._advance(),this._advance(),{type:"Projection",children:[{type:"Identity"},t=this._parseProjectionRHS(j.Star)]}):this._parseMultiselectList();case y:return{type:y};case v:return{type:"ExpressionReference",children:[n=this.expression(j.Expref)]};case N:for(var r=[];this._lookahead(0)!==p;)this._lookahead(0)===y?(n={type:y},this._advance()):n=this.expression(0),r.push(n);return this._match(p),r[0];default:this._errorToken(e)}},led:function(e,t){var n;switch(e){case F:var i=j.Dot;return this._lookahead(0)!==M?{type:"Subexpression",children:[t,n=this._parseDotRHS(i)]}:(this._advance(),{type:"ValueProjection",children:[t,n=this._parseProjectionRHS(i)]});case b:return n=this.expression(j.Pipe),{type:b,children:[t,n]};case S:return{type:"OrExpression",children:[t,n=this.expression(j.Or)]};case E:return{type:"AndExpression",children:[t,n=this.expression(j.And)]};case N:for(var r,a=t.name,o=[];this._lookahead(0)!==p;)this._lookahead(0)===y?(r={type:y},this._advance()):r=this.expression(0),this._lookahead(0)===m&&this._match(m),o.push(r);return this._match(p),{type:"Function",name:a,children:o};case R:var s=this.expression(0);return this._match(h),{type:"FilterProjection",children:[t,n=this._lookahead(0)===T?{type:"Identity"}:this._parseProjectionRHS(j.Filter),s]};case T:return{type:"Projection",children:[{type:T,children:[t]},this._parseProjectionRHS(j.Flatten)]};case C:case A:case x:case k:case I:case P:return this._parseComparator(t,e);case U:var c=this._lookaheadToken(0);return c.type===w||c.type===f?(n=this._parseIndexExpression(),this._projectIfSlice(t,n)):(this._match(M),this._match(h),{type:"Projection",children:[t,n=this._parseProjectionRHS(j.Star)]});default:this._errorToken(this._lookaheadToken(0))}},_match:function(e){if(this._lookahead(0)!==e){var t=this._lookaheadToken(0),n=new Error("Expected "+e+", got: "+t.type);throw n.name="ParserError",n}this._advance()},_errorToken:function(e){var t=new Error("Invalid token ("+e.type+'): "'+e.value+'"');throw t.name="ParserError",t},_parseIndexExpression:function(){if(this._lookahead(0)===f||this._lookahead(1)===f)return this._parseSliceExpression();var e={type:"Index",value:this._lookaheadToken(0).value};return this._advance(),this._match(h),e},_projectIfSlice:function(e,t){var n={type:"IndexExpression",children:[e,t]};return"Slice"===t.type?{type:"Projection",children:[n,this._parseProjectionRHS(j.Star)]}:n},_parseSliceExpression:function(){for(var e=[null,null,null],t=0,n=this._lookahead(0);n!==h&&t<3;){if(n===f)t++,this._advance();else{if(n!==w){var i=this._lookahead(0),r=new Error("Syntax error, unexpected token: "+i.value+"("+i.type+")");throw r.name="Parsererror",r}e[t]=this._lookaheadToken(0).value,this._advance()}n=this._lookahead(0)}return this._match(h),{type:"Slice",children:e}},_parseComparator:function(e,t){return{type:"Comparator",name:t,children:[e,this.expression(j[t])]}},_parseDotRHS:function(e){var t=this._lookahead(0);return[l,u,M].indexOf(t)>=0?this.expression(e):t===U?(this._match(U),this._parseMultiselectList()):t===O?(this._match(O),this._parseMultiselectHash()):void 0},_parseProjectionRHS:function(e){var t;if(j[this._lookahead(0)]<10)t={type:"Identity"};else if(this._lookahead(0)===U)t=this.expression(e);else if(this._lookahead(0)===R)t=this.expression(e);else{if(this._lookahead(0)!==F){var n=this._lookaheadToken(0),i=new Error("Sytanx error, unexpected token: "+n.value+"("+n.type+")");throw i.name="ParserError",i}this._match(F),t=this._parseDotRHS(e)}return t},_parseMultiselectList:function(){for(var e=[];this._lookahead(0)!==h;){var t=this.expression(0);if(e.push(t),this._lookahead(0)===m&&(this._match(m),this._lookahead(0)===h))throw new Error("Unexpected token Rbracket")}return this._match(h),{type:"MultiSelectList",children:e}},_parseMultiselectHash:function(){for(var e,t,n,i=[],r=[l,u];;){if(e=this._lookaheadToken(0),r.indexOf(e.type)<0)throw new Error("Expecting an identifier token, got: "+e.type);if(t=e.value,this._advance(),this._match(f),n={type:"KeyValuePair",name:t,value:this.expression(0)},i.push(n),this._lookahead(0)===m)this._match(m);else if(this._lookahead(0)===g){this._match(g);break}}return{type:"MultiSelectHash",children:i}}},$.prototype={search:function(e,t){return this.visit(e,t)},visit:function(e,a){var o,s,c,d,l,u,h,p,m;switch(e.type){case"Field":return null!==a&&n(a)?void 0===(u=a[e.name])?null:u:null;case"Subexpression":for(c=this.visit(e.children[0],a),m=1;m<e.children.length;m++)if(null===(c=this.visit(e.children[1],c)))return null;return c;case"IndexExpression":return h=this.visit(e.children[0],a),this.visit(e.children[1],h);case"Index":if(!t(a))return null;var f=e.value;return f<0&&(f=a.length+f),void 0===(c=a[f])&&(c=null),c;case"Slice":if(!t(a))return null;var g=e.children.slice(0),w=this.computeSliceParams(a.length,g),S=w[0],E=w[1],M=w[2];if(c=[],M>0)for(m=S;m<E;m+=M)c.push(a[m]);else for(m=S;m>E;m+=M)c.push(a[m]);return c;case"Projection":var R=this.visit(e.children[0],a);if(!t(R))return null;for(p=[],m=0;m<R.length;m++)null!==(s=this.visit(e.children[1],R[m]))&&p.push(s);return p;case"ValueProjection":if(!n(R=this.visit(e.children[0],a)))return null;p=[];var F=function(e){for(var t=Object.keys(e),n=[],i=0;i<t.length;i++)n.push(e[t[i]]);return n}(R);for(m=0;m<F.length;m++)null!==(s=this.visit(e.children[1],F[m]))&&p.push(s);return p;case"FilterProjection":if(!t(R=this.visit(e.children[0],a)))return null;var _=[],O=[];for(m=0;m<R.length;m++)r(o=this.visit(e.children[2],R[m]))||_.push(R[m]);for(var U=0;U<_.length;U++)null!==(s=this.visit(e.children[1],_[U]))&&O.push(s);return O;case"Comparator":switch(d=this.visit(e.children[0],a),l=this.visit(e.children[1],a),e.name){case C:c=i(d,l);break;case A:c=!i(d,l);break;case x:c=d>l;break;case k:c=d>=l;break;case I:c=d<l;break;case P:c=d<=l;break;default:throw new Error("Unknown comparator: "+e.name)}return c;case T:var N=this.visit(e.children[0],a);if(!t(N))return null;var z=[];for(m=0;m<N.length;m++)t(s=N[m])?z.push.apply(z,s):z.push(s);return z;case"Identity":return a;case"MultiSelectList":if(null===a)return null;for(p=[],m=0;m<e.children.length;m++)p.push(this.visit(e.children[m],a));return p;case"MultiSelectHash":if(null===a)return null;var D;for(p={},m=0;m<e.children.length;m++)p[(D=e.children[m]).name]=this.visit(D.value,a);return p;case"OrExpression":return r(o=this.visit(e.children[0],a))&&(o=this.visit(e.children[1],a)),o;case"AndExpression":return!0===r(d=this.visit(e.children[0],a))?d:this.visit(e.children[1],a);case"NotExpression":return r(d=this.visit(e.children[0],a));case"Literal":return e.value;case b:return h=this.visit(e.children[0],a),this.visit(e.children[1],h);case y:return a;case"Function":var L=[];for(m=0;m<e.children.length;m++)L.push(this.visit(e.children[m],a));return this.runtime.callFunction(e.name,L);case"ExpressionReference":var B=e.children[0];return B.jmespathType=v,B;default:throw new Error("Unknown node type: "+e.type)}},computeSliceParams:function(e,t){var n=t[0],i=t[1],r=t[2],a=[null,null,null];if(null===r)r=1;else if(0===r){var o=new Error("Invalid slice, step cannot be 0");throw o.name="RuntimeError",o}var s=r<0;return n=null===n?s?e-1:0:this.capSliceRange(e,n,r),i=null===i?s?-1:e:this.capSliceRange(e,i,r),a[0]=n,a[1]=i,a[2]=r,a},capSliceRange:function(e,t,n){return t<0?(t+=e)<0&&(t=n<0?-1:0):t>=e&&(t=n<0?e-1:e),t}},H.prototype={callFunction:function(e,t){var n=this.functionTable[e];if(void 0===n)throw new Error("Unknown function: "+e+"()");return this._validateArgs(e,t,n._signature),n._func.call(this,t)},_validateArgs:function(e,t,n){var i,r,a,o;if(n[n.length-1].variadic){if(t.length<n.length)throw i=1===n.length?" argument":" arguments",new Error("ArgumentError: "+e+"() takes at least"+n.length+i+" but received "+t.length)}else if(t.length!==n.length)throw i=1===n.length?" argument":" arguments",new Error("ArgumentError: "+e+"() takes "+n.length+i+" but received "+t.length);for(var s=0;s<n.length;s++){o=!1,r=n[s].types,a=this._getTypeName(t[s]);for(var d=0;d<r.length;d++)if(this._typeMatches(a,r[d],t[s])){o=!0;break}if(!o){var l=r.map((function(e){return c[e]})).join(",");throw new Error("TypeError: "+e+"() expected argument "+(s+1)+" to be type "+l+" but received type "+c[a]+" instead.")}}},_typeMatches:function(e,t,n){if(1===t)return!0;if(9!==t&&8!==t&&3!==t)return e===t;if(3===t)return 3===e;if(3===e){var i;8===t?i=o:9===t&&(i=s);for(var r=0;r<n.length;r++)if(!this._typeMatches(this._getTypeName(n[r]),i,n[r]))return!1;return!0}},_getTypeName:function(e){switch(Object.prototype.toString.call(e)){case"[object String]":return s;case"[object Number]":return o;case"[object Array]":return 3;case"[object Boolean]":return 5;case"[object Null]":return 7;case"[object Object]":return e.jmespathType===v?6:4}},_functionStartsWith:function(e){return 0===e[0].lastIndexOf(e[1])},_functionEndsWith:function(e){var t=e[0],n=e[1];return-1!==t.indexOf(n,t.length-n.length)},_functionReverse:function(e){if(this._getTypeName(e[0])===s){for(var t=e[0],n="",i=t.length-1;i>=0;i--)n+=t[i];return n}var r=e[0].slice(0);return r.reverse(),r},_functionAbs:function(e){return Math.abs(e[0])},_functionCeil:function(e){return Math.ceil(e[0])},_functionAvg:function(e){for(var t=0,n=e[0],i=0;i<n.length;i++)t+=n[i];return t/n.length},_functionContains:function(e){return e[0].indexOf(e[1])>=0},_functionFloor:function(e){return Math.floor(e[0])},_functionLength:function(e){return n(e[0])?Object.keys(e[0]).length:e[0].length},_functionMap:function(e){for(var t=[],n=this._interpreter,i=e[0],r=e[1],a=0;a<r.length;a++)t.push(n.visit(i,r[a]));return t},_functionMerge:function(e){for(var t={},n=0;n<e.length;n++){var i=e[n];for(var r in i)t[r]=i[r]}return t},_functionMax:function(e){if(e[0].length>0){if(this._getTypeName(e[0][0])===o)return Math.max.apply(Math,e[0]);for(var t=e[0],n=t[0],i=1;i<t.length;i++)n.localeCompare(t[i])<0&&(n=t[i]);return n}return null},_functionMin:function(e){if(e[0].length>0){if(this._getTypeName(e[0][0])===o)return Math.min.apply(Math,e[0]);for(var t=e[0],n=t[0],i=1;i<t.length;i++)t[i].localeCompare(n)<0&&(n=t[i]);return n}return null},_functionSum:function(e){for(var t=0,n=e[0],i=0;i<n.length;i++)t+=n[i];return t},_functionType:function(e){switch(this._getTypeName(e[0])){case o:return"number";case s:return"string";case 3:return"array";case 4:return"object";case 5:return"boolean";case 6:return"expref";case 7:return"null"}},_functionKeys:function(e){return Object.keys(e[0])},_functionValues:function(e){for(var t=e[0],n=Object.keys(t),i=[],r=0;r<n.length;r++)i.push(t[n[r]]);return i},_functionJoin:function(e){var t=e[0];return e[1].join(t)},_functionToArray:function(e){return 3===this._getTypeName(e[0])?e[0]:[e[0]]},_functionToString:function(e){return this._getTypeName(e[0])===s?e[0]:JSON.stringify(e[0])},_functionToNumber:function(e){var t,n=this._getTypeName(e[0]);return n===o?e[0]:n!==s||(t=+e[0],isNaN(t))?null:t},_functionNotNull:function(e){for(var t=0;t<e.length;t++)if(7!==this._getTypeName(e[t]))return e[t];return null},_functionSort:function(e){var t=e[0].slice(0);return t.sort(),t},_functionSortBy:function(e){var t=e[0].slice(0);if(0===t.length)return t;var n=this._interpreter,i=e[1],r=this._getTypeName(n.visit(i,t[0]));if([o,s].indexOf(r)<0)throw new Error("TypeError");for(var a=this,c=[],d=0;d<t.length;d++)c.push([d,t[d]]);c.sort((function(e,t){var o=n.visit(i,e[1]),s=n.visit(i,t[1]);if(a._getTypeName(o)!==r)throw new Error("TypeError: expected "+r+", received "+a._getTypeName(o));if(a._getTypeName(s)!==r)throw new Error("TypeError: expected "+r+", received "+a._getTypeName(s));return o>s?1:o<s?-1:e[0]-t[0]}));for(var l=0;l<c.length;l++)t[l]=c[l][1];return t},_functionMaxBy:function(e){for(var t,n,i=e[1],r=e[0],a=this.createKeyFunction(i,[o,s]),c=-1/0,d=0;d<r.length;d++)(n=a(r[d]))>c&&(c=n,t=r[d]);return t},_functionMinBy:function(e){for(var t,n,i=e[1],r=e[0],a=this.createKeyFunction(i,[o,s]),c=1/0,d=0;d<r.length;d++)(n=a(r[d]))<c&&(c=n,t=r[d]);return t},createKeyFunction:function(e,t){var n=this,i=this._interpreter;return function(r){var a=i.visit(e,r);if(t.indexOf(n._getTypeName(a))<0){var o="TypeError: expected one of "+t+", received "+n._getTypeName(a);throw new Error(o)}return a}}},e.tokenize=function(e){return(new V).tokenize(e)},e.compile=function(e){return(new W).parse(e)},e.search=function(e,t){var n=new W,i=new H,r=new $(i);i._interpreter=r;var a=n.parse(t);return r.search(a,e)},e.strictDeepEqual=i}(t)},9591:(e,t,n)=>{"use strict";const{Deflate:i,deflate:r,deflateRaw:a,gzip:o}=n(4555),{Inflate:s,inflate:c,inflateRaw:d,ungzip:l}=n(8843),u=n(1619);e.exports.Deflate=i,e.exports.deflate=r,e.exports.deflateRaw=a,e.exports.gzip=o,e.exports.Inflate=s,e.exports.inflate=c,e.exports.inflateRaw=d,e.exports.ungzip=l,e.exports.constants=u},4555:(e,t,n)=>{"use strict";const i=n(405),r=n(6247),a=n(9373),o=n(8898),s=n(2292),c=Object.prototype.toString,{Z_NO_FLUSH:d,Z_SYNC_FLUSH:l,Z_FULL_FLUSH:u,Z_FINISH:h,Z_OK:p,Z_STREAM_END:m,Z_DEFAULT_COMPRESSION:f,Z_DEFAULT_STRATEGY:g,Z_DEFLATED:w}=n(1619);function y(e){this.options=r.assign({level:f,method:w,chunkSize:16384,windowBits:15,memLevel:8,strategy:g},e||{});let t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new s,this.strm.avail_out=0;let n=i.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(n!==p)throw new Error(o[n]);if(t.header&&i.deflateSetHeader(this.strm,t.header),t.dictionary){let e;if(e="string"==typeof t.dictionary?a.string2buf(t.dictionary):"[object ArrayBuffer]"===c.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,n=i.deflateSetDictionary(this.strm,e),n!==p)throw new Error(o[n]);this._dict_set=!0}}function v(e,t){const n=new y(t);if(n.push(e,!0),n.err)throw n.msg||o[n.err];return n.result}y.prototype.push=function(e,t){const n=this.strm,r=this.options.chunkSize;let o,s;if(this.ended)return!1;for(s=t===~~t?t:!0===t?h:d,"string"==typeof e?n.input=a.string2buf(e):"[object ArrayBuffer]"===c.call(e)?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;)if(0===n.avail_out&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),(s===l||s===u)&&n.avail_out<=6)this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;else{if(o=i.deflate(n,s),o===m)return n.next_out>0&&this.onData(n.output.subarray(0,n.next_out)),o=i.deflateEnd(this.strm),this.onEnd(o),this.ended=!0,o===p;if(0!==n.avail_out){if(s>0&&n.next_out>0)this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;else if(0===n.avail_in)break}else this.onData(n.output)}return!0},y.prototype.onData=function(e){this.chunks.push(e)},y.prototype.onEnd=function(e){e===p&&(this.result=r.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},e.exports.Deflate=y,e.exports.deflate=v,e.exports.deflateRaw=function(e,t){return(t=t||{}).raw=!0,v(e,t)},e.exports.gzip=function(e,t){return(t=t||{}).gzip=!0,v(e,t)},e.exports.constants=n(1619)},8843:(e,t,n)=>{"use strict";const i=n(6351),r=n(6247),a=n(9373),o=n(8898),s=n(2292),c=n(2401),d=Object.prototype.toString,{Z_NO_FLUSH:l,Z_FINISH:u,Z_OK:h,Z_STREAM_END:p,Z_NEED_DICT:m,Z_STREAM_ERROR:f,Z_DATA_ERROR:g,Z_MEM_ERROR:w}=n(1619);function y(e){this.options=r.assign({chunkSize:65536,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new s,this.strm.avail_out=0;let n=i.inflateInit2(this.strm,t.windowBits);if(n!==h)throw new Error(o[n]);if(this.header=new c,i.inflateGetHeader(this.strm,this.header),t.dictionary&&("string"==typeof t.dictionary?t.dictionary=a.string2buf(t.dictionary):"[object ArrayBuffer]"===d.call(t.dictionary)&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(n=i.inflateSetDictionary(this.strm,t.dictionary),n!==h)))throw new Error(o[n])}function v(e,t){const n=new y(t);if(n.push(e),n.err)throw n.msg||o[n.err];return n.result}y.prototype.push=function(e,t){const n=this.strm,r=this.options.chunkSize,o=this.options.dictionary;let s,c,y;if(this.ended)return!1;for(c=t===~~t?t:!0===t?u:l,"[object ArrayBuffer]"===d.call(e)?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;){for(0===n.avail_out&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),s=i.inflate(n,c),s===m&&o&&(s=i.inflateSetDictionary(n,o),s===h?s=i.inflate(n,c):s===g&&(s=m));n.avail_in>0&&s===p&&n.state.wrap>0&&0!==e[n.next_in];)i.inflateReset(n),s=i.inflate(n,c);switch(s){case f:case g:case m:case w:return this.onEnd(s),this.ended=!0,!1}if(y=n.avail_out,n.next_out&&(0===n.avail_out||s===p))if("string"===this.options.to){let e=a.utf8border(n.output,n.next_out),t=n.next_out-e,i=a.buf2string(n.output,e);n.next_out=t,n.avail_out=r-t,t&&n.output.set(n.output.subarray(e,e+t),0),this.onData(i)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(s!==h||0!==y){if(s===p)return s=i.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,!0;if(0===n.avail_in)break}}return!0},y.prototype.onData=function(e){this.chunks.push(e)},y.prototype.onEnd=function(e){e===h&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=r.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},e.exports.Inflate=y,e.exports.inflate=v,e.exports.inflateRaw=function(e,t){return(t=t||{}).raw=!0,v(e,t)},e.exports.ungzip=v,e.exports.constants=n(1619)},6247:e=>{"use strict";const t=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);e.exports.assign=function(e){const n=Array.prototype.slice.call(arguments,1);for(;n.length;){const i=n.shift();if(i){if("object"!=typeof i)throw new TypeError(i+"must be non-object");for(const n in i)t(i,n)&&(e[n]=i[n])}}return e},e.exports.flattenChunks=e=>{let t=0;for(let n=0,i=e.length;n<i;n++)t+=e[n].length;const n=new Uint8Array(t);for(let t=0,i=0,r=e.length;t<r;t++){let r=e[t];n.set(r,i),i+=r.length}return n}},9373:e=>{"use strict";let t=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){t=!1}const n=new Uint8Array(256);for(let e=0;e<256;e++)n[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;n[254]=n[254]=1,e.exports.string2buf=e=>{if("function"==typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(e);let t,n,i,r,a,o=e.length,s=0;for(r=0;r<o;r++)n=e.charCodeAt(r),55296==(64512&n)&&r+1<o&&(i=e.charCodeAt(r+1),56320==(64512&i)&&(n=65536+(n-55296<<10)+(i-56320),r++)),s+=n<128?1:n<2048?2:n<65536?3:4;for(t=new Uint8Array(s),a=0,r=0;a<s;r++)n=e.charCodeAt(r),55296==(64512&n)&&r+1<o&&(i=e.charCodeAt(r+1),56320==(64512&i)&&(n=65536+(n-55296<<10)+(i-56320),r++)),n<128?t[a++]=n:n<2048?(t[a++]=192|n>>>6,t[a++]=128|63&n):n<65536?(t[a++]=224|n>>>12,t[a++]=128|n>>>6&63,t[a++]=128|63&n):(t[a++]=240|n>>>18,t[a++]=128|n>>>12&63,t[a++]=128|n>>>6&63,t[a++]=128|63&n);return t},e.exports.buf2string=(e,i)=>{const r=i||e.length;if("function"==typeof TextDecoder&&TextDecoder.prototype.decode)return(new TextDecoder).decode(e.subarray(0,i));let a,o;const s=new Array(2*r);for(o=0,a=0;a<r;){let t=e[a++];if(t<128){s[o++]=t;continue}let i=n[t];if(i>4)s[o++]=65533,a+=i-1;else{for(t&=2===i?31:3===i?15:7;i>1&&a<r;)t=t<<6|63&e[a++],i--;i>1?s[o++]=65533:t<65536?s[o++]=t:(t-=65536,s[o++]=55296|t>>10&1023,s[o++]=56320|1023&t)}}return((e,n)=>{if(n<65534&&e.subarray&&t)return String.fromCharCode.apply(null,e.length===n?e:e.subarray(0,n));let i="";for(let t=0;t<n;t++)i+=String.fromCharCode(e[t]);return i})(s,o)},e.exports.utf8border=(e,t)=>{(t=t||e.length)>e.length&&(t=e.length);let i=t-1;for(;i>=0&&128==(192&e[i]);)i--;return i<0||0===i?t:i+n[e[i]]>t?i:t}},6069:e=>{"use strict";e.exports=(e,t,n,i)=>{let r=65535&e|0,a=e>>>16&65535|0,o=0;for(;0!==n;){o=n>2e3?2e3:n,n-=o;do{r=r+t[i++]|0,a=a+r|0}while(--o);r%=65521,a%=65521}return r|a<<16|0}},1619:e=>{"use strict";e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},2869:e=>{"use strict";const t=new Uint32Array((()=>{let e,t=[];for(var n=0;n<256;n++){e=n;for(var i=0;i<8;i++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t})());e.exports=(e,n,i,r)=>{const a=t,o=r+i;e^=-1;for(let t=r;t<o;t++)e=e>>>8^a[255&(e^n[t])];return-1^e}},405:(e,t,n)=>{"use strict";const{_tr_init:i,_tr_stored_block:r,_tr_flush_block:a,_tr_tally:o,_tr_align:s}=n(342),c=n(6069),d=n(2869),l=n(8898),{Z_NO_FLUSH:u,Z_PARTIAL_FLUSH:h,Z_FULL_FLUSH:p,Z_FINISH:m,Z_BLOCK:f,Z_OK:g,Z_STREAM_END:w,Z_STREAM_ERROR:y,Z_DATA_ERROR:v,Z_BUF_ERROR:b,Z_DEFAULT_COMPRESSION:S,Z_FILTERED:E,Z_HUFFMAN_ONLY:C,Z_RLE:x,Z_FIXED:I,Z_DEFAULT_STRATEGY:k,Z_UNKNOWN:P,Z_DEFLATED:A}=n(1619),T=258,M=262,R=42,F=113,_=666,O=(e,t)=>(e.msg=l[t],t),U=e=>2*e-(e>4?9:0),N=e=>{let t=e.length;for(;--t>=0;)e[t]=0},z=e=>{let t,n,i,r=e.w_size;t=e.hash_size,i=t;do{n=e.head[--i],e.head[i]=n>=r?n-r:0}while(--t);t=r,i=t;do{n=e.prev[--i],e.prev[i]=n>=r?n-r:0}while(--t)};let D=(e,t,n)=>(t<<e.hash_shift^n)&e.hash_mask;const L=e=>{const t=e.state;let n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(e.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+n),e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))},B=(e,t)=>{a(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,L(e.strm)},q=(e,t)=>{e.pending_buf[e.pending++]=t},V=(e,t)=>{e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t},j=(e,t,n,i)=>{let r=e.avail_in;return r>i&&(r=i),0===r?0:(e.avail_in-=r,t.set(e.input.subarray(e.next_in,e.next_in+r),n),1===e.state.wrap?e.adler=c(e.adler,t,r,n):2===e.state.wrap&&(e.adler=d(e.adler,t,r,n)),e.next_in+=r,e.total_in+=r,r)},W=(e,t)=>{let n,i,r=e.max_chain_length,a=e.strstart,o=e.prev_length,s=e.nice_match;const c=e.strstart>e.w_size-M?e.strstart-(e.w_size-M):0,d=e.window,l=e.w_mask,u=e.prev,h=e.strstart+T;let p=d[a+o-1],m=d[a+o];e.prev_length>=e.good_match&&(r>>=2),s>e.lookahead&&(s=e.lookahead);do{if(n=t,d[n+o]===m&&d[n+o-1]===p&&d[n]===d[a]&&d[++n]===d[a+1]){a+=2,n++;do{}while(d[++a]===d[++n]&&d[++a]===d[++n]&&d[++a]===d[++n]&&d[++a]===d[++n]&&d[++a]===d[++n]&&d[++a]===d[++n]&&d[++a]===d[++n]&&d[++a]===d[++n]&&a<h);if(i=T-(h-a),a=h-T,i>o){if(e.match_start=t,o=i,i>=s)break;p=d[a+o-1],m=d[a+o]}}}while((t=u[t&l])>c&&0!=--r);return o<=e.lookahead?o:e.lookahead},$=e=>{const t=e.w_size;let n,i,r;do{if(i=e.window_size-e.lookahead-e.strstart,e.strstart>=t+(t-M)&&(e.window.set(e.window.subarray(t,t+t-i),0),e.match_start-=t,e.strstart-=t,e.block_start-=t,e.insert>e.strstart&&(e.insert=e.strstart),z(e),i+=t),0===e.strm.avail_in)break;if(n=j(e.strm,e.window,e.strstart+e.lookahead,i),e.lookahead+=n,e.lookahead+e.insert>=3)for(r=e.strstart-e.insert,e.ins_h=e.window[r],e.ins_h=D(e,e.ins_h,e.window[r+1]);e.insert&&(e.ins_h=D(e,e.ins_h,e.window[r+3-1]),e.prev[r&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=r,r++,e.insert--,!(e.lookahead+e.insert<3)););}while(e.lookahead<M&&0!==e.strm.avail_in)},H=(e,t)=>{let n,i,a,o=e.pending_buf_size-5>e.w_size?e.w_size:e.pending_buf_size-5,s=0,c=e.strm.avail_in;do{if(n=65535,a=e.bi_valid+42>>3,e.strm.avail_out<a)break;if(a=e.strm.avail_out-a,i=e.strstart-e.block_start,n>i+e.strm.avail_in&&(n=i+e.strm.avail_in),n>a&&(n=a),n<o&&(0===n&&t!==m||t===u||n!==i+e.strm.avail_in))break;s=t===m&&n===i+e.strm.avail_in?1:0,r(e,0,0,s),e.pending_buf[e.pending-4]=n,e.pending_buf[e.pending-3]=n>>8,e.pending_buf[e.pending-2]=~n,e.pending_buf[e.pending-1]=~n>>8,L(e.strm),i&&(i>n&&(i=n),e.strm.output.set(e.window.subarray(e.block_start,e.block_start+i),e.strm.next_out),e.strm.next_out+=i,e.strm.avail_out-=i,e.strm.total_out+=i,e.block_start+=i,n-=i),n&&(j(e.strm,e.strm.output,e.strm.next_out,n),e.strm.next_out+=n,e.strm.avail_out-=n,e.strm.total_out+=n)}while(0===s);return c-=e.strm.avail_in,c&&(c>=e.w_size?(e.matches=2,e.window.set(e.strm.input.subarray(e.strm.next_in-e.w_size,e.strm.next_in),0),e.strstart=e.w_size,e.insert=e.strstart):(e.window_size-e.strstart<=c&&(e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,e.insert>e.strstart&&(e.insert=e.strstart)),e.window.set(e.strm.input.subarray(e.strm.next_in-c,e.strm.next_in),e.strstart),e.strstart+=c,e.insert+=c>e.w_size-e.insert?e.w_size-e.insert:c),e.block_start=e.strstart),e.high_water<e.strstart&&(e.high_water=e.strstart),s?4:t!==u&&t!==m&&0===e.strm.avail_in&&e.strstart===e.block_start?2:(a=e.window_size-e.strstart,e.strm.avail_in>a&&e.block_start>=e.w_size&&(e.block_start-=e.w_size,e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,a+=e.w_size,e.insert>e.strstart&&(e.insert=e.strstart)),a>e.strm.avail_in&&(a=e.strm.avail_in),a&&(j(e.strm,e.window,e.strstart,a),e.strstart+=a,e.insert+=a>e.w_size-e.insert?e.w_size-e.insert:a),e.high_water<e.strstart&&(e.high_water=e.strstart),a=e.bi_valid+42>>3,a=e.pending_buf_size-a>65535?65535:e.pending_buf_size-a,o=a>e.w_size?e.w_size:a,i=e.strstart-e.block_start,(i>=o||(i||t===m)&&t!==u&&0===e.strm.avail_in&&i<=a)&&(n=i>a?a:i,s=t===m&&0===e.strm.avail_in&&n===i?1:0,r(e,e.block_start,n,s),e.block_start+=n,L(e.strm)),s?3:1)},G=(e,t)=>{let n,i;for(;;){if(e.lookahead<M){if($(e),e.lookahead<M&&t===u)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=D(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-M&&(e.match_length=W(e,n)),e.match_length>=3)if(i=o(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=3){e.match_length--;do{e.strstart++,e.ins_h=D(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!=--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=D(e,e.ins_h,e.window[e.strstart+1]);else i=o(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(i&&(B(e,!1),0===e.strm.avail_out))return 1}return e.insert=e.strstart<2?e.strstart:2,t===m?(B(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(B(e,!1),0===e.strm.avail_out)?1:2},K=(e,t)=>{let n,i,r;for(;;){if(e.lookahead<M){if($(e),e.lookahead<M&&t===u)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=D(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-M&&(e.match_length=W(e,n),e.match_length<=5&&(e.strategy===E||3===e.match_length&&e.strstart-e.match_start>4096)&&(e.match_length=2)),e.prev_length>=3&&e.match_length<=e.prev_length){r=e.strstart+e.lookahead-3,i=o(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=r&&(e.ins_h=D(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!=--e.prev_length);if(e.match_available=0,e.match_length=2,e.strstart++,i&&(B(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if(i=o(e,0,e.window[e.strstart-1]),i&&B(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(i=o(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<2?e.strstart:2,t===m?(B(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(B(e,!1),0===e.strm.avail_out)?1:2};function Y(e,t,n,i,r){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=i,this.func=r}const J=[new Y(0,0,0,0,H),new Y(4,4,8,4,G),new Y(4,5,16,8,G),new Y(4,6,32,32,G),new Y(4,4,16,16,K),new Y(8,16,32,32,K),new Y(8,16,128,128,K),new Y(8,32,128,256,K),new Y(32,128,258,1024,K),new Y(32,258,258,4096,K)];function X(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=A,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),N(this.dyn_ltree),N(this.dyn_dtree),N(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),N(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),N(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const Z=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.status!==R&&57!==t.status&&69!==t.status&&73!==t.status&&91!==t.status&&103!==t.status&&t.status!==F&&t.status!==_?1:0},Q=e=>{if(Z(e))return O(e,y);e.total_in=e.total_out=0,e.data_type=P;const t=e.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=2===t.wrap?57:t.wrap?R:F,e.adler=2===t.wrap?0:1,t.last_flush=-2,i(t),g},ee=e=>{const t=Q(e);var n;return t===g&&((n=e.state).window_size=2*n.w_size,N(n.head),n.max_lazy_match=J[n.level].max_lazy,n.good_match=J[n.level].good_length,n.nice_match=J[n.level].nice_length,n.max_chain_length=J[n.level].max_chain,n.strstart=0,n.block_start=0,n.lookahead=0,n.insert=0,n.match_length=n.prev_length=2,n.match_available=0,n.ins_h=0),t},te=(e,t,n,i,r,a)=>{if(!e)return y;let o=1;if(t===S&&(t=6),i<0?(o=0,i=-i):i>15&&(o=2,i-=16),r<1||r>9||n!==A||i<8||i>15||t<0||t>9||a<0||a>I||8===i&&1!==o)return O(e,y);8===i&&(i=9);const s=new X;return e.state=s,s.strm=e,s.status=R,s.wrap=o,s.gzhead=null,s.w_bits=i,s.w_size=1<<s.w_bits,s.w_mask=s.w_size-1,s.hash_bits=r+7,s.hash_size=1<<s.hash_bits,s.hash_mask=s.hash_size-1,s.hash_shift=~~((s.hash_bits+3-1)/3),s.window=new Uint8Array(2*s.w_size),s.head=new Uint16Array(s.hash_size),s.prev=new Uint16Array(s.w_size),s.lit_bufsize=1<<r+6,s.pending_buf_size=4*s.lit_bufsize,s.pending_buf=new Uint8Array(s.pending_buf_size),s.sym_buf=s.lit_bufsize,s.sym_end=3*(s.lit_bufsize-1),s.level=t,s.strategy=a,s.method=n,ee(e)};e.exports.deflateInit=(e,t)=>te(e,t,A,15,8,k),e.exports.deflateInit2=te,e.exports.deflateReset=ee,e.exports.deflateResetKeep=Q,e.exports.deflateSetHeader=(e,t)=>Z(e)||2!==e.state.wrap?y:(e.state.gzhead=t,g),e.exports.deflate=(e,t)=>{if(Z(e)||t>f||t<0)return e?O(e,y):y;const n=e.state;if(!e.output||0!==e.avail_in&&!e.input||n.status===_&&t!==m)return O(e,0===e.avail_out?b:y);const i=n.last_flush;if(n.last_flush=t,0!==n.pending){if(L(e),0===e.avail_out)return n.last_flush=-1,g}else if(0===e.avail_in&&U(t)<=U(i)&&t!==m)return O(e,b);if(n.status===_&&0!==e.avail_in)return O(e,b);if(n.status===R&&0===n.wrap&&(n.status=F),n.status===R){let t=A+(n.w_bits-8<<4)<<8,i=-1;if(i=n.strategy>=C||n.level<2?0:n.level<6?1:6===n.level?2:3,t|=i<<6,0!==n.strstart&&(t|=32),t+=31-t%31,V(n,t),0!==n.strstart&&(V(n,e.adler>>>16),V(n,65535&e.adler)),e.adler=1,n.status=F,L(e),0!==n.pending)return n.last_flush=-1,g}if(57===n.status)if(e.adler=0,q(n,31),q(n,139),q(n,8),n.gzhead)q(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),q(n,255&n.gzhead.time),q(n,n.gzhead.time>>8&255),q(n,n.gzhead.time>>16&255),q(n,n.gzhead.time>>24&255),q(n,9===n.level?2:n.strategy>=C||n.level<2?4:0),q(n,255&n.gzhead.os),n.gzhead.extra&&n.gzhead.extra.length&&(q(n,255&n.gzhead.extra.length),q(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(e.adler=d(e.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=69;else if(q(n,0),q(n,0),q(n,0),q(n,0),q(n,0),q(n,9===n.level?2:n.strategy>=C||n.level<2?4:0),q(n,3),n.status=F,L(e),0!==n.pending)return n.last_flush=-1,g;if(69===n.status){if(n.gzhead.extra){let t=n.pending,i=(65535&n.gzhead.extra.length)-n.gzindex;for(;n.pending+i>n.pending_buf_size;){let r=n.pending_buf_size-n.pending;if(n.pending_buf.set(n.gzhead.extra.subarray(n.gzindex,n.gzindex+r),n.pending),n.pending=n.pending_buf_size,n.gzhead.hcrc&&n.pending>t&&(e.adler=d(e.adler,n.pending_buf,n.pending-t,t)),n.gzindex+=r,L(e),0!==n.pending)return n.last_flush=-1,g;t=0,i-=r}let r=new Uint8Array(n.gzhead.extra);n.pending_buf.set(r.subarray(n.gzindex,n.gzindex+i),n.pending),n.pending+=i,n.gzhead.hcrc&&n.pending>t&&(e.adler=d(e.adler,n.pending_buf,n.pending-t,t)),n.gzindex=0}n.status=73}if(73===n.status){if(n.gzhead.name){let t,i=n.pending;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>i&&(e.adler=d(e.adler,n.pending_buf,n.pending-i,i)),L(e),0!==n.pending)return n.last_flush=-1,g;i=0}t=n.gzindex<n.gzhead.name.length?255&n.gzhead.name.charCodeAt(n.gzindex++):0,q(n,t)}while(0!==t);n.gzhead.hcrc&&n.pending>i&&(e.adler=d(e.adler,n.pending_buf,n.pending-i,i)),n.gzindex=0}n.status=91}if(91===n.status){if(n.gzhead.comment){let t,i=n.pending;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>i&&(e.adler=d(e.adler,n.pending_buf,n.pending-i,i)),L(e),0!==n.pending)return n.last_flush=-1,g;i=0}t=n.gzindex<n.gzhead.comment.length?255&n.gzhead.comment.charCodeAt(n.gzindex++):0,q(n,t)}while(0!==t);n.gzhead.hcrc&&n.pending>i&&(e.adler=d(e.adler,n.pending_buf,n.pending-i,i))}n.status=103}if(103===n.status){if(n.gzhead.hcrc){if(n.pending+2>n.pending_buf_size&&(L(e),0!==n.pending))return n.last_flush=-1,g;q(n,255&e.adler),q(n,e.adler>>8&255),e.adler=0}if(n.status=F,L(e),0!==n.pending)return n.last_flush=-1,g}if(0!==e.avail_in||0!==n.lookahead||t!==u&&n.status!==_){let i=0===n.level?H(n,t):n.strategy===C?((e,t)=>{let n;for(;;){if(0===e.lookahead&&($(e),0===e.lookahead)){if(t===u)return 1;break}if(e.match_length=0,n=o(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(B(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===m?(B(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(B(e,!1),0===e.strm.avail_out)?1:2})(n,t):n.strategy===x?((e,t)=>{let n,i,r,a;const s=e.window;for(;;){if(e.lookahead<=T){if($(e),e.lookahead<=T&&t===u)return 1;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=3&&e.strstart>0&&(r=e.strstart-1,i=s[r],i===s[++r]&&i===s[++r]&&i===s[++r])){a=e.strstart+T;do{}while(i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&r<a);e.match_length=T-(a-r),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=3?(n=o(e,1,e.match_length-3),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=o(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(B(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===m?(B(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(B(e,!1),0===e.strm.avail_out)?1:2})(n,t):J[n.level].func(n,t);if(3!==i&&4!==i||(n.status=_),1===i||3===i)return 0===e.avail_out&&(n.last_flush=-1),g;if(2===i&&(t===h?s(n):t!==f&&(r(n,0,0,!1),t===p&&(N(n.head),0===n.lookahead&&(n.strstart=0,n.block_start=0,n.insert=0))),L(e),0===e.avail_out))return n.last_flush=-1,g}return t!==m?g:n.wrap<=0?w:(2===n.wrap?(q(n,255&e.adler),q(n,e.adler>>8&255),q(n,e.adler>>16&255),q(n,e.adler>>24&255),q(n,255&e.total_in),q(n,e.total_in>>8&255),q(n,e.total_in>>16&255),q(n,e.total_in>>24&255)):(V(n,e.adler>>>16),V(n,65535&e.adler)),L(e),n.wrap>0&&(n.wrap=-n.wrap),0!==n.pending?g:w)},e.exports.deflateEnd=e=>{if(Z(e))return y;const t=e.state.status;return e.state=null,t===F?O(e,v):g},e.exports.deflateSetDictionary=(e,t)=>{let n=t.length;if(Z(e))return y;const i=e.state,r=i.wrap;if(2===r||1===r&&i.status!==R||i.lookahead)return y;if(1===r&&(e.adler=c(e.adler,t,n,0)),i.wrap=0,n>=i.w_size){0===r&&(N(i.head),i.strstart=0,i.block_start=0,i.insert=0);let e=new Uint8Array(i.w_size);e.set(t.subarray(n-i.w_size,n),0),t=e,n=i.w_size}const a=e.avail_in,o=e.next_in,s=e.input;for(e.avail_in=n,e.next_in=0,e.input=t,$(i);i.lookahead>=3;){let e=i.strstart,t=i.lookahead-2;do{i.ins_h=D(i,i.ins_h,i.window[e+3-1]),i.prev[e&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=e,e++}while(--t);i.strstart=e,i.lookahead=2,$(i)}return i.strstart+=i.lookahead,i.block_start=i.strstart,i.insert=i.lookahead,i.lookahead=0,i.match_length=i.prev_length=2,i.match_available=0,e.next_in=o,e.input=s,e.avail_in=a,i.wrap=r,g},e.exports.deflateInfo="pako deflate (from Nodeca project)"},2401:e=>{"use strict";e.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},4264:e=>{"use strict";const t=16209;e.exports=function(e,n){let i,r,a,o,s,c,d,l,u,h,p,m,f,g,w,y,v,b,S,E,C,x,I,k;const P=e.state;i=e.next_in,I=e.input,r=i+(e.avail_in-5),a=e.next_out,k=e.output,o=a-(n-e.avail_out),s=a+(e.avail_out-257),c=P.dmax,d=P.wsize,l=P.whave,u=P.wnext,h=P.window,p=P.hold,m=P.bits,f=P.lencode,g=P.distcode,w=(1<<P.lenbits)-1,y=(1<<P.distbits)-1;e:do{m<15&&(p+=I[i++]<<m,m+=8,p+=I[i++]<<m,m+=8),v=f[p&w];t:for(;;){if(b=v>>>24,p>>>=b,m-=b,b=v>>>16&255,0===b)k[a++]=65535&v;else{if(!(16&b)){if(0==(64&b)){v=f[(65535&v)+(p&(1<<b)-1)];continue t}if(32&b){P.mode=16191;break e}e.msg="invalid literal/length code",P.mode=t;break e}S=65535&v,b&=15,b&&(m<b&&(p+=I[i++]<<m,m+=8),S+=p&(1<<b)-1,p>>>=b,m-=b),m<15&&(p+=I[i++]<<m,m+=8,p+=I[i++]<<m,m+=8),v=g[p&y];n:for(;;){if(b=v>>>24,p>>>=b,m-=b,b=v>>>16&255,!(16&b)){if(0==(64&b)){v=g[(65535&v)+(p&(1<<b)-1)];continue n}e.msg="invalid distance code",P.mode=t;break e}if(E=65535&v,b&=15,m<b&&(p+=I[i++]<<m,m+=8,m<b&&(p+=I[i++]<<m,m+=8)),E+=p&(1<<b)-1,E>c){e.msg="invalid distance too far back",P.mode=t;break e}if(p>>>=b,m-=b,b=a-o,E>b){if(b=E-b,b>l&&P.sane){e.msg="invalid distance too far back",P.mode=t;break e}if(C=0,x=h,0===u){if(C+=d-b,b<S){S-=b;do{k[a++]=h[C++]}while(--b);C=a-E,x=k}}else if(u<b){if(C+=d+u-b,b-=u,b<S){S-=b;do{k[a++]=h[C++]}while(--b);if(C=0,u<S){b=u,S-=b;do{k[a++]=h[C++]}while(--b);C=a-E,x=k}}}else if(C+=u-b,b<S){S-=b;do{k[a++]=h[C++]}while(--b);C=a-E,x=k}for(;S>2;)k[a++]=x[C++],k[a++]=x[C++],k[a++]=x[C++],S-=3;S&&(k[a++]=x[C++],S>1&&(k[a++]=x[C++]))}else{C=a-E;do{k[a++]=k[C++],k[a++]=k[C++],k[a++]=k[C++],S-=3}while(S>2);S&&(k[a++]=k[C++],S>1&&(k[a++]=k[C++]))}break}}break}}while(i<r&&a<s);S=m>>3,i-=S,m-=S<<3,p&=(1<<m)-1,e.next_in=i,e.next_out=a,e.avail_in=i<r?r-i+5:5-(i-r),e.avail_out=a<s?s-a+257:257-(a-s),P.hold=p,P.bits=m}},6351:(e,t,n)=>{"use strict";const i=n(6069),r=n(2869),a=n(4264),o=n(9241),{Z_FINISH:s,Z_BLOCK:c,Z_TREES:d,Z_OK:l,Z_STREAM_END:u,Z_NEED_DICT:h,Z_STREAM_ERROR:p,Z_DATA_ERROR:m,Z_MEM_ERROR:f,Z_BUF_ERROR:g,Z_DEFLATED:w}=n(1619),y=16180,v=16190,b=16191,S=16192,E=16194,C=16199,x=16200,I=16206,k=16209,P=16210,A=e=>(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24);function T(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const M=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<y||t.mode>16211?1:0},R=e=>{if(M(e))return p;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=y,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(852),t.distcode=t.distdyn=new Int32Array(592),t.sane=1,t.back=-1,l},F=e=>{if(M(e))return p;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,R(e)},_=(e,t)=>{let n;if(M(e))return p;const i=e.state;return t<0?(n=0,t=-t):(n=5+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?p:(null!==i.window&&i.wbits!==t&&(i.window=null),i.wrap=n,i.wbits=t,F(e))},O=(e,t)=>{if(!e)return p;const n=new T;e.state=n,n.strm=e,n.window=null,n.mode=y;const i=_(e,t);return i!==l&&(e.state=null),i};let U,N,z=!0;const D=e=>{if(z){U=new Int32Array(512),N=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(o(1,e.lens,0,288,U,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;o(2,e.lens,0,32,N,0,e.work,{bits:5}),z=!1}e.lencode=U,e.lenbits=9,e.distcode=N,e.distbits=5},L=(e,t,n,i)=>{let r;const a=e.state;return null===a.window&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new Uint8Array(a.wsize)),i>=a.wsize?(a.window.set(t.subarray(n-a.wsize,n),0),a.wnext=0,a.whave=a.wsize):(r=a.wsize-a.wnext,r>i&&(r=i),a.window.set(t.subarray(n-i,n-i+r),a.wnext),(i-=r)?(a.window.set(t.subarray(n-i,n),0),a.wnext=i,a.whave=a.wsize):(a.wnext+=r,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=r))),0};e.exports.inflateReset=F,e.exports.inflateReset2=_,e.exports.inflateResetKeep=R,e.exports.inflateInit=e=>O(e,15),e.exports.inflateInit2=O,e.exports.inflate=(e,t)=>{let n,T,R,F,_,O,U,N,z,B,q,V,j,W,$,H,G,K,Y,J,X,Z,Q=0;const ee=new Uint8Array(4);let te,ne;const ie=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(M(e)||!e.output||!e.input&&0!==e.avail_in)return p;n=e.state,n.mode===b&&(n.mode=S),_=e.next_out,R=e.output,U=e.avail_out,F=e.next_in,T=e.input,O=e.avail_in,N=n.hold,z=n.bits,B=O,q=U,Z=l;e:for(;;)switch(n.mode){case y:if(0===n.wrap){n.mode=S;break}for(;z<16;){if(0===O)break e;O--,N+=T[F++]<<z,z+=8}if(2&n.wrap&&35615===N){0===n.wbits&&(n.wbits=15),n.check=0,ee[0]=255&N,ee[1]=N>>>8&255,n.check=r(n.check,ee,2,0),N=0,z=0,n.mode=16181;break}if(n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&N)<<8)+(N>>8))%31){e.msg="incorrect header check",n.mode=k;break}if((15&N)!==w){e.msg="unknown compression method",n.mode=k;break}if(N>>>=4,z-=4,X=8+(15&N),0===n.wbits&&(n.wbits=X),X>15||X>n.wbits){e.msg="invalid window size",n.mode=k;break}n.dmax=1<<n.wbits,n.flags=0,e.adler=n.check=1,n.mode=512&N?16189:b,N=0,z=0;break;case 16181:for(;z<16;){if(0===O)break e;O--,N+=T[F++]<<z,z+=8}if(n.flags=N,(255&n.flags)!==w){e.msg="unknown compression method",n.mode=k;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=k;break}n.head&&(n.head.text=N>>8&1),512&n.flags&&4&n.wrap&&(ee[0]=255&N,ee[1]=N>>>8&255,n.check=r(n.check,ee,2,0)),N=0,z=0,n.mode=16182;case 16182:for(;z<32;){if(0===O)break e;O--,N+=T[F++]<<z,z+=8}n.head&&(n.head.time=N),512&n.flags&&4&n.wrap&&(ee[0]=255&N,ee[1]=N>>>8&255,ee[2]=N>>>16&255,ee[3]=N>>>24&255,n.check=r(n.check,ee,4,0)),N=0,z=0,n.mode=16183;case 16183:for(;z<16;){if(0===O)break e;O--,N+=T[F++]<<z,z+=8}n.head&&(n.head.xflags=255&N,n.head.os=N>>8),512&n.flags&&4&n.wrap&&(ee[0]=255&N,ee[1]=N>>>8&255,n.check=r(n.check,ee,2,0)),N=0,z=0,n.mode=16184;case 16184:if(1024&n.flags){for(;z<16;){if(0===O)break e;O--,N+=T[F++]<<z,z+=8}n.length=N,n.head&&(n.head.extra_len=N),512&n.flags&&4&n.wrap&&(ee[0]=255&N,ee[1]=N>>>8&255,n.check=r(n.check,ee,2,0)),N=0,z=0}else n.head&&(n.head.extra=null);n.mode=16185;case 16185:if(1024&n.flags&&(V=n.length,V>O&&(V=O),V&&(n.head&&(X=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(T.subarray(F,F+V),X)),512&n.flags&&4&n.wrap&&(n.check=r(n.check,T,V,F)),O-=V,F+=V,n.length-=V),n.length))break e;n.length=0,n.mode=16186;case 16186:if(2048&n.flags){if(0===O)break e;V=0;do{X=T[F+V++],n.head&&X&&n.length<65536&&(n.head.name+=String.fromCharCode(X))}while(X&&V<O);if(512&n.flags&&4&n.wrap&&(n.check=r(n.check,T,V,F)),O-=V,F+=V,X)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=16187;case 16187:if(4096&n.flags){if(0===O)break e;V=0;do{X=T[F+V++],n.head&&X&&n.length<65536&&(n.head.comment+=String.fromCharCode(X))}while(X&&V<O);if(512&n.flags&&4&n.wrap&&(n.check=r(n.check,T,V,F)),O-=V,F+=V,X)break e}else n.head&&(n.head.comment=null);n.mode=16188;case 16188:if(512&n.flags){for(;z<16;){if(0===O)break e;O--,N+=T[F++]<<z,z+=8}if(4&n.wrap&&N!==(65535&n.check)){e.msg="header crc mismatch",n.mode=k;break}N=0,z=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=b;break;case 16189:for(;z<32;){if(0===O)break e;O--,N+=T[F++]<<z,z+=8}e.adler=n.check=A(N),N=0,z=0,n.mode=v;case v:if(0===n.havedict)return e.next_out=_,e.avail_out=U,e.next_in=F,e.avail_in=O,n.hold=N,n.bits=z,h;e.adler=n.check=1,n.mode=b;case b:if(t===c||t===d)break e;case S:if(n.last){N>>>=7&z,z-=7&z,n.mode=I;break}for(;z<3;){if(0===O)break e;O--,N+=T[F++]<<z,z+=8}switch(n.last=1&N,N>>>=1,z-=1,3&N){case 0:n.mode=16193;break;case 1:if(D(n),n.mode=C,t===d){N>>>=2,z-=2;break e}break;case 2:n.mode=16196;break;case 3:e.msg="invalid block type",n.mode=k}N>>>=2,z-=2;break;case 16193:for(N>>>=7&z,z-=7&z;z<32;){if(0===O)break e;O--,N+=T[F++]<<z,z+=8}if((65535&N)!=(N>>>16^65535)){e.msg="invalid stored block lengths",n.mode=k;break}if(n.length=65535&N,N=0,z=0,n.mode=E,t===d)break e;case E:n.mode=16195;case 16195:if(V=n.length,V){if(V>O&&(V=O),V>U&&(V=U),0===V)break e;R.set(T.subarray(F,F+V),_),O-=V,F+=V,U-=V,_+=V,n.length-=V;break}n.mode=b;break;case 16196:for(;z<14;){if(0===O)break e;O--,N+=T[F++]<<z,z+=8}if(n.nlen=257+(31&N),N>>>=5,z-=5,n.ndist=1+(31&N),N>>>=5,z-=5,n.ncode=4+(15&N),N>>>=4,z-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=k;break}n.have=0,n.mode=16197;case 16197:for(;n.have<n.ncode;){for(;z<3;){if(0===O)break e;O--,N+=T[F++]<<z,z+=8}n.lens[ie[n.have++]]=7&N,N>>>=3,z-=3}for(;n.have<19;)n.lens[ie[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,te={bits:n.lenbits},Z=o(0,n.lens,0,19,n.lencode,0,n.work,te),n.lenbits=te.bits,Z){e.msg="invalid code lengths set",n.mode=k;break}n.have=0,n.mode=16198;case 16198:for(;n.have<n.nlen+n.ndist;){for(;Q=n.lencode[N&(1<<n.lenbits)-1],$=Q>>>24,H=Q>>>16&255,G=65535&Q,!($<=z);){if(0===O)break e;O--,N+=T[F++]<<z,z+=8}if(G<16)N>>>=$,z-=$,n.lens[n.have++]=G;else{if(16===G){for(ne=$+2;z<ne;){if(0===O)break e;O--,N+=T[F++]<<z,z+=8}if(N>>>=$,z-=$,0===n.have){e.msg="invalid bit length repeat",n.mode=k;break}X=n.lens[n.have-1],V=3+(3&N),N>>>=2,z-=2}else if(17===G){for(ne=$+3;z<ne;){if(0===O)break e;O--,N+=T[F++]<<z,z+=8}N>>>=$,z-=$,X=0,V=3+(7&N),N>>>=3,z-=3}else{for(ne=$+7;z<ne;){if(0===O)break e;O--,N+=T[F++]<<z,z+=8}N>>>=$,z-=$,X=0,V=11+(127&N),N>>>=7,z-=7}if(n.have+V>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=k;break}for(;V--;)n.lens[n.have++]=X}}if(n.mode===k)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=k;break}if(n.lenbits=9,te={bits:n.lenbits},Z=o(1,n.lens,0,n.nlen,n.lencode,0,n.work,te),n.lenbits=te.bits,Z){e.msg="invalid literal/lengths set",n.mode=k;break}if(n.distbits=6,n.distcode=n.distdyn,te={bits:n.distbits},Z=o(2,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,te),n.distbits=te.bits,Z){e.msg="invalid distances set",n.mode=k;break}if(n.mode=C,t===d)break e;case C:n.mode=x;case x:if(O>=6&&U>=258){e.next_out=_,e.avail_out=U,e.next_in=F,e.avail_in=O,n.hold=N,n.bits=z,a(e,q),_=e.next_out,R=e.output,U=e.avail_out,F=e.next_in,T=e.input,O=e.avail_in,N=n.hold,z=n.bits,n.mode===b&&(n.back=-1);break}for(n.back=0;Q=n.lencode[N&(1<<n.lenbits)-1],$=Q>>>24,H=Q>>>16&255,G=65535&Q,!($<=z);){if(0===O)break e;O--,N+=T[F++]<<z,z+=8}if(H&&0==(240&H)){for(K=$,Y=H,J=G;Q=n.lencode[J+((N&(1<<K+Y)-1)>>K)],$=Q>>>24,H=Q>>>16&255,G=65535&Q,!(K+$<=z);){if(0===O)break e;O--,N+=T[F++]<<z,z+=8}N>>>=K,z-=K,n.back+=K}if(N>>>=$,z-=$,n.back+=$,n.length=G,0===H){n.mode=16205;break}if(32&H){n.back=-1,n.mode=b;break}if(64&H){e.msg="invalid literal/length code",n.mode=k;break}n.extra=15&H,n.mode=16201;case 16201:if(n.extra){for(ne=n.extra;z<ne;){if(0===O)break e;O--,N+=T[F++]<<z,z+=8}n.length+=N&(1<<n.extra)-1,N>>>=n.extra,z-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=16202;case 16202:for(;Q=n.distcode[N&(1<<n.distbits)-1],$=Q>>>24,H=Q>>>16&255,G=65535&Q,!($<=z);){if(0===O)break e;O--,N+=T[F++]<<z,z+=8}if(0==(240&H)){for(K=$,Y=H,J=G;Q=n.distcode[J+((N&(1<<K+Y)-1)>>K)],$=Q>>>24,H=Q>>>16&255,G=65535&Q,!(K+$<=z);){if(0===O)break e;O--,N+=T[F++]<<z,z+=8}N>>>=K,z-=K,n.back+=K}if(N>>>=$,z-=$,n.back+=$,64&H){e.msg="invalid distance code",n.mode=k;break}n.offset=G,n.extra=15&H,n.mode=16203;case 16203:if(n.extra){for(ne=n.extra;z<ne;){if(0===O)break e;O--,N+=T[F++]<<z,z+=8}n.offset+=N&(1<<n.extra)-1,N>>>=n.extra,z-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=k;break}n.mode=16204;case 16204:if(0===U)break e;if(V=q-U,n.offset>V){if(V=n.offset-V,V>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=k;break}V>n.wnext?(V-=n.wnext,j=n.wsize-V):j=n.wnext-V,V>n.length&&(V=n.length),W=n.window}else W=R,j=_-n.offset,V=n.length;V>U&&(V=U),U-=V,n.length-=V;do{R[_++]=W[j++]}while(--V);0===n.length&&(n.mode=x);break;case 16205:if(0===U)break e;R[_++]=n.length,U--,n.mode=x;break;case I:if(n.wrap){for(;z<32;){if(0===O)break e;O--,N|=T[F++]<<z,z+=8}if(q-=U,e.total_out+=q,n.total+=q,4&n.wrap&&q&&(e.adler=n.check=n.flags?r(n.check,R,q,_-q):i(n.check,R,q,_-q)),q=U,4&n.wrap&&(n.flags?N:A(N))!==n.check){e.msg="incorrect data check",n.mode=k;break}N=0,z=0}n.mode=16207;case 16207:if(n.wrap&&n.flags){for(;z<32;){if(0===O)break e;O--,N+=T[F++]<<z,z+=8}if(4&n.wrap&&N!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=k;break}N=0,z=0}n.mode=16208;case 16208:Z=u;break e;case k:Z=m;break e;case P:return f;default:return p}return e.next_out=_,e.avail_out=U,e.next_in=F,e.avail_in=O,n.hold=N,n.bits=z,(n.wsize||q!==e.avail_out&&n.mode<k&&(n.mode<I||t!==s))&&L(e,e.output,e.next_out,q-e.avail_out)?(n.mode=P,f):(B-=e.avail_in,q-=e.avail_out,e.total_in+=B,e.total_out+=q,n.total+=q,4&n.wrap&&q&&(e.adler=n.check=n.flags?r(n.check,R,q,e.next_out-q):i(n.check,R,q,e.next_out-q)),e.data_type=n.bits+(n.last?64:0)+(n.mode===b?128:0)+(n.mode===C||n.mode===E?256:0),(0===B&&0===q||t===s)&&Z===l&&(Z=g),Z)},e.exports.inflateEnd=e=>{if(M(e))return p;let t=e.state;return t.window&&(t.window=null),e.state=null,l},e.exports.inflateGetHeader=(e,t)=>{if(M(e))return p;const n=e.state;return 0==(2&n.wrap)?p:(n.head=t,t.done=!1,l)},e.exports.inflateSetDictionary=(e,t)=>{const n=t.length;let r,a,o;return M(e)?p:(r=e.state,0!==r.wrap&&r.mode!==v?p:r.mode===v&&(a=1,a=i(a,t,n,0),a!==r.check)?m:(o=L(e,t,n,n),o?(r.mode=P,f):(r.havedict=1,l)))},e.exports.inflateInfo="pako inflate (from Nodeca project)"},9241:e=>{"use strict";const t=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),n=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),i=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),r=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);e.exports=(e,a,o,s,c,d,l,u)=>{const h=u.bits;let p,m,f,g,w,y,v=0,b=0,S=0,E=0,C=0,x=0,I=0,k=0,P=0,A=0,T=null;const M=new Uint16Array(16),R=new Uint16Array(16);let F,_,O,U=null;for(v=0;v<=15;v++)M[v]=0;for(b=0;b<s;b++)M[a[o+b]]++;for(C=h,E=15;E>=1&&0===M[E];E--);if(C>E&&(C=E),0===E)return c[d++]=20971520,c[d++]=20971520,u.bits=1,0;for(S=1;S<E&&0===M[S];S++);for(C<S&&(C=S),k=1,v=1;v<=15;v++)if(k<<=1,k-=M[v],k<0)return-1;if(k>0&&(0===e||1!==E))return-1;for(R[1]=0,v=1;v<15;v++)R[v+1]=R[v]+M[v];for(b=0;b<s;b++)0!==a[o+b]&&(l[R[a[o+b]]++]=b);if(0===e?(T=U=l,y=20):1===e?(T=t,U=n,y=257):(T=i,U=r,y=0),A=0,b=0,v=S,w=d,x=C,I=0,f=-1,P=1<<C,g=P-1,1===e&&P>852||2===e&&P>592)return 1;for(;;){F=v-I,l[b]+1<y?(_=0,O=l[b]):l[b]>=y?(_=U[l[b]-y],O=T[l[b]-y]):(_=96,O=0),p=1<<v-I,m=1<<x,S=m;do{m-=p,c[w+(A>>I)+m]=F<<24|_<<16|O|0}while(0!==m);for(p=1<<v-1;A&p;)p>>=1;if(0!==p?(A&=p-1,A+=p):A=0,b++,0==--M[v]){if(v===E)break;v=a[o+l[b]]}if(v>C&&(A&g)!==f){for(0===I&&(I=C),w+=S,x=v-I,k=1<<x;x+I<E&&(k-=M[x+I],!(k<=0));)x++,k<<=1;if(P+=1<<x,1===e&&P>852||2===e&&P>592)return 1;f=A&g,c[f]=C<<24|x<<16|w-d|0}}return 0!==A&&(c[w+A]=v-I<<24|64<<16|0),u.bits=C,0}},8898:e=>{"use strict";e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},342:e=>{"use strict";function t(e){let t=e.length;for(;--t>=0;)e[t]=0}const n=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),i=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),r=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),a=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),o=new Array(576);t(o);const s=new Array(60);t(s);const c=new Array(512);t(c);const d=new Array(256);t(d);const l=new Array(29);t(l);const u=new Array(30);function h(e,t,n,i,r){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=i,this.max_length=r,this.has_stree=e&&e.length}let p,m,f;function g(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}t(u);const w=e=>e<256?c[e]:c[256+(e>>>7)],y=(e,t)=>{e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255},v=(e,t,n)=>{e.bi_valid>16-n?(e.bi_buf|=t<<e.bi_valid&65535,y(e,e.bi_buf),e.bi_buf=t>>16-e.bi_valid,e.bi_valid+=n-16):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)},b=(e,t,n)=>{v(e,n[2*t],n[2*t+1])},S=(e,t)=>{let n=0;do{n|=1&e,e>>>=1,n<<=1}while(--t>0);return n>>>1},E=(e,t,n)=>{const i=new Array(16);let r,a,o=0;for(r=1;r<=15;r++)o=o+n[r-1]<<1,i[r]=o;for(a=0;a<=t;a++){let t=e[2*a+1];0!==t&&(e[2*a]=S(i[t]++,t))}},C=e=>{let t;for(t=0;t<286;t++)e.dyn_ltree[2*t]=0;for(t=0;t<30;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.sym_next=e.matches=0},x=e=>{e.bi_valid>8?y(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},I=(e,t,n,i)=>{const r=2*t,a=2*n;return e[r]<e[a]||e[r]===e[a]&&i[t]<=i[n]},k=(e,t,n)=>{const i=e.heap[n];let r=n<<1;for(;r<=e.heap_len&&(r<e.heap_len&&I(t,e.heap[r+1],e.heap[r],e.depth)&&r++,!I(t,i,e.heap[r],e.depth));)e.heap[n]=e.heap[r],n=r,r<<=1;e.heap[n]=i},P=(e,t,r)=>{let a,o,s,c,h=0;if(0!==e.sym_next)do{a=255&e.pending_buf[e.sym_buf+h++],a+=(255&e.pending_buf[e.sym_buf+h++])<<8,o=e.pending_buf[e.sym_buf+h++],0===a?b(e,o,t):(s=d[o],b(e,s+256+1,t),c=n[s],0!==c&&(o-=l[s],v(e,o,c)),a--,s=w(a),b(e,s,r),c=i[s],0!==c&&(a-=u[s],v(e,a,c)))}while(h<e.sym_next);b(e,256,t)},A=(e,t)=>{const n=t.dyn_tree,i=t.stat_desc.static_tree,r=t.stat_desc.has_stree,a=t.stat_desc.elems;let o,s,c,d=-1;for(e.heap_len=0,e.heap_max=573,o=0;o<a;o++)0!==n[2*o]?(e.heap[++e.heap_len]=d=o,e.depth[o]=0):n[2*o+1]=0;for(;e.heap_len<2;)c=e.heap[++e.heap_len]=d<2?++d:0,n[2*c]=1,e.depth[c]=0,e.opt_len--,r&&(e.static_len-=i[2*c+1]);for(t.max_code=d,o=e.heap_len>>1;o>=1;o--)k(e,n,o);c=a;do{o=e.heap[1],e.heap[1]=e.heap[e.heap_len--],k(e,n,1),s=e.heap[1],e.heap[--e.heap_max]=o,e.heap[--e.heap_max]=s,n[2*c]=n[2*o]+n[2*s],e.depth[c]=(e.depth[o]>=e.depth[s]?e.depth[o]:e.depth[s])+1,n[2*o+1]=n[2*s+1]=c,e.heap[1]=c++,k(e,n,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],((e,t)=>{const n=t.dyn_tree,i=t.max_code,r=t.stat_desc.static_tree,a=t.stat_desc.has_stree,o=t.stat_desc.extra_bits,s=t.stat_desc.extra_base,c=t.stat_desc.max_length;let d,l,u,h,p,m,f=0;for(h=0;h<=15;h++)e.bl_count[h]=0;for(n[2*e.heap[e.heap_max]+1]=0,d=e.heap_max+1;d<573;d++)l=e.heap[d],h=n[2*n[2*l+1]+1]+1,h>c&&(h=c,f++),n[2*l+1]=h,l>i||(e.bl_count[h]++,p=0,l>=s&&(p=o[l-s]),m=n[2*l],e.opt_len+=m*(h+p),a&&(e.static_len+=m*(r[2*l+1]+p)));if(0!==f){do{for(h=c-1;0===e.bl_count[h];)h--;e.bl_count[h]--,e.bl_count[h+1]+=2,e.bl_count[c]--,f-=2}while(f>0);for(h=c;0!==h;h--)for(l=e.bl_count[h];0!==l;)u=e.heap[--d],u>i||(n[2*u+1]!==h&&(e.opt_len+=(h-n[2*u+1])*n[2*u],n[2*u+1]=h),l--)}})(e,t),E(n,d,e.bl_count)},T=(e,t,n)=>{let i,r,a=-1,o=t[1],s=0,c=7,d=4;for(0===o&&(c=138,d=3),t[2*(n+1)+1]=65535,i=0;i<=n;i++)r=o,o=t[2*(i+1)+1],++s<c&&r===o||(s<d?e.bl_tree[2*r]+=s:0!==r?(r!==a&&e.bl_tree[2*r]++,e.bl_tree[32]++):s<=10?e.bl_tree[34]++:e.bl_tree[36]++,s=0,a=r,0===o?(c=138,d=3):r===o?(c=6,d=3):(c=7,d=4))},M=(e,t,n)=>{let i,r,a=-1,o=t[1],s=0,c=7,d=4;for(0===o&&(c=138,d=3),i=0;i<=n;i++)if(r=o,o=t[2*(i+1)+1],!(++s<c&&r===o)){if(s<d)do{b(e,r,e.bl_tree)}while(0!=--s);else 0!==r?(r!==a&&(b(e,r,e.bl_tree),s--),b(e,16,e.bl_tree),v(e,s-3,2)):s<=10?(b(e,17,e.bl_tree),v(e,s-3,3)):(b(e,18,e.bl_tree),v(e,s-11,7));s=0,a=r,0===o?(c=138,d=3):r===o?(c=6,d=3):(c=7,d=4)}};let R=!1;const F=(e,t,n,i)=>{v(e,0+(i?1:0),3),x(e),y(e,n),y(e,~n),n&&e.pending_buf.set(e.window.subarray(t,t+n),e.pending),e.pending+=n};e.exports._tr_init=e=>{R||((()=>{let e,t,a,g,w;const y=new Array(16);for(a=0,g=0;g<28;g++)for(l[g]=a,e=0;e<1<<n[g];e++)d[a++]=g;for(d[a-1]=g,w=0,g=0;g<16;g++)for(u[g]=w,e=0;e<1<<i[g];e++)c[w++]=g;for(w>>=7;g<30;g++)for(u[g]=w<<7,e=0;e<1<<i[g]-7;e++)c[256+w++]=g;for(t=0;t<=15;t++)y[t]=0;for(e=0;e<=143;)o[2*e+1]=8,e++,y[8]++;for(;e<=255;)o[2*e+1]=9,e++,y[9]++;for(;e<=279;)o[2*e+1]=7,e++,y[7]++;for(;e<=287;)o[2*e+1]=8,e++,y[8]++;for(E(o,287,y),e=0;e<30;e++)s[2*e+1]=5,s[2*e]=S(e,5);p=new h(o,n,257,286,15),m=new h(s,i,0,30,15),f=new h(new Array(0),r,0,19,7)})(),R=!0),e.l_desc=new g(e.dyn_ltree,p),e.d_desc=new g(e.dyn_dtree,m),e.bl_desc=new g(e.bl_tree,f),e.bi_buf=0,e.bi_valid=0,C(e)},e.exports._tr_stored_block=F,e.exports._tr_flush_block=(e,t,n,i)=>{let r,c,d=0;e.level>0?(2===e.strm.data_type&&(e.strm.data_type=(e=>{let t,n=4093624447;for(t=0;t<=31;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<256;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0})(e)),A(e,e.l_desc),A(e,e.d_desc),d=(e=>{let t;for(T(e,e.dyn_ltree,e.l_desc.max_code),T(e,e.dyn_dtree,e.d_desc.max_code),A(e,e.bl_desc),t=18;t>=3&&0===e.bl_tree[2*a[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t})(e),r=e.opt_len+3+7>>>3,c=e.static_len+3+7>>>3,c<=r&&(r=c)):r=c=n+5,n+4<=r&&-1!==t?F(e,t,n,i):4===e.strategy||c===r?(v(e,2+(i?1:0),3),P(e,o,s)):(v(e,4+(i?1:0),3),((e,t,n,i)=>{let r;for(v(e,t-257,5),v(e,n-1,5),v(e,i-4,4),r=0;r<i;r++)v(e,e.bl_tree[2*a[r]+1],3);M(e,e.dyn_ltree,t-1),M(e,e.dyn_dtree,n-1)})(e,e.l_desc.max_code+1,e.d_desc.max_code+1,d+1),P(e,e.dyn_ltree,e.dyn_dtree)),C(e),i&&x(e)},e.exports._tr_tally=(e,t,n)=>(e.pending_buf[e.sym_buf+e.sym_next++]=t,e.pending_buf[e.sym_buf+e.sym_next++]=t>>8,e.pending_buf[e.sym_buf+e.sym_next++]=n,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(d[n]+256+1)]++,e.dyn_dtree[2*w(t)]++),e.sym_next===e.sym_end),e.exports._tr_align=e=>{v(e,2,3),b(e,256,o),(e=>{16===e.bi_valid?(y(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)})(e)}},2292:e=>{"use strict";e.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},2100:(e,t,n)=>{"use strict";e.exports=n(9482)},9482:(e,t,n)=>{"use strict";var i=t;function r(){i.util._configure(),i.Writer._configure(i.BufferWriter),i.Reader._configure(i.BufferReader)}i.build="minimal",i.Writer=n(1173),i.BufferWriter=n(3155),i.Reader=n(1408),i.BufferReader=n(593),i.util=n(9693),i.rpc=n(5994),i.roots=n(5054),i.configure=r,r()},1408:(e,t,n)=>{"use strict";e.exports=c;var i,r=n(9693),a=r.LongBits,o=r.utf8;function s(e,t){return RangeError("index out of range: "+e.pos+" + "+(t||1)+" > "+e.len)}function c(e){this.buf=e,this.pos=0,this.len=e.length}var d,l="undefined"!=typeof Uint8Array?function(e){if(e instanceof Uint8Array||Array.isArray(e))return new c(e);throw Error("illegal buffer")}:function(e){if(Array.isArray(e))return new c(e);throw Error("illegal buffer")},u=function(){return r.Buffer?function(e){return(c.create=function(e){return r.Buffer.isBuffer(e)?new i(e):l(e)})(e)}:l};function h(){var e=new a(0,0),t=0;if(!(this.len-this.pos>4)){for(;t<3;++t){if(this.pos>=this.len)throw s(this);if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e}return e.lo=(e.lo|(127&this.buf[this.pos++])<<7*t)>>>0,e}for(;t<4;++t)if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e;if(e.lo=(e.lo|(127&this.buf[this.pos])<<28)>>>0,e.hi=(e.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return e;if(t=0,this.len-this.pos>4){for(;t<5;++t)if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}else for(;t<5;++t){if(this.pos>=this.len)throw s(this);if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}throw Error("invalid varint encoding")}function p(e,t){return(e[t-4]|e[t-3]<<8|e[t-2]<<16|e[t-1]<<24)>>>0}function m(){if(this.pos+8>this.len)throw s(this,8);return new a(p(this.buf,this.pos+=4),p(this.buf,this.pos+=4))}c.create=u(),c.prototype._slice=r.Array.prototype.subarray||r.Array.prototype.slice,c.prototype.uint32=(d=4294967295,function(){if(d=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128)return d;if(d=(d|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)return d;if(d=(d|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)return d;if(d=(d|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)return d;if(d=(d|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128)return d;if((this.pos+=5)>this.len)throw this.pos=this.len,s(this,10);return d}),c.prototype.int32=function(){return 0|this.uint32()},c.prototype.sint32=function(){var e=this.uint32();return e>>>1^-(1&e)|0},c.prototype.bool=function(){return 0!==this.uint32()},c.prototype.fixed32=function(){if(this.pos+4>this.len)throw s(this,4);return p(this.buf,this.pos+=4)},c.prototype.sfixed32=function(){if(this.pos+4>this.len)throw s(this,4);return 0|p(this.buf,this.pos+=4)},c.prototype.float=function(){if(this.pos+4>this.len)throw s(this,4);var e=r.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e},c.prototype.double=function(){if(this.pos+8>this.len)throw s(this,4);var e=r.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e},c.prototype.bytes=function(){var e=this.uint32(),t=this.pos,n=this.pos+e;if(n>this.len)throw s(this,e);return this.pos+=e,Array.isArray(this.buf)?this.buf.slice(t,n):t===n?new this.buf.constructor(0):this._slice.call(this.buf,t,n)},c.prototype.string=function(){var e=this.bytes();return o.read(e,0,e.length)},c.prototype.skip=function(e){if("number"==typeof e){if(this.pos+e>this.len)throw s(this,e);this.pos+=e}else do{if(this.pos>=this.len)throw s(this)}while(128&this.buf[this.pos++]);return this},c.prototype.skipType=function(e){switch(e){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!=(e=7&this.uint32());)this.skipType(e);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+e+" at offset "+this.pos)}return this},c._configure=function(e){i=e,c.create=u(),i._configure();var t=r.Long?"toLong":"toNumber";r.merge(c.prototype,{int64:function(){return h.call(this)[t](!1)},uint64:function(){return h.call(this)[t](!0)},sint64:function(){return h.call(this).zzDecode()[t](!1)},fixed64:function(){return m.call(this)[t](!0)},sfixed64:function(){return m.call(this)[t](!1)}})}},593:(e,t,n)=>{"use strict";e.exports=a;var i=n(1408);(a.prototype=Object.create(i.prototype)).constructor=a;var r=n(9693);function a(e){i.call(this,e)}a._configure=function(){r.Buffer&&(a.prototype._slice=r.Buffer.prototype.slice)},a.prototype.string=function(){var e=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+e,this.len))},a._configure()},5054:e=>{"use strict";e.exports={}},5994:(e,t,n)=>{"use strict";t.Service=n(7948)},7948:(e,t,n)=>{"use strict";e.exports=r;var i=n(9693);function r(e,t,n){if("function"!=typeof e)throw TypeError("rpcImpl must be a function");i.EventEmitter.call(this),this.rpcImpl=e,this.requestDelimited=Boolean(t),this.responseDelimited=Boolean(n)}(r.prototype=Object.create(i.EventEmitter.prototype)).constructor=r,r.prototype.rpcCall=function e(t,n,r,a,o){if(!a)throw TypeError("request must be specified");var s=this;if(!o)return i.asPromise(e,s,t,n,r,a);if(s.rpcImpl)try{return s.rpcImpl(t,n[s.requestDelimited?"encodeDelimited":"encode"](a).finish(),(function(e,n){if(e)return s.emit("error",e,t),o(e);if(null!==n){if(!(n instanceof r))try{n=r[s.responseDelimited?"decodeDelimited":"decode"](n)}catch(e){return s.emit("error",e,t),o(e)}return s.emit("data",n,t),o(null,n)}s.end(!0)}))}catch(e){return s.emit("error",e,t),void setTimeout((function(){o(e)}),0)}else setTimeout((function(){o(Error("already ended"))}),0)},r.prototype.end=function(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}},1945:(e,t,n)=>{"use strict";e.exports=r;var i=n(9693);function r(e,t){this.lo=e>>>0,this.hi=t>>>0}var a=r.zero=new r(0,0);a.toNumber=function(){return 0},a.zzEncode=a.zzDecode=function(){return this},a.length=function(){return 1};var o=r.zeroHash="\0\0\0\0\0\0\0\0";r.fromNumber=function(e){if(0===e)return a;var t=e<0;t&&(e=-e);var n=e>>>0,i=(e-n)/4294967296>>>0;return t&&(i=~i>>>0,n=~n>>>0,++n>4294967295&&(n=0,++i>4294967295&&(i=0))),new r(n,i)},r.from=function(e){if("number"==typeof e)return r.fromNumber(e);if(i.isString(e)){if(!i.Long)return r.fromNumber(parseInt(e,10));e=i.Long.fromString(e)}return e.low||e.high?new r(e.low>>>0,e.high>>>0):a},r.prototype.toNumber=function(e){if(!e&&this.hi>>>31){var t=1+~this.lo>>>0,n=~this.hi>>>0;return t||(n=n+1>>>0),-(t+4294967296*n)}return this.lo+4294967296*this.hi},r.prototype.toLong=function(e){return i.Long?new i.Long(0|this.lo,0|this.hi,Boolean(e)):{low:0|this.lo,high:0|this.hi,unsigned:Boolean(e)}};var s=String.prototype.charCodeAt;r.fromHash=function(e){return e===o?a:new r((s.call(e,0)|s.call(e,1)<<8|s.call(e,2)<<16|s.call(e,3)<<24)>>>0,(s.call(e,4)|s.call(e,5)<<8|s.call(e,6)<<16|s.call(e,7)<<24)>>>0)},r.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},r.prototype.zzEncode=function(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this},r.prototype.zzDecode=function(){var e=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this},r.prototype.length=function(){var e=this.lo,t=(this.lo>>>28|this.hi<<4)>>>0,n=this.hi>>>24;return 0===n?0===t?e<16384?e<128?1:2:e<2097152?3:4:t<16384?t<128?5:6:t<2097152?7:8:n<128?9:10}},9693:function(e,t,n){"use strict";var i=t;function r(e,t,n){for(var i=Object.keys(t),r=0;r<i.length;++r)void 0!==e[i[r]]&&n||(e[i[r]]=t[i[r]]);return e}function a(e){function t(e,n){if(!(this instanceof t))return new t(e,n);Object.defineProperty(this,"message",{get:function(){return e}}),Error.captureStackTrace?Error.captureStackTrace(this,t):Object.defineProperty(this,"stack",{value:(new Error).stack||""}),n&&r(this,n)}return(t.prototype=Object.create(Error.prototype)).constructor=t,Object.defineProperty(t.prototype,"name",{get:function(){return e}}),t.prototype.toString=function(){return this.name+": "+this.message},t}i.asPromise=n(4537),i.base64=n(7419),i.EventEmitter=n(9211),i.float=n(945),i.inquire=n(7199),i.utf8=n(4997),i.pool=n(3130),i.LongBits=n(1945),i.isNode=Boolean(void 0!==n.g&&n.g&&n.g.process&&n.g.process.versions&&n.g.process.versions.node),i.global=i.isNode&&n.g||"undefined"!=typeof window&&window||"undefined"!=typeof self&&self||this,i.emptyArray=Object.freeze?Object.freeze([]):[],i.emptyObject=Object.freeze?Object.freeze({}):{},i.isInteger=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},i.isString=function(e){return"string"==typeof e||e instanceof String},i.isObject=function(e){return e&&"object"==typeof e},i.isset=i.isSet=function(e,t){var n=e[t];return!(null==n||!e.hasOwnProperty(t))&&("object"!=typeof n||(Array.isArray(n)?n.length:Object.keys(n).length)>0)},i.Buffer=function(){try{var e=i.inquire("buffer").Buffer;return e.prototype.utf8Write?e:null}catch(e){return null}}(),i._Buffer_from=null,i._Buffer_allocUnsafe=null,i.newBuffer=function(e){return"number"==typeof e?i.Buffer?i._Buffer_allocUnsafe(e):new i.Array(e):i.Buffer?i._Buffer_from(e):"undefined"==typeof Uint8Array?e:new Uint8Array(e)},i.Array="undefined"!=typeof Uint8Array?Uint8Array:Array,i.Long=i.global.dcodeIO&&i.global.dcodeIO.Long||i.global.Long||i.inquire("long"),i.key2Re=/^true|false|0|1$/,i.key32Re=/^-?(?:0|[1-9][0-9]*)$/,i.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,i.longToHash=function(e){return e?i.LongBits.from(e).toHash():i.LongBits.zeroHash},i.longFromHash=function(e,t){var n=i.LongBits.fromHash(e);return i.Long?i.Long.fromBits(n.lo,n.hi,t):n.toNumber(Boolean(t))},i.merge=r,i.lcFirst=function(e){return e.charAt(0).toLowerCase()+e.substring(1)},i.newError=a,i.ProtocolError=a("ProtocolError"),i.oneOfGetter=function(e){for(var t={},n=0;n<e.length;++n)t[e[n]]=1;return function(){for(var e=Object.keys(this),n=e.length-1;n>-1;--n)if(1===t[e[n]]&&void 0!==this[e[n]]&&null!==this[e[n]])return e[n]}},i.oneOfSetter=function(e){return function(t){for(var n=0;n<e.length;++n)e[n]!==t&&delete this[e[n]]}},i.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},i._configure=function(){var e=i.Buffer;e?(i._Buffer_from=e.from!==Uint8Array.from&&e.from||function(t,n){return new e(t,n)},i._Buffer_allocUnsafe=e.allocUnsafe||function(t){return new e(t)}):i._Buffer_from=i._Buffer_allocUnsafe=null}},1173:(e,t,n)=>{"use strict";e.exports=u;var i,r=n(9693),a=r.LongBits,o=r.base64,s=r.utf8;function c(e,t,n){this.fn=e,this.len=t,this.next=void 0,this.val=n}function d(){}function l(e){this.head=e.head,this.tail=e.tail,this.len=e.len,this.next=e.states}function u(){this.len=0,this.head=new c(d,0,0),this.tail=this.head,this.states=null}var h=function(){return r.Buffer?function(){return(u.create=function(){return new i})()}:function(){return new u}};function p(e,t,n){t[n]=255&e}function m(e,t){this.len=e,this.next=void 0,this.val=t}function f(e,t,n){for(;e.hi;)t[n++]=127&e.lo|128,e.lo=(e.lo>>>7|e.hi<<25)>>>0,e.hi>>>=7;for(;e.lo>127;)t[n++]=127&e.lo|128,e.lo=e.lo>>>7;t[n++]=e.lo}function g(e,t,n){t[n]=255&e,t[n+1]=e>>>8&255,t[n+2]=e>>>16&255,t[n+3]=e>>>24}u.create=h(),u.alloc=function(e){return new r.Array(e)},r.Array!==Array&&(u.alloc=r.pool(u.alloc,r.Array.prototype.subarray)),u.prototype._push=function(e,t,n){return this.tail=this.tail.next=new c(e,t,n),this.len+=t,this},m.prototype=Object.create(c.prototype),m.prototype.fn=function(e,t,n){for(;e>127;)t[n++]=127&e|128,e>>>=7;t[n]=e},u.prototype.uint32=function(e){return this.len+=(this.tail=this.tail.next=new m((e>>>=0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this},u.prototype.int32=function(e){return e<0?this._push(f,10,a.fromNumber(e)):this.uint32(e)},u.prototype.sint32=function(e){return this.uint32((e<<1^e>>31)>>>0)},u.prototype.uint64=function(e){var t=a.from(e);return this._push(f,t.length(),t)},u.prototype.int64=u.prototype.uint64,u.prototype.sint64=function(e){var t=a.from(e).zzEncode();return this._push(f,t.length(),t)},u.prototype.bool=function(e){return this._push(p,1,e?1:0)},u.prototype.fixed32=function(e){return this._push(g,4,e>>>0)},u.prototype.sfixed32=u.prototype.fixed32,u.prototype.fixed64=function(e){var t=a.from(e);return this._push(g,4,t.lo)._push(g,4,t.hi)},u.prototype.sfixed64=u.prototype.fixed64,u.prototype.float=function(e){return this._push(r.float.writeFloatLE,4,e)},u.prototype.double=function(e){return this._push(r.float.writeDoubleLE,8,e)};var w=r.Array.prototype.set?function(e,t,n){t.set(e,n)}:function(e,t,n){for(var i=0;i<e.length;++i)t[n+i]=e[i]};u.prototype.bytes=function(e){var t=e.length>>>0;if(!t)return this._push(p,1,0);if(r.isString(e)){var n=u.alloc(t=o.length(e));o.decode(e,n,0),e=n}return this.uint32(t)._push(w,t,e)},u.prototype.string=function(e){var t=s.length(e);return t?this.uint32(t)._push(s.write,t,e):this._push(p,1,0)},u.prototype.fork=function(){return this.states=new l(this),this.head=this.tail=new c(d,0,0),this.len=0,this},u.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new c(d,0,0),this.len=0),this},u.prototype.ldelim=function(){var e=this.head,t=this.tail,n=this.len;return this.reset().uint32(n),n&&(this.tail.next=e.next,this.tail=t,this.len+=n),this},u.prototype.finish=function(){for(var e=this.head.next,t=this.constructor.alloc(this.len),n=0;e;)e.fn(e.val,t,n),n+=e.len,e=e.next;return t},u._configure=function(e){i=e,u.create=h(),i._configure()}},3155:(e,t,n)=>{"use strict";e.exports=a;var i=n(1173);(a.prototype=Object.create(i.prototype)).constructor=a;var r=n(9693);function a(){i.call(this)}function o(e,t,n){e.length<40?r.utf8.write(e,t,n):t.utf8Write?t.utf8Write(e,n):t.write(e,n)}a._configure=function(){a.alloc=r._Buffer_allocUnsafe,a.writeBytesBuffer=r.Buffer&&r.Buffer.prototype instanceof Uint8Array&&"set"===r.Buffer.prototype.set.name?function(e,t,n){t.set(e,n)}:function(e,t,n){if(e.copy)e.copy(t,n,0,e.length);else for(var i=0;i<e.length;)t[n++]=e[i++]}},a.prototype.bytes=function(e){r.isString(e)&&(e=r._Buffer_from(e,"base64"));var t=e.length>>>0;return this.uint32(t),t&&this._push(a.writeBytesBuffer,t,e),this},a.prototype.string=function(e){var t=r.Buffer.byteLength(e);return this.uint32(t),t&&this._push(o,t,e),this},a._configure()},2587:e=>{"use strict";function t(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,n,i,r){n=n||"&",i=i||"=";var a={};if("string"!=typeof e||0===e.length)return a;var o=/\+/g;e=e.split(n);var s=1e3;r&&"number"==typeof r.maxKeys&&(s=r.maxKeys);var c=e.length;s>0&&c>s&&(c=s);for(var d=0;d<c;++d){var l,u,h,p,m=e[d].replace(o,"%20"),f=m.indexOf(i);f>=0?(l=m.substr(0,f),u=m.substr(f+1)):(l=m,u=""),h=decodeURIComponent(l),p=decodeURIComponent(u),t(a,h)?Array.isArray(a[h])?a[h].push(p):a[h]=[a[h],p]:a[h]=p}return a}},2361:e=>{"use strict";var t=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,n,i,r){return n=n||"&",i=i||"=",null===e&&(e=void 0),"object"==typeof e?Object.keys(e).map((function(r){var a=encodeURIComponent(t(r))+i;return Array.isArray(e[r])?e[r].map((function(e){return a+encodeURIComponent(t(e))})).join(n):a+encodeURIComponent(t(e[r]))})).join(n):r?encodeURIComponent(t(r))+i+encodeURIComponent(t(e)):""}},7673:(e,t,n)=>{"use strict";t.decode=t.parse=n(2587),t.encode=t.stringify=n(2361)},4153:e=>{const t=/^[-+]?0x[a-fA-F0-9]+$/,n=/^([\-\+])?(0*)(\.[0-9]+([eE]\-?[0-9]+)?|[0-9]+(\.[0-9]+([eE]\-?[0-9]+)?)?)$/;!Number.parseInt&&window.parseInt&&(Number.parseInt=window.parseInt),!Number.parseFloat&&window.parseFloat&&(Number.parseFloat=window.parseFloat);const i={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};e.exports=function(e,r={}){if(r=Object.assign({},i,r),!e||"string"!=typeof e)return e;let a=e.trim();if(void 0!==r.skipLike&&r.skipLike.test(a))return e;if(r.hex&&t.test(a))return Number.parseInt(a,16);{const t=n.exec(a);if(t){const n=t[1],i=t[2];let s=(o=t[3])&&-1!==o.indexOf(".")?("."===(o=o.replace(/0+$/,""))?o="0":"."===o[0]?o="0"+o:"."===o[o.length-1]&&(o=o.substr(0,o.length-1)),o):o;const c=t[4]||t[6];if(!r.leadingZeros&&i.length>0&&n&&"."!==a[2])return e;if(!r.leadingZeros&&i.length>0&&!n&&"."!==a[1])return e;{const t=Number(a),o=""+t;return-1!==o.search(/[eE]/)||c?r.eNotation?t:e:-1!==a.indexOf(".")?"0"===o&&""===s||o===s||n&&o==="-"+s?t:e:i?s===o||n+s===o?t:e:a===o||a===n+o?t:e}}return e}var o}},2238:function(e,t,n){var i;!function(r,a){"use strict";var o="function",s="undefined",c="object",d="string",l="major",u="model",h="name",p="type",m="vendor",f="version",g="architecture",w="console",y="mobile",v="tablet",b="smarttv",S="wearable",E="embedded",C="Amazon",x="Apple",I="ASUS",k="BlackBerry",P="Browser",A="Chrome",T="Firefox",M="Google",R="Huawei",F="LG",_="Microsoft",O="Motorola",U="Opera",N="Samsung",z="Sharp",D="Sony",L="Xiaomi",B="Zebra",q="Facebook",V="Chromium OS",j="Mac OS",W=function(e){for(var t={},n=0;n<e.length;n++)t[e[n].toUpperCase()]=e[n];return t},$=function(e,t){return typeof e===d&&-1!==H(t).indexOf(H(e))},H=function(e){return e.toLowerCase()},G=function(e,t){if(typeof e===d)return e=e.replace(/^\s\s*/,""),typeof t===s?e:e.substring(0,350)},K=function(e,t){for(var n,i,r,s,d,l,u=0;u<t.length&&!d;){var h=t[u],p=t[u+1];for(n=i=0;n<h.length&&!d&&h[n];)if(d=h[n++].exec(e))for(r=0;r<p.length;r++)l=d[++i],typeof(s=p[r])===c&&s.length>0?2===s.length?typeof s[1]==o?this[s[0]]=s[1].call(this,l):this[s[0]]=s[1]:3===s.length?typeof s[1]!==o||s[1].exec&&s[1].test?this[s[0]]=l?l.replace(s[1],s[2]):a:this[s[0]]=l?s[1].call(this,l,s[2]):a:4===s.length&&(this[s[0]]=l?s[3].call(this,l.replace(s[1],s[2])):a):this[s]=l||a;u+=2}},Y=function(e,t){for(var n in t)if(typeof t[n]===c&&t[n].length>0){for(var i=0;i<t[n].length;i++)if($(t[n][i],e))return"?"===n?a:n}else if($(t[n],e))return"?"===n?a:n;return e},J={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},X={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[f,[h,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[f,[h,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[h,f],[/opios[\/ ]+([\w\.]+)/i],[f,[h,U+" Mini"]],[/\bopr\/([\w\.]+)/i],[f,[h,U]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[h,f],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[f,[h,"UC"+P]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i],[f,[h,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[f,[h,"WeChat"]],[/konqueror\/([\w\.]+)/i],[f,[h,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[f,[h,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[f,[h,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[h,/(.+)/,"$1 Secure "+P],f],[/\bfocus\/([\w\.]+)/i],[f,[h,T+" Focus"]],[/\bopt\/([\w\.]+)/i],[f,[h,U+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[f,[h,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[f,[h,"Dolphin"]],[/coast\/([\w\.]+)/i],[f,[h,U+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[f,[h,"MIUI "+P]],[/fxios\/([-\w\.]+)/i],[f,[h,T]],[/\bqihu|(qi?ho?o?|360)browser/i],[[h,"360 "+P]],[/(oculus|samsung|sailfish|huawei)browser\/([\w\.]+)/i],[[h,/(.+)/,"$1 "+P],f],[/(comodo_dragon)\/([\w\.]+)/i],[[h,/_/g," "],f],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[h,f],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i,/\[(linkedin)app\]/i],[h],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[h,q],f],[/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[h,f],[/\bgsa\/([\w\.]+) .*safari\//i],[f,[h,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[f,[h,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[f,[h,A+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[h,A+" WebView"],f],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[f,[h,"Android "+P]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[h,f],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[f,[h,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[f,h],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[h,[f,Y,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[h,f],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[h,"Netscape"],f],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[f,[h,T+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i,/panasonic;(viera)/i],[h,f],[/(cobalt)\/([\w\.]+)/i],[h,[f,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[g,"amd64"]],[/(ia32(?=;))/i],[[g,H]],[/((?:i[346]|x)86)[;\)]/i],[[g,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[g,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[g,"armhf"]],[/windows (ce|mobile); ppc;/i],[[g,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[g,/ower/,"",H]],[/(sun4\w)[;\)]/i],[[g,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[g,H]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[u,[m,N],[p,v]],[/\b((?:s[cgp]h|gt|sm)-\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[u,[m,N],[p,y]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[u,[m,x],[p,y]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[u,[m,x],[p,v]],[/(macintosh);/i],[u,[m,x]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[u,[m,z],[p,y]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[u,[m,R],[p,v]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[u,[m,R],[p,y]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[u,/_/g," "],[m,L],[p,y]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[u,/_/g," "],[m,L],[p,v]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[u,[m,"OPPO"],[p,y]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[u,[m,"Vivo"],[p,y]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[u,[m,"Realme"],[p,y]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[u,[m,O],[p,y]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[u,[m,O],[p,v]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[u,[m,F],[p,v]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[u,[m,F],[p,y]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[u,[m,"Lenovo"],[p,v]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[u,/_/g," "],[m,"Nokia"],[p,y]],[/(pixel c)\b/i],[u,[m,M],[p,v]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[u,[m,M],[p,y]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[u,[m,D],[p,y]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[u,"Xperia Tablet"],[m,D],[p,v]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[u,[m,"OnePlus"],[p,y]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[u,[m,C],[p,v]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[u,/(.+)/g,"Fire Phone $1"],[m,C],[p,y]],[/(playbook);[-\w\),; ]+(rim)/i],[u,m,[p,v]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[u,[m,k],[p,y]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[u,[m,I],[p,v]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[u,[m,I],[p,y]],[/(nexus 9)/i],[u,[m,"HTC"],[p,v]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[m,[u,/_/g," "],[p,y]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[u,[m,"Acer"],[p,v]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[u,[m,"Meizu"],[p,y]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[m,u,[p,y]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[m,u,[p,v]],[/(surface duo)/i],[u,[m,_],[p,v]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[u,[m,"Fairphone"],[p,y]],[/(u304aa)/i],[u,[m,"AT&T"],[p,y]],[/\bsie-(\w*)/i],[u,[m,"Siemens"],[p,y]],[/\b(rct\w+) b/i],[u,[m,"RCA"],[p,v]],[/\b(venue[\d ]{2,7}) b/i],[u,[m,"Dell"],[p,v]],[/\b(q(?:mv|ta)\w+) b/i],[u,[m,"Verizon"],[p,v]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[u,[m,"Barnes & Noble"],[p,v]],[/\b(tm\d{3}\w+) b/i],[u,[m,"NuVision"],[p,v]],[/\b(k88) b/i],[u,[m,"ZTE"],[p,v]],[/\b(nx\d{3}j) b/i],[u,[m,"ZTE"],[p,y]],[/\b(gen\d{3}) b.+49h/i],[u,[m,"Swiss"],[p,y]],[/\b(zur\d{3}) b/i],[u,[m,"Swiss"],[p,v]],[/\b((zeki)?tb.*\b) b/i],[u,[m,"Zeki"],[p,v]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[m,"Dragon Touch"],u,[p,v]],[/\b(ns-?\w{0,9}) b/i],[u,[m,"Insignia"],[p,v]],[/\b((nxa|next)-?\w{0,9}) b/i],[u,[m,"NextBook"],[p,v]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[m,"Voice"],u,[p,y]],[/\b(lvtel\-)?(v1[12]) b/i],[[m,"LvTel"],u,[p,y]],[/\b(ph-1) /i],[u,[m,"Essential"],[p,y]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[u,[m,"Envizen"],[p,v]],[/\b(trio[-\w\. ]+) b/i],[u,[m,"MachSpeed"],[p,v]],[/\btu_(1491) b/i],[u,[m,"Rotor"],[p,v]],[/(shield[\w ]+) b/i],[u,[m,"Nvidia"],[p,v]],[/(sprint) (\w+)/i],[m,u,[p,y]],[/(kin\.[onetw]{3})/i],[[u,/\./g," "],[m,_],[p,y]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[u,[m,B],[p,v]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[u,[m,B],[p,y]],[/smart-tv.+(samsung)/i],[m,[p,b]],[/hbbtv.+maple;(\d+)/i],[[u,/^/,"SmartTV"],[m,N],[p,b]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[m,F],[p,b]],[/(apple) ?tv/i],[m,[u,x+" TV"],[p,b]],[/crkey/i],[[u,A+"cast"],[m,M],[p,b]],[/droid.+aft(\w)( bui|\))/i],[u,[m,C],[p,b]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[u,[m,z],[p,b]],[/(bravia[\w ]+)( bui|\))/i],[u,[m,D],[p,b]],[/(mitv-\w{5}) bui/i],[u,[m,L],[p,b]],[/Hbbtv.*(technisat) (.*);/i],[m,u,[p,b]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[m,G],[u,G],[p,b]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[p,b]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[m,u,[p,w]],[/droid.+; (shield) bui/i],[u,[m,"Nvidia"],[p,w]],[/(playstation [345portablevi]+)/i],[u,[m,D],[p,w]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[u,[m,_],[p,w]],[/((pebble))app/i],[m,u,[p,S]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[u,[m,x],[p,S]],[/droid.+; (glass) \d/i],[u,[m,M],[p,S]],[/droid.+; (wt63?0{2,3})\)/i],[u,[m,B],[p,S]],[/(quest( 2| pro)?)/i],[u,[m,q],[p,S]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[m,[p,E]],[/(aeobc)\b/i],[u,[m,C],[p,E]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[u,[p,y]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[u,[p,v]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[p,v]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[p,y]],[/(android[-\w\. ]{0,9});.+buil/i],[u,[m,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[f,[h,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[f,[h,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[h,f],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[f,h]],os:[[/microsoft (windows) (vista|xp)/i],[h,f],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[h,[f,Y,J]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[h,"Windows"],[f,Y,J]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/ios;fbsv\/([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[f,/_/g,"."],[h,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[h,j],[f,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[f,h],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[h,f],[/\(bb(10);/i],[f,[h,k]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[f,[h,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[f,[h,T+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[f,[h,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[f,[h,"watchOS"]],[/crkey\/([\d\.]+)/i],[f,[h,A+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[h,V],f],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[h,f],[/(sunos) ?([\w\.\d]*)/i],[[h,"Solaris"],f],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[h,f]]},Z=function(e,t){if(typeof e===c&&(t=e,e=a),!(this instanceof Z))return new Z(e,t).getResult();var n=typeof r!==s&&r.navigator?r.navigator:a,i=e||(n&&n.userAgent?n.userAgent:""),w=n&&n.userAgentData?n.userAgentData:a,b=t?function(e,t){var n={};for(var i in e)t[i]&&t[i].length%2==0?n[i]=t[i].concat(e[i]):n[i]=e[i];return n}(X,t):X,S=n&&n.userAgent==i;return this.getBrowser=function(){var e,t={};return t[h]=a,t[f]=a,K.call(t,i,b.browser),t[l]=typeof(e=t[f])===d?e.replace(/[^\d\.]/g,"").split(".")[0]:a,S&&n&&n.brave&&typeof n.brave.isBrave==o&&(t[h]="Brave"),t},this.getCPU=function(){var e={};return e[g]=a,K.call(e,i,b.cpu),e},this.getDevice=function(){var e={};return e[m]=a,e[u]=a,e[p]=a,K.call(e,i,b.device),S&&!e[p]&&w&&w.mobile&&(e[p]=y),S&&"Macintosh"==e[u]&&n&&typeof n.standalone!==s&&n.maxTouchPoints&&n.maxTouchPoints>2&&(e[u]="iPad",e[p]=v),e},this.getEngine=function(){var e={};return e[h]=a,e[f]=a,K.call(e,i,b.engine),e},this.getOS=function(){var e={};return e[h]=a,e[f]=a,K.call(e,i,b.os),S&&!e[h]&&w&&"Unknown"!=w.platform&&(e[h]=w.platform.replace(/chrome os/i,V).replace(/macos/i,j)),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return i},this.setUA=function(e){return i=typeof e===d&&e.length>350?G(e,350):e,this},this.setUA(i),this};Z.VERSION="1.0.35",Z.BROWSER=W([h,f,l]),Z.CPU=W([g]),Z.DEVICE=W([u,m,p,w,y,b,v,S,E]),Z.ENGINE=Z.OS=W([h,f]),typeof t!==s?(e.exports&&(t=e.exports=Z),t.UAParser=Z):n.amdO?(i=function(){return Z}.call(t,n,t,e))===a||(e.exports=i):typeof r!==s&&(r.UAParser=Z);var Q=typeof r!==s&&(r.jQuery||r.Zepto);if(Q&&!Q.ua){var ee=new Z;Q.ua=ee.getResult(),Q.ua.get=function(){return ee.getUA()},Q.ua.set=function(e){ee.setUA(e);var t=ee.getResult();for(var n in t)Q.ua[n]=t[n]}}}("object"==typeof window?window:this)},2511:function(e,t,n){var i;e=n.nmd(e),function(r){t&&t.nodeType,e&&e.nodeType;var a="object"==typeof n.g&&n.g;a.global!==a&&a.window!==a&&a.self;var o,s=2147483647,c=36,d=26,l=38,u=700,h=/^xn--/,p=/[^\x20-\x7E]/,m=/[\x2E\u3002\uFF0E\uFF61]/g,f={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},g=c-1,w=Math.floor,y=String.fromCharCode;function v(e){throw RangeError(f[e])}function b(e,t){for(var n=e.length,i=[];n--;)i[n]=t(e[n]);return i}function S(e,t){var n=e.split("@"),i="";return n.length>1&&(i=n[0]+"@",e=n[1]),i+b((e=e.replace(m,".")).split("."),t).join(".")}function E(e){for(var t,n,i=[],r=0,a=e.length;r<a;)(t=e.charCodeAt(r++))>=55296&&t<=56319&&r<a?56320==(64512&(n=e.charCodeAt(r++)))?i.push(((1023&t)<<10)+(1023&n)+65536):(i.push(t),r--):i.push(t);return i}function C(e){return b(e,(function(e){var t="";return e>65535&&(t+=y((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+y(e)})).join("")}function x(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function I(e,t,n){var i=0;for(e=n?w(e/u):e>>1,e+=w(e/t);e>g*d>>1;i+=c)e=w(e/g);return w(i+(g+1)*e/(e+l))}function k(e){var t,n,i,r,a,o,l,u,h,p,m,f=[],g=e.length,y=0,b=128,S=72;for((n=e.lastIndexOf("-"))<0&&(n=0),i=0;i<n;++i)e.charCodeAt(i)>=128&&v("not-basic"),f.push(e.charCodeAt(i));for(r=n>0?n+1:0;r<g;){for(a=y,o=1,l=c;r>=g&&v("invalid-input"),((u=(m=e.charCodeAt(r++))-48<10?m-22:m-65<26?m-65:m-97<26?m-97:c)>=c||u>w((s-y)/o))&&v("overflow"),y+=u*o,!(u<(h=l<=S?1:l>=S+d?d:l-S));l+=c)o>w(s/(p=c-h))&&v("overflow"),o*=p;S=I(y-a,t=f.length+1,0==a),w(y/t)>s-b&&v("overflow"),b+=w(y/t),y%=t,f.splice(y++,0,b)}return C(f)}function P(e){var t,n,i,r,a,o,l,u,h,p,m,f,g,b,S,C=[];for(f=(e=E(e)).length,t=128,n=0,a=72,o=0;o<f;++o)(m=e[o])<128&&C.push(y(m));for(i=r=C.length,r&&C.push("-");i<f;){for(l=s,o=0;o<f;++o)(m=e[o])>=t&&m<l&&(l=m);for(l-t>w((s-n)/(g=i+1))&&v("overflow"),n+=(l-t)*g,t=l,o=0;o<f;++o)if((m=e[o])<t&&++n>s&&v("overflow"),m==t){for(u=n,h=c;!(u<(p=h<=a?1:h>=a+d?d:h-a));h+=c)S=u-p,b=c-p,C.push(y(x(p+S%b,0))),u=w(S/b);C.push(y(x(u,0))),a=I(n,g,i==r),n=0,++i}++n,++t}return C.join("")}o={version:"1.3.2",ucs2:{decode:E,encode:C},decode:k,encode:P,toASCII:function(e){return S(e,(function(e){return p.test(e)?"xn--"+P(e):e}))},toUnicode:function(e){return S(e,(function(e){return h.test(e)?k(e.slice(4).toLowerCase()):e}))}},void 0===(i=function(){return o}.call(t,n,t,e))||(e.exports=i)}()},8575:(e,t,n)=>{var i=n(2511);function r(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}t.parse=w,t.resolve=function(e,t){return w(e,!1,!0).resolve(t)},t.resolveObject=function(e,t){return e?w(e,!1,!0).resolveObject(t):t},t.format=function(e){return y(e)&&(e=w(e)),e instanceof r?e.format():r.prototype.format.call(e)},t.Url=r;var a=/^([a-z0-9.+-]+:)/i,o=/:[0-9]*$/,s=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),c=["'"].concat(s),d=["%","/","?",";","#"].concat(c),l=["/","?","#"],u=/^[a-z0-9A-Z_-]{0,63}$/,h=/^([a-z0-9A-Z_-]{0,63})(.*)$/,p={javascript:!0,"javascript:":!0},m={javascript:!0,"javascript:":!0},f={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},g=n(7673);function w(e,t,n){if(e&&v(e)&&e instanceof r)return e;var i=new r;return i.parse(e,t,n),i}function y(e){return"string"==typeof e}function v(e){return"object"==typeof e&&null!==e}function b(e){return null===e}r.prototype.parse=function(e,t,n){if(!y(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var r=e;r=r.trim();var o=a.exec(r);if(o){var s=(o=o[0]).toLowerCase();this.protocol=s,r=r.substr(o.length)}if(n||o||r.match(/^\/\/[^@\/]+@[^@\/]+/)){var w="//"===r.substr(0,2);!w||o&&m[o]||(r=r.substr(2),this.slashes=!0)}if(!m[o]&&(w||o&&!f[o])){for(var v,b,S=-1,E=0;E<l.length;E++)-1!==(C=r.indexOf(l[E]))&&(-1===S||C<S)&&(S=C);for(-1!==(b=-1===S?r.lastIndexOf("@"):r.lastIndexOf("@",S))&&(v=r.slice(0,b),r=r.slice(b+1),this.auth=decodeURIComponent(v)),S=-1,E=0;E<d.length;E++){var C;-1!==(C=r.indexOf(d[E]))&&(-1===S||C<S)&&(S=C)}-1===S&&(S=r.length),this.host=r.slice(0,S),r=r.slice(S),this.parseHost(),this.hostname=this.hostname||"";var x="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!x)for(var I=this.hostname.split(/\./),k=(E=0,I.length);E<k;E++){var P=I[E];if(P&&!P.match(u)){for(var A="",T=0,M=P.length;T<M;T++)P.charCodeAt(T)>127?A+="x":A+=P[T];if(!A.match(u)){var R=I.slice(0,E),F=I.slice(E+1),_=P.match(h);_&&(R.push(_[1]),F.unshift(_[2])),F.length&&(r="/"+F.join(".")+r),this.hostname=R.join(".");break}}}if(this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),!x){var O=this.hostname.split("."),U=[];for(E=0;E<O.length;++E){var N=O[E];U.push(N.match(/[^A-Za-z0-9_-]/)?"xn--"+i.encode(N):N)}this.hostname=U.join(".")}var z=this.port?":"+this.port:"",D=this.hostname||"";this.host=D+z,this.href+=this.host,x&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==r[0]&&(r="/"+r))}if(!p[s])for(E=0,k=c.length;E<k;E++){var L=c[E],B=encodeURIComponent(L);B===L&&(B=escape(L)),r=r.split(L).join(B)}var q=r.indexOf("#");-1!==q&&(this.hash=r.substr(q),r=r.slice(0,q));var V=r.indexOf("?");return-1!==V?(this.search=r.substr(V),this.query=r.substr(V+1),t&&(this.query=g.parse(this.query)),r=r.slice(0,V)):t&&(this.search="",this.query={}),r&&(this.pathname=r),f[s]&&this.hostname&&!this.pathname&&(this.pathname="/"),(this.pathname||this.search)&&(z=this.pathname||"",N=this.search||"",this.path=z+N),this.href=this.format(),this},r.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",n=this.pathname||"",i=this.hash||"",r=!1,a="";this.host?r=e+this.host:this.hostname&&(r=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(r+=":"+this.port)),this.query&&v(this.query)&&Object.keys(this.query).length&&(a=g.stringify(this.query));var o=this.search||a&&"?"+a||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||f[t])&&!1!==r?(r="//"+(r||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):r||(r=""),i&&"#"!==i.charAt(0)&&(i="#"+i),o&&"?"!==o.charAt(0)&&(o="?"+o),t+r+(n=n.replace(/[?#]/g,(function(e){return encodeURIComponent(e)})))+(o=o.replace("#","%23"))+i},r.prototype.resolve=function(e){return this.resolveObject(w(e,!1,!0)).format()},r.prototype.resolveObject=function(e){if(y(e)){var t=new r;t.parse(e,!1,!0),e=t}var n=new r;if(Object.keys(this).forEach((function(e){n[e]=this[e]}),this),n.hash=e.hash,""===e.href)return n.href=n.format(),n;if(e.slashes&&!e.protocol)return Object.keys(e).forEach((function(t){"protocol"!==t&&(n[t]=e[t])})),f[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n;if(e.protocol&&e.protocol!==n.protocol){if(!f[e.protocol])return Object.keys(e).forEach((function(t){n[t]=e[t]})),n.href=n.format(),n;if(n.protocol=e.protocol,e.host||m[e.protocol])n.pathname=e.pathname;else{for(var i=(e.pathname||"").split("/");i.length&&!(e.host=i.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==i[0]&&i.unshift(""),i.length<2&&i.unshift(""),n.pathname=i.join("/")}if(n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,n.pathname||n.search){var a=n.pathname||"",o=n.search||"";n.path=a+o}return n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var s=n.pathname&&"/"===n.pathname.charAt(0),c=e.host||e.pathname&&"/"===e.pathname.charAt(0),d=c||s||n.host&&e.pathname,l=d,u=n.pathname&&n.pathname.split("/")||[],h=(i=e.pathname&&e.pathname.split("/")||[],n.protocol&&!f[n.protocol]);if(h&&(n.hostname="",n.port=null,n.host&&(""===u[0]?u[0]=n.host:u.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===i[0]?i[0]=e.host:i.unshift(e.host)),e.host=null),d=d&&(""===i[0]||""===u[0])),c)n.host=e.host||""===e.host?e.host:n.host,n.hostname=e.hostname||""===e.hostname?e.hostname:n.hostname,n.search=e.search,n.query=e.query,u=i;else if(i.length)u||(u=[]),u.pop(),u=u.concat(i),n.search=e.search,n.query=e.query;else if(null!=e.search)return h&&(n.hostname=n.host=u.shift(),(S=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=S.shift(),n.host=n.hostname=S.shift())),n.search=e.search,n.query=e.query,b(n.pathname)&&b(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n;if(!u.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var p=u.slice(-1)[0],g=(n.host||e.host)&&("."===p||".."===p)||""===p,w=0,v=u.length;v>=0;v--)"."==(p=u[v])?u.splice(v,1):".."===p?(u.splice(v,1),w++):w&&(u.splice(v,1),w--);if(!d&&!l)for(;w--;w)u.unshift("..");!d||""===u[0]||u[0]&&"/"===u[0].charAt(0)||u.unshift(""),g&&"/"!==u.join("/").substr(-1)&&u.push("");var S,E=""===u[0]||u[0]&&"/"===u[0].charAt(0);return h&&(n.hostname=n.host=E?"":u.length?u.shift():"",(S=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=S.shift(),n.host=n.hostname=S.shift())),(d=d||n.host&&u.length)&&!E&&u.unshift(""),u.length?n.pathname=u.join("/"):(n.pathname=null,n.path=null),b(n.pathname)&&b(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n},r.prototype.parseHost=function(){var e=this.host,t=o.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},384:e=>{e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},5955:(e,t,n)=>{"use strict";var i=n(2584),r=n(8662),a=n(6430),o=n(5692);function s(e){return e.call.bind(e)}var c="undefined"!=typeof BigInt,d="undefined"!=typeof Symbol,l=s(Object.prototype.toString),u=s(Number.prototype.valueOf),h=s(String.prototype.valueOf),p=s(Boolean.prototype.valueOf);if(c)var m=s(BigInt.prototype.valueOf);if(d)var f=s(Symbol.prototype.valueOf);function g(e,t){if("object"!=typeof e)return!1;try{return t(e),!0}catch(e){return!1}}function w(e){return"[object Map]"===l(e)}function y(e){return"[object Set]"===l(e)}function v(e){return"[object WeakMap]"===l(e)}function b(e){return"[object WeakSet]"===l(e)}function S(e){return"[object ArrayBuffer]"===l(e)}function E(e){return"undefined"!=typeof ArrayBuffer&&(S.working?S(e):e instanceof ArrayBuffer)}function C(e){return"[object DataView]"===l(e)}function x(e){return"undefined"!=typeof DataView&&(C.working?C(e):e instanceof DataView)}t.isArgumentsObject=i,t.isGeneratorFunction=r,t.isTypedArray=o,t.isPromise=function(e){return"undefined"!=typeof Promise&&e instanceof Promise||null!==e&&"object"==typeof e&&"function"==typeof e.then&&"function"==typeof e.catch},t.isArrayBufferView=function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):o(e)||x(e)},t.isUint8Array=function(e){return"Uint8Array"===a(e)},t.isUint8ClampedArray=function(e){return"Uint8ClampedArray"===a(e)},t.isUint16Array=function(e){return"Uint16Array"===a(e)},t.isUint32Array=function(e){return"Uint32Array"===a(e)},t.isInt8Array=function(e){return"Int8Array"===a(e)},t.isInt16Array=function(e){return"Int16Array"===a(e)},t.isInt32Array=function(e){return"Int32Array"===a(e)},t.isFloat32Array=function(e){return"Float32Array"===a(e)},t.isFloat64Array=function(e){return"Float64Array"===a(e)},t.isBigInt64Array=function(e){return"BigInt64Array"===a(e)},t.isBigUint64Array=function(e){return"BigUint64Array"===a(e)},w.working="undefined"!=typeof Map&&w(new Map),t.isMap=function(e){return"undefined"!=typeof Map&&(w.working?w(e):e instanceof Map)},y.working="undefined"!=typeof Set&&y(new Set),t.isSet=function(e){return"undefined"!=typeof Set&&(y.working?y(e):e instanceof Set)},v.working="undefined"!=typeof WeakMap&&v(new WeakMap),t.isWeakMap=function(e){return"undefined"!=typeof WeakMap&&(v.working?v(e):e instanceof WeakMap)},b.working="undefined"!=typeof WeakSet&&b(new WeakSet),t.isWeakSet=function(e){return b(e)},S.working="undefined"!=typeof ArrayBuffer&&S(new ArrayBuffer),t.isArrayBuffer=E,C.working="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView&&C(new DataView(new ArrayBuffer(1),0,1)),t.isDataView=x;var I="undefined"!=typeof SharedArrayBuffer?SharedArrayBuffer:void 0;function k(e){return"[object SharedArrayBuffer]"===l(e)}function P(e){return void 0!==I&&(void 0===k.working&&(k.working=k(new I)),k.working?k(e):e instanceof I)}function A(e){return g(e,u)}function T(e){return g(e,h)}function M(e){return g(e,p)}function R(e){return c&&g(e,m)}function F(e){return d&&g(e,f)}t.isSharedArrayBuffer=P,t.isAsyncFunction=function(e){return"[object AsyncFunction]"===l(e)},t.isMapIterator=function(e){return"[object Map Iterator]"===l(e)},t.isSetIterator=function(e){return"[object Set Iterator]"===l(e)},t.isGeneratorObject=function(e){return"[object Generator]"===l(e)},t.isWebAssemblyCompiledModule=function(e){return"[object WebAssembly.Module]"===l(e)},t.isNumberObject=A,t.isStringObject=T,t.isBooleanObject=M,t.isBigIntObject=R,t.isSymbolObject=F,t.isBoxedPrimitive=function(e){return A(e)||T(e)||M(e)||R(e)||F(e)},t.isAnyArrayBuffer=function(e){return"undefined"!=typeof Uint8Array&&(E(e)||P(e))},["isProxy","isExternal","isModuleNamespaceObject"].forEach((function(e){Object.defineProperty(t,e,{enumerable:!1,value:function(){throw new Error(e+" is not supported in userland")}})}))},9539:(e,t,n)=>{var i=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),n={},i=0;i<t.length;i++)n[t[i]]=Object.getOwnPropertyDescriptor(e,t[i]);return n},r=/%[sdj%]/g;t.format=function(e){if(!y(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(c(arguments[n]));return t.join(" ")}n=1;for(var i=arguments,a=i.length,o=String(e).replace(r,(function(e){if("%%"===e)return"%";if(n>=a)return e;switch(e){case"%s":return String(i[n++]);case"%d":return Number(i[n++]);case"%j":try{return JSON.stringify(i[n++])}catch(e){return"[Circular]"}default:return e}})),s=i[n];n<a;s=i[++n])g(s)||!S(s)?o+=" "+s:o+=" "+c(s);return o},t.deprecate=function(e,n){if("undefined"!=typeof process&&!0===process.noDeprecation)return e;if("undefined"==typeof process)return function(){return t.deprecate(e,n).apply(this,arguments)};var i=!1;return function(){if(!i){if(process.throwDeprecation)throw new Error(n);process.traceDeprecation?console.trace(n):console.error(n),i=!0}return e.apply(this,arguments)}};var a={},o=/^$/;if(process.env.NODE_DEBUG){var s=process.env.NODE_DEBUG;s=s.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),o=new RegExp("^"+s+"$","i")}function c(e,n){var i={seen:[],stylize:l};return arguments.length>=3&&(i.depth=arguments[2]),arguments.length>=4&&(i.colors=arguments[3]),f(n)?i.showHidden=n:n&&t._extend(i,n),v(i.showHidden)&&(i.showHidden=!1),v(i.depth)&&(i.depth=2),v(i.colors)&&(i.colors=!1),v(i.customInspect)&&(i.customInspect=!0),i.colors&&(i.stylize=d),u(i,e,i.depth)}function d(e,t){var n=c.styles[t];return n?"["+c.colors[n][0]+"m"+e+"["+c.colors[n][1]+"m":e}function l(e,t){return e}function u(e,n,i){if(e.customInspect&&n&&x(n.inspect)&&n.inspect!==t.inspect&&(!n.constructor||n.constructor.prototype!==n)){var r=n.inspect(i,e);return y(r)||(r=u(e,r,i)),r}var a=function(e,t){if(v(t))return e.stylize("undefined","undefined");if(y(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}return w(t)?e.stylize(""+t,"number"):f(t)?e.stylize(""+t,"boolean"):g(t)?e.stylize("null","null"):void 0}(e,n);if(a)return a;var o=Object.keys(n),s=function(e){var t={};return e.forEach((function(e,n){t[e]=!0})),t}(o);if(e.showHidden&&(o=Object.getOwnPropertyNames(n)),C(n)&&(o.indexOf("message")>=0||o.indexOf("description")>=0))return h(n);if(0===o.length){if(x(n)){var c=n.name?": "+n.name:"";return e.stylize("[Function"+c+"]","special")}if(b(n))return e.stylize(RegExp.prototype.toString.call(n),"regexp");if(E(n))return e.stylize(Date.prototype.toString.call(n),"date");if(C(n))return h(n)}var d,l="",S=!1,I=["{","}"];return m(n)&&(S=!0,I=["[","]"]),x(n)&&(l=" [Function"+(n.name?": "+n.name:"")+"]"),b(n)&&(l=" "+RegExp.prototype.toString.call(n)),E(n)&&(l=" "+Date.prototype.toUTCString.call(n)),C(n)&&(l=" "+h(n)),0!==o.length||S&&0!=n.length?i<0?b(n)?e.stylize(RegExp.prototype.toString.call(n),"regexp"):e.stylize("[Object]","special"):(e.seen.push(n),d=S?function(e,t,n,i,r){for(var a=[],o=0,s=t.length;o<s;++o)A(t,String(o))?a.push(p(e,t,n,i,String(o),!0)):a.push("");return r.forEach((function(r){r.match(/^\d+$/)||a.push(p(e,t,n,i,r,!0))})),a}(e,n,i,s,o):o.map((function(t){return p(e,n,i,s,t,S)})),e.seen.pop(),function(e,t,n){return e.reduce((function(e,t){return t.indexOf("\n"),e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60?n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1]:n[0]+t+" "+e.join(", ")+" "+n[1]}(d,l,I)):I[0]+l+I[1]}function h(e){return"["+Error.prototype.toString.call(e)+"]"}function p(e,t,n,i,r,a){var o,s,c;if((c=Object.getOwnPropertyDescriptor(t,r)||{value:t[r]}).get?s=c.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):c.set&&(s=e.stylize("[Setter]","special")),A(i,r)||(o="["+r+"]"),s||(e.seen.indexOf(c.value)<0?(s=g(n)?u(e,c.value,null):u(e,c.value,n-1)).indexOf("\n")>-1&&(s=a?s.split("\n").map((function(e){return"  "+e})).join("\n").slice(2):"\n"+s.split("\n").map((function(e){return"   "+e})).join("\n")):s=e.stylize("[Circular]","special")),v(o)){if(a&&r.match(/^\d+$/))return s;(o=JSON.stringify(""+r)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(o=o.slice(1,-1),o=e.stylize(o,"name")):(o=o.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),o=e.stylize(o,"string"))}return o+": "+s}function m(e){return Array.isArray(e)}function f(e){return"boolean"==typeof e}function g(e){return null===e}function w(e){return"number"==typeof e}function y(e){return"string"==typeof e}function v(e){return void 0===e}function b(e){return S(e)&&"[object RegExp]"===I(e)}function S(e){return"object"==typeof e&&null!==e}function E(e){return S(e)&&"[object Date]"===I(e)}function C(e){return S(e)&&("[object Error]"===I(e)||e instanceof Error)}function x(e){return"function"==typeof e}function I(e){return Object.prototype.toString.call(e)}function k(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(e){if(e=e.toUpperCase(),!a[e])if(o.test(e)){var n=process.pid;a[e]=function(){var i=t.format.apply(t,arguments);console.error("%s %d: %s",e,n,i)}}else a[e]=function(){};return a[e]},t.inspect=c,c.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},c.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.types=n(5955),t.isArray=m,t.isBoolean=f,t.isNull=g,t.isNullOrUndefined=function(e){return null==e},t.isNumber=w,t.isString=y,t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=v,t.isRegExp=b,t.types.isRegExp=b,t.isObject=S,t.isDate=E,t.types.isDate=E,t.isError=C,t.types.isNativeError=C,t.isFunction=x,t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=n(384);var P=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function A(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){var e,n;console.log("%s - %s",(n=[k((e=new Date).getHours()),k(e.getMinutes()),k(e.getSeconds())].join(":"),[e.getDate(),P[e.getMonth()],n].join(" ")),t.format.apply(t,arguments))},t.inherits=n(5717),t._extend=function(e,t){if(!t||!S(t))return e;for(var n=Object.keys(t),i=n.length;i--;)e[n[i]]=t[n[i]];return e};var T="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function M(e,t){if(!e){var n=new Error("Promise was rejected with a falsy value");n.reason=e,e=n}return t(e)}t.promisify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');if(T&&e[T]){var t;if("function"!=typeof(t=e[T]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(t,T,{value:t,enumerable:!1,writable:!1,configurable:!0}),t}function t(){for(var t,n,i=new Promise((function(e,i){t=e,n=i})),r=[],a=0;a<arguments.length;a++)r.push(arguments[a]);r.push((function(e,i){e?n(e):t(i)}));try{e.apply(this,r)}catch(e){n(e)}return i}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),T&&Object.defineProperty(t,T,{value:t,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(t,i(e))},t.promisify.custom=T,t.callbackify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');function t(){for(var t=[],n=0;n<arguments.length;n++)t.push(arguments[n]);var i=t.pop();if("function"!=typeof i)throw new TypeError("The last argument must be of type Function");var r=this,a=function(){return i.apply(r,arguments)};e.apply(this,t).then((function(e){process.nextTick(a.bind(null,null,e))}),(function(e){process.nextTick(M.bind(null,e,a))}))}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),Object.defineProperties(t,i(e)),t}},4586:(e,t,n)=>{"use strict";var i;n.d(t,{Z:()=>l});var r=new Uint8Array(16);function a(){if(!i&&!(i="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return i(r)}const o=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var s=[],c=0;c<256;++c)s.push((c+256).toString(16).substr(1));const d=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(s[e[t+0]]+s[e[t+1]]+s[e[t+2]]+s[e[t+3]]+"-"+s[e[t+4]]+s[e[t+5]]+"-"+s[e[t+6]]+s[e[t+7]]+"-"+s[e[t+8]]+s[e[t+9]]+"-"+s[e[t+10]]+s[e[t+11]]+s[e[t+12]]+s[e[t+13]]+s[e[t+14]]+s[e[t+15]]).toLowerCase();if(!function(e){return"string"==typeof e&&o.test(e)}(n))throw TypeError("Stringified UUID is invalid");return n},l=function(e,t,n){var i=(e=e||{}).random||(e.rng||a)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,t){n=n||0;for(var r=0;r<16;++r)t[n+r]=i[r];return t}return d(i)}},6430:(e,t,n)=>{"use strict";var i=n(4029),r=n(3083),a=n(1924),o=n(7296),s=a("Object.prototype.toString"),c=n(6410)(),d="undefined"==typeof globalThis?n.g:globalThis,l=r(),u=a("String.prototype.slice"),h={},p=Object.getPrototypeOf;c&&o&&p&&i(l,(function(e){if("function"==typeof d[e]){var t=new d[e];if(Symbol.toStringTag in t){var n=p(t),i=o(n,Symbol.toStringTag);if(!i){var r=p(n);i=o(r,Symbol.toStringTag)}h[e]=i.get}}}));var m=n(5692);e.exports=function(e){return!!m(e)&&(c&&Symbol.toStringTag in e?function(e){var t=!1;return i(h,(function(n,i){if(!t)try{var r=n.call(e);r===i&&(t=r)}catch(e){}})),t}(e):u(s(e),8,-1))}},8022:()=>{},3083:(e,t,n)=>{"use strict";var i=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],r="undefined"==typeof globalThis?n.g:globalThis;e.exports=function(){for(var e=[],t=0;t<i.length;t++)"function"==typeof r[i[t]]&&(e[e.length]=i[t]);return e}},2239:e=>{"use strict";e.exports=JSON.parse('{"version":"2.0","metadata":{"apiVersion":"2021-05-15","endpointPrefix":"messaging-chime","protocol":"rest-json","serviceFullName":"Amazon Chime SDK Messaging","serviceId":"Chime SDK Messaging","signatureVersion":"v4","signingName":"chime","uid":"chime-sdk-messaging-2021-05-15"},"operations":{"AssociateChannelFlow":{"http":{"method":"PUT","requestUri":"/channels/{channelArn}/channel-flow","responseCode":200},"input":{"type":"structure","required":["ChannelArn","ChannelFlowArn","ChimeBearer"],"members":{"ChannelArn":{"location":"uri","locationName":"channelArn"},"ChannelFlowArn":{},"ChimeBearer":{"location":"header","locationName":"x-amz-chime-bearer"}}}},"BatchCreateChannelMembership":{"http":{"requestUri":"/channels/{channelArn}/memberships?operation=batch-create","responseCode":200},"input":{"type":"structure","required":["ChannelArn","MemberArns","ChimeBearer"],"members":{"ChannelArn":{"location":"uri","locationName":"channelArn"},"Type":{},"MemberArns":{"type":"list","member":{}},"ChimeBearer":{"location":"header","locationName":"x-amz-chime-bearer"},"SubChannelId":{}}},"output":{"type":"structure","members":{"BatchChannelMemberships":{"type":"structure","members":{"InvitedBy":{"shape":"S9"},"Type":{},"Members":{"type":"list","member":{"shape":"S9"}},"ChannelArn":{},"SubChannelId":{}}},"Errors":{"type":"list","member":{"type":"structure","members":{"MemberArn":{},"ErrorCode":{},"ErrorMessage":{}}}}}}},"ChannelFlowCallback":{"http":{"requestUri":"/channels/{channelArn}?operation=channel-flow-callback","responseCode":200},"input":{"type":"structure","required":["CallbackId","ChannelArn","ChannelMessage"],"members":{"CallbackId":{"idempotencyToken":true},"ChannelArn":{"location":"uri","locationName":"channelArn"},"DeleteResource":{"type":"boolean"},"ChannelMessage":{"type":"structure","required":["MessageId"],"members":{"MessageId":{},"Content":{"shape":"Sl"},"Metadata":{"shape":"Sm"},"PushNotification":{"shape":"Sn"},"MessageAttributes":{"shape":"Sr"},"SubChannelId":{},"ContentType":{"shape":"Sw"}}}}},"output":{"type":"structure","members":{"ChannelArn":{},"CallbackId":{}}}},"CreateChannel":{"http":{"requestUri":"/channels","responseCode":201},"input":{"type":"structure","required":["AppInstanceArn","Name","ClientRequestToken","ChimeBearer"],"members":{"AppInstanceArn":{},"Name":{"shape":"Sz"},"Mode":{},"Privacy":{},"Metadata":{"shape":"Sm"},"ClientRequestToken":{"shape":"S12","idempotencyToken":true},"Tags":{"shape":"S13"},"ChimeBearer":{"location":"header","locationName":"x-amz-chime-bearer"},"ChannelId":{"type":"string","sensitive":true},"MemberArns":{"type":"list","member":{}},"ModeratorArns":{"type":"list","member":{}},"ElasticChannelConfiguration":{"shape":"S1a"},"ExpirationSettings":{"shape":"S1e"}}},"output":{"type":"structure","members":{"ChannelArn":{}}}},"CreateChannelBan":{"http":{"requestUri":"/channels/{channelArn}/bans","responseCode":201},"input":{"type":"structure","required":["ChannelArn","MemberArn","ChimeBearer"],"members":{"ChannelArn":{"location":"uri","locationName":"channelArn"},"MemberArn":{},"ChimeBearer":{"location":"header","locationName":"x-amz-chime-bearer"}}},"output":{"type":"structure","members":{"ChannelArn":{},"Member":{"shape":"S9"}}}},"CreateChannelFlow":{"http":{"requestUri":"/channel-flows","responseCode":201},"input":{"type":"structure","required":["AppInstanceArn","Processors","Name","ClientRequestToken"],"members":{"AppInstanceArn":{},"Processors":{"shape":"S1l"},"Name":{"shape":"Sz"},"Tags":{"shape":"S13"},"ClientRequestToken":{"shape":"S12","idempotencyToken":true}}},"output":{"type":"structure","members":{"ChannelFlowArn":{}}}},"CreateChannelMembership":{"http":{"requestUri":"/channels/{channelArn}/memberships","responseCode":201},"input":{"type":"structure","required":["ChannelArn","MemberArn","Type","ChimeBearer"],"members":{"ChannelArn":{"location":"uri","locationName":"channelArn"},"MemberArn":{},"Type":{},"ChimeBearer":{"location":"header","locationName":"x-amz-chime-bearer"},"SubChannelId":{}}},"output":{"type":"structure","members":{"ChannelArn":{},"Member":{"shape":"S9"},"SubChannelId":{}}}},"CreateChannelModerator":{"http":{"requestUri":"/channels/{channelArn}/moderators","responseCode":201},"input":{"type":"structure","required":["ChannelArn","ChannelModeratorArn","ChimeBearer"],"members":{"ChannelArn":{"location":"uri","locationName":"channelArn"},"ChannelModeratorArn":{},"ChimeBearer":{"location":"header","locationName":"x-amz-chime-bearer"}}},"output":{"type":"structure","members":{"ChannelArn":{},"ChannelModerator":{"shape":"S9"}}}},"DeleteChannel":{"http":{"method":"DELETE","requestUri":"/channels/{channelArn}","responseCode":204},"input":{"type":"structure","required":["ChannelArn","ChimeBearer"],"members":{"ChannelArn":{"location":"uri","locationName":"channelArn"},"ChimeBearer":{"location":"header","locationName":"x-amz-chime-bearer"}}}},"DeleteChannelBan":{"http":{"method":"DELETE","requestUri":"/channels/{channelArn}/bans/{memberArn}","responseCode":204},"input":{"type":"structure","required":["ChannelArn","MemberArn","ChimeBearer"],"members":{"ChannelArn":{"location":"uri","locationName":"channelArn"},"MemberArn":{"location":"uri","locationName":"memberArn"},"ChimeBearer":{"location":"header","locationName":"x-amz-chime-bearer"}}}},"DeleteChannelFlow":{"http":{"method":"DELETE","requestUri":"/channel-flows/{channelFlowArn}","responseCode":204},"input":{"type":"structure","required":["ChannelFlowArn"],"members":{"ChannelFlowArn":{"location":"uri","locationName":"channelFlowArn"}}}},"DeleteChannelMembership":{"http":{"method":"DELETE","requestUri":"/channels/{channelArn}/memberships/{memberArn}","responseCode":204},"input":{"type":"structure","required":["ChannelArn","MemberArn","ChimeBearer"],"members":{"ChannelArn":{"location":"uri","locationName":"channelArn"},"MemberArn":{"location":"uri","locationName":"memberArn"},"ChimeBearer":{"location":"header","locationName":"x-amz-chime-bearer"},"SubChannelId":{"location":"querystring","locationName":"sub-channel-id"}}}},"DeleteChannelMessage":{"http":{"method":"DELETE","requestUri":"/channels/{channelArn}/messages/{messageId}","responseCode":204},"input":{"type":"structure","required":["ChannelArn","MessageId","ChimeBearer"],"members":{"ChannelArn":{"location":"uri","locationName":"channelArn"},"MessageId":{"location":"uri","locationName":"messageId"},"ChimeBearer":{"location":"header","locationName":"x-amz-chime-bearer"},"SubChannelId":{"location":"querystring","locationName":"sub-channel-id"}}}},"DeleteChannelModerator":{"http":{"method":"DELETE","requestUri":"/channels/{channelArn}/moderators/{channelModeratorArn}","responseCode":204},"input":{"type":"structure","required":["ChannelArn","ChannelModeratorArn","ChimeBearer"],"members":{"ChannelArn":{"location":"uri","locationName":"channelArn"},"ChannelModeratorArn":{"location":"uri","locationName":"channelModeratorArn"},"ChimeBearer":{"location":"header","locationName":"x-amz-chime-bearer"}}}},"DeleteMessagingStreamingConfigurations":{"http":{"method":"DELETE","requestUri":"/app-instances/{appInstanceArn}/streaming-configurations","responseCode":204},"input":{"type":"structure","required":["AppInstanceArn"],"members":{"AppInstanceArn":{"location":"uri","locationName":"appInstanceArn"}}}},"DescribeChannel":{"http":{"method":"GET","requestUri":"/channels/{channelArn}","responseCode":200},"input":{"type":"structure","required":["ChannelArn","ChimeBearer"],"members":{"ChannelArn":{"location":"uri","locationName":"channelArn"},"ChimeBearer":{"location":"header","locationName":"x-amz-chime-bearer"}}},"output":{"type":"structure","members":{"Channel":{"type":"structure","members":{"Name":{"shape":"Sz"},"ChannelArn":{},"Mode":{},"Privacy":{},"Metadata":{"shape":"Sm"},"CreatedBy":{"shape":"S9"},"CreatedTimestamp":{"type":"timestamp"},"LastMessageTimestamp":{"type":"timestamp"},"LastUpdatedTimestamp":{"type":"timestamp"},"ChannelFlowArn":{},"ElasticChannelConfiguration":{"shape":"S1a"},"ExpirationSettings":{"shape":"S1e"}}}}}},"DescribeChannelBan":{"http":{"method":"GET","requestUri":"/channels/{channelArn}/bans/{memberArn}","responseCode":200},"input":{"type":"structure","required":["ChannelArn","MemberArn","ChimeBearer"],"members":{"ChannelArn":{"location":"uri","locationName":"channelArn"},"MemberArn":{"location":"uri","locationName":"memberArn"},"ChimeBearer":{"location":"header","locationName":"x-amz-chime-bearer"}}},"output":{"type":"structure","members":{"ChannelBan":{"type":"structure","members":{"Member":{"shape":"S9"},"ChannelArn":{},"CreatedTimestamp":{"type":"timestamp"},"CreatedBy":{"shape":"S9"}}}}}},"DescribeChannelFlow":{"http":{"method":"GET","requestUri":"/channel-flows/{channelFlowArn}","responseCode":200},"input":{"type":"structure","required":["ChannelFlowArn"],"members":{"ChannelFlowArn":{"location":"uri","locationName":"channelFlowArn"}}},"output":{"type":"structure","members":{"ChannelFlow":{"type":"structure","members":{"ChannelFlowArn":{},"Processors":{"shape":"S1l"},"Name":{"shape":"Sz"},"CreatedTimestamp":{"type":"timestamp"},"LastUpdatedTimestamp":{"type":"timestamp"}}}}}},"DescribeChannelMembership":{"http":{"method":"GET","requestUri":"/channels/{channelArn}/memberships/{memberArn}","responseCode":200},"input":{"type":"structure","required":["ChannelArn","MemberArn","ChimeBearer"],"members":{"ChannelArn":{"location":"uri","locationName":"channelArn"},"MemberArn":{"location":"uri","locationName":"memberArn"},"ChimeBearer":{"location":"header","locationName":"x-amz-chime-bearer"},"SubChannelId":{"location":"querystring","locationName":"sub-channel-id"}}},"output":{"type":"structure","members":{"ChannelMembership":{"type":"structure","members":{"InvitedBy":{"shape":"S9"},"Type":{},"Member":{"shape":"S9"},"ChannelArn":{},"CreatedTimestamp":{"type":"timestamp"},"LastUpdatedTimestamp":{"type":"timestamp"},"SubChannelId":{}}}}}},"DescribeChannelMembershipForAppInstanceUser":{"http":{"method":"GET","requestUri":"/channels/{channelArn}?scope=app-instance-user-membership","responseCode":200},"input":{"type":"structure","required":["ChannelArn","AppInstanceUserArn","ChimeBearer"],"members":{"ChannelArn":{"location":"uri","locationName":"channelArn"},"AppInstanceUserArn":{"location":"querystring","locationName":"app-instance-user-arn"},"ChimeBearer":{"location":"header","locationName":"x-amz-chime-bearer"}}},"output":{"type":"structure","members":{"ChannelMembership":{"shape":"S2k"}}}},"DescribeChannelModeratedByAppInstanceUser":{"http":{"method":"GET","requestUri":"/channels/{channelArn}?scope=app-instance-user-moderated-channel","responseCode":200},"input":{"type":"structure","required":["ChannelArn","AppInstanceUserArn","ChimeBearer"],"members":{"ChannelArn":{"location":"uri","locationName":"channelArn"},"AppInstanceUserArn":{"location":"querystring","locationName":"app-instance-user-arn"},"ChimeBearer":{"location":"header","locationName":"x-amz-chime-bearer"}}},"output":{"type":"structure","members":{"Channel":{"shape":"S2p"}}}},"DescribeChannelModerator":{"http":{"method":"GET","requestUri":"/channels/{channelArn}/moderators/{channelModeratorArn}","responseCode":200},"input":{"type":"structure","required":["ChannelArn","ChannelModeratorArn","ChimeBearer"],"members":{"ChannelArn":{"location":"uri","locationName":"channelArn"},"ChannelModeratorArn":{"location":"uri","locationName":"channelModeratorArn"},"ChimeBearer":{"location":"header","locationName":"x-amz-chime-bearer"}}},"output":{"type":"structure","members":{"ChannelModerator":{"type":"structure","members":{"Moderator":{"shape":"S9"},"ChannelArn":{},"CreatedTimestamp":{"type":"timestamp"},"CreatedBy":{"shape":"S9"}}}}}},"DisassociateChannelFlow":{"http":{"method":"DELETE","requestUri":"/channels/{channelArn}/channel-flow/{channelFlowArn}","responseCode":204},"input":{"type":"structure","required":["ChannelArn","ChannelFlowArn","ChimeBearer"],"members":{"ChannelArn":{"location":"uri","locationName":"channelArn"},"ChannelFlowArn":{"location":"uri","locationName":"channelFlowArn"},"ChimeBearer":{"location":"header","locationName":"x-amz-chime-bearer"}}}},"GetChannelMembershipPreferences":{"http":{"method":"GET","requestUri":"/channels/{channelArn}/memberships/{memberArn}/preferences","responseCode":200},"input":{"type":"structure","required":["ChannelArn","MemberArn","ChimeBearer"],"members":{"ChannelArn":{"location":"uri","locationName":"channelArn"},"MemberArn":{"location":"uri","locationName":"memberArn"},"ChimeBearer":{"location":"header","locationName":"x-amz-chime-bearer"}}},"output":{"type":"structure","members":{"ChannelArn":{},"Member":{"shape":"S9"},"Preferences":{"shape":"S2w"}}}},"GetChannelMessage":{"http":{"method":"GET","requestUri":"/channels/{channelArn}/messages/{messageId}","responseCode":200},"input":{"type":"structure","required":["ChannelArn","MessageId","ChimeBearer"],"members":{"ChannelArn":{"location":"uri","locationName":"channelArn"},"MessageId":{"location":"uri","locationName":"messageId"},"ChimeBearer":{"location":"header","locationName":"x-amz-chime-bearer"},"SubChannelId":{"location":"querystring","locationName":"sub-channel-id"}}},"output":{"type":"structure","members":{"ChannelMessage":{"type":"structure","members":{"ChannelArn":{},"MessageId":{},"Content":{"shape":"S33"},"Metadata":{"shape":"Sm"},"Type":{},"CreatedTimestamp":{"type":"timestamp"},"LastEditedTimestamp":{"type":"timestamp"},"LastUpdatedTimestamp":{"type":"timestamp"},"Sender":{"shape":"S9"},"Redacted":{"type":"boolean"},"Persistence":{},"Status":{"shape":"S36"},"MessageAttributes":{"shape":"Sr"},"SubChannelId":{},"ContentType":{"shape":"Sw"},"Target":{"shape":"S39"}}}}}},"GetChannelMessageStatus":{"http":{"method":"GET","requestUri":"/channels/{channelArn}/messages/{messageId}?scope=message-status","responseCode":200},"input":{"type":"structure","required":["ChannelArn","MessageId","ChimeBearer"],"members":{"ChannelArn":{"location":"uri","locationName":"channelArn"},"MessageId":{"location":"uri","locationName":"messageId"},"ChimeBearer":{"location":"header","locationName":"x-amz-chime-bearer"},"SubChannelId":{"location":"querystring","locationName":"sub-channel-id"}}},"output":{"type":"structure","members":{"Status":{"shape":"S36"}}}},"GetMessagingSessionEndpoint":{"http":{"method":"GET","requestUri":"/endpoints/messaging-session","responseCode":200},"input":{"type":"structure","members":{}},"output":{"type":"structure","members":{"Endpoint":{"type":"structure","members":{"Url":{}}}}}},"GetMessagingStreamingConfigurations":{"http":{"method":"GET","requestUri":"/app-instances/{appInstanceArn}/streaming-configurations","responseCode":200},"input":{"type":"structure","required":["AppInstanceArn"],"members":{"AppInstanceArn":{"location":"uri","locationName":"appInstanceArn"}}},"output":{"type":"structure","members":{"StreamingConfigurations":{"shape":"S3j"}}}},"ListChannelBans":{"http":{"method":"GET","requestUri":"/channels/{channelArn}/bans","responseCode":200},"input":{"type":"structure","required":["ChannelArn","ChimeBearer"],"members":{"ChannelArn":{"location":"uri","locationName":"channelArn"},"MaxResults":{"location":"querystring","locationName":"max-results","type":"integer"},"NextToken":{"shape":"S3o","location":"querystring","locationName":"next-token"},"ChimeBearer":{"location":"header","locationName":"x-amz-chime-bearer"}}},"output":{"type":"structure","members":{"ChannelArn":{},"NextToken":{"shape":"S3o"},"ChannelBans":{"type":"list","member":{"type":"structure","members":{"Member":{"shape":"S9"}}}}}}},"ListChannelFlows":{"http":{"method":"GET","requestUri":"/channel-flows","responseCode":200},"input":{"type":"structure","required":["AppInstanceArn"],"members":{"AppInstanceArn":{"location":"querystring","locationName":"app-instance-arn"},"MaxResults":{"location":"querystring","locationName":"max-results","type":"integer"},"NextToken":{"shape":"S3o","location":"querystring","locationName":"next-token"}}},"output":{"type":"structure","members":{"ChannelFlows":{"type":"list","member":{"type":"structure","members":{"ChannelFlowArn":{},"Name":{"shape":"Sz"},"Processors":{"shape":"S1l"}}}},"NextToken":{"shape":"S3o"}}}},"ListChannelMemberships":{"http":{"method":"GET","requestUri":"/channels/{channelArn}/memberships","responseCode":200},"input":{"type":"structure","required":["ChannelArn","ChimeBearer"],"members":{"ChannelArn":{"location":"uri","locationName":"channelArn"},"Type":{"location":"querystring","locationName":"type"},"MaxResults":{"location":"querystring","locationName":"max-results","type":"integer"},"NextToken":{"shape":"S3o","location":"querystring","locationName":"next-token"},"ChimeBearer":{"location":"header","locationName":"x-amz-chime-bearer"},"SubChannelId":{"location":"querystring","locationName":"sub-channel-id"}}},"output":{"type":"structure","members":{"ChannelArn":{},"ChannelMemberships":{"type":"list","member":{"type":"structure","members":{"Member":{"shape":"S9"}}}},"NextToken":{"shape":"S3o"}}}},"ListChannelMembershipsForAppInstanceUser":{"http":{"method":"GET","requestUri":"/channels?scope=app-instance-user-memberships","responseCode":200},"input":{"type":"structure","required":["ChimeBearer"],"members":{"AppInstanceUserArn":{"location":"querystring","locationName":"app-instance-user-arn"},"MaxResults":{"location":"querystring","locationName":"max-results","type":"integer"},"NextToken":{"shape":"S3o","location":"querystring","locationName":"next-token"},"ChimeBearer":{"location":"header","locationName":"x-amz-chime-bearer"}}},"output":{"type":"structure","members":{"ChannelMemberships":{"type":"list","member":{"shape":"S2k"}},"NextToken":{"shape":"S3o"}}}},"ListChannelMessages":{"http":{"method":"GET","requestUri":"/channels/{channelArn}/messages","responseCode":200},"input":{"type":"structure","required":["ChannelArn","ChimeBearer"],"members":{"ChannelArn":{"location":"uri","locationName":"channelArn"},"SortOrder":{"location":"querystring","locationName":"sort-order"},"NotBefore":{"location":"querystring","locationName":"not-before","type":"timestamp"},"NotAfter":{"location":"querystring","locationName":"not-after","type":"timestamp"},"MaxResults":{"location":"querystring","locationName":"max-results","type":"integer"},"NextToken":{"shape":"S3o","location":"querystring","locationName":"next-token"},"ChimeBearer":{"location":"header","locationName":"x-amz-chime-bearer"},"SubChannelId":{"location":"querystring","locationName":"sub-channel-id"}}},"output":{"type":"structure","members":{"ChannelArn":{},"NextToken":{"shape":"S3o"},"ChannelMessages":{"type":"list","member":{"type":"structure","members":{"MessageId":{},"Content":{"shape":"S33"},"Metadata":{"shape":"Sm"},"Type":{},"CreatedTimestamp":{"type":"timestamp"},"LastUpdatedTimestamp":{"type":"timestamp"},"LastEditedTimestamp":{"type":"timestamp"},"Sender":{"shape":"S9"},"Redacted":{"type":"boolean"},"Status":{"shape":"S36"},"MessageAttributes":{"shape":"Sr"},"ContentType":{"shape":"Sw"},"Target":{"shape":"S39"}}}},"SubChannelId":{}}}},"ListChannelModerators":{"http":{"method":"GET","requestUri":"/channels/{channelArn}/moderators","responseCode":200},"input":{"type":"structure","required":["ChannelArn","ChimeBearer"],"members":{"ChannelArn":{"location":"uri","locationName":"channelArn"},"MaxResults":{"location":"querystring","locationName":"max-results","type":"integer"},"NextToken":{"shape":"S3o","location":"querystring","locationName":"next-token"},"ChimeBearer":{"location":"header","locationName":"x-amz-chime-bearer"}}},"output":{"type":"structure","members":{"ChannelArn":{},"NextToken":{"shape":"S3o"},"ChannelModerators":{"type":"list","member":{"type":"structure","members":{"Moderator":{"shape":"S9"}}}}}}},"ListChannels":{"http":{"method":"GET","requestUri":"/channels","responseCode":200},"input":{"type":"structure","required":["AppInstanceArn","ChimeBearer"],"members":{"AppInstanceArn":{"location":"querystring","locationName":"app-instance-arn"},"Privacy":{"location":"querystring","locationName":"privacy"},"MaxResults":{"location":"querystring","locationName":"max-results","type":"integer"},"NextToken":{"shape":"S3o","location":"querystring","locationName":"next-token"},"ChimeBearer":{"location":"header","locationName":"x-amz-chime-bearer"}}},"output":{"type":"structure","members":{"Channels":{"shape":"S4e"},"NextToken":{"shape":"S3o"}}}},"ListChannelsAssociatedWithChannelFlow":{"http":{"method":"GET","requestUri":"/channels?scope=channel-flow-associations","responseCode":200},"input":{"type":"structure","required":["ChannelFlowArn"],"members":{"ChannelFlowArn":{"location":"querystring","locationName":"channel-flow-arn"},"MaxResults":{"location":"querystring","locationName":"max-results","type":"integer"},"NextToken":{"shape":"S3o","location":"querystring","locationName":"next-token"}}},"output":{"type":"structure","members":{"Channels":{"type":"list","member":{"type":"structure","members":{"Name":{"shape":"Sz"},"ChannelArn":{},"Mode":{},"Privacy":{},"Metadata":{"shape":"Sm"}}}},"NextToken":{"shape":"S3o"}}}},"ListChannelsModeratedByAppInstanceUser":{"http":{"method":"GET","requestUri":"/channels?scope=app-instance-user-moderated-channels","responseCode":200},"input":{"type":"structure","required":["ChimeBearer"],"members":{"AppInstanceUserArn":{"location":"querystring","locationName":"app-instance-user-arn"},"MaxResults":{"location":"querystring","locationName":"max-results","type":"integer"},"NextToken":{"shape":"S3o","location":"querystring","locationName":"next-token"},"ChimeBearer":{"location":"header","locationName":"x-amz-chime-bearer"}}},"output":{"type":"structure","members":{"Channels":{"type":"list","member":{"shape":"S2p"}},"NextToken":{"shape":"S3o"}}}},"ListSubChannels":{"http":{"method":"GET","requestUri":"/channels/{channelArn}/subchannels","responseCode":200},"input":{"type":"structure","required":["ChannelArn","ChimeBearer"],"members":{"ChannelArn":{"location":"uri","locationName":"channelArn"},"ChimeBearer":{"location":"header","locationName":"x-amz-chime-bearer"},"MaxResults":{"location":"querystring","locationName":"max-results","type":"integer"},"NextToken":{"shape":"S3o","location":"querystring","locationName":"next-token"}}},"output":{"type":"structure","members":{"ChannelArn":{},"SubChannels":{"type":"list","member":{"type":"structure","members":{"SubChannelId":{},"MembershipCount":{"type":"integer"}}}},"NextToken":{"shape":"S3o"}}}},"ListTagsForResource":{"http":{"method":"GET","requestUri":"/tags","responseCode":200},"input":{"type":"structure","required":["ResourceARN"],"members":{"ResourceARN":{"location":"querystring","locationName":"arn"}}},"output":{"type":"structure","members":{"Tags":{"shape":"S13"}}}},"PutChannelExpirationSettings":{"http":{"method":"PUT","requestUri":"/channels/{channelArn}/expiration-settings","responseCode":200},"input":{"type":"structure","required":["ChannelArn"],"members":{"ChannelArn":{"location":"uri","locationName":"channelArn"},"ChimeBearer":{"location":"header","locationName":"x-amz-chime-bearer"},"ExpirationSettings":{"shape":"S1e"}}},"output":{"type":"structure","members":{"ChannelArn":{},"ExpirationSettings":{"shape":"S1e"}}}},"PutChannelMembershipPreferences":{"http":{"method":"PUT","requestUri":"/channels/{channelArn}/memberships/{memberArn}/preferences","responseCode":200},"input":{"type":"structure","required":["ChannelArn","MemberArn","ChimeBearer","Preferences"],"members":{"ChannelArn":{"location":"uri","locationName":"channelArn"},"MemberArn":{"location":"uri","locationName":"memberArn"},"ChimeBearer":{"location":"header","locationName":"x-amz-chime-bearer"},"Preferences":{"shape":"S2w"}}},"output":{"type":"structure","members":{"ChannelArn":{},"Member":{"shape":"S9"},"Preferences":{"shape":"S2w"}}}},"PutMessagingStreamingConfigurations":{"http":{"method":"PUT","requestUri":"/app-instances/{appInstanceArn}/streaming-configurations","responseCode":200},"input":{"type":"structure","required":["AppInstanceArn","StreamingConfigurations"],"members":{"AppInstanceArn":{"location":"uri","locationName":"appInstanceArn"},"StreamingConfigurations":{"shape":"S3j"}}},"output":{"type":"structure","members":{"StreamingConfigurations":{"shape":"S3j"}}}},"RedactChannelMessage":{"http":{"requestUri":"/channels/{channelArn}/messages/{messageId}?operation=redact","responseCode":200},"input":{"type":"structure","required":["ChannelArn","MessageId","ChimeBearer"],"members":{"ChannelArn":{"location":"uri","locationName":"channelArn"},"MessageId":{"location":"uri","locationName":"messageId"},"ChimeBearer":{"location":"header","locationName":"x-amz-chime-bearer"},"SubChannelId":{}}},"output":{"type":"structure","members":{"ChannelArn":{},"MessageId":{},"SubChannelId":{}}}},"SearchChannels":{"http":{"requestUri":"/channels?operation=search","responseCode":200},"input":{"type":"structure","required":["Fields"],"members":{"ChimeBearer":{"location":"header","locationName":"x-amz-chime-bearer"},"Fields":{"type":"list","member":{"type":"structure","required":["Key","Values","Operator"],"members":{"Key":{},"Values":{"type":"list","member":{}},"Operator":{}}}},"MaxResults":{"location":"querystring","locationName":"max-results","type":"integer"},"NextToken":{"shape":"S3o","location":"querystring","locationName":"next-token"}}},"output":{"type":"structure","members":{"Channels":{"shape":"S4e"},"NextToken":{"shape":"S3o"}}}},"SendChannelMessage":{"http":{"requestUri":"/channels/{channelArn}/messages","responseCode":201},"input":{"type":"structure","required":["ChannelArn","Content","Type","Persistence","ClientRequestToken","ChimeBearer"],"members":{"ChannelArn":{"location":"uri","locationName":"channelArn"},"Content":{"shape":"Sl"},"Type":{},"Persistence":{},"Metadata":{"shape":"Sm"},"ClientRequestToken":{"shape":"S12","idempotencyToken":true},"ChimeBearer":{"location":"header","locationName":"x-amz-chime-bearer"},"PushNotification":{"shape":"Sn"},"MessageAttributes":{"shape":"Sr"},"SubChannelId":{},"ContentType":{"shape":"Sw"},"Target":{"shape":"S39"}}},"output":{"type":"structure","members":{"ChannelArn":{},"MessageId":{},"Status":{"shape":"S36"},"SubChannelId":{}}}},"TagResource":{"http":{"requestUri":"/tags?operation=tag-resource","responseCode":204},"input":{"type":"structure","required":["ResourceARN","Tags"],"members":{"ResourceARN":{},"Tags":{"shape":"S13"}}}},"UntagResource":{"http":{"requestUri":"/tags?operation=untag-resource","responseCode":204},"input":{"type":"structure","required":["ResourceARN","TagKeys"],"members":{"ResourceARN":{},"TagKeys":{"type":"list","member":{"shape":"S15"}}}}},"UpdateChannel":{"http":{"method":"PUT","requestUri":"/channels/{channelArn}","responseCode":200},"input":{"type":"structure","required":["ChannelArn","ChimeBearer"],"members":{"ChannelArn":{"location":"uri","locationName":"channelArn"},"Name":{"shape":"Sz"},"Mode":{},"Metadata":{"shape":"Sm"},"ChimeBearer":{"location":"header","locationName":"x-amz-chime-bearer"}}},"output":{"type":"structure","members":{"ChannelArn":{}}}},"UpdateChannelFlow":{"http":{"method":"PUT","requestUri":"/channel-flows/{channelFlowArn}","responseCode":200},"input":{"type":"structure","required":["ChannelFlowArn","Processors","Name"],"members":{"ChannelFlowArn":{"location":"uri","locationName":"channelFlowArn"},"Processors":{"shape":"S1l"},"Name":{"shape":"Sz"}}},"output":{"type":"structure","members":{"ChannelFlowArn":{}}}},"UpdateChannelMessage":{"http":{"method":"PUT","requestUri":"/channels/{channelArn}/messages/{messageId}","responseCode":200},"input":{"type":"structure","required":["ChannelArn","MessageId","Content","ChimeBearer"],"members":{"ChannelArn":{"location":"uri","locationName":"channelArn"},"MessageId":{"location":"uri","locationName":"messageId"},"Content":{"shape":"Sl"},"Metadata":{"shape":"Sm"},"ChimeBearer":{"location":"header","locationName":"x-amz-chime-bearer"},"SubChannelId":{},"ContentType":{"shape":"Sw"}}},"output":{"type":"structure","members":{"ChannelArn":{},"MessageId":{},"Status":{"shape":"S36"},"SubChannelId":{}}}},"UpdateChannelReadMarker":{"http":{"method":"PUT","requestUri":"/channels/{channelArn}/readMarker","responseCode":200},"input":{"type":"structure","required":["ChannelArn","ChimeBearer"],"members":{"ChannelArn":{"location":"uri","locationName":"channelArn"},"ChimeBearer":{"location":"header","locationName":"x-amz-chime-bearer"}}},"output":{"type":"structure","members":{"ChannelArn":{}}}}},"shapes":{"S9":{"type":"structure","members":{"Arn":{},"Name":{"type":"string","sensitive":true}}},"Sl":{"type":"string","sensitive":true},"Sm":{"type":"string","sensitive":true},"Sn":{"type":"structure","members":{"Title":{"type":"string","sensitive":true},"Body":{"type":"string","sensitive":true},"Type":{}}},"Sr":{"type":"map","key":{"type":"string","sensitive":true},"value":{"type":"structure","members":{"StringValues":{"type":"list","member":{"type":"string","sensitive":true}}}}},"Sw":{"type":"string","sensitive":true},"Sz":{"type":"string","sensitive":true},"S12":{"type":"string","sensitive":true},"S13":{"type":"list","member":{"type":"structure","required":["Key","Value"],"members":{"Key":{"shape":"S15"},"Value":{"type":"string","sensitive":true}}}},"S15":{"type":"string","sensitive":true},"S1a":{"type":"structure","required":["MaximumSubChannels","TargetMembershipsPerSubChannel","MinimumMembershipPercentage"],"members":{"MaximumSubChannels":{"type":"integer"},"TargetMembershipsPerSubChannel":{"type":"integer"},"MinimumMembershipPercentage":{"type":"integer"}}},"S1e":{"type":"structure","required":["ExpirationDays","ExpirationCriterion"],"members":{"ExpirationDays":{"type":"integer"},"ExpirationCriterion":{}}},"S1l":{"type":"list","member":{"type":"structure","required":["Name","Configuration","ExecutionOrder","FallbackAction"],"members":{"Name":{"shape":"Sz"},"Configuration":{"type":"structure","required":["Lambda"],"members":{"Lambda":{"type":"structure","required":["ResourceArn","InvocationType"],"members":{"ResourceArn":{},"InvocationType":{}}}}},"ExecutionOrder":{"type":"integer"},"FallbackAction":{}}}},"S2k":{"type":"structure","members":{"ChannelSummary":{"shape":"S2l"},"AppInstanceUserMembershipSummary":{"type":"structure","members":{"Type":{},"ReadMarkerTimestamp":{"type":"timestamp"},"SubChannelId":{}}}}},"S2l":{"type":"structure","members":{"Name":{"shape":"Sz"},"ChannelArn":{},"Mode":{},"Privacy":{},"Metadata":{"shape":"Sm"},"LastMessageTimestamp":{"type":"timestamp"}}},"S2p":{"type":"structure","members":{"ChannelSummary":{"shape":"S2l"}}},"S2w":{"type":"structure","members":{"PushNotifications":{"type":"structure","required":["AllowNotifications"],"members":{"AllowNotifications":{},"FilterRule":{"type":"string","sensitive":true}}}}},"S33":{"type":"string","sensitive":true},"S36":{"type":"structure","members":{"Value":{},"Detail":{}}},"S39":{"type":"list","member":{"type":"structure","members":{"MemberArn":{}}}},"S3j":{"type":"list","member":{"type":"structure","required":["DataType","ResourceArn"],"members":{"DataType":{},"ResourceArn":{}}}},"S3o":{"type":"string","sensitive":true},"S4e":{"type":"list","member":{"shape":"S2l"}}}}')},807:e=>{"use strict";e.exports=JSON.parse('{"o":{"ListChannelBans":{"input_token":"NextToken","output_token":"NextToken","limit_key":"MaxResults"},"ListChannelFlows":{"input_token":"NextToken","output_token":"NextToken","limit_key":"MaxResults"},"ListChannelMemberships":{"input_token":"NextToken","output_token":"NextToken","limit_key":"MaxResults"},"ListChannelMembershipsForAppInstanceUser":{"input_token":"NextToken","output_token":"NextToken","limit_key":"MaxResults"},"ListChannelMessages":{"input_token":"NextToken","output_token":"NextToken","limit_key":"MaxResults"},"ListChannelModerators":{"input_token":"NextToken","output_token":"NextToken","limit_key":"MaxResults"},"ListChannels":{"input_token":"NextToken","output_token":"NextToken","limit_key":"MaxResults"},"ListChannelsAssociatedWithChannelFlow":{"input_token":"NextToken","output_token":"NextToken","limit_key":"MaxResults"},"ListChannelsModeratedByAppInstanceUser":{"input_token":"NextToken","output_token":"NextToken","limit_key":"MaxResults"},"ListSubChannels":{"input_token":"NextToken","output_token":"NextToken","limit_key":"MaxResults"},"SearchChannels":{"input_token":"NextToken","output_token":"NextToken","limit_key":"MaxResults"}}}')},7377:e=>{"use strict";e.exports=JSON.parse('{"version":"2.0","metadata":{"apiVersion":"2014-06-30","endpointPrefix":"cognito-identity","jsonVersion":"1.1","protocol":"json","serviceFullName":"Amazon Cognito Identity","serviceId":"Cognito Identity","signatureVersion":"v4","targetPrefix":"AWSCognitoIdentityService","uid":"cognito-identity-2014-06-30"},"operations":{"CreateIdentityPool":{"input":{"type":"structure","required":["IdentityPoolName","AllowUnauthenticatedIdentities"],"members":{"IdentityPoolName":{},"AllowUnauthenticatedIdentities":{"type":"boolean"},"AllowClassicFlow":{"type":"boolean"},"SupportedLoginProviders":{"shape":"S5"},"DeveloperProviderName":{},"OpenIdConnectProviderARNs":{"shape":"S9"},"CognitoIdentityProviders":{"shape":"Sb"},"SamlProviderARNs":{"shape":"Sg"},"IdentityPoolTags":{"shape":"Sh"}}},"output":{"shape":"Sk"}},"DeleteIdentities":{"input":{"type":"structure","required":["IdentityIdsToDelete"],"members":{"IdentityIdsToDelete":{"type":"list","member":{}}}},"output":{"type":"structure","members":{"UnprocessedIdentityIds":{"type":"list","member":{"type":"structure","members":{"IdentityId":{},"ErrorCode":{}}}}}}},"DeleteIdentityPool":{"input":{"type":"structure","required":["IdentityPoolId"],"members":{"IdentityPoolId":{}}}},"DescribeIdentity":{"input":{"type":"structure","required":["IdentityId"],"members":{"IdentityId":{}}},"output":{"shape":"Sv"}},"DescribeIdentityPool":{"input":{"type":"structure","required":["IdentityPoolId"],"members":{"IdentityPoolId":{}}},"output":{"shape":"Sk"}},"GetCredentialsForIdentity":{"input":{"type":"structure","required":["IdentityId"],"members":{"IdentityId":{},"Logins":{"shape":"S10"},"CustomRoleArn":{}}},"output":{"type":"structure","members":{"IdentityId":{},"Credentials":{"type":"structure","members":{"AccessKeyId":{},"SecretKey":{},"SessionToken":{},"Expiration":{"type":"timestamp"}}}}},"authtype":"none"},"GetId":{"input":{"type":"structure","required":["IdentityPoolId"],"members":{"AccountId":{},"IdentityPoolId":{},"Logins":{"shape":"S10"}}},"output":{"type":"structure","members":{"IdentityId":{}}},"authtype":"none"},"GetIdentityPoolRoles":{"input":{"type":"structure","required":["IdentityPoolId"],"members":{"IdentityPoolId":{}}},"output":{"type":"structure","members":{"IdentityPoolId":{},"Roles":{"shape":"S1c"},"RoleMappings":{"shape":"S1e"}}}},"GetOpenIdToken":{"input":{"type":"structure","required":["IdentityId"],"members":{"IdentityId":{},"Logins":{"shape":"S10"}}},"output":{"type":"structure","members":{"IdentityId":{},"Token":{}}},"authtype":"none"},"GetOpenIdTokenForDeveloperIdentity":{"input":{"type":"structure","required":["IdentityPoolId","Logins"],"members":{"IdentityPoolId":{},"IdentityId":{},"Logins":{"shape":"S10"},"PrincipalTags":{"shape":"S1s"},"TokenDuration":{"type":"long"}}},"output":{"type":"structure","members":{"IdentityId":{},"Token":{}}}},"GetPrincipalTagAttributeMap":{"input":{"type":"structure","required":["IdentityPoolId","IdentityProviderName"],"members":{"IdentityPoolId":{},"IdentityProviderName":{}}},"output":{"type":"structure","members":{"IdentityPoolId":{},"IdentityProviderName":{},"UseDefaults":{"type":"boolean"},"PrincipalTags":{"shape":"S1s"}}}},"ListIdentities":{"input":{"type":"structure","required":["IdentityPoolId","MaxResults"],"members":{"IdentityPoolId":{},"MaxResults":{"type":"integer"},"NextToken":{},"HideDisabled":{"type":"boolean"}}},"output":{"type":"structure","members":{"IdentityPoolId":{},"Identities":{"type":"list","member":{"shape":"Sv"}},"NextToken":{}}}},"ListIdentityPools":{"input":{"type":"structure","required":["MaxResults"],"members":{"MaxResults":{"type":"integer"},"NextToken":{}}},"output":{"type":"structure","members":{"IdentityPools":{"type":"list","member":{"type":"structure","members":{"IdentityPoolId":{},"IdentityPoolName":{}}}},"NextToken":{}}}},"ListTagsForResource":{"input":{"type":"structure","required":["ResourceArn"],"members":{"ResourceArn":{}}},"output":{"type":"structure","members":{"Tags":{"shape":"Sh"}}}},"LookupDeveloperIdentity":{"input":{"type":"structure","required":["IdentityPoolId"],"members":{"IdentityPoolId":{},"IdentityId":{},"DeveloperUserIdentifier":{},"MaxResults":{"type":"integer"},"NextToken":{}}},"output":{"type":"structure","members":{"IdentityId":{},"DeveloperUserIdentifierList":{"type":"list","member":{}},"NextToken":{}}}},"MergeDeveloperIdentities":{"input":{"type":"structure","required":["SourceUserIdentifier","DestinationUserIdentifier","DeveloperProviderName","IdentityPoolId"],"members":{"SourceUserIdentifier":{},"DestinationUserIdentifier":{},"DeveloperProviderName":{},"IdentityPoolId":{}}},"output":{"type":"structure","members":{"IdentityId":{}}}},"SetIdentityPoolRoles":{"input":{"type":"structure","required":["IdentityPoolId","Roles"],"members":{"IdentityPoolId":{},"Roles":{"shape":"S1c"},"RoleMappings":{"shape":"S1e"}}}},"SetPrincipalTagAttributeMap":{"input":{"type":"structure","required":["IdentityPoolId","IdentityProviderName"],"members":{"IdentityPoolId":{},"IdentityProviderName":{},"UseDefaults":{"type":"boolean"},"PrincipalTags":{"shape":"S1s"}}},"output":{"type":"structure","members":{"IdentityPoolId":{},"IdentityProviderName":{},"UseDefaults":{"type":"boolean"},"PrincipalTags":{"shape":"S1s"}}}},"TagResource":{"input":{"type":"structure","required":["ResourceArn","Tags"],"members":{"ResourceArn":{},"Tags":{"shape":"Sh"}}},"output":{"type":"structure","members":{}}},"UnlinkDeveloperIdentity":{"input":{"type":"structure","required":["IdentityId","IdentityPoolId","DeveloperProviderName","DeveloperUserIdentifier"],"members":{"IdentityId":{},"IdentityPoolId":{},"DeveloperProviderName":{},"DeveloperUserIdentifier":{}}}},"UnlinkIdentity":{"input":{"type":"structure","required":["IdentityId","Logins","LoginsToRemove"],"members":{"IdentityId":{},"Logins":{"shape":"S10"},"LoginsToRemove":{"shape":"Sw"}}},"authtype":"none"},"UntagResource":{"input":{"type":"structure","required":["ResourceArn","TagKeys"],"members":{"ResourceArn":{},"TagKeys":{"type":"list","member":{}}}},"output":{"type":"structure","members":{}}},"UpdateIdentityPool":{"input":{"shape":"Sk"},"output":{"shape":"Sk"}}},"shapes":{"S5":{"type":"map","key":{},"value":{}},"S9":{"type":"list","member":{}},"Sb":{"type":"list","member":{"type":"structure","members":{"ProviderName":{},"ClientId":{},"ServerSideTokenCheck":{"type":"boolean"}}}},"Sg":{"type":"list","member":{}},"Sh":{"type":"map","key":{},"value":{}},"Sk":{"type":"structure","required":["IdentityPoolId","IdentityPoolName","AllowUnauthenticatedIdentities"],"members":{"IdentityPoolId":{},"IdentityPoolName":{},"AllowUnauthenticatedIdentities":{"type":"boolean"},"AllowClassicFlow":{"type":"boolean"},"SupportedLoginProviders":{"shape":"S5"},"DeveloperProviderName":{},"OpenIdConnectProviderARNs":{"shape":"S9"},"CognitoIdentityProviders":{"shape":"Sb"},"SamlProviderARNs":{"shape":"Sg"},"IdentityPoolTags":{"shape":"Sh"}}},"Sv":{"type":"structure","members":{"IdentityId":{},"Logins":{"shape":"Sw"},"CreationDate":{"type":"timestamp"},"LastModifiedDate":{"type":"timestamp"}}},"Sw":{"type":"list","member":{}},"S10":{"type":"map","key":{},"value":{}},"S1c":{"type":"map","key":{},"value":{}},"S1e":{"type":"map","key":{},"value":{"type":"structure","required":["Type"],"members":{"Type":{},"AmbiguousRoleResolution":{},"RulesConfiguration":{"type":"structure","required":["Rules"],"members":{"Rules":{"type":"list","member":{"type":"structure","required":["Claim","MatchType","Value","RoleARN"],"members":{"Claim":{},"MatchType":{},"Value":{},"RoleARN":{}}}}}}}}},"S1s":{"type":"map","key":{},"value":{}}}}')},5010:e=>{"use strict";e.exports=JSON.parse('{"o":{"ListIdentityPools":{"input_token":"NextToken","limit_key":"MaxResults","output_token":"NextToken","result_key":"IdentityPools"}}}')},7752:e=>{"use strict";e.exports=JSON.parse('{"acm":{"name":"ACM","cors":true},"apigateway":{"name":"APIGateway","cors":true},"applicationautoscaling":{"prefix":"application-autoscaling","name":"ApplicationAutoScaling","cors":true},"appstream":{"name":"AppStream"},"autoscaling":{"name":"AutoScaling","cors":true},"batch":{"name":"Batch"},"budgets":{"name":"Budgets"},"clouddirectory":{"name":"CloudDirectory","versions":["2016-05-10*"]},"cloudformation":{"name":"CloudFormation","cors":true},"cloudfront":{"name":"CloudFront","versions":["2013-05-12*","2013-11-11*","2014-05-31*","2014-10-21*","2014-11-06*","2015-04-17*","2015-07-27*","2015-09-17*","2016-01-13*","2016-01-28*","2016-08-01*","2016-08-20*","2016-09-07*","2016-09-29*","2016-11-25*","2017-03-25*","2017-10-30*","2018-06-18*","2018-11-05*","2019-03-26*"],"cors":true},"cloudhsm":{"name":"CloudHSM","cors":true},"cloudsearch":{"name":"CloudSearch"},"cloudsearchdomain":{"name":"CloudSearchDomain"},"cloudtrail":{"name":"CloudTrail","cors":true},"cloudwatch":{"prefix":"monitoring","name":"CloudWatch","cors":true},"cloudwatchevents":{"prefix":"events","name":"CloudWatchEvents","versions":["2014-02-03*"],"cors":true},"cloudwatchlogs":{"prefix":"logs","name":"CloudWatchLogs","cors":true},"codebuild":{"name":"CodeBuild","cors":true},"codecommit":{"name":"CodeCommit","cors":true},"codedeploy":{"name":"CodeDeploy","cors":true},"codepipeline":{"name":"CodePipeline","cors":true},"cognitoidentity":{"prefix":"cognito-identity","name":"CognitoIdentity","cors":true},"cognitoidentityserviceprovider":{"prefix":"cognito-idp","name":"CognitoIdentityServiceProvider","cors":true},"cognitosync":{"prefix":"cognito-sync","name":"CognitoSync","cors":true},"configservice":{"prefix":"config","name":"ConfigService","cors":true},"cur":{"name":"CUR","cors":true},"datapipeline":{"name":"DataPipeline"},"devicefarm":{"name":"DeviceFarm","cors":true},"directconnect":{"name":"DirectConnect","cors":true},"directoryservice":{"prefix":"ds","name":"DirectoryService"},"discovery":{"name":"Discovery"},"dms":{"name":"DMS"},"dynamodb":{"name":"DynamoDB","cors":true},"dynamodbstreams":{"prefix":"streams.dynamodb","name":"DynamoDBStreams","cors":true},"ec2":{"name":"EC2","versions":["2013-06-15*","2013-10-15*","2014-02-01*","2014-05-01*","2014-06-15*","2014-09-01*","2014-10-01*","2015-03-01*","2015-04-15*","2015-10-01*","2016-04-01*","2016-09-15*"],"cors":true},"ecr":{"name":"ECR","cors":true},"ecs":{"name":"ECS","cors":true},"efs":{"prefix":"elasticfilesystem","name":"EFS","cors":true},"elasticache":{"name":"ElastiCache","versions":["2012-11-15*","2014-03-24*","2014-07-15*","2014-09-30*"],"cors":true},"elasticbeanstalk":{"name":"ElasticBeanstalk","cors":true},"elb":{"prefix":"elasticloadbalancing","name":"ELB","cors":true},"elbv2":{"prefix":"elasticloadbalancingv2","name":"ELBv2","cors":true},"emr":{"prefix":"elasticmapreduce","name":"EMR","cors":true},"es":{"name":"ES"},"elastictranscoder":{"name":"ElasticTranscoder","cors":true},"firehose":{"name":"Firehose","cors":true},"gamelift":{"name":"GameLift","cors":true},"glacier":{"name":"Glacier"},"health":{"name":"Health"},"iam":{"name":"IAM","cors":true},"importexport":{"name":"ImportExport"},"inspector":{"name":"Inspector","versions":["2015-08-18*"],"cors":true},"iot":{"name":"Iot","cors":true},"iotdata":{"prefix":"iot-data","name":"IotData","cors":true},"kinesis":{"name":"Kinesis","cors":true},"kinesisanalytics":{"name":"KinesisAnalytics"},"kms":{"name":"KMS","cors":true},"lambda":{"name":"Lambda","cors":true},"lexruntime":{"prefix":"runtime.lex","name":"LexRuntime","cors":true},"lightsail":{"name":"Lightsail"},"machinelearning":{"name":"MachineLearning","cors":true},"marketplacecommerceanalytics":{"name":"MarketplaceCommerceAnalytics","cors":true},"marketplacemetering":{"prefix":"meteringmarketplace","name":"MarketplaceMetering"},"mturk":{"prefix":"mturk-requester","name":"MTurk","cors":true},"mobileanalytics":{"name":"MobileAnalytics","cors":true},"opsworks":{"name":"OpsWorks","cors":true},"opsworkscm":{"name":"OpsWorksCM"},"organizations":{"name":"Organizations"},"pinpoint":{"name":"Pinpoint"},"polly":{"name":"Polly","cors":true},"rds":{"name":"RDS","versions":["2014-09-01*"],"cors":true},"redshift":{"name":"Redshift","cors":true},"rekognition":{"name":"Rekognition","cors":true},"resourcegroupstaggingapi":{"name":"ResourceGroupsTaggingAPI"},"route53":{"name":"Route53","cors":true},"route53domains":{"name":"Route53Domains","cors":true},"s3":{"name":"S3","dualstackAvailable":true,"cors":true},"s3control":{"name":"S3Control","dualstackAvailable":true,"xmlNoDefaultLists":true},"servicecatalog":{"name":"ServiceCatalog","cors":true},"ses":{"prefix":"email","name":"SES","cors":true},"shield":{"name":"Shield"},"simpledb":{"prefix":"sdb","name":"SimpleDB"},"sms":{"name":"SMS"},"snowball":{"name":"Snowball"},"sns":{"name":"SNS","cors":true},"sqs":{"name":"SQS","cors":true},"ssm":{"name":"SSM","cors":true},"storagegateway":{"name":"StorageGateway","cors":true},"stepfunctions":{"prefix":"states","name":"StepFunctions"},"sts":{"name":"STS","cors":true},"support":{"name":"Support"},"swf":{"name":"SWF"},"xray":{"name":"XRay","cors":true},"waf":{"name":"WAF","cors":true},"wafregional":{"prefix":"waf-regional","name":"WAFRegional"},"workdocs":{"name":"WorkDocs","cors":true},"workspaces":{"name":"WorkSpaces"},"codestar":{"name":"CodeStar"},"lexmodelbuildingservice":{"prefix":"lex-models","name":"LexModelBuildingService","cors":true},"marketplaceentitlementservice":{"prefix":"entitlement.marketplace","name":"MarketplaceEntitlementService"},"athena":{"name":"Athena","cors":true},"greengrass":{"name":"Greengrass"},"dax":{"name":"DAX"},"migrationhub":{"prefix":"AWSMigrationHub","name":"MigrationHub"},"cloudhsmv2":{"name":"CloudHSMV2","cors":true},"glue":{"name":"Glue"},"mobile":{"name":"Mobile"},"pricing":{"name":"Pricing","cors":true},"costexplorer":{"prefix":"ce","name":"CostExplorer","cors":true},"mediaconvert":{"name":"MediaConvert"},"medialive":{"name":"MediaLive"},"mediapackage":{"name":"MediaPackage"},"mediastore":{"name":"MediaStore"},"mediastoredata":{"prefix":"mediastore-data","name":"MediaStoreData","cors":true},"appsync":{"name":"AppSync"},"guardduty":{"name":"GuardDuty"},"mq":{"name":"MQ"},"comprehend":{"name":"Comprehend","cors":true},"iotjobsdataplane":{"prefix":"iot-jobs-data","name":"IoTJobsDataPlane"},"kinesisvideoarchivedmedia":{"prefix":"kinesis-video-archived-media","name":"KinesisVideoArchivedMedia","cors":true},"kinesisvideomedia":{"prefix":"kinesis-video-media","name":"KinesisVideoMedia","cors":true},"kinesisvideo":{"name":"KinesisVideo","cors":true},"sagemakerruntime":{"prefix":"runtime.sagemaker","name":"SageMakerRuntime"},"sagemaker":{"name":"SageMaker"},"translate":{"name":"Translate","cors":true},"resourcegroups":{"prefix":"resource-groups","name":"ResourceGroups","cors":true},"alexaforbusiness":{"name":"AlexaForBusiness"},"cloud9":{"name":"Cloud9"},"serverlessapplicationrepository":{"prefix":"serverlessrepo","name":"ServerlessApplicationRepository"},"servicediscovery":{"name":"ServiceDiscovery"},"workmail":{"name":"WorkMail"},"autoscalingplans":{"prefix":"autoscaling-plans","name":"AutoScalingPlans"},"transcribeservice":{"prefix":"transcribe","name":"TranscribeService"},"connect":{"name":"Connect","cors":true},"acmpca":{"prefix":"acm-pca","name":"ACMPCA"},"fms":{"name":"FMS"},"secretsmanager":{"name":"SecretsManager","cors":true},"iotanalytics":{"name":"IoTAnalytics","cors":true},"iot1clickdevicesservice":{"prefix":"iot1click-devices","name":"IoT1ClickDevicesService"},"iot1clickprojects":{"prefix":"iot1click-projects","name":"IoT1ClickProjects"},"pi":{"name":"PI"},"neptune":{"name":"Neptune"},"mediatailor":{"name":"MediaTailor"},"eks":{"name":"EKS"},"macie":{"name":"Macie"},"dlm":{"name":"DLM"},"signer":{"name":"Signer"},"chime":{"name":"Chime"},"pinpointemail":{"prefix":"pinpoint-email","name":"PinpointEmail"},"ram":{"name":"RAM"},"route53resolver":{"name":"Route53Resolver"},"pinpointsmsvoice":{"prefix":"sms-voice","name":"PinpointSMSVoice"},"quicksight":{"name":"QuickSight"},"rdsdataservice":{"prefix":"rds-data","name":"RDSDataService"},"amplify":{"name":"Amplify"},"datasync":{"name":"DataSync"},"robomaker":{"name":"RoboMaker"},"transfer":{"name":"Transfer"},"globalaccelerator":{"name":"GlobalAccelerator"},"comprehendmedical":{"name":"ComprehendMedical","cors":true},"kinesisanalyticsv2":{"name":"KinesisAnalyticsV2"},"mediaconnect":{"name":"MediaConnect"},"fsx":{"name":"FSx"},"securityhub":{"name":"SecurityHub"},"appmesh":{"name":"AppMesh","versions":["2018-10-01*"]},"licensemanager":{"prefix":"license-manager","name":"LicenseManager"},"kafka":{"name":"Kafka"},"apigatewaymanagementapi":{"name":"ApiGatewayManagementApi"},"apigatewayv2":{"name":"ApiGatewayV2"},"docdb":{"name":"DocDB"},"backup":{"name":"Backup"},"worklink":{"name":"WorkLink"},"textract":{"name":"Textract"},"managedblockchain":{"name":"ManagedBlockchain"},"mediapackagevod":{"prefix":"mediapackage-vod","name":"MediaPackageVod"},"groundstation":{"name":"GroundStation"},"iotthingsgraph":{"name":"IoTThingsGraph"},"iotevents":{"name":"IoTEvents"},"ioteventsdata":{"prefix":"iotevents-data","name":"IoTEventsData"},"personalize":{"name":"Personalize","cors":true},"personalizeevents":{"prefix":"personalize-events","name":"PersonalizeEvents","cors":true},"personalizeruntime":{"prefix":"personalize-runtime","name":"PersonalizeRuntime","cors":true},"applicationinsights":{"prefix":"application-insights","name":"ApplicationInsights"},"servicequotas":{"prefix":"service-quotas","name":"ServiceQuotas"},"ec2instanceconnect":{"prefix":"ec2-instance-connect","name":"EC2InstanceConnect"},"eventbridge":{"name":"EventBridge"},"lakeformation":{"name":"LakeFormation"},"forecastservice":{"prefix":"forecast","name":"ForecastService","cors":true},"forecastqueryservice":{"prefix":"forecastquery","name":"ForecastQueryService","cors":true},"qldb":{"name":"QLDB"},"qldbsession":{"prefix":"qldb-session","name":"QLDBSession"},"workmailmessageflow":{"name":"WorkMailMessageFlow"},"codestarnotifications":{"prefix":"codestar-notifications","name":"CodeStarNotifications"},"savingsplans":{"name":"SavingsPlans"},"sso":{"name":"SSO"},"ssooidc":{"prefix":"sso-oidc","name":"SSOOIDC"},"marketplacecatalog":{"prefix":"marketplace-catalog","name":"MarketplaceCatalog","cors":true},"dataexchange":{"name":"DataExchange"},"sesv2":{"name":"SESV2"},"migrationhubconfig":{"prefix":"migrationhub-config","name":"MigrationHubConfig"},"connectparticipant":{"name":"ConnectParticipant"},"appconfig":{"name":"AppConfig"},"iotsecuretunneling":{"name":"IoTSecureTunneling"},"wafv2":{"name":"WAFV2"},"elasticinference":{"prefix":"elastic-inference","name":"ElasticInference"},"imagebuilder":{"name":"Imagebuilder"},"schemas":{"name":"Schemas"},"accessanalyzer":{"name":"AccessAnalyzer"},"codegurureviewer":{"prefix":"codeguru-reviewer","name":"CodeGuruReviewer"},"codeguruprofiler":{"name":"CodeGuruProfiler"},"computeoptimizer":{"prefix":"compute-optimizer","name":"ComputeOptimizer"},"frauddetector":{"name":"FraudDetector"},"kendra":{"name":"Kendra"},"networkmanager":{"name":"NetworkManager"},"outposts":{"name":"Outposts"},"augmentedairuntime":{"prefix":"sagemaker-a2i-runtime","name":"AugmentedAIRuntime"},"ebs":{"name":"EBS"},"kinesisvideosignalingchannels":{"prefix":"kinesis-video-signaling","name":"KinesisVideoSignalingChannels","cors":true},"detective":{"name":"Detective"},"codestarconnections":{"prefix":"codestar-connections","name":"CodeStarconnections"},"synthetics":{"name":"Synthetics"},"iotsitewise":{"name":"IoTSiteWise"},"macie2":{"name":"Macie2"},"codeartifact":{"name":"CodeArtifact"},"honeycode":{"name":"Honeycode"},"ivs":{"name":"IVS"},"braket":{"name":"Braket"},"identitystore":{"name":"IdentityStore"},"appflow":{"name":"Appflow"},"redshiftdata":{"prefix":"redshift-data","name":"RedshiftData"},"ssoadmin":{"prefix":"sso-admin","name":"SSOAdmin"},"timestreamquery":{"prefix":"timestream-query","name":"TimestreamQuery"},"timestreamwrite":{"prefix":"timestream-write","name":"TimestreamWrite"},"s3outposts":{"name":"S3Outposts"},"databrew":{"name":"DataBrew"},"servicecatalogappregistry":{"prefix":"servicecatalog-appregistry","name":"ServiceCatalogAppRegistry"},"networkfirewall":{"prefix":"network-firewall","name":"NetworkFirewall"},"mwaa":{"name":"MWAA"},"amplifybackend":{"name":"AmplifyBackend"},"appintegrations":{"name":"AppIntegrations"},"connectcontactlens":{"prefix":"connect-contact-lens","name":"ConnectContactLens"},"devopsguru":{"prefix":"devops-guru","name":"DevOpsGuru"},"ecrpublic":{"prefix":"ecr-public","name":"ECRPUBLIC"},"lookoutvision":{"name":"LookoutVision"},"sagemakerfeaturestoreruntime":{"prefix":"sagemaker-featurestore-runtime","name":"SageMakerFeatureStoreRuntime"},"customerprofiles":{"prefix":"customer-profiles","name":"CustomerProfiles"},"auditmanager":{"name":"AuditManager"},"emrcontainers":{"prefix":"emr-containers","name":"EMRcontainers"},"healthlake":{"name":"HealthLake"},"sagemakeredge":{"prefix":"sagemaker-edge","name":"SagemakerEdge"},"amp":{"name":"Amp","cors":true},"greengrassv2":{"name":"GreengrassV2"},"iotdeviceadvisor":{"name":"IotDeviceAdvisor"},"iotfleethub":{"name":"IoTFleetHub"},"iotwireless":{"name":"IoTWireless"},"location":{"name":"Location","cors":true},"wellarchitected":{"name":"WellArchitected"},"lexmodelsv2":{"prefix":"models.lex.v2","name":"LexModelsV2"},"lexruntimev2":{"prefix":"runtime.lex.v2","name":"LexRuntimeV2","cors":true},"fis":{"name":"Fis"},"lookoutmetrics":{"name":"LookoutMetrics"},"mgn":{"name":"Mgn"},"lookoutequipment":{"name":"LookoutEquipment"},"nimble":{"name":"Nimble"},"finspace":{"name":"Finspace"},"finspacedata":{"prefix":"finspace-data","name":"Finspacedata"},"ssmcontacts":{"prefix":"ssm-contacts","name":"SSMContacts"},"ssmincidents":{"prefix":"ssm-incidents","name":"SSMIncidents"},"applicationcostprofiler":{"name":"ApplicationCostProfiler"},"apprunner":{"name":"AppRunner"},"proton":{"name":"Proton"},"route53recoverycluster":{"prefix":"route53-recovery-cluster","name":"Route53RecoveryCluster"},"route53recoverycontrolconfig":{"prefix":"route53-recovery-control-config","name":"Route53RecoveryControlConfig"},"route53recoveryreadiness":{"prefix":"route53-recovery-readiness","name":"Route53RecoveryReadiness"},"chimesdkidentity":{"prefix":"chime-sdk-identity","name":"ChimeSDKIdentity"},"chimesdkmessaging":{"prefix":"chime-sdk-messaging","name":"ChimeSDKMessaging"},"snowdevicemanagement":{"prefix":"snow-device-management","name":"SnowDeviceManagement"},"memorydb":{"name":"MemoryDB"},"opensearch":{"name":"OpenSearch"},"kafkaconnect":{"name":"KafkaConnect"},"voiceid":{"prefix":"voice-id","name":"VoiceID"},"wisdom":{"name":"Wisdom"},"account":{"name":"Account"},"cloudcontrol":{"name":"CloudControl"},"grafana":{"name":"Grafana"},"panorama":{"name":"Panorama"},"chimesdkmeetings":{"prefix":"chime-sdk-meetings","name":"ChimeSDKMeetings"},"resiliencehub":{"name":"Resiliencehub"},"migrationhubstrategy":{"name":"MigrationHubStrategy"},"appconfigdata":{"name":"AppConfigData"},"drs":{"name":"Drs"},"migrationhubrefactorspaces":{"prefix":"migration-hub-refactor-spaces","name":"MigrationHubRefactorSpaces"},"evidently":{"name":"Evidently"},"inspector2":{"name":"Inspector2"},"rbin":{"name":"Rbin"},"rum":{"name":"RUM"},"backupgateway":{"prefix":"backup-gateway","name":"BackupGateway"},"iottwinmaker":{"name":"IoTTwinMaker"},"workspacesweb":{"prefix":"workspaces-web","name":"WorkSpacesWeb"},"amplifyuibuilder":{"name":"AmplifyUIBuilder"},"keyspaces":{"name":"Keyspaces"},"billingconductor":{"name":"Billingconductor"},"gamesparks":{"name":"GameSparks"},"pinpointsmsvoicev2":{"prefix":"pinpoint-sms-voice-v2","name":"PinpointSMSVoiceV2"},"ivschat":{"name":"Ivschat"},"chimesdkmediapipelines":{"prefix":"chime-sdk-media-pipelines","name":"ChimeSDKMediaPipelines"},"emrserverless":{"prefix":"emr-serverless","name":"EMRServerless"},"m2":{"name":"M2"},"connectcampaigns":{"name":"ConnectCampaigns"},"redshiftserverless":{"prefix":"redshift-serverless","name":"RedshiftServerless"},"rolesanywhere":{"name":"RolesAnywhere"},"licensemanagerusersubscriptions":{"prefix":"license-manager-user-subscriptions","name":"LicenseManagerUserSubscriptions"},"backupstorage":{"name":"BackupStorage"},"privatenetworks":{"name":"PrivateNetworks"},"supportapp":{"prefix":"support-app","name":"SupportApp"},"controltower":{"name":"ControlTower"},"iotfleetwise":{"name":"IoTFleetWise"},"migrationhuborchestrator":{"name":"MigrationHubOrchestrator"},"connectcases":{"name":"ConnectCases"},"resourceexplorer2":{"prefix":"resource-explorer-2","name":"ResourceExplorer2"},"scheduler":{"name":"Scheduler"},"chimesdkvoice":{"prefix":"chime-sdk-voice","name":"ChimeSDKVoice"},"iotroborunner":{"prefix":"iot-roborunner","name":"IoTRoboRunner"},"ssmsap":{"prefix":"ssm-sap","name":"SsmSap"},"oam":{"name":"OAM"},"arczonalshift":{"prefix":"arc-zonal-shift","name":"ARCZonalShift"},"omics":{"name":"Omics"},"opensearchserverless":{"name":"OpenSearchServerless"},"securitylake":{"name":"SecurityLake"},"simspaceweaver":{"name":"SimSpaceWeaver"},"docdbelastic":{"prefix":"docdb-elastic","name":"DocDBElastic"},"sagemakergeospatial":{"prefix":"sagemaker-geospatial","name":"SageMakerGeospatial"},"codecatalyst":{"name":"CodeCatalyst"},"pipes":{"name":"Pipes"},"sagemakermetrics":{"prefix":"sagemaker-metrics","name":"SageMakerMetrics"},"kinesisvideowebrtcstorage":{"prefix":"kinesis-video-webrtc-storage","name":"KinesisVideoWebRTCStorage"},"licensemanagerlinuxsubscriptions":{"prefix":"license-manager-linux-subscriptions","name":"LicenseManagerLinuxSubscriptions"},"kendraranking":{"prefix":"kendra-ranking","name":"KendraRanking"},"cleanrooms":{"name":"CleanRooms"},"cloudtraildata":{"prefix":"cloudtrail-data","name":"CloudTrailData"},"tnb":{"name":"Tnb"},"internetmonitor":{"name":"InternetMonitor"},"ivsrealtime":{"prefix":"ivs-realtime","name":"IVSRealTime"},"vpclattice":{"prefix":"vpc-lattice","name":"VPCLattice"},"osis":{"name":"OSIS"},"mediapackagev2":{"name":"MediaPackageV2"},"paymentcryptography":{"prefix":"payment-cryptography","name":"PaymentCryptography"},"paymentcryptographydata":{"prefix":"payment-cryptography-data","name":"PaymentCryptographyData"},"codegurusecurity":{"prefix":"codeguru-security","name":"CodeGuruSecurity"},"verifiedpermissions":{"name":"VerifiedPermissions"}}')},753:e=>{"use strict";e.exports=JSON.parse('{"version":"2.0","metadata":{"apiVersion":"2011-06-15","endpointPrefix":"sts","globalEndpoint":"sts.amazonaws.com","protocol":"query","serviceAbbreviation":"AWS STS","serviceFullName":"AWS Security Token Service","serviceId":"STS","signatureVersion":"v4","uid":"sts-2011-06-15","xmlNamespace":"https://sts.amazonaws.com/doc/2011-06-15/"},"operations":{"AssumeRole":{"input":{"type":"structure","required":["RoleArn","RoleSessionName"],"members":{"RoleArn":{},"RoleSessionName":{},"PolicyArns":{"shape":"S4"},"Policy":{},"DurationSeconds":{"type":"integer"},"Tags":{"shape":"S8"},"TransitiveTagKeys":{"type":"list","member":{}},"ExternalId":{},"SerialNumber":{},"TokenCode":{},"SourceIdentity":{}}},"output":{"resultWrapper":"AssumeRoleResult","type":"structure","members":{"Credentials":{"shape":"Si"},"AssumedRoleUser":{"shape":"Sn"},"PackedPolicySize":{"type":"integer"},"SourceIdentity":{}}}},"AssumeRoleWithSAML":{"input":{"type":"structure","required":["RoleArn","PrincipalArn","SAMLAssertion"],"members":{"RoleArn":{},"PrincipalArn":{},"SAMLAssertion":{"type":"string","sensitive":true},"PolicyArns":{"shape":"S4"},"Policy":{},"DurationSeconds":{"type":"integer"}}},"output":{"resultWrapper":"AssumeRoleWithSAMLResult","type":"structure","members":{"Credentials":{"shape":"Si"},"AssumedRoleUser":{"shape":"Sn"},"PackedPolicySize":{"type":"integer"},"Subject":{},"SubjectType":{},"Issuer":{},"Audience":{},"NameQualifier":{},"SourceIdentity":{}}}},"AssumeRoleWithWebIdentity":{"input":{"type":"structure","required":["RoleArn","RoleSessionName","WebIdentityToken"],"members":{"RoleArn":{},"RoleSessionName":{},"WebIdentityToken":{"type":"string","sensitive":true},"ProviderId":{},"PolicyArns":{"shape":"S4"},"Policy":{},"DurationSeconds":{"type":"integer"}}},"output":{"resultWrapper":"AssumeRoleWithWebIdentityResult","type":"structure","members":{"Credentials":{"shape":"Si"},"SubjectFromWebIdentityToken":{},"AssumedRoleUser":{"shape":"Sn"},"PackedPolicySize":{"type":"integer"},"Provider":{},"Audience":{},"SourceIdentity":{}}}},"DecodeAuthorizationMessage":{"input":{"type":"structure","required":["EncodedMessage"],"members":{"EncodedMessage":{}}},"output":{"resultWrapper":"DecodeAuthorizationMessageResult","type":"structure","members":{"DecodedMessage":{}}}},"GetAccessKeyInfo":{"input":{"type":"structure","required":["AccessKeyId"],"members":{"AccessKeyId":{}}},"output":{"resultWrapper":"GetAccessKeyInfoResult","type":"structure","members":{"Account":{}}}},"GetCallerIdentity":{"input":{"type":"structure","members":{}},"output":{"resultWrapper":"GetCallerIdentityResult","type":"structure","members":{"UserId":{},"Account":{},"Arn":{}}}},"GetFederationToken":{"input":{"type":"structure","required":["Name"],"members":{"Name":{},"Policy":{},"PolicyArns":{"shape":"S4"},"DurationSeconds":{"type":"integer"},"Tags":{"shape":"S8"}}},"output":{"resultWrapper":"GetFederationTokenResult","type":"structure","members":{"Credentials":{"shape":"Si"},"FederatedUser":{"type":"structure","required":["FederatedUserId","Arn"],"members":{"FederatedUserId":{},"Arn":{}}},"PackedPolicySize":{"type":"integer"}}}},"GetSessionToken":{"input":{"type":"structure","members":{"DurationSeconds":{"type":"integer"},"SerialNumber":{},"TokenCode":{}}},"output":{"resultWrapper":"GetSessionTokenResult","type":"structure","members":{"Credentials":{"shape":"Si"}}}}},"shapes":{"S4":{"type":"list","member":{"type":"structure","members":{"arn":{}}}},"S8":{"type":"list","member":{"type":"structure","required":["Key","Value"],"members":{"Key":{},"Value":{}}}},"Si":{"type":"structure","required":["AccessKeyId","SecretAccessKey","SessionToken","Expiration"],"members":{"AccessKeyId":{},"SecretAccessKey":{"type":"string","sensitive":true},"SessionToken":{},"Expiration":{"type":"timestamp"}}},"Sn":{"type":"structure","required":["AssumedRoleId","Arn"],"members":{"AssumedRoleId":{},"Arn":{}}}}}')},3639:e=>{"use strict";e.exports={o:{}}},738:e=>{"use strict";e.exports=JSON.parse('{"rules":{"*/*":{"endpoint":"{service}.{region}.amazonaws.com"},"cn-*/*":{"endpoint":"{service}.{region}.amazonaws.com.cn"},"us-iso-*/*":"usIso","us-isob-*/*":"usIsob","*/budgets":"globalSSL","*/cloudfront":"globalSSL","*/sts":"globalSSL","*/importexport":{"endpoint":"{service}.amazonaws.com","signatureVersion":"v2","globalEndpoint":true},"*/route53":"globalSSL","cn-*/route53":{"endpoint":"{service}.amazonaws.com.cn","globalEndpoint":true,"signingRegion":"cn-northwest-1"},"us-gov-*/route53":"globalGovCloud","us-iso-*/route53":{"endpoint":"{service}.c2s.ic.gov","globalEndpoint":true,"signingRegion":"us-iso-east-1"},"us-isob-*/route53":{"endpoint":"{service}.sc2s.sgov.gov","globalEndpoint":true,"signingRegion":"us-isob-east-1"},"*/waf":"globalSSL","*/iam":"globalSSL","cn-*/iam":{"endpoint":"{service}.cn-north-1.amazonaws.com.cn","globalEndpoint":true,"signingRegion":"cn-north-1"},"us-iso-*/iam":{"endpoint":"{service}.us-iso-east-1.c2s.ic.gov","globalEndpoint":true,"signingRegion":"us-iso-east-1"},"us-gov-*/iam":"globalGovCloud","us-gov-*/sts":{"endpoint":"{service}.{region}.amazonaws.com"},"us-gov-west-1/s3":"s3signature","us-west-1/s3":"s3signature","us-west-2/s3":"s3signature","eu-west-1/s3":"s3signature","ap-southeast-1/s3":"s3signature","ap-southeast-2/s3":"s3signature","ap-northeast-1/s3":"s3signature","sa-east-1/s3":"s3signature","us-east-1/s3":{"endpoint":"{service}.amazonaws.com","signatureVersion":"s3"},"us-east-1/sdb":{"endpoint":"{service}.amazonaws.com","signatureVersion":"v2"},"*/sdb":{"endpoint":"{service}.{region}.amazonaws.com","signatureVersion":"v2"},"*/resource-explorer-2":"dualstackByDefault","*/kendra-ranking":"dualstackByDefault","*/internetmonitor":"dualstackByDefault","*/codecatalyst":"globalDualstackByDefault"},"fipsRules":{"*/*":"fipsStandard","us-gov-*/*":"fipsStandard","us-iso-*/*":{"endpoint":"{service}-fips.{region}.c2s.ic.gov"},"us-iso-*/dms":"usIso","us-isob-*/*":{"endpoint":"{service}-fips.{region}.sc2s.sgov.gov"},"us-isob-*/dms":"usIsob","cn-*/*":{"endpoint":"{service}-fips.{region}.amazonaws.com.cn"},"*/api.ecr":"fips.api.ecr","*/api.sagemaker":"fips.api.sagemaker","*/batch":"fipsDotPrefix","*/eks":"fipsDotPrefix","*/models.lex":"fips.models.lex","*/runtime.lex":"fips.runtime.lex","*/runtime.sagemaker":{"endpoint":"runtime-fips.sagemaker.{region}.amazonaws.com"},"*/iam":"fipsWithoutRegion","*/route53":"fipsWithoutRegion","*/transcribe":"fipsDotPrefix","*/waf":"fipsWithoutRegion","us-gov-*/transcribe":"fipsDotPrefix","us-gov-*/api.ecr":"fips.api.ecr","us-gov-*/api.sagemaker":"fips.api.sagemaker","us-gov-*/models.lex":"fips.models.lex","us-gov-*/runtime.lex":"fips.runtime.lex","us-gov-*/acm-pca":"fipsWithServiceOnly","us-gov-*/batch":"fipsWithServiceOnly","us-gov-*/cloudformation":"fipsWithServiceOnly","us-gov-*/config":"fipsWithServiceOnly","us-gov-*/eks":"fipsWithServiceOnly","us-gov-*/elasticmapreduce":"fipsWithServiceOnly","us-gov-*/identitystore":"fipsWithServiceOnly","us-gov-*/dynamodb":"fipsWithServiceOnly","us-gov-*/elasticloadbalancing":"fipsWithServiceOnly","us-gov-*/guardduty":"fipsWithServiceOnly","us-gov-*/monitoring":"fipsWithServiceOnly","us-gov-*/resource-groups":"fipsWithServiceOnly","us-gov-*/runtime.sagemaker":"fipsWithServiceOnly","us-gov-*/servicecatalog-appregistry":"fipsWithServiceOnly","us-gov-*/servicequotas":"fipsWithServiceOnly","us-gov-*/ssm":"fipsWithServiceOnly","us-gov-*/sts":"fipsWithServiceOnly","us-gov-*/support":"fipsWithServiceOnly","us-gov-west-1/states":"fipsWithServiceOnly","us-iso-east-1/elasticfilesystem":{"endpoint":"elasticfilesystem-fips.{region}.c2s.ic.gov"},"us-gov-west-1/organizations":"fipsWithServiceOnly","us-gov-west-1/route53":{"endpoint":"route53.us-gov.amazonaws.com"},"*/resource-explorer-2":"fipsDualstackByDefault","*/kendra-ranking":"dualstackByDefault","*/internetmonitor":"dualstackByDefault","*/codecatalyst":"fipsGlobalDualstackByDefault"},"dualstackRules":{"*/*":{"endpoint":"{service}.{region}.api.aws"},"cn-*/*":{"endpoint":"{service}.{region}.api.amazonwebservices.com.cn"},"*/s3":"dualstackLegacy","cn-*/s3":"dualstackLegacyCn","*/s3-control":"dualstackLegacy","cn-*/s3-control":"dualstackLegacyCn","ap-south-1/ec2":"dualstackLegacyEc2","eu-west-1/ec2":"dualstackLegacyEc2","sa-east-1/ec2":"dualstackLegacyEc2","us-east-1/ec2":"dualstackLegacyEc2","us-east-2/ec2":"dualstackLegacyEc2","us-west-2/ec2":"dualstackLegacyEc2"},"dualstackFipsRules":{"*/*":{"endpoint":"{service}-fips.{region}.api.aws"},"cn-*/*":{"endpoint":"{service}-fips.{region}.api.amazonwebservices.com.cn"},"*/s3":"dualstackFipsLegacy","cn-*/s3":"dualstackFipsLegacyCn","*/s3-control":"dualstackFipsLegacy","cn-*/s3-control":"dualstackFipsLegacyCn"},"patterns":{"globalSSL":{"endpoint":"https://{service}.amazonaws.com","globalEndpoint":true,"signingRegion":"us-east-1"},"globalGovCloud":{"endpoint":"{service}.us-gov.amazonaws.com","globalEndpoint":true,"signingRegion":"us-gov-west-1"},"s3signature":{"endpoint":"{service}.{region}.amazonaws.com","signatureVersion":"s3"},"usIso":{"endpoint":"{service}.{region}.c2s.ic.gov"},"usIsob":{"endpoint":"{service}.{region}.sc2s.sgov.gov"},"fipsStandard":{"endpoint":"{service}-fips.{region}.amazonaws.com"},"fipsDotPrefix":{"endpoint":"fips.{service}.{region}.amazonaws.com"},"fipsWithoutRegion":{"endpoint":"{service}-fips.amazonaws.com"},"fips.api.ecr":{"endpoint":"ecr-fips.{region}.amazonaws.com"},"fips.api.sagemaker":{"endpoint":"api-fips.sagemaker.{region}.amazonaws.com"},"fips.models.lex":{"endpoint":"models-fips.lex.{region}.amazonaws.com"},"fips.runtime.lex":{"endpoint":"runtime-fips.lex.{region}.amazonaws.com"},"fipsWithServiceOnly":{"endpoint":"{service}.{region}.amazonaws.com"},"dualstackLegacy":{"endpoint":"{service}.dualstack.{region}.amazonaws.com"},"dualstackLegacyCn":{"endpoint":"{service}.dualstack.{region}.amazonaws.com.cn"},"dualstackFipsLegacy":{"endpoint":"{service}-fips.dualstack.{region}.amazonaws.com"},"dualstackFipsLegacyCn":{"endpoint":"{service}-fips.dualstack.{region}.amazonaws.com.cn"},"dualstackLegacyEc2":{"endpoint":"api.ec2.{region}.aws"},"dualstackByDefault":{"endpoint":"{service}.{region}.api.aws"},"fipsDualstackByDefault":{"endpoint":"{service}-fips.{region}.api.aws"},"globalDualstackByDefault":{"endpoint":"{service}.global.api.aws"},"fipsGlobalDualstackByDefault":{"endpoint":"{service}-fips.global.api.aws"}}}')}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var n=__webpack_module_cache__[e]={id:e,loaded:!1,exports:{}};return __webpack_modules__[e].call(n.exports,n,n.exports,__webpack_require__),n.loaded=!0,n.exports}__webpack_require__.amdO={},__webpack_require__.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return __webpack_require__.d(t,{a:t}),t},__webpack_require__.d=(e,t)=>{for(var n in t)__webpack_require__.o(t,n)&&!__webpack_require__.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),__webpack_require__.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},__webpack_require__.nmd=e=>(e.paths=[],e.children||(e.children=[]),e);var __webpack_exports__={};(()=>{"use strict";var e=__webpack_require__(4152),t=__webpack_require__(8876),n=__webpack_require__(7085),i=__webpack_require__(4618),r=__webpack_require__(6848),a=__webpack_require__(2831),o=__webpack_require__(1769),s=__webpack_require__(7669),c=__webpack_require__(4307),d=__webpack_require__(6835);var l=__webpack_require__(7643),u=__webpack_require__(6582),h=__webpack_require__(871),p=__webpack_require__(6524),m=__webpack_require__(9082),f=__webpack_require__(7915),g=__webpack_require__(6795),w=__webpack_require__(7849),y=__webpack_require__(2498),v=__webpack_require__(6521),b=__webpack_require__(1065);const S="required",E="fn",C="argv",x="ref",I="isSet",k="tree",P="booleanEquals",A="error",T="endpoint",M="PartitionResult",R="getAttr",F={[S]:!1,type:"String"},_={[S]:!0,default:!1,type:"Boolean"},O={[x]:"Endpoint"},U={[E]:P,[C]:[{[x]:"UseFIPS"},!0]},N={[E]:P,[C]:[{[x]:"UseDualStack"},!0]},z={},D={[x]:M},L={[E]:P,[C]:[!0,{[E]:R,[C]:[D,"supportsFIPS"]}]},B={[E]:P,[C]:[!0,{[E]:R,[C]:[D,"supportsDualStack"]}]},q=[U],V=[N],j=[{[x]:"Region"}],W={version:"1.0",parameters:{Region:F,UseDualStack:_,UseFIPS:_,Endpoint:F},rules:[{conditions:[{[E]:I,[C]:[O]}],type:k,rules:[{conditions:q,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:A},{type:k,rules:[{conditions:V,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:A},{endpoint:{url:O,properties:z,headers:z},type:T}]}]},{type:k,rules:[{conditions:[{[E]:I,[C]:j}],type:k,rules:[{conditions:[{[E]:"aws.partition",[C]:j,assign:M}],type:k,rules:[{conditions:[{[E]:"stringEquals",[C]:[{[E]:R,[C]:[D,"name"]},"aws"]},{[E]:P,[C]:[{[x]:"UseFIPS"},!1]},{[E]:P,[C]:[{[x]:"UseDualStack"},!1]}],endpoint:{url:"https://chime.us-east-1.amazonaws.com",properties:{authSchemes:[{name:"sigv4",signingName:"chime",signingRegion:"us-east-1"}]},headers:z},type:T},{conditions:[U,N],type:k,rules:[{conditions:[L,B],type:k,rules:[{type:k,rules:[{endpoint:{url:"https://chime-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:z,headers:z},type:T}]}]},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:A}]},{conditions:q,type:k,rules:[{conditions:[L],type:k,rules:[{type:k,rules:[{endpoint:{url:"https://chime-fips.{Region}.{PartitionResult#dnsSuffix}",properties:z,headers:z},type:T}]}]},{error:"FIPS is enabled but this partition does not support FIPS",type:A}]},{conditions:V,type:k,rules:[{conditions:[B],type:k,rules:[{type:k,rules:[{endpoint:{url:"https://chime.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:z,headers:z},type:T}]}]},{error:"DualStack is enabled but this partition does not support DualStack",type:A}]},{type:k,rules:[{endpoint:{url:"https://chime.{Region}.{PartitionResult#dnsSuffix}",properties:z,headers:z},type:T}]}]}]},{error:"Invalid Configuration: Missing Region",type:A}]}]},$=(e,t={})=>(0,b.B1)(W,{endpointParams:e,logger:t.logger});var H=__webpack_require__(2971);class G extends e.KU{constructor(b){const S=(E=(n=>{const i=(0,H.j)(n),r=()=>i().then(e.jv),a=(t=>({apiVersion:"2018-05-01",base64Decoder:t?.base64Decoder??w.G,base64Encoder:t?.base64Encoder??w.s,disableHostPrefix:t?.disableHostPrefix??!1,endpointProvider:t?.endpointProvider??$,logger:t?.logger??new e.vk,serviceId:t?.serviceId??"Chime",urlParser:t?.urlParser??g.e,utf8Decoder:t?.utf8Decoder??y.$,utf8Encoder:t?.utf8Encoder??v.G}))(n);return{...a,...n,runtime:"browser",defaultsMode:i,bodyLengthChecker:n?.bodyLengthChecker??p.W,credentialDefaultProvider:n?.credentialDefaultProvider??(e=>()=>Promise.reject(new Error("Credential is missing"))),defaultUserAgentProvider:n?.defaultUserAgentProvider??(0,f.f)({serviceId:a.serviceId,clientVersion:"3.358.0"}),maxAttempts:n?.maxAttempts??m.J,region:n?.region??(0,h.n)("Region is missing"),requestHandler:n?.requestHandler??new u.B(r),retryMode:n?.retryMode??(async()=>(await r()).retryMode||m.CA),sha256:n?.sha256??l.Sha256,streamCollector:n?.streamCollector??u.C,useDualstackEndpoint:n?.useDualstackEndpoint??(()=>Promise.resolve(t.JY)),useFipsEndpoint:n?.useFipsEndpoint??(()=>Promise.resolve(t.Fh))}})(b),{...E,useDualstackEndpoint:E.useDualstackEndpoint??!1,useFipsEndpoint:E.useFipsEndpoint??!1,defaultSigningName:"chime"});var E;const C=(0,t.Xb)(S),x=(0,i.uW)(C),I=(0,s.BC)(x),k=(0,r.S8)(I),P=(0,c.A$)(k),A=(0,d.er)(P);super(A),this.config=A,this.middlewareStack.use((0,s.NQ)(this.config)),this.middlewareStack.use((0,n.VG)(this.config)),this.middlewareStack.use((0,r.G2)(this.config)),this.middlewareStack.use((0,a.cV)(this.config)),this.middlewareStack.use((0,o.eV)(this.config)),this.middlewareStack.use((0,c.yt)(this.config)),this.middlewareStack.use((0,d.XJ)(this.config))}destroy(){super.destroy()}}var K=__webpack_require__(8493);class Y extends e.sI{constructor(e){super(e),Object.setPrototypeOf(this,Y.prototype)}}class J extends Y{constructor(e){super({name:"AccessDeniedException",$fault:"client",...e}),this.name="AccessDeniedException",this.$fault="client",Object.setPrototypeOf(this,J.prototype),this.Code=e.Code,this.Message=e.Message}}const X="DEFAULT";class Z extends Y{constructor(e){super({name:"BadRequestException",$fault:"client",...e}),this.name="BadRequestException",this.$fault="client",Object.setPrototypeOf(this,Z.prototype),this.Code=e.Code,this.Message=e.Message}}class Q extends Y{constructor(e){super({name:"ForbiddenException",$fault:"client",...e}),this.name="ForbiddenException",this.$fault="client",Object.setPrototypeOf(this,Q.prototype),this.Code=e.Code,this.Message=e.Message}}class ee extends Y{constructor(e){super({name:"NotFoundException",$fault:"client",...e}),this.name="NotFoundException",this.$fault="client",Object.setPrototypeOf(this,ee.prototype),this.Code=e.Code,this.Message=e.Message}}class te extends Y{constructor(e){super({name:"ServiceFailureException",$fault:"server",...e}),this.name="ServiceFailureException",this.$fault="server",Object.setPrototypeOf(this,te.prototype),this.Code=e.Code,this.Message=e.Message}}class ne extends Y{constructor(e){super({name:"ServiceUnavailableException",$fault:"server",...e}),this.name="ServiceUnavailableException",this.$fault="server",Object.setPrototypeOf(this,ne.prototype),this.Code=e.Code,this.Message=e.Message}}class ie extends Y{constructor(e){super({name:"ThrottledClientException",$fault:"client",...e}),this.name="ThrottledClientException",this.$fault="client",Object.setPrototypeOf(this,ie.prototype),this.Code=e.Code,this.Message=e.Message}}class re extends Y{constructor(e){super({name:"UnauthorizedClientException",$fault:"client",...e}),this.name="UnauthorizedClientException",this.$fault="client",Object.setPrototypeOf(this,re.prototype),this.Code=e.Code,this.Message=e.Message}}class ae extends Y{constructor(e){super({name:"ResourceLimitExceededException",$fault:"client",...e}),this.name="ResourceLimitExceededException",this.$fault="client",Object.setPrototypeOf(this,ae.prototype),this.Code=e.Code,this.Message=e.Message}}class oe extends Y{constructor(e){super({name:"ConflictException",$fault:"client",...e}),this.name="ConflictException",this.$fault="client",Object.setPrototypeOf(this,oe.prototype),this.Code=e.Code,this.Message=e.Message}}class se extends Y{constructor(e){super({name:"UnprocessableEntityException",$fault:"client",...e}),this.name="UnprocessableEntityException",this.$fault="client",Object.setPrototypeOf(this,se.prototype),this.Code=e.Code,this.Message=e.Message}}const ce=t=>({...t,...t.streetName&&{streetName:e.oc},...t.streetSuffix&&{streetSuffix:e.oc},...t.postDirectional&&{postDirectional:e.oc},...t.preDirectional&&{preDirectional:e.oc},...t.streetNumber&&{streetNumber:e.oc},...t.city&&{city:e.oc},...t.state&&{state:e.oc},...t.postalCode&&{postalCode:e.oc},...t.postalCodePlus4&&{postalCodePlus4:e.oc},...t.country&&{country:e.oc}}),de=t=>({...t,...t.AlexaForBusinessRoomArn&&{AlexaForBusinessRoomArn:e.oc}}),le=t=>({...t,...t.Name&&{Name:e.oc},...t.Metadata&&{Metadata:e.oc}}),ue=t=>({...t,...t.Name&&{Name:e.oc}}),he=e=>({...e,...e.Admin&&{Admin:ue(e.Admin)}}),pe=t=>({...t,...t.ResourceArn&&{ResourceArn:e.oc}}),me=t=>({...t,...t.Name&&{Name:e.oc},...t.Metadata&&{Metadata:e.oc}}),fe=t=>({...t,...t.E164PhoneNumbers&&{E164PhoneNumbers:e.oc}}),ge=t=>({...t,...t.E164PhoneNumbers&&{E164PhoneNumbers:e.oc}}),we=t=>({...t,...t.E164PhoneNumber&&{E164PhoneNumber:e.oc}}),ye=t=>({...t,...t.ExternalUserId&&{ExternalUserId:e.oc},...t.JoinToken&&{JoinToken:e.oc}}),ve=t=>({...t,...t.Key&&{Key:e.oc},...t.Value&&{Value:e.oc}}),be=e=>({...e,...e.InvitedBy&&{InvitedBy:ue(e.InvitedBy)},...e.Members&&{Members:e.Members.map((e=>ue(e)))}}),Se=t=>({...t,...t.ExternalUserId&&{ExternalUserId:e.oc},...t.Tags&&{Tags:t.Tags.map((e=>ve(e)))}}),Ee=e=>({...e,...e.Attendees&&{Attendees:e.Attendees.map((e=>Se(e)))}}),Ce=t=>({...t,...t.ExternalUserId&&{ExternalUserId:e.oc}}),xe=e=>({...e,...e.Attendees&&{Attendees:e.Attendees.map((e=>ye(e)))},...e.Errors&&{Errors:e.Errors.map((e=>Ce(e)))}}),Ie=e=>({...e,...e.BatchChannelMemberships&&{BatchChannelMemberships:be(e.BatchChannelMemberships)}}),ke=t=>({...t,...t.UpdatePhoneNumberRequestItems&&{UpdatePhoneNumberRequestItems:t.UpdatePhoneNumberRequestItems.map((t=>(t=>({...t,...t.CallingName&&{CallingName:e.oc}}))(t)))}}),Pe=e=>({...e,...e.UpdateUserRequestItems&&{UpdateUserRequestItems:e.UpdateUserRequestItems.map((e=>(e=>({...e,...e.AlexaForBusinessMetadata&&{AlexaForBusinessMetadata:de(e.AlexaForBusinessMetadata)}}))(e)))}}),Ae=t=>({...t,...t.DisplayName&&{DisplayName:e.oc},...t.BotEmail&&{BotEmail:e.oc},...t.SecurityToken&&{SecurityToken:e.oc}}),Te=t=>({...t,...t.Name&&{Name:e.oc},...t.Metadata&&{Metadata:e.oc},...t.CreatedBy&&{CreatedBy:ue(t.CreatedBy)}}),Me=e=>({...e,...e.Member&&{Member:ue(e.Member)},...e.CreatedBy&&{CreatedBy:ue(e.CreatedBy)}}),Re=e=>({...e,...e.InvitedBy&&{InvitedBy:ue(e.InvitedBy)},...e.Member&&{Member:ue(e.Member)}}),Fe=t=>({...t,...t.Name&&{Name:e.oc},...t.Metadata&&{Metadata:e.oc}}),_e=e=>({...e,...e.ChannelSummary&&{ChannelSummary:Fe(e.ChannelSummary)}}),Oe=t=>({...t,...t.Content&&{Content:e.oc},...t.Metadata&&{Metadata:e.oc},...t.Sender&&{Sender:ue(t.Sender)}}),Ue=e=>({...e,...e.ChannelSummary&&{ChannelSummary:Fe(e.ChannelSummary)}}),Ne=e=>({...e,...e.Moderator&&{Moderator:ue(e.Moderator)},...e.CreatedBy&&{CreatedBy:ue(e.CreatedBy)}}),ze=t=>({...t,...t.ExternalUserIds&&{ExternalUserIds:e.oc}}),De=e=>({...e,...e.SelectedVideoStreams&&{SelectedVideoStreams:ze(e.SelectedVideoStreams)}}),Le=e=>({...e,...e.SourceConfiguration&&{SourceConfiguration:De(e.SourceConfiguration)}}),Be=t=>({...t,...t.Name&&{Name:e.oc},...t.Metadata&&{Metadata:e.oc},...t.ClientRequestToken&&{ClientRequestToken:e.oc},...t.Tags&&{Tags:t.Tags.map((e=>ve(e)))}}),qe=e=>({...e,...e.AppInstanceAdmin&&{AppInstanceAdmin:ue(e.AppInstanceAdmin)}}),Ve=t=>({...t,...t.AppInstanceUserId&&{AppInstanceUserId:e.oc},...t.Name&&{Name:e.oc},...t.Metadata&&{Metadata:e.oc},...t.ClientRequestToken&&{ClientRequestToken:e.oc},...t.Tags&&{Tags:t.Tags.map((e=>ve(e)))}}),je=t=>({...t,...t.ExternalUserId&&{ExternalUserId:e.oc},...t.Tags&&{Tags:t.Tags.map((e=>ve(e)))}}),We=e=>({...e,...e.Attendee&&{Attendee:ye(e.Attendee)}}),$e=t=>({...t,...t.DisplayName&&{DisplayName:e.oc}}),He=e=>({...e,...e.Bot&&{Bot:Ae(e.Bot)}}),Ge=t=>({...t,...t.Name&&{Name:e.oc},...t.Metadata&&{Metadata:e.oc},...t.ClientRequestToken&&{ClientRequestToken:e.oc},...t.Tags&&{Tags:t.Tags.map((e=>ve(e)))}}),Ke=e=>({...e,...e.Member&&{Member:ue(e.Member)}}),Ye=e=>({...e,...e.Member&&{Member:ue(e.Member)}}),Je=e=>({...e,...e.ChannelModerator&&{ChannelModerator:ue(e.ChannelModerator)}}),Xe=t=>({...t,...t.SourceArn&&{SourceArn:e.oc},...t.SinkArn&&{SinkArn:e.oc},...t.ClientRequestToken&&{ClientRequestToken:e.oc},...t.ChimeSdkMeetingConfiguration&&{ChimeSdkMeetingConfiguration:Le(t.ChimeSdkMeetingConfiguration)}}),Ze=t=>({...t,...t.SourceArn&&{SourceArn:e.oc},...t.SinkArn&&{SinkArn:e.oc},...t.ChimeSdkMeetingConfiguration&&{ChimeSdkMeetingConfiguration:Le(t.ChimeSdkMeetingConfiguration)}}),Qe=e=>({...e,...e.MediaCapturePipeline&&{MediaCapturePipeline:Ze(e.MediaCapturePipeline)}}),et=t=>({...t,...t.SnsTopicArn&&{SnsTopicArn:e.oc},...t.SqsQueueArn&&{SqsQueueArn:e.oc}}),tt=t=>({...t,...t.ClientRequestToken&&{ClientRequestToken:e.oc},...t.ExternalMeetingId&&{ExternalMeetingId:e.oc},...t.MeetingHostId&&{MeetingHostId:e.oc},...t.Tags&&{Tags:t.Tags.map((e=>ve(e)))},...t.NotificationsConfiguration&&{NotificationsConfiguration:et(t.NotificationsConfiguration)}}),nt=t=>({...t,...t.ExternalMeetingId&&{ExternalMeetingId:e.oc}}),it=e=>({...e,...e.Meeting&&{Meeting:nt(e.Meeting)}}),rt=t=>({...t,...t.FromPhoneNumber&&{FromPhoneNumber:e.oc},...t.ToPhoneNumber&&{ToPhoneNumber:e.oc},...t.JoinToken&&{JoinToken:e.oc}}),at=t=>({...t,...t.ClientRequestToken&&{ClientRequestToken:e.oc},...t.ExternalMeetingId&&{ExternalMeetingId:e.oc},...t.MeetingHostId&&{MeetingHostId:e.oc},...t.Tags&&{Tags:t.Tags.map((e=>ve(e)))},...t.NotificationsConfiguration&&{NotificationsConfiguration:et(t.NotificationsConfiguration)},...t.Attendees&&{Attendees:t.Attendees.map((e=>Se(e)))}}),ot=e=>({...e,...e.Meeting&&{Meeting:nt(e.Meeting)},...e.Attendees&&{Attendees:e.Attendees.map((e=>ye(e)))},...e.Errors&&{Errors:e.Errors.map((e=>Ce(e)))}}),st=t=>({...t,...t.E164PhoneNumbers&&{E164PhoneNumbers:e.oc}}),ct=t=>({...t,...t.OrderedPhoneNumbers&&{OrderedPhoneNumbers:t.OrderedPhoneNumbers.map((t=>(t=>({...t,...t.E164PhoneNumber&&{E164PhoneNumber:e.oc}}))(t)))}}),dt=e=>({...e,...e.PhoneNumberOrder&&{PhoneNumberOrder:ct(e.PhoneNumberOrder)}}),lt=t=>({...t,...t.ParticipantPhoneNumbers&&{ParticipantPhoneNumbers:e.oc},...t.Name&&{Name:e.oc}}),ut=t=>({...t,...t.Participants&&{Participants:t.Participants.map((t=>(t=>({...t,...t.PhoneNumber&&{PhoneNumber:e.oc},...t.ProxyPhoneNumber&&{ProxyPhoneNumber:e.oc}}))(t)))}}),ht=e=>({...e,...e.ProxySession&&{ProxySession:ut(e.ProxySession)}}),pt=t=>({...t,...t.Name&&{Name:e.oc},...t.ClientRequestToken&&{ClientRequestToken:e.oc}}),mt=t=>({...t,...t.Name&&{Name:e.oc}}),ft=e=>({...e,...e.Room&&{Room:mt(e.Room)}}),gt=t=>({...t,...t.Email&&{Email:e.oc},...t.FullName&&{FullName:e.oc}}),wt=e=>({...e,...e.Member&&{Member:gt(e.Member)}}),yt=e=>({...e,...e.RoomMembership&&{RoomMembership:wt(e.RoomMembership)}}),vt=t=>({...t,...t.LambdaArn&&{LambdaArn:e.oc}}),bt=e=>({...e,...e.Endpoints&&{Endpoints:e.Endpoints.map((e=>vt(e)))}}),St=e=>({...e,...e.Endpoints&&{Endpoints:e.Endpoints.map((e=>vt(e)))}}),Et=e=>({...e,...e.SipMediaApplication&&{SipMediaApplication:St(e.SipMediaApplication)}}),Ct=t=>({...t,...t.FromPhoneNumber&&{FromPhoneNumber:e.oc},...t.ToPhoneNumber&&{ToPhoneNumber:e.oc},...t.SipHeaders&&{SipHeaders:e.oc}}),xt=t=>({...t,...t.Email&&{Email:e.oc}}),It=t=>({...t,...t.PrimaryEmail&&{PrimaryEmail:e.oc},...t.PrimaryProvisionedNumber&&{PrimaryProvisionedNumber:e.oc},...t.DisplayName&&{DisplayName:e.oc},...t.AlexaForBusinessMetadata&&{AlexaForBusinessMetadata:de(t.AlexaForBusinessMetadata)}}),kt=e=>({...e,...e.User&&{User:It(e.User)}}),Pt=t=>({...t,...t.Usernames&&{Usernames:e.oc}}),At=e=>({...e,...e.AppInstance&&{AppInstance:le(e.AppInstance)}}),Tt=e=>({...e,...e.AppInstanceAdmin&&{AppInstanceAdmin:he(e.AppInstanceAdmin)}}),Mt=e=>({...e,...e.AppInstanceUser&&{AppInstanceUser:me(e.AppInstanceUser)}}),Rt=e=>({...e,...e.Channel&&{Channel:Te(e.Channel)}}),Ft=e=>({...e,...e.ChannelBan&&{ChannelBan:Me(e.ChannelBan)}}),_t=e=>({...e,...e.ChannelMembership&&{ChannelMembership:Re(e.ChannelMembership)}}),Ot=e=>({...e,...e.ChannelMembership&&{ChannelMembership:_e(e.ChannelMembership)}}),Ut=e=>({...e,...e.Channel&&{Channel:Ue(e.Channel)}}),Nt=e=>({...e,...e.ChannelModerator&&{ChannelModerator:Ne(e.ChannelModerator)}}),zt=t=>({...t,...t.E164PhoneNumbers&&{E164PhoneNumbers:e.oc}}),Dt=t=>({...t,...t.E164PhoneNumbers&&{E164PhoneNumbers:e.oc}}),Lt=t=>({...t,...t.DNIS&&{DNIS:t.DNIS.map((t=>(t=>({...t,...t.EmergencyPhoneNumber&&{EmergencyPhoneNumber:e.oc},...t.TestPhoneNumber&&{TestPhoneNumber:e.oc}}))(t)))}}),Bt=t=>({...t,...t.OutboundEventsHTTPSEndpoint&&{OutboundEventsHTTPSEndpoint:e.oc},...t.LambdaFunctionArn&&{LambdaFunctionArn:e.oc}}),qt=e=>({...e,...e.AppInstanceStreamingConfigurations&&{AppInstanceStreamingConfigurations:e.AppInstanceStreamingConfigurations.map((e=>pe(e)))}}),Vt=e=>({...e,...e.Attendee&&{Attendee:ye(e.Attendee)}}),jt=e=>({...e,...e.Bot&&{Bot:Ae(e.Bot)}}),Wt=e=>({...e,...e.ChannelMessage&&{ChannelMessage:Oe(e.ChannelMessage)}}),$t=e=>({...e,...e.EventsConfiguration&&{EventsConfiguration:Bt(e.EventsConfiguration)}}),Ht=e=>({...e,...e.MediaCapturePipeline&&{MediaCapturePipeline:Ze(e.MediaCapturePipeline)}}),Gt=e=>({...e,...e.Meeting&&{Meeting:nt(e.Meeting)}}),Kt=t=>({...t,...t.E164PhoneNumber&&{E164PhoneNumber:e.oc},...t.CallingName&&{CallingName:e.oc}}),Yt=e=>({...e,...e.PhoneNumber&&{PhoneNumber:Kt(e.PhoneNumber)}}),Jt=e=>({...e,...e.PhoneNumberOrder&&{PhoneNumberOrder:ct(e.PhoneNumberOrder)}}),Xt=t=>({...t,...t.CallingName&&{CallingName:e.oc}}),Zt=e=>({...e,...e.ProxySession&&{ProxySession:ut(e.ProxySession)}});var Qt=__webpack_require__(5044),en=__webpack_require__(4586);const tn=(0,e.PC)(Y),nn=async(t,n)=>{const i=(0,e.UI)({}),r=t.body,a=(0,e.qn)(r,{Code:e.pY,Message:e.pY});Object.assign(i,a);const o=new J({$metadata:Rn(t),...i});return(0,e.to)(o,t.body)},rn=async(t,n)=>{const i=(0,e.UI)({}),r=t.body,a=(0,e.qn)(r,{Code:e.pY,Message:e.pY});Object.assign(i,a);const o=new Z({$metadata:Rn(t),...i});return(0,e.to)(o,t.body)},an=async(t,n)=>{const i=(0,e.UI)({}),r=t.body,a=(0,e.qn)(r,{Code:e.pY,Message:e.pY});Object.assign(i,a);const o=new oe({$metadata:Rn(t),...i});return(0,e.to)(o,t.body)},on=async(t,n)=>{const i=(0,e.UI)({}),r=t.body,a=(0,e.qn)(r,{Code:e.pY,Message:e.pY});Object.assign(i,a);const o=new Q({$metadata:Rn(t),...i});return(0,e.to)(o,t.body)},sn=async(t,n)=>{const i=(0,e.UI)({}),r=t.body,a=(0,e.qn)(r,{Code:e.pY,Message:e.pY});Object.assign(i,a);const o=new ee({$metadata:Rn(t),...i});return(0,e.to)(o,t.body)},cn=async(t,n)=>{const i=(0,e.UI)({}),r=t.body,a=(0,e.qn)(r,{Code:e.pY,Message:e.pY});Object.assign(i,a);const o=new ae({$metadata:Rn(t),...i});return(0,e.to)(o,t.body)},dn=async(t,n)=>{const i=(0,e.UI)({}),r=t.body,a=(0,e.qn)(r,{Code:e.pY,Message:e.pY});Object.assign(i,a);const o=new te({$metadata:Rn(t),...i});return(0,e.to)(o,t.body)},ln=async(t,n)=>{const i=(0,e.UI)({}),r=t.body,a=(0,e.qn)(r,{Code:e.pY,Message:e.pY});Object.assign(i,a);const o=new ne({$metadata:Rn(t),...i});return(0,e.to)(o,t.body)},un=async(t,n)=>{const i=(0,e.UI)({}),r=t.body,a=(0,e.qn)(r,{Code:e.pY,Message:e.pY});Object.assign(i,a);const o=new ie({$metadata:Rn(t),...i});return(0,e.to)(o,t.body)},hn=async(t,n)=>{const i=(0,e.UI)({}),r=t.body,a=(0,e.qn)(r,{Code:e.pY,Message:e.pY});Object.assign(i,a);const o=new re({$metadata:Rn(t),...i});return(0,e.to)(o,t.body)},pn=async(t,n)=>{const i=(0,e.UI)({}),r=t.body,a=(0,e.qn)(r,{Code:e.pY,Message:e.pY});Object.assign(i,a);const o=new se({$metadata:Rn(t),...i});return(0,e.to)(o,t.body)},mn=(t,n)=>(0,e.qn)(t,{AccountId:e.pY,AccountStatus:e.pY,AccountType:e.pY,AwsAccountId:e.pY,CreatedTimestamp:t=>(0,e.CE)((0,e.aH)(t)),DefaultLicense:e.pY,Name:e.pY,SigninDelegateGroups:e.F3,SupportedLicenses:e.F3}),fn=(t,n)=>(0,e.qn)(t,{BotEmail:e.pY,BotId:e.pY,BotType:e.pY,CreatedTimestamp:t=>(0,e.CE)((0,e.aH)(t)),Disabled:e.zE,DisplayName:e.pY,SecurityToken:e.pY,UpdatedTimestamp:t=>(0,e.CE)((0,e.aH)(t)),UserId:e.pY}),gn=(t,n)=>(0,e.qn)(t,{AppInstanceUserMembershipSummary:t=>((t,n)=>(0,e.qn)(t,{ReadMarkerTimestamp:t=>(0,e.CE)((0,e.KX)((0,e.Fx)(t))),Type:e.pY}))(t),ChannelSummary:e=>yn(e,n)}),wn=(t,n)=>(0,e.qn)(t,{ChannelSummary:e=>yn(e,n)}),yn=(t,n)=>(0,e.qn)(t,{ChannelArn:e.pY,LastMessageTimestamp:t=>(0,e.CE)((0,e.KX)((0,e.Fx)(t))),Metadata:e.pY,Mode:e.pY,Name:e.pY,Privacy:e.pY}),vn=(t,n)=>(0,e.qn)(t,{ChimeSdkMeetingConfiguration:e.F3,CreatedTimestamp:t=>(0,e.CE)((0,e.aH)(t)),MediaPipelineId:e.pY,SinkArn:e.pY,SinkType:e.pY,SourceArn:e.pY,SourceType:e.pY,Status:e.pY,UpdatedTimestamp:t=>(0,e.CE)((0,e.aH)(t))}),bn=(t,n)=>(0,e.qn)(t,{Associations:e=>Sn(e,n),CallingName:e.pY,CallingNameStatus:e.pY,Capabilities:e.F3,Country:e.pY,CreatedTimestamp:t=>(0,e.CE)((0,e.aH)(t)),DeletionTimestamp:t=>(0,e.CE)((0,e.aH)(t)),E164PhoneNumber:e.pY,PhoneNumberId:e.pY,ProductType:e.pY,Status:e.pY,Type:e.pY,UpdatedTimestamp:t=>(0,e.CE)((0,e.aH)(t))}),Sn=(t,n)=>{const i=(t||[]).filter((e=>null!=e)).map((t=>((t,n)=>(0,e.qn)(t,{AssociatedTimestamp:t=>(0,e.CE)((0,e.aH)(t)),Name:e.pY,Value:e.pY}))(t)));return i},En=(t,n)=>(0,e.qn)(t,{CreatedTimestamp:t=>(0,e.CE)((0,e.aH)(t)),OrderedPhoneNumbers:e.F3,PhoneNumberOrderId:e.pY,ProductType:e.pY,Status:e.pY,UpdatedTimestamp:t=>(0,e.CE)((0,e.aH)(t))}),Cn=(t,n)=>(0,e.qn)(t,{Capabilities:e.F3,CreatedTimestamp:t=>(0,e.CE)((0,e.aH)(t)),EndedTimestamp:t=>(0,e.CE)((0,e.aH)(t)),ExpiryMinutes:e.u$,GeoMatchLevel:e.pY,GeoMatchParams:e.F3,Name:e.pY,NumberSelectionBehavior:e.pY,Participants:e.F3,ProxySessionId:e.pY,Status:e.pY,UpdatedTimestamp:t=>(0,e.CE)((0,e.aH)(t)),VoiceConnectorId:e.pY}),xn=(t,n)=>(0,e.qn)(t,{AccountId:e.pY,CreatedBy:e.pY,CreatedTimestamp:t=>(0,e.CE)((0,e.aH)(t)),Name:e.pY,RoomId:e.pY,UpdatedTimestamp:t=>(0,e.CE)((0,e.aH)(t))}),In=(t,n)=>(0,e.qn)(t,{InvitedBy:e.pY,Member:e.F3,Role:e.pY,RoomId:e.pY,UpdatedTimestamp:t=>(0,e.CE)((0,e.aH)(t))}),kn=(t,n)=>(0,e.qn)(t,{AwsRegion:e.pY,CreatedTimestamp:t=>(0,e.CE)((0,e.aH)(t)),Endpoints:e.F3,Name:e.pY,SipMediaApplicationId:e.pY,UpdatedTimestamp:t=>(0,e.CE)((0,e.aH)(t))}),Pn=(t,n)=>(0,e.qn)(t,{CreatedTimestamp:t=>(0,e.CE)((0,e.aH)(t)),Disabled:e.zE,Name:e.pY,SipRuleId:e.pY,TargetApplications:e.F3,TriggerType:e.pY,TriggerValue:e.pY,UpdatedTimestamp:t=>(0,e.CE)((0,e.aH)(t))}),An=(t,n)=>(0,e.qn)(t,{AccountId:e.pY,AlexaForBusinessMetadata:e.F3,DisplayName:e.pY,InvitedOn:t=>(0,e.CE)((0,e.aH)(t)),LicenseType:e.pY,PersonalPIN:e.pY,PrimaryEmail:e.pY,PrimaryProvisionedNumber:e.pY,RegisteredOn:t=>(0,e.CE)((0,e.aH)(t)),UserId:e.pY,UserInvitationStatus:e.pY,UserRegistrationStatus:e.pY,UserType:e.pY}),Tn=(t,n)=>(0,e.qn)(t,{AwsRegion:e.pY,CreatedTimestamp:t=>(0,e.CE)((0,e.aH)(t)),Name:e.pY,OutboundHostName:e.pY,RequireEncryption:e.zE,UpdatedTimestamp:t=>(0,e.CE)((0,e.aH)(t)),VoiceConnectorArn:e.pY,VoiceConnectorId:e.pY}),Mn=(t,n)=>(0,e.qn)(t,{CreatedTimestamp:t=>(0,e.CE)((0,e.aH)(t)),Name:e.pY,UpdatedTimestamp:t=>(0,e.CE)((0,e.aH)(t)),VoiceConnectorGroupArn:e.pY,VoiceConnectorGroupId:e.pY,VoiceConnectorItems:e.F3}),Rn=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),Fn=e=>!(null==e||""===e||Object.getOwnPropertyNames(e).includes("length")&&0==e.length||Object.getOwnPropertyNames(e).includes("size")&&0==e.size),_n=(t,n)=>((t,n)=>(0,e.Wg)(t,n).then((e=>n.utf8Encoder(e))))(t,n).then((e=>e.length?JSON.parse(e):{})),On=async(e,t)=>{const n=await _n(e,t);return n.message=n.message??n.Message,n},Un=(e,t)=>{const n=e=>{let t=e;return"number"==typeof t&&(t=t.toString()),t.indexOf(",")>=0&&(t=t.split(",")[0]),t.indexOf(":")>=0&&(t=t.split(":")[0]),t.indexOf("#")>=0&&(t=t.split("#")[1]),t},i=(r=e.headers,"x-amzn-errortype",Object.keys(r).find((e=>e.toLowerCase()==="x-amzn-errortype".toLowerCase())));var r;return void 0!==i?n(e.headers[i]):void 0!==t.code?n(t.code):void 0!==t.__type?n(t.__type):void 0};class Nn extends e.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,i.a3)(t,Nn.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:a}=t,o={logger:a,clientName:"ChimeClient",commandName:"AssociatePhoneNumbersWithVoiceConnectorCommand",inputFilterSensitiveLog:fe,outputFilterSensitiveLog:e=>e},{requestHandler:s}=t;return r.resolve((e=>s.handle(e.request,n||{})),o)}serialize(t,n){return(async(t,n)=>{const{hostname:i,protocol:r="https",port:a,path:o}=await n.endpoint();let s=`${o?.endsWith("/")?o.slice(0,-1):o||""}/voice-connectors/{VoiceConnectorId}`;s=(0,e.Is)(s,t,"VoiceConnectorId",(()=>t.VoiceConnectorId),"{VoiceConnectorId}",!1);const c=(0,e.UI)({operation:[,"associate-phone-numbers"]});let d;return d=JSON.stringify((0,e.qn)(t,{E164PhoneNumbers:t=>(0,e.F3)(t),ForceAssociate:[]})),new Qt.aW({protocol:r,hostname:i,port:a,method:"POST",headers:{"content-type":"application/json"},path:s,query:c,body:d})})(t,n)}deserialize(t,n){return(async(t,n)=>{if(200!==t.statusCode&&t.statusCode>=300)return(async(e,t)=>{const n={...e,body:await On(e.body,t)},i=Un(e,n.body);switch(i){case"AccessDeniedException":case"com.amazonaws.chime#AccessDeniedException":throw await nn(n,t);case"BadRequestException":case"com.amazonaws.chime#BadRequestException":throw await rn(n,t);case"ForbiddenException":case"com.amazonaws.chime#ForbiddenException":throw await on(n,t);case"NotFoundException":case"com.amazonaws.chime#NotFoundException":throw await sn(n,t);case"ServiceFailureException":case"com.amazonaws.chime#ServiceFailureException":throw await dn(n,t);case"ServiceUnavailableException":case"com.amazonaws.chime#ServiceUnavailableException":throw await ln(n,t);case"ThrottledClientException":case"com.amazonaws.chime#ThrottledClientException":throw await un(n,t);case"UnauthorizedClientException":case"com.amazonaws.chime#UnauthorizedClientException":throw await hn(n,t);default:const r=n.body;return tn({output:e,parsedBody:r,errorCode:i})}})(t,n);const i=(0,e.UI)({$metadata:Rn(t)}),r=(0,e.CE)((0,e.Wh)(await _n(t.body,n)),"body"),a=(0,e.qn)(r,{PhoneNumberErrors:e.F3});return Object.assign(i,a),i})(t,n)}}class zn extends e.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,i.a3)(t,zn.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:a}=t,o={logger:a,clientName:"ChimeClient",commandName:"AssociatePhoneNumbersWithVoiceConnectorGroupCommand",inputFilterSensitiveLog:ge,outputFilterSensitiveLog:e=>e},{requestHandler:s}=t;return r.resolve((e=>s.handle(e.request,n||{})),o)}serialize(t,n){return(async(t,n)=>{const{hostname:i,protocol:r="https",port:a,path:o}=await n.endpoint();let s=`${o?.endsWith("/")?o.slice(0,-1):o||""}/voice-connector-groups/{VoiceConnectorGroupId}`;s=(0,e.Is)(s,t,"VoiceConnectorGroupId",(()=>t.VoiceConnectorGroupId),"{VoiceConnectorGroupId}",!1);const c=(0,e.UI)({operation:[,"associate-phone-numbers"]});let d;return d=JSON.stringify((0,e.qn)(t,{E164PhoneNumbers:t=>(0,e.F3)(t),ForceAssociate:[]})),new Qt.aW({protocol:r,hostname:i,port:a,method:"POST",headers:{"content-type":"application/json"},path:s,query:c,body:d})})(t,n)}deserialize(t,n){return(async(t,n)=>{if(200!==t.statusCode&&t.statusCode>=300)return(async(e,t)=>{const n={...e,body:await On(e.body,t)},i=Un(e,n.body);switch(i){case"AccessDeniedException":case"com.amazonaws.chime#AccessDeniedException":throw await nn(n,t);case"BadRequestException":case"com.amazonaws.chime#BadRequestException":throw await rn(n,t);case"ForbiddenException":case"com.amazonaws.chime#ForbiddenException":throw await on(n,t);case"NotFoundException":case"com.amazonaws.chime#NotFoundException":throw await sn(n,t);case"ServiceFailureException":case"com.amazonaws.chime#ServiceFailureException":throw await dn(n,t);case"ServiceUnavailableException":case"com.amazonaws.chime#ServiceUnavailableException":throw await ln(n,t);case"ThrottledClientException":case"com.amazonaws.chime#ThrottledClientException":throw await un(n,t);case"UnauthorizedClientException":case"com.amazonaws.chime#UnauthorizedClientException":throw await hn(n,t);default:const r=n.body;return tn({output:e,parsedBody:r,errorCode:i})}})(t,n);const i=(0,e.UI)({$metadata:Rn(t)}),r=(0,e.CE)((0,e.Wh)(await _n(t.body,n)),"body"),a=(0,e.qn)(r,{PhoneNumberErrors:e.F3});return Object.assign(i,a),i})(t,n)}}class Dn extends e.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,i.a3)(t,Dn.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:a}=t,o={logger:a,clientName:"ChimeClient",commandName:"AssociatePhoneNumberWithUserCommand",inputFilterSensitiveLog:we,outputFilterSensitiveLog:e=>e},{requestHandler:s}=t;return r.resolve((e=>s.handle(e.request,n||{})),o)}serialize(t,n){return(async(t,n)=>{const{hostname:i,protocol:r="https",port:a,path:o}=await n.endpoint();let s=`${o?.endsWith("/")?o.slice(0,-1):o||""}/accounts/{AccountId}/users/{UserId}`;s=(0,e.Is)(s,t,"AccountId",(()=>t.AccountId),"{AccountId}",!1),s=(0,e.Is)(s,t,"UserId",(()=>t.UserId),"{UserId}",!1);const c=(0,e.UI)({operation:[,"associate-phone-number"]});let d;return d=JSON.stringify((0,e.qn)(t,{E164PhoneNumber:[]})),new Qt.aW({protocol:r,hostname:i,port:a,method:"POST",headers:{"content-type":"application/json"},path:s,query:c,body:d})})(t,n)}deserialize(t,n){return(async(t,n)=>{if(200!==t.statusCode&&t.statusCode>=300)return(async(e,t)=>{const n={...e,body:await On(e.body,t)},i=Un(e,n.body);switch(i){case"AccessDeniedException":case"com.amazonaws.chime#AccessDeniedException":throw await nn(n,t);case"BadRequestException":case"com.amazonaws.chime#BadRequestException":throw await rn(n,t);case"ForbiddenException":case"com.amazonaws.chime#ForbiddenException":throw await on(n,t);case"NotFoundException":case"com.amazonaws.chime#NotFoundException":throw await sn(n,t);case"ServiceFailureException":case"com.amazonaws.chime#ServiceFailureException":throw await dn(n,t);case"ServiceUnavailableException":case"com.amazonaws.chime#ServiceUnavailableException":throw await ln(n,t);case"ThrottledClientException":case"com.amazonaws.chime#ThrottledClientException":throw await un(n,t);case"UnauthorizedClientException":case"com.amazonaws.chime#UnauthorizedClientException":throw await hn(n,t);default:const r=n.body;return tn({output:e,parsedBody:r,errorCode:i})}})(t,n);const i=(0,e.UI)({$metadata:Rn(t)});return await(0,e.Wg)(t.body,n),i})(t,n)}}class Ln extends e.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,i.a3)(t,Ln.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:a}=t,o={logger:a,clientName:"ChimeClient",commandName:"AssociateSigninDelegateGroupsWithAccountCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:e=>e},{requestHandler:s}=t;return r.resolve((e=>s.handle(e.request,n||{})),o)}serialize(t,n){return(async(t,n)=>{const{hostname:i,protocol:r="https",port:a,path:o}=await n.endpoint();let s=`${o?.endsWith("/")?o.slice(0,-1):o||""}/accounts/{AccountId}`;s=(0,e.Is)(s,t,"AccountId",(()=>t.AccountId),"{AccountId}",!1);const c=(0,e.UI)({operation:[,"associate-signin-delegate-groups"]});let d;return d=JSON.stringify((0,e.qn)(t,{SigninDelegateGroups:t=>(0,e.F3)(t)})),new Qt.aW({protocol:r,hostname:i,port:a,method:"POST",headers:{"content-type":"application/json"},path:s,query:c,body:d})})(t,n)}deserialize(t,n){return(async(t,n)=>{if(200!==t.statusCode&&t.statusCode>=300)return(async(e,t)=>{const n={...e,body:await On(e.body,t)},i=Un(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chime#BadRequestException":throw await rn(n,t);case"ForbiddenException":case"com.amazonaws.chime#ForbiddenException":throw await on(n,t);case"NotFoundException":case"com.amazonaws.chime#NotFoundException":throw await sn(n,t);case"ServiceFailureException":case"com.amazonaws.chime#ServiceFailureException":throw await dn(n,t);case"ServiceUnavailableException":case"com.amazonaws.chime#ServiceUnavailableException":throw await ln(n,t);case"ThrottledClientException":case"com.amazonaws.chime#ThrottledClientException":throw await un(n,t);case"UnauthorizedClientException":case"com.amazonaws.chime#UnauthorizedClientException":throw await hn(n,t);default:const r=n.body;return tn({output:e,parsedBody:r,errorCode:i})}})(t,n);const i=(0,e.UI)({$metadata:Rn(t)});return await(0,e.Wg)(t.body,n),i})(t,n)}}class Bn extends e.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,i.a3)(t,Bn.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:a}=t,o={logger:a,clientName:"ChimeClient",commandName:"BatchCreateAttendeeCommand",inputFilterSensitiveLog:Ee,outputFilterSensitiveLog:xe},{requestHandler:s}=t;return r.resolve((e=>s.handle(e.request,n||{})),o)}serialize(t,n){return(async(t,n)=>{const{hostname:i,protocol:r="https",port:a,path:o}=await n.endpoint();let s=`${o?.endsWith("/")?o.slice(0,-1):o||""}/meetings/{MeetingId}/attendees`;s=(0,e.Is)(s,t,"MeetingId",(()=>t.MeetingId),"{MeetingId}",!1);const c=(0,e.UI)({operation:[,"batch-create"]});let d;return d=JSON.stringify((0,e.qn)(t,{Attendees:t=>(0,e.F3)(t)})),new Qt.aW({protocol:r,hostname:i,port:a,method:"POST",headers:{"content-type":"application/json"},path:s,query:c,body:d})})(t,n)}deserialize(t,n){return(async(t,n)=>{if(201!==t.statusCode&&t.statusCode>=300)return(async(e,t)=>{const n={...e,body:await On(e.body,t)},i=Un(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chime#BadRequestException":throw await rn(n,t);case"ForbiddenException":case"com.amazonaws.chime#ForbiddenException":throw await on(n,t);case"NotFoundException":case"com.amazonaws.chime#NotFoundException":throw await sn(n,t);case"ResourceLimitExceededException":case"com.amazonaws.chime#ResourceLimitExceededException":throw await cn(n,t);case"ServiceFailureException":case"com.amazonaws.chime#ServiceFailureException":throw await dn(n,t);case"ServiceUnavailableException":case"com.amazonaws.chime#ServiceUnavailableException":throw await ln(n,t);case"ThrottledClientException":case"com.amazonaws.chime#ThrottledClientException":throw await un(n,t);case"UnauthorizedClientException":case"com.amazonaws.chime#UnauthorizedClientException":throw await hn(n,t);default:const r=n.body;return tn({output:e,parsedBody:r,errorCode:i})}})(t,n);const i=(0,e.UI)({$metadata:Rn(t)}),r=(0,e.CE)((0,e.Wh)(await _n(t.body,n)),"body"),a=(0,e.qn)(r,{Attendees:e.F3,Errors:e.F3});return Object.assign(i,a),i})(t,n)}}class qn extends e.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,i.a3)(t,qn.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:a}=t,o={logger:a,clientName:"ChimeClient",commandName:"BatchCreateChannelMembershipCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:Ie},{requestHandler:s}=t;return r.resolve((e=>s.handle(e.request,n||{})),o)}serialize(t,n){return(async(t,n)=>{const{hostname:i,protocol:r="https",port:a,path:o}=await n.endpoint(),s=(0,e.UI)({},Fn,{"content-type":"application/json","x-amz-chime-bearer":t.ChimeBearer});let c=`${o?.endsWith("/")?o.slice(0,-1):o||""}/channels/{ChannelArn}/memberships`;c=(0,e.Is)(c,t,"ChannelArn",(()=>t.ChannelArn),"{ChannelArn}",!1);const d=(0,e.UI)({operation:[,"batch-create"]});let l;l=JSON.stringify((0,e.qn)(t,{MemberArns:t=>(0,e.F3)(t),Type:[]}));let{hostname:u}=await n.endpoint();if(!0!==n.disableHostPrefix&&(u="messaging-"+u,!(0,Qt.Lb)(u)))throw new Error("ValidationError: prefixed hostname must be hostname compatible.");return new Qt.aW({protocol:r,hostname:u,port:a,method:"POST",headers:s,path:c,query:d,body:l})})(t,n)}deserialize(t,n){return(async(t,n)=>{if(200!==t.statusCode&&t.statusCode>=300)return(async(e,t)=>{const n={...e,body:await On(e.body,t)},i=Un(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chime#BadRequestException":throw await rn(n,t);case"ForbiddenException":case"com.amazonaws.chime#ForbiddenException":throw await on(n,t);case"ServiceFailureException":case"com.amazonaws.chime#ServiceFailureException":throw await dn(n,t);case"ServiceUnavailableException":case"com.amazonaws.chime#ServiceUnavailableException":throw await ln(n,t);case"ThrottledClientException":case"com.amazonaws.chime#ThrottledClientException":throw await un(n,t);case"UnauthorizedClientException":case"com.amazonaws.chime#UnauthorizedClientException":throw await hn(n,t);default:const r=n.body;return tn({output:e,parsedBody:r,errorCode:i})}})(t,n);const i=(0,e.UI)({$metadata:Rn(t)}),r=(0,e.CE)((0,e.Wh)(await _n(t.body,n)),"body"),a=(0,e.qn)(r,{BatchChannelMemberships:e.F3,Errors:e.F3});return Object.assign(i,a),i})(t,n)}}class Vn extends e.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,i.a3)(t,Vn.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:a}=t,o={logger:a,clientName:"ChimeClient",commandName:"BatchCreateRoomMembershipCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:e=>e},{requestHandler:s}=t;return r.resolve((e=>s.handle(e.request,n||{})),o)}serialize(t,n){return(async(t,n)=>{const{hostname:i,protocol:r="https",port:a,path:o}=await n.endpoint();let s=`${o?.endsWith("/")?o.slice(0,-1):o||""}/accounts/{AccountId}/rooms/{RoomId}/memberships`;s=(0,e.Is)(s,t,"AccountId",(()=>t.AccountId),"{AccountId}",!1),s=(0,e.Is)(s,t,"RoomId",(()=>t.RoomId),"{RoomId}",!1);const c=(0,e.UI)({operation:[,"batch-create"]});let d;return d=JSON.stringify((0,e.qn)(t,{MembershipItemList:t=>(0,e.F3)(t)})),new Qt.aW({protocol:r,hostname:i,port:a,method:"POST",headers:{"content-type":"application/json"},path:s,query:c,body:d})})(t,n)}deserialize(t,n){return(async(t,n)=>{if(201!==t.statusCode&&t.statusCode>=300)return(async(e,t)=>{const n={...e,body:await On(e.body,t)},i=Un(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chime#BadRequestException":throw await rn(n,t);case"ForbiddenException":case"com.amazonaws.chime#ForbiddenException":throw await on(n,t);case"NotFoundException":case"com.amazonaws.chime#NotFoundException":throw await sn(n,t);case"ServiceFailureException":case"com.amazonaws.chime#ServiceFailureException":throw await dn(n,t);case"ServiceUnavailableException":case"com.amazonaws.chime#ServiceUnavailableException":throw await ln(n,t);case"ThrottledClientException":case"com.amazonaws.chime#ThrottledClientException":throw await un(n,t);case"UnauthorizedClientException":case"com.amazonaws.chime#UnauthorizedClientException":throw await hn(n,t);default:const r=n.body;return tn({output:e,parsedBody:r,errorCode:i})}})(t,n);const i=(0,e.UI)({$metadata:Rn(t)}),r=(0,e.CE)((0,e.Wh)(await _n(t.body,n)),"body"),a=(0,e.qn)(r,{Errors:e.F3});return Object.assign(i,a),i})(t,n)}}class jn extends e.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,i.a3)(t,jn.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:a}=t,o={logger:a,clientName:"ChimeClient",commandName:"BatchDeletePhoneNumberCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:e=>e},{requestHandler:s}=t;return r.resolve((e=>s.handle(e.request,n||{})),o)}serialize(t,n){return(async(t,n)=>{const{hostname:i,protocol:r="https",port:a,path:o}=await n.endpoint(),s=`${o?.endsWith("/")?o.slice(0,-1):o||""}/phone-numbers`,c=(0,e.UI)({operation:[,"batch-delete"]});let d;return d=JSON.stringify((0,e.qn)(t,{PhoneNumberIds:t=>(0,e.F3)(t)})),new Qt.aW({protocol:r,hostname:i,port:a,method:"POST",headers:{"content-type":"application/json"},path:s,query:c,body:d})})(t,n)}deserialize(t,n){return(async(t,n)=>{if(200!==t.statusCode&&t.statusCode>=300)return(async(e,t)=>{const n={...e,body:await On(e.body,t)},i=Un(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chime#BadRequestException":throw await rn(n,t);case"ForbiddenException":case"com.amazonaws.chime#ForbiddenException":throw await on(n,t);case"NotFoundException":case"com.amazonaws.chime#NotFoundException":throw await sn(n,t);case"ServiceFailureException":case"com.amazonaws.chime#ServiceFailureException":throw await dn(n,t);case"ServiceUnavailableException":case"com.amazonaws.chime#ServiceUnavailableException":throw await ln(n,t);case"ThrottledClientException":case"com.amazonaws.chime#ThrottledClientException":throw await un(n,t);case"UnauthorizedClientException":case"com.amazonaws.chime#UnauthorizedClientException":throw await hn(n,t);default:const r=n.body;return tn({output:e,parsedBody:r,errorCode:i})}})(t,n);const i=(0,e.UI)({$metadata:Rn(t)}),r=(0,e.CE)((0,e.Wh)(await _n(t.body,n)),"body"),a=(0,e.qn)(r,{PhoneNumberErrors:e.F3});return Object.assign(i,a),i})(t,n)}}class Wn extends e.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,i.a3)(t,Wn.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:a}=t,o={logger:a,clientName:"ChimeClient",commandName:"BatchSuspendUserCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:e=>e},{requestHandler:s}=t;return r.resolve((e=>s.handle(e.request,n||{})),o)}serialize(t,n){return(async(t,n)=>{const{hostname:i,protocol:r="https",port:a,path:o}=await n.endpoint();let s=`${o?.endsWith("/")?o.slice(0,-1):o||""}/accounts/{AccountId}/users`;s=(0,e.Is)(s,t,"AccountId",(()=>t.AccountId),"{AccountId}",!1);const c=(0,e.UI)({operation:[,"suspend"]});let d;return d=JSON.stringify((0,e.qn)(t,{UserIdList:t=>(0,e.F3)(t)})),new Qt.aW({protocol:r,hostname:i,port:a,method:"POST",headers:{"content-type":"application/json"},path:s,query:c,body:d})})(t,n)}deserialize(t,n){return(async(t,n)=>{if(200!==t.statusCode&&t.statusCode>=300)return(async(e,t)=>{const n={...e,body:await On(e.body,t)},i=Un(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chime#BadRequestException":throw await rn(n,t);case"ForbiddenException":case"com.amazonaws.chime#ForbiddenException":throw await on(n,t);case"NotFoundException":case"com.amazonaws.chime#NotFoundException":throw await sn(n,t);case"ServiceFailureException":case"com.amazonaws.chime#ServiceFailureException":throw await dn(n,t);case"ServiceUnavailableException":case"com.amazonaws.chime#ServiceUnavailableException":throw await ln(n,t);case"ThrottledClientException":case"com.amazonaws.chime#ThrottledClientException":throw await un(n,t);case"UnauthorizedClientException":case"com.amazonaws.chime#UnauthorizedClientException":throw await hn(n,t);default:const r=n.body;return tn({output:e,parsedBody:r,errorCode:i})}})(t,n);const i=(0,e.UI)({$metadata:Rn(t)}),r=(0,e.CE)((0,e.Wh)(await _n(t.body,n)),"body"),a=(0,e.qn)(r,{UserErrors:e.F3});return Object.assign(i,a),i})(t,n)}}class $n extends e.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,i.a3)(t,$n.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:a}=t,o={logger:a,clientName:"ChimeClient",commandName:"BatchUnsuspendUserCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:e=>e},{requestHandler:s}=t;return r.resolve((e=>s.handle(e.request,n||{})),o)}serialize(t,n){return(async(t,n)=>{const{hostname:i,protocol:r="https",port:a,path:o}=await n.endpoint();let s=`${o?.endsWith("/")?o.slice(0,-1):o||""}/accounts/{AccountId}/users`;s=(0,e.Is)(s,t,"AccountId",(()=>t.AccountId),"{AccountId}",!1);const c=(0,e.UI)({operation:[,"unsuspend"]});let d;return d=JSON.stringify((0,e.qn)(t,{UserIdList:t=>(0,e.F3)(t)})),new Qt.aW({protocol:r,hostname:i,port:a,method:"POST",headers:{"content-type":"application/json"},path:s,query:c,body:d})})(t,n)}deserialize(t,n){return(async(t,n)=>{if(200!==t.statusCode&&t.statusCode>=300)return(async(e,t)=>{const n={...e,body:await On(e.body,t)},i=Un(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chime#BadRequestException":throw await rn(n,t);case"ForbiddenException":case"com.amazonaws.chime#ForbiddenException":throw await on(n,t);case"NotFoundException":case"com.amazonaws.chime#NotFoundException":throw await sn(n,t);case"ServiceFailureException":case"com.amazonaws.chime#ServiceFailureException":throw await dn(n,t);case"ServiceUnavailableException":case"com.amazonaws.chime#ServiceUnavailableException":throw await ln(n,t);case"ThrottledClientException":case"com.amazonaws.chime#ThrottledClientException":throw await un(n,t);case"UnauthorizedClientException":case"com.amazonaws.chime#UnauthorizedClientException":throw await hn(n,t);default:const r=n.body;return tn({output:e,parsedBody:r,errorCode:i})}})(t,n);const i=(0,e.UI)({$metadata:Rn(t)}),r=(0,e.CE)((0,e.Wh)(await _n(t.body,n)),"body"),a=(0,e.qn)(r,{UserErrors:e.F3});return Object.assign(i,a),i})(t,n)}}class Hn extends e.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,i.a3)(t,Hn.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:a}=t,o={logger:a,clientName:"ChimeClient",commandName:"BatchUpdatePhoneNumberCommand",inputFilterSensitiveLog:ke,outputFilterSensitiveLog:e=>e},{requestHandler:s}=t;return r.resolve((e=>s.handle(e.request,n||{})),o)}serialize(t,n){return(async(t,n)=>{const{hostname:i,protocol:r="https",port:a,path:o}=await n.endpoint(),s=`${o?.endsWith("/")?o.slice(0,-1):o||""}/phone-numbers`,c=(0,e.UI)({operation:[,"batch-update"]});let d;return d=JSON.stringify((0,e.qn)(t,{UpdatePhoneNumberRequestItems:t=>(0,e.F3)(t)})),new Qt.aW({protocol:r,hostname:i,port:a,method:"POST",headers:{"content-type":"application/json"},path:s,query:c,body:d})})(t,n)}deserialize(t,n){return(async(t,n)=>{if(200!==t.statusCode&&t.statusCode>=300)return(async(e,t)=>{const n={...e,body:await On(e.body,t)},i=Un(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chime#BadRequestException":throw await rn(n,t);case"ForbiddenException":case"com.amazonaws.chime#ForbiddenException":throw await on(n,t);case"NotFoundException":case"com.amazonaws.chime#NotFoundException":throw await sn(n,t);case"ServiceFailureException":case"com.amazonaws.chime#ServiceFailureException":throw await dn(n,t);case"ServiceUnavailableException":case"com.amazonaws.chime#ServiceUnavailableException":throw await ln(n,t);case"ThrottledClientException":case"com.amazonaws.chime#ThrottledClientException":throw await un(n,t);case"UnauthorizedClientException":case"com.amazonaws.chime#UnauthorizedClientException":throw await hn(n,t);default:const r=n.body;return tn({output:e,parsedBody:r,errorCode:i})}})(t,n);const i=(0,e.UI)({$metadata:Rn(t)}),r=(0,e.CE)((0,e.Wh)(await _n(t.body,n)),"body"),a=(0,e.qn)(r,{PhoneNumberErrors:e.F3});return Object.assign(i,a),i})(t,n)}}class Gn extends e.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,i.a3)(t,Gn.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:a}=t,o={logger:a,clientName:"ChimeClient",commandName:"BatchUpdateUserCommand",inputFilterSensitiveLog:Pe,outputFilterSensitiveLog:e=>e},{requestHandler:s}=t;return r.resolve((e=>s.handle(e.request,n||{})),o)}serialize(t,n){return(async(t,n)=>{const{hostname:i,protocol:r="https",port:a,path:o}=await n.endpoint();let s,c=`${o?.endsWith("/")?o.slice(0,-1):o||""}/accounts/{AccountId}/users`;return c=(0,e.Is)(c,t,"AccountId",(()=>t.AccountId),"{AccountId}",!1),s=JSON.stringify((0,e.qn)(t,{UpdateUserRequestItems:t=>(0,e.F3)(t)})),new Qt.aW({protocol:r,hostname:i,port:a,method:"POST",headers:{"content-type":"application/json"},path:c,body:s})})(t,n)}deserialize(t,n){return(async(t,n)=>{if(200!==t.statusCode&&t.statusCode>=300)return(async(e,t)=>{const n={...e,body:await On(e.body,t)},i=Un(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chime#BadRequestException":throw await rn(n,t);case"ForbiddenException":case"com.amazonaws.chime#ForbiddenException":throw await on(n,t);case"NotFoundException":case"com.amazonaws.chime#NotFoundException":throw await sn(n,t);case"ServiceFailureException":case"com.amazonaws.chime#ServiceFailureException":throw await dn(n,t);case"ServiceUnavailableException":case"com.amazonaws.chime#ServiceUnavailableException":throw await ln(n,t);case"ThrottledClientException":case"com.amazonaws.chime#ThrottledClientException":throw await un(n,t);case"UnauthorizedClientException":case"com.amazonaws.chime#UnauthorizedClientException":throw await hn(n,t);default:const r=n.body;return tn({output:e,parsedBody:r,errorCode:i})}})(t,n);const i=(0,e.UI)({$metadata:Rn(t)}),r=(0,e.CE)((0,e.Wh)(await _n(t.body,n)),"body"),a=(0,e.qn)(r,{UserErrors:e.F3});return Object.assign(i,a),i})(t,n)}}class Kn extends e.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,i.a3)(t,Kn.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:a}=t,o={logger:a,clientName:"ChimeClient",commandName:"CreateAccountCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:e=>e},{requestHandler:s}=t;return r.resolve((e=>s.handle(e.request,n||{})),o)}serialize(t,n){return(async(t,n)=>{const{hostname:i,protocol:r="https",port:a,path:o}=await n.endpoint(),s=`${o?.endsWith("/")?o.slice(0,-1):o||""}/accounts`;let c;return c=JSON.stringify((0,e.qn)(t,{Name:[]})),new Qt.aW({protocol:r,hostname:i,port:a,method:"POST",headers:{"content-type":"application/json"},path:s,body:c})})(t,n)}deserialize(t,n){return(async(t,n)=>{if(201!==t.statusCode&&t.statusCode>=300)return(async(e,t)=>{const n={...e,body:await On(e.body,t)},i=Un(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chime#BadRequestException":throw await rn(n,t);case"ForbiddenException":case"com.amazonaws.chime#ForbiddenException":throw await on(n,t);case"NotFoundException":case"com.amazonaws.chime#NotFoundException":throw await sn(n,t);case"ServiceFailureException":case"com.amazonaws.chime#ServiceFailureException":throw await dn(n,t);case"ServiceUnavailableException":case"com.amazonaws.chime#ServiceUnavailableException":throw await ln(n,t);case"ThrottledClientException":case"com.amazonaws.chime#ThrottledClientException":throw await un(n,t);case"UnauthorizedClientException":case"com.amazonaws.chime#UnauthorizedClientException":throw await hn(n,t);default:const r=n.body;return tn({output:e,parsedBody:r,errorCode:i})}})(t,n);const i=(0,e.UI)({$metadata:Rn(t)}),r=(0,e.CE)((0,e.Wh)(await _n(t.body,n)),"body"),a=(0,e.qn)(r,{Account:e=>mn(e)});return Object.assign(i,a),i})(t,n)}}class Yn extends e.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,i.a3)(t,Yn.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:a}=t,o={logger:a,clientName:"ChimeClient",commandName:"CreateAppInstanceAdminCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:qe},{requestHandler:s}=t;return r.resolve((e=>s.handle(e.request,n||{})),o)}serialize(t,n){return(async(t,n)=>{const{hostname:i,protocol:r="https",port:a,path:o}=await n.endpoint();let s,c=`${o?.endsWith("/")?o.slice(0,-1):o||""}/app-instances/{AppInstanceArn}/admins`;c=(0,e.Is)(c,t,"AppInstanceArn",(()=>t.AppInstanceArn),"{AppInstanceArn}",!1),s=JSON.stringify((0,e.qn)(t,{AppInstanceAdminArn:[]}));let{hostname:d}=await n.endpoint();if(!0!==n.disableHostPrefix&&(d="identity-"+d,!(0,Qt.Lb)(d)))throw new Error("ValidationError: prefixed hostname must be hostname compatible.");return new Qt.aW({protocol:r,hostname:d,port:a,method:"POST",headers:{"content-type":"application/json"},path:c,body:s})})(t,n)}deserialize(t,n){return(async(t,n)=>{if(201!==t.statusCode&&t.statusCode>=300)return(async(e,t)=>{const n={...e,body:await On(e.body,t)},i=Un(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chime#BadRequestException":throw await rn(n,t);case"ConflictException":case"com.amazonaws.chime#ConflictException":throw await an(n,t);case"ForbiddenException":case"com.amazonaws.chime#ForbiddenException":throw await on(n,t);case"ResourceLimitExceededException":case"com.amazonaws.chime#ResourceLimitExceededException":throw await cn(n,t);case"ServiceFailureException":case"com.amazonaws.chime#ServiceFailureException":throw await dn(n,t);case"ServiceUnavailableException":case"com.amazonaws.chime#ServiceUnavailableException":throw await ln(n,t);case"ThrottledClientException":case"com.amazonaws.chime#ThrottledClientException":throw await un(n,t);case"UnauthorizedClientException":case"com.amazonaws.chime#UnauthorizedClientException":throw await hn(n,t);default:const r=n.body;return tn({output:e,parsedBody:r,errorCode:i})}})(t,n);const i=(0,e.UI)({$metadata:Rn(t)}),r=(0,e.CE)((0,e.Wh)(await _n(t.body,n)),"body"),a=(0,e.qn)(r,{AppInstanceAdmin:e.F3,AppInstanceArn:e.pY});return Object.assign(i,a),i})(t,n)}}class Jn extends e.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,i.a3)(t,Jn.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:a}=t,o={logger:a,clientName:"ChimeClient",commandName:"CreateAppInstanceCommand",inputFilterSensitiveLog:Be,outputFilterSensitiveLog:e=>e},{requestHandler:s}=t;return r.resolve((e=>s.handle(e.request,n||{})),o)}serialize(t,n){return(async(t,n)=>{const{hostname:i,protocol:r="https",port:a,path:o}=await n.endpoint(),s=`${o?.endsWith("/")?o.slice(0,-1):o||""}/app-instances`;let c;c=JSON.stringify((0,e.qn)(t,{ClientRequestToken:[!0,e=>e??(0,en.Z)()],Metadata:[],Name:[],Tags:t=>(0,e.F3)(t)}));let{hostname:d}=await n.endpoint();if(!0!==n.disableHostPrefix&&(d="identity-"+d,!(0,Qt.Lb)(d)))throw new Error("ValidationError: prefixed hostname must be hostname compatible.");return new Qt.aW({protocol:r,hostname:d,port:a,method:"POST",headers:{"content-type":"application/json"},path:s,body:c})})(t,n)}deserialize(t,n){return(async(t,n)=>{if(201!==t.statusCode&&t.statusCode>=300)return(async(e,t)=>{const n={...e,body:await On(e.body,t)},i=Un(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chime#BadRequestException":throw await rn(n,t);case"ConflictException":case"com.amazonaws.chime#ConflictException":throw await an(n,t);case"ForbiddenException":case"com.amazonaws.chime#ForbiddenException":throw await on(n,t);case"ResourceLimitExceededException":case"com.amazonaws.chime#ResourceLimitExceededException":throw await cn(n,t);case"ServiceFailureException":case"com.amazonaws.chime#ServiceFailureException":throw await dn(n,t);case"ServiceUnavailableException":case"com.amazonaws.chime#ServiceUnavailableException":throw await ln(n,t);case"ThrottledClientException":case"com.amazonaws.chime#ThrottledClientException":throw await un(n,t);case"UnauthorizedClientException":case"com.amazonaws.chime#UnauthorizedClientException":throw await hn(n,t);default:const r=n.body;return tn({output:e,parsedBody:r,errorCode:i})}})(t,n);const i=(0,e.UI)({$metadata:Rn(t)}),r=(0,e.CE)((0,e.Wh)(await _n(t.body,n)),"body"),a=(0,e.qn)(r,{AppInstanceArn:e.pY});return Object.assign(i,a),i})(t,n)}}class Xn extends e.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,i.a3)(t,Xn.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:a}=t,o={logger:a,clientName:"ChimeClient",commandName:"CreateAppInstanceUserCommand",inputFilterSensitiveLog:Ve,outputFilterSensitiveLog:e=>e},{requestHandler:s}=t;return r.resolve((e=>s.handle(e.request,n||{})),o)}serialize(t,n){return(async(t,n)=>{const{hostname:i,protocol:r="https",port:a,path:o}=await n.endpoint(),s=`${o?.endsWith("/")?o.slice(0,-1):o||""}/app-instance-users`;let c;c=JSON.stringify((0,e.qn)(t,{AppInstanceArn:[],AppInstanceUserId:[],ClientRequestToken:[!0,e=>e??(0,en.Z)()],Metadata:[],Name:[],Tags:t=>(0,e.F3)(t)}));let{hostname:d}=await n.endpoint();if(!0!==n.disableHostPrefix&&(d="identity-"+d,!(0,Qt.Lb)(d)))throw new Error("ValidationError: prefixed hostname must be hostname compatible.");return new Qt.aW({protocol:r,hostname:d,port:a,method:"POST",headers:{"content-type":"application/json"},path:s,body:c})})(t,n)}deserialize(t,n){return(async(t,n)=>{if(201!==t.statusCode&&t.statusCode>=300)return(async(e,t)=>{const n={...e,body:await On(e.body,t)},i=Un(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chime#BadRequestException":throw await rn(n,t);case"ConflictException":case"com.amazonaws.chime#ConflictException":throw await an(n,t);case"ForbiddenException":case"com.amazonaws.chime#ForbiddenException":throw await on(n,t);case"ResourceLimitExceededException":case"com.amazonaws.chime#ResourceLimitExceededException":throw await cn(n,t);case"ServiceFailureException":case"com.amazonaws.chime#ServiceFailureException":throw await dn(n,t);case"ServiceUnavailableException":case"com.amazonaws.chime#ServiceUnavailableException":throw await ln(n,t);case"ThrottledClientException":case"com.amazonaws.chime#ThrottledClientException":throw await un(n,t);case"UnauthorizedClientException":case"com.amazonaws.chime#UnauthorizedClientException":throw await hn(n,t);default:const r=n.body;return tn({output:e,parsedBody:r,errorCode:i})}})(t,n);const i=(0,e.UI)({$metadata:Rn(t)}),r=(0,e.CE)((0,e.Wh)(await _n(t.body,n)),"body"),a=(0,e.qn)(r,{AppInstanceUserArn:e.pY});return Object.assign(i,a),i})(t,n)}}class Zn extends e.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,i.a3)(t,Zn.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:a}=t,o={logger:a,clientName:"ChimeClient",commandName:"CreateAttendeeCommand",inputFilterSensitiveLog:je,outputFilterSensitiveLog:We},{requestHandler:s}=t;return r.resolve((e=>s.handle(e.request,n||{})),o)}serialize(t,n){return(async(t,n)=>{const{hostname:i,protocol:r="https",port:a,path:o}=await n.endpoint();let s,c=`${o?.endsWith("/")?o.slice(0,-1):o||""}/meetings/{MeetingId}/attendees`;return c=(0,e.Is)(c,t,"MeetingId",(()=>t.MeetingId),"{MeetingId}",!1),s=JSON.stringify((0,e.qn)(t,{ExternalUserId:[],Tags:t=>(0,e.F3)(t)})),new Qt.aW({protocol:r,hostname:i,port:a,method:"POST",headers:{"content-type":"application/json"},path:c,body:s})})(t,n)}deserialize(t,n){return(async(t,n)=>{if(201!==t.statusCode&&t.statusCode>=300)return(async(e,t)=>{const n={...e,body:await On(e.body,t)},i=Un(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chime#BadRequestException":throw await rn(n,t);case"ForbiddenException":case"com.amazonaws.chime#ForbiddenException":throw await on(n,t);case"NotFoundException":case"com.amazonaws.chime#NotFoundException":throw await sn(n,t);case"ResourceLimitExceededException":case"com.amazonaws.chime#ResourceLimitExceededException":throw await cn(n,t);case"ServiceFailureException":case"com.amazonaws.chime#ServiceFailureException":throw await dn(n,t);case"ServiceUnavailableException":case"com.amazonaws.chime#ServiceUnavailableException":throw await ln(n,t);case"ThrottledClientException":case"com.amazonaws.chime#ThrottledClientException":throw await un(n,t);case"UnauthorizedClientException":case"com.amazonaws.chime#UnauthorizedClientException":throw await hn(n,t);default:const r=n.body;return tn({output:e,parsedBody:r,errorCode:i})}})(t,n);const i=(0,e.UI)({$metadata:Rn(t)}),r=(0,e.CE)((0,e.Wh)(await _n(t.body,n)),"body"),a=(0,e.qn)(r,{Attendee:e.F3});return Object.assign(i,a),i})(t,n)}}class Qn extends e.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,i.a3)(t,Qn.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:a}=t,o={logger:a,clientName:"ChimeClient",commandName:"CreateBotCommand",inputFilterSensitiveLog:$e,outputFilterSensitiveLog:He},{requestHandler:s}=t;return r.resolve((e=>s.handle(e.request,n||{})),o)}serialize(t,n){return(async(t,n)=>{const{hostname:i,protocol:r="https",port:a,path:o}=await n.endpoint();let s,c=`${o?.endsWith("/")?o.slice(0,-1):o||""}/accounts/{AccountId}/bots`;return c=(0,e.Is)(c,t,"AccountId",(()=>t.AccountId),"{AccountId}",!1),s=JSON.stringify((0,e.qn)(t,{DisplayName:[],Domain:[]})),new Qt.aW({protocol:r,hostname:i,port:a,method:"POST",headers:{"content-type":"application/json"},path:c,body:s})})(t,n)}deserialize(t,n){return(async(t,n)=>{if(201!==t.statusCode&&t.statusCode>=300)return(async(e,t)=>{const n={...e,body:await On(e.body,t)},i=Un(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chime#BadRequestException":throw await rn(n,t);case"ForbiddenException":case"com.amazonaws.chime#ForbiddenException":throw await on(n,t);case"NotFoundException":case"com.amazonaws.chime#NotFoundException":throw await sn(n,t);case"ResourceLimitExceededException":case"com.amazonaws.chime#ResourceLimitExceededException":throw await cn(n,t);case"ServiceFailureException":case"com.amazonaws.chime#ServiceFailureException":throw await dn(n,t);case"ServiceUnavailableException":case"com.amazonaws.chime#ServiceUnavailableException":throw await ln(n,t);case"ThrottledClientException":case"com.amazonaws.chime#ThrottledClientException":throw await un(n,t);case"UnauthorizedClientException":case"com.amazonaws.chime#UnauthorizedClientException":throw await hn(n,t);default:const r=n.body;return tn({output:e,parsedBody:r,errorCode:i})}})(t,n);const i=(0,e.UI)({$metadata:Rn(t)}),r=(0,e.CE)((0,e.Wh)(await _n(t.body,n)),"body"),a=(0,e.qn)(r,{Bot:e=>fn(e)});return Object.assign(i,a),i})(t,n)}}class ei extends e.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,i.a3)(t,ei.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:a}=t,o={logger:a,clientName:"ChimeClient",commandName:"CreateChannelBanCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:Ke},{requestHandler:s}=t;return r.resolve((e=>s.handle(e.request,n||{})),o)}serialize(t,n){return(async(t,n)=>{const{hostname:i,protocol:r="https",port:a,path:o}=await n.endpoint(),s=(0,e.UI)({},Fn,{"content-type":"application/json","x-amz-chime-bearer":t.ChimeBearer});let c,d=`${o?.endsWith("/")?o.slice(0,-1):o||""}/channels/{ChannelArn}/bans`;d=(0,e.Is)(d,t,"ChannelArn",(()=>t.ChannelArn),"{ChannelArn}",!1),c=JSON.stringify((0,e.qn)(t,{MemberArn:[]}));let{hostname:l}=await n.endpoint();if(!0!==n.disableHostPrefix&&(l="messaging-"+l,!(0,Qt.Lb)(l)))throw new Error("ValidationError: prefixed hostname must be hostname compatible.");return new Qt.aW({protocol:r,hostname:l,port:a,method:"POST",headers:s,path:d,body:c})})(t,n)}deserialize(t,n){return(async(t,n)=>{if(201!==t.statusCode&&t.statusCode>=300)return(async(e,t)=>{const n={...e,body:await On(e.body,t)},i=Un(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chime#BadRequestException":throw await rn(n,t);case"ConflictException":case"com.amazonaws.chime#ConflictException":throw await an(n,t);case"ForbiddenException":case"com.amazonaws.chime#ForbiddenException":throw await on(n,t);case"ResourceLimitExceededException":case"com.amazonaws.chime#ResourceLimitExceededException":throw await cn(n,t);case"ServiceFailureException":case"com.amazonaws.chime#ServiceFailureException":throw await dn(n,t);case"ServiceUnavailableException":case"com.amazonaws.chime#ServiceUnavailableException":throw await ln(n,t);case"ThrottledClientException":case"com.amazonaws.chime#ThrottledClientException":throw await un(n,t);case"UnauthorizedClientException":case"com.amazonaws.chime#UnauthorizedClientException":throw await hn(n,t);default:const r=n.body;return tn({output:e,parsedBody:r,errorCode:i})}})(t,n);const i=(0,e.UI)({$metadata:Rn(t)}),r=(0,e.CE)((0,e.Wh)(await _n(t.body,n)),"body"),a=(0,e.qn)(r,{ChannelArn:e.pY,Member:e.F3});return Object.assign(i,a),i})(t,n)}}class ti extends e.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,i.a3)(t,ti.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:a}=t,o={logger:a,clientName:"ChimeClient",commandName:"CreateChannelCommand",inputFilterSensitiveLog:Ge,outputFilterSensitiveLog:e=>e},{requestHandler:s}=t;return r.resolve((e=>s.handle(e.request,n||{})),o)}serialize(t,n){return(async(t,n)=>{const{hostname:i,protocol:r="https",port:a,path:o}=await n.endpoint(),s=(0,e.UI)({},Fn,{"content-type":"application/json","x-amz-chime-bearer":t.ChimeBearer}),c=`${o?.endsWith("/")?o.slice(0,-1):o||""}/channels`;let d;d=JSON.stringify((0,e.qn)(t,{AppInstanceArn:[],ClientRequestToken:[!0,e=>e??(0,en.Z)()],Metadata:[],Mode:[],Name:[],Privacy:[],Tags:t=>(0,e.F3)(t)}));let{hostname:l}=await n.endpoint();if(!0!==n.disableHostPrefix&&(l="messaging-"+l,!(0,Qt.Lb)(l)))throw new Error("ValidationError: prefixed hostname must be hostname compatible.");return new Qt.aW({protocol:r,hostname:l,port:a,method:"POST",headers:s,path:c,body:d})})(t,n)}deserialize(t,n){return(async(t,n)=>{if(201!==t.statusCode&&t.statusCode>=300)return(async(e,t)=>{const n={...e,body:await On(e.body,t)},i=Un(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chime#BadRequestException":throw await rn(n,t);case"ConflictException":case"com.amazonaws.chime#ConflictException":throw await an(n,t);case"ForbiddenException":case"com.amazonaws.chime#ForbiddenException":throw await on(n,t);case"ResourceLimitExceededException":case"com.amazonaws.chime#ResourceLimitExceededException":throw await cn(n,t);case"ServiceFailureException":case"com.amazonaws.chime#ServiceFailureException":throw await dn(n,t);case"ServiceUnavailableException":case"com.amazonaws.chime#ServiceUnavailableException":throw await ln(n,t);case"ThrottledClientException":case"com.amazonaws.chime#ThrottledClientException":throw await un(n,t);case"UnauthorizedClientException":case"com.amazonaws.chime#UnauthorizedClientException":throw await hn(n,t);default:const r=n.body;return tn({output:e,parsedBody:r,errorCode:i})}})(t,n);const i=(0,e.UI)({$metadata:Rn(t)}),r=(0,e.CE)((0,e.Wh)(await _n(t.body,n)),"body"),a=(0,e.qn)(r,{ChannelArn:e.pY});return Object.assign(i,a),i})(t,n)}}class ni extends e.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,i.a3)(t,ni.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:a}=t,o={logger:a,clientName:"ChimeClient",commandName:"CreateChannelMembershipCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:Ye},{requestHandler:s}=t;return r.resolve((e=>s.handle(e.request,n||{})),o)}serialize(t,n){return(async(t,n)=>{const{hostname:i,protocol:r="https",port:a,path:o}=await n.endpoint(),s=(0,e.UI)({},Fn,{"content-type":"application/json","x-amz-chime-bearer":t.ChimeBearer});let c,d=`${o?.endsWith("/")?o.slice(0,-1):o||""}/channels/{ChannelArn}/memberships`;d=(0,e.Is)(d,t,"ChannelArn",(()=>t.ChannelArn),"{ChannelArn}",!1),c=JSON.stringify((0,e.qn)(t,{MemberArn:[],Type:[]}));let{hostname:l}=await n.endpoint();if(!0!==n.disableHostPrefix&&(l="messaging-"+l,!(0,Qt.Lb)(l)))throw new Error("ValidationError: prefixed hostname must be hostname compatible.");return new Qt.aW({protocol:r,hostname:l,port:a,method:"POST",headers:s,path:d,body:c})})(t,n)}deserialize(t,n){return(async(t,n)=>{if(201!==t.statusCode&&t.statusCode>=300)return(async(e,t)=>{const n={...e,body:await On(e.body,t)},i=Un(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chime#BadRequestException":throw await rn(n,t);case"ConflictException":case"com.amazonaws.chime#ConflictException":throw await an(n,t);case"ForbiddenException":case"com.amazonaws.chime#ForbiddenException":throw await on(n,t);case"ResourceLimitExceededException":case"com.amazonaws.chime#ResourceLimitExceededException":throw await cn(n,t);case"ServiceFailureException":case"com.amazonaws.chime#ServiceFailureException":throw await dn(n,t);case"ServiceUnavailableException":case"com.amazonaws.chime#ServiceUnavailableException":throw await ln(n,t);case"ThrottledClientException":case"com.amazonaws.chime#ThrottledClientException":throw await un(n,t);case"UnauthorizedClientException":case"com.amazonaws.chime#UnauthorizedClientException":throw await hn(n,t);default:const r=n.body;return tn({output:e,parsedBody:r,errorCode:i})}})(t,n);const i=(0,e.UI)({$metadata:Rn(t)}),r=(0,e.CE)((0,e.Wh)(await _n(t.body,n)),"body"),a=(0,e.qn)(r,{ChannelArn:e.pY,Member:e.F3});return Object.assign(i,a),i})(t,n)}}class ii extends e.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,i.a3)(t,ii.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:a}=t,o={logger:a,clientName:"ChimeClient",commandName:"CreateChannelModeratorCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:Je},{requestHandler:s}=t;return r.resolve((e=>s.handle(e.request,n||{})),o)}serialize(t,n){return(async(t,n)=>{const{hostname:i,protocol:r="https",port:a,path:o}=await n.endpoint(),s=(0,e.UI)({},Fn,{"content-type":"application/json","x-amz-chime-bearer":t.ChimeBearer});let c,d=`${o?.endsWith("/")?o.slice(0,-1):o||""}/channels/{ChannelArn}/moderators`;d=(0,e.Is)(d,t,"ChannelArn",(()=>t.ChannelArn),"{ChannelArn}",!1),c=JSON.stringify((0,e.qn)(t,{ChannelModeratorArn:[]}));let{hostname:l}=await n.endpoint();if(!0!==n.disableHostPrefix&&(l="messaging-"+l,!(0,Qt.Lb)(l)))throw new Error("ValidationError: prefixed hostname must be hostname compatible.");return new Qt.aW({protocol:r,hostname:l,port:a,method:"POST",headers:s,path:d,body:c})})(t,n)}deserialize(t,n){return(async(t,n)=>{if(201!==t.statusCode&&t.statusCode>=300)return(async(e,t)=>{const n={...e,body:await On(e.body,t)},i=Un(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chime#BadRequestException":throw await rn(n,t);case"ConflictException":case"com.amazonaws.chime#ConflictException":throw await an(n,t);case"ForbiddenException":case"com.amazonaws.chime#ForbiddenException":throw await on(n,t);case"ResourceLimitExceededException":case"com.amazonaws.chime#ResourceLimitExceededException":throw await cn(n,t);case"ServiceFailureException":case"com.amazonaws.chime#ServiceFailureException":throw await dn(n,t);case"ServiceUnavailableException":case"com.amazonaws.chime#ServiceUnavailableException":throw await ln(n,t);case"ThrottledClientException":case"com.amazonaws.chime#ThrottledClientException":throw await un(n,t);case"UnauthorizedClientException":case"com.amazonaws.chime#UnauthorizedClientException":throw await hn(n,t);default:const r=n.body;return tn({output:e,parsedBody:r,errorCode:i})}})(t,n);const i=(0,e.UI)({$metadata:Rn(t)}),r=(0,e.CE)((0,e.Wh)(await _n(t.body,n)),"body"),a=(0,e.qn)(r,{ChannelArn:e.pY,ChannelModerator:e.F3});return Object.assign(i,a),i})(t,n)}}class ri extends e.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,i.a3)(t,ri.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:a}=t,o={logger:a,clientName:"ChimeClient",commandName:"CreateMediaCapturePipelineCommand",inputFilterSensitiveLog:Xe,outputFilterSensitiveLog:Qe},{requestHandler:s}=t;return r.resolve((e=>s.handle(e.request,n||{})),o)}serialize(t,n){return(async(t,n)=>{const{hostname:i,protocol:r="https",port:a,path:o}=await n.endpoint(),s=`${o?.endsWith("/")?o.slice(0,-1):o||""}/media-capture-pipelines`;let c;return c=JSON.stringify((0,e.qn)(t,{ChimeSdkMeetingConfiguration:t=>(0,e.F3)(t),ClientRequestToken:[!0,e=>e??(0,en.Z)()],SinkArn:[],SinkType:[],SourceArn:[],SourceType:[]})),new Qt.aW({protocol:r,hostname:i,port:a,method:"POST",headers:{"content-type":"application/json"},path:s,body:c})})(t,n)}deserialize(t,n){return(async(t,n)=>{if(201!==t.statusCode&&t.statusCode>=300)return(async(e,t)=>{const n={...e,body:await On(e.body,t)},i=Un(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chime#BadRequestException":throw await rn(n,t);case"ForbiddenException":case"com.amazonaws.chime#ForbiddenException":throw await on(n,t);case"ResourceLimitExceededException":case"com.amazonaws.chime#ResourceLimitExceededException":throw await cn(n,t);case"ServiceFailureException":case"com.amazonaws.chime#ServiceFailureException":throw await dn(n,t);case"ServiceUnavailableException":case"com.amazonaws.chime#ServiceUnavailableException":throw await ln(n,t);case"ThrottledClientException":case"com.amazonaws.chime#ThrottledClientException":throw await un(n,t);case"UnauthorizedClientException":case"com.amazonaws.chime#UnauthorizedClientException":throw await hn(n,t);default:const r=n.body;return tn({output:e,parsedBody:r,errorCode:i})}})(t,n);const i=(0,e.UI)({$metadata:Rn(t)}),r=(0,e.CE)((0,e.Wh)(await _n(t.body,n)),"body"),a=(0,e.qn)(r,{MediaCapturePipeline:e=>vn(e)});return Object.assign(i,a),i})(t,n)}}class ai extends e.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,i.a3)(t,ai.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:a}=t,o={logger:a,clientName:"ChimeClient",commandName:"CreateMeetingCommand",inputFilterSensitiveLog:tt,outputFilterSensitiveLog:it},{requestHandler:s}=t;return r.resolve((e=>s.handle(e.request,n||{})),o)}serialize(t,n){return(async(t,n)=>{const{hostname:i,protocol:r="https",port:a,path:o}=await n.endpoint(),s=`${o?.endsWith("/")?o.slice(0,-1):o||""}/meetings`;let c;return c=JSON.stringify((0,e.qn)(t,{ClientRequestToken:[!0,e=>e??(0,en.Z)()],ExternalMeetingId:[],MediaRegion:[],MeetingHostId:[],NotificationsConfiguration:t=>(0,e.F3)(t),Tags:t=>(0,e.F3)(t)})),new Qt.aW({protocol:r,hostname:i,port:a,method:"POST",headers:{"content-type":"application/json"},path:s,body:c})})(t,n)}deserialize(t,n){return(async(t,n)=>{if(201!==t.statusCode&&t.statusCode>=300)return(async(e,t)=>{const n={...e,body:await On(e.body,t)},i=Un(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chime#BadRequestException":throw await rn(n,t);case"ForbiddenException":case"com.amazonaws.chime#ForbiddenException":throw await on(n,t);case"ResourceLimitExceededException":case"com.amazonaws.chime#ResourceLimitExceededException":throw await cn(n,t);case"ServiceFailureException":case"com.amazonaws.chime#ServiceFailureException":throw await dn(n,t);case"ServiceUnavailableException":case"com.amazonaws.chime#ServiceUnavailableException":throw await ln(n,t);case"ThrottledClientException":case"com.amazonaws.chime#ThrottledClientException":throw await un(n,t);case"UnauthorizedClientException":case"com.amazonaws.chime#UnauthorizedClientException":throw await hn(n,t);default:const r=n.body;return tn({output:e,parsedBody:r,errorCode:i})}})(t,n);const i=(0,e.UI)({$metadata:Rn(t)}),r=(0,e.CE)((0,e.Wh)(await _n(t.body,n)),"body"),a=(0,e.qn)(r,{Meeting:e.F3});return Object.assign(i,a),i})(t,n)}}class oi extends e.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,i.a3)(t,oi.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:a}=t,o={logger:a,clientName:"ChimeClient",commandName:"CreateMeetingDialOutCommand",inputFilterSensitiveLog:rt,outputFilterSensitiveLog:e=>e},{requestHandler:s}=t;return r.resolve((e=>s.handle(e.request,n||{})),o)}serialize(t,n){return(async(t,n)=>{const{hostname:i,protocol:r="https",port:a,path:o}=await n.endpoint();let s,c=`${o?.endsWith("/")?o.slice(0,-1):o||""}/meetings/{MeetingId}/dial-outs`;return c=(0,e.Is)(c,t,"MeetingId",(()=>t.MeetingId),"{MeetingId}",!1),s=JSON.stringify((0,e.qn)(t,{FromPhoneNumber:[],JoinToken:[],ToPhoneNumber:[]})),new Qt.aW({protocol:r,hostname:i,port:a,method:"POST",headers:{"content-type":"application/json"},path:c,body:s})})(t,n)}deserialize(t,n){return(async(t,n)=>{if(201!==t.statusCode&&t.statusCode>=300)return(async(e,t)=>{const n={...e,body:await On(e.body,t)},i=Un(e,n.body);switch(i){case"AccessDeniedException":case"com.amazonaws.chime#AccessDeniedException":throw await nn(n,t);case"BadRequestException":case"com.amazonaws.chime#BadRequestException":throw await rn(n,t);case"ForbiddenException":case"com.amazonaws.chime#ForbiddenException":throw await on(n,t);case"ResourceLimitExceededException":case"com.amazonaws.chime#ResourceLimitExceededException":throw await cn(n,t);case"ServiceFailureException":case"com.amazonaws.chime#ServiceFailureException":throw await dn(n,t);case"ServiceUnavailableException":case"com.amazonaws.chime#ServiceUnavailableException":throw await ln(n,t);case"ThrottledClientException":case"com.amazonaws.chime#ThrottledClientException":throw await un(n,t);case"UnauthorizedClientException":case"com.amazonaws.chime#UnauthorizedClientException":throw await hn(n,t);default:const r=n.body;return tn({output:e,parsedBody:r,errorCode:i})}})(t,n);const i=(0,e.UI)({$metadata:Rn(t)}),r=(0,e.CE)((0,e.Wh)(await _n(t.body,n)),"body"),a=(0,e.qn)(r,{TransactionId:e.pY});return Object.assign(i,a),i})(t,n)}}class si extends e.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,i.a3)(t,si.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:a}=t,o={logger:a,clientName:"ChimeClient",commandName:"CreateMeetingWithAttendeesCommand",inputFilterSensitiveLog:at,outputFilterSensitiveLog:ot},{requestHandler:s}=t;return r.resolve((e=>s.handle(e.request,n||{})),o)}serialize(t,n){return(async(t,n)=>{const{hostname:i,protocol:r="https",port:a,path:o}=await n.endpoint(),s=`${o?.endsWith("/")?o.slice(0,-1):o||""}/meetings`,c=(0,e.UI)({operation:[,"create-attendees"]});let d;return d=JSON.stringify((0,e.qn)(t,{Attendees:t=>(0,e.F3)(t),ClientRequestToken:[!0,e=>e??(0,en.Z)()],ExternalMeetingId:[],MediaRegion:[],MeetingHostId:[],NotificationsConfiguration:t=>(0,e.F3)(t),Tags:t=>(0,e.F3)(t)})),new Qt.aW({protocol:r,hostname:i,port:a,method:"POST",headers:{"content-type":"application/json"},path:s,query:c,body:d})})(t,n)}deserialize(t,n){return(async(t,n)=>{if(201!==t.statusCode&&t.statusCode>=300)return(async(e,t)=>{const n={...e,body:await On(e.body,t)},i=Un(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chime#BadRequestException":throw await rn(n,t);case"ForbiddenException":case"com.amazonaws.chime#ForbiddenException":throw await on(n,t);case"ResourceLimitExceededException":case"com.amazonaws.chime#ResourceLimitExceededException":throw await cn(n,t);case"ServiceFailureException":case"com.amazonaws.chime#ServiceFailureException":throw await dn(n,t);case"ServiceUnavailableException":case"com.amazonaws.chime#ServiceUnavailableException":throw await ln(n,t);case"ThrottledClientException":case"com.amazonaws.chime#ThrottledClientException":throw await un(n,t);case"UnauthorizedClientException":case"com.amazonaws.chime#UnauthorizedClientException":throw await hn(n,t);default:const r=n.body;return tn({output:e,parsedBody:r,errorCode:i})}})(t,n);const i=(0,e.UI)({$metadata:Rn(t)}),r=(0,e.CE)((0,e.Wh)(await _n(t.body,n)),"body"),a=(0,e.qn)(r,{Attendees:e.F3,Errors:e.F3,Meeting:e.F3});return Object.assign(i,a),i})(t,n)}}class ci extends e.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,i.a3)(t,ci.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:a}=t,o={logger:a,clientName:"ChimeClient",commandName:"CreatePhoneNumberOrderCommand",inputFilterSensitiveLog:st,outputFilterSensitiveLog:dt},{requestHandler:s}=t;return r.resolve((e=>s.handle(e.request,n||{})),o)}serialize(t,n){return(async(t,n)=>{const{hostname:i,protocol:r="https",port:a,path:o}=await n.endpoint(),s=`${o?.endsWith("/")?o.slice(0,-1):o||""}/phone-number-orders`;let c;return c=JSON.stringify((0,e.qn)(t,{E164PhoneNumbers:t=>(0,e.F3)(t),ProductType:[]})),new Qt.aW({protocol:r,hostname:i,port:a,method:"POST",headers:{"content-type":"application/json"},path:s,body:c})})(t,n)}deserialize(t,n){return(async(t,n)=>{if(201!==t.statusCode&&t.statusCode>=300)return(async(e,t)=>{const n={...e,body:await On(e.body,t)},i=Un(e,n.body);switch(i){case"AccessDeniedException":case"com.amazonaws.chime#AccessDeniedException":throw await nn(n,t);case"BadRequestException":case"com.amazonaws.chime#BadRequestException":throw await rn(n,t);case"ForbiddenException":case"com.amazonaws.chime#ForbiddenException":throw await on(n,t);case"ResourceLimitExceededException":case"com.amazonaws.chime#ResourceLimitExceededException":throw await cn(n,t);case"ServiceFailureException":case"com.amazonaws.chime#ServiceFailureException":throw await dn(n,t);case"ServiceUnavailableException":case"com.amazonaws.chime#ServiceUnavailableException":throw await ln(n,t);case"ThrottledClientException":case"com.amazonaws.chime#ThrottledClientException":throw await un(n,t);case"UnauthorizedClientException":case"com.amazonaws.chime#UnauthorizedClientException":throw await hn(n,t);default:const r=n.body;return tn({output:e,parsedBody:r,errorCode:i})}})(t,n);const i=(0,e.UI)({$metadata:Rn(t)}),r=(0,e.CE)((0,e.Wh)(await _n(t.body,n)),"body"),a=(0,e.qn)(r,{PhoneNumberOrder:e=>En(e)});return Object.assign(i,a),i})(t,n)}}class di extends e.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,i.a3)(t,di.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:a}=t,o={logger:a,clientName:"ChimeClient",commandName:"CreateProxySessionCommand",inputFilterSensitiveLog:lt,outputFilterSensitiveLog:ht},{requestHandler:s}=t;return r.resolve((e=>s.handle(e.request,n||{})),o)}serialize(t,n){return(async(t,n)=>{const{hostname:i,protocol:r="https",port:a,path:o}=await n.endpoint();let s,c=`${o?.endsWith("/")?o.slice(0,-1):o||""}/voice-connectors/{VoiceConnectorId}/proxy-sessions`;return c=(0,e.Is)(c,t,"VoiceConnectorId",(()=>t.VoiceConnectorId),"{VoiceConnectorId}",!1),s=JSON.stringify((0,e.qn)(t,{Capabilities:t=>(0,e.F3)(t),ExpiryMinutes:[],GeoMatchLevel:[],GeoMatchParams:t=>(0,e.F3)(t),Name:[],NumberSelectionBehavior:[],ParticipantPhoneNumbers:t=>(0,e.F3)(t)})),new Qt.aW({protocol:r,hostname:i,port:a,method:"POST",headers:{"content-type":"application/json"},path:c,body:s})})(t,n)}deserialize(t,n){return(async(t,n)=>{if(201!==t.statusCode&&t.statusCode>=300)return(async(e,t)=>{const n={...e,body:await On(e.body,t)},i=Un(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chime#BadRequestException":throw await rn(n,t);case"ForbiddenException":case"com.amazonaws.chime#ForbiddenException":throw await on(n,t);case"NotFoundException":case"com.amazonaws.chime#NotFoundException":throw await sn(n,t);case"ServiceFailureException":case"com.amazonaws.chime#ServiceFailureException":throw await dn(n,t);case"ServiceUnavailableException":case"com.amazonaws.chime#ServiceUnavailableException":throw await ln(n,t);case"ThrottledClientException":case"com.amazonaws.chime#ThrottledClientException":throw await un(n,t);case"UnauthorizedClientException":case"com.amazonaws.chime#UnauthorizedClientException":throw await hn(n,t);default:const r=n.body;return tn({output:e,parsedBody:r,errorCode:i})}})(t,n);const i=(0,e.UI)({$metadata:Rn(t)}),r=(0,e.CE)((0,e.Wh)(await _n(t.body,n)),"body"),a=(0,e.qn)(r,{ProxySession:e=>Cn(e)});return Object.assign(i,a),i})(t,n)}}class li extends e.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,i.a3)(t,li.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:a}=t,o={logger:a,clientName:"ChimeClient",commandName:"CreateRoomCommand",inputFilterSensitiveLog:pt,outputFilterSensitiveLog:ft},{requestHandler:s}=t;return r.resolve((e=>s.handle(e.request,n||{})),o)}serialize(t,n){return(async(t,n)=>{const{hostname:i,protocol:r="https",port:a,path:o}=await n.endpoint();let s,c=`${o?.endsWith("/")?o.slice(0,-1):o||""}/accounts/{AccountId}/rooms`;return c=(0,e.Is)(c,t,"AccountId",(()=>t.AccountId),"{AccountId}",!1),s=JSON.stringify((0,e.qn)(t,{ClientRequestToken:[!0,e=>e??(0,en.Z)()],Name:[]})),new Qt.aW({protocol:r,hostname:i,port:a,method:"POST",headers:{"content-type":"application/json"},path:c,body:s})})(t,n)}deserialize(t,n){return(async(t,n)=>{if(201!==t.statusCode&&t.statusCode>=300)return(async(e,t)=>{const n={...e,body:await On(e.body,t)},i=Un(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chime#BadRequestException":throw await rn(n,t);case"ForbiddenException":case"com.amazonaws.chime#ForbiddenException":throw await on(n,t);case"NotFoundException":case"com.amazonaws.chime#NotFoundException":throw await sn(n,t);case"ResourceLimitExceededException":case"com.amazonaws.chime#ResourceLimitExceededException":throw await cn(n,t);case"ServiceFailureException":case"com.amazonaws.chime#ServiceFailureException":throw await dn(n,t);case"ServiceUnavailableException":case"com.amazonaws.chime#ServiceUnavailableException":throw await ln(n,t);case"ThrottledClientException":case"com.amazonaws.chime#ThrottledClientException":throw await un(n,t);case"UnauthorizedClientException":case"com.amazonaws.chime#UnauthorizedClientException":throw await hn(n,t);default:const r=n.body;return tn({output:e,parsedBody:r,errorCode:i})}})(t,n);const i=(0,e.UI)({$metadata:Rn(t)}),r=(0,e.CE)((0,e.Wh)(await _n(t.body,n)),"body"),a=(0,e.qn)(r,{Room:e=>xn(e)});return Object.assign(i,a),i})(t,n)}}class ui extends e.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,i.a3)(t,ui.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:a}=t,o={logger:a,clientName:"ChimeClient",commandName:"CreateRoomMembershipCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:yt},{requestHandler:s}=t;return r.resolve((e=>s.handle(e.request,n||{})),o)}serialize(t,n){return(async(t,n)=>{const{hostname:i,protocol:r="https",port:a,path:o}=await n.endpoint();let s,c=`${o?.endsWith("/")?o.slice(0,-1):o||""}/accounts/{AccountId}/rooms/{RoomId}/memberships`;return c=(0,e.Is)(c,t,"AccountId",(()=>t.AccountId),"{AccountId}",!1),c=(0,e.Is)(c,t,"RoomId",(()=>t.RoomId),"{RoomId}",!1),s=JSON.stringify((0,e.qn)(t,{MemberId:[],Role:[]})),new Qt.aW({protocol:r,hostname:i,port:a,method:"POST",headers:{"content-type":"application/json"},path:c,body:s})})(t,n)}deserialize(t,n){return(async(t,n)=>{if(201!==t.statusCode&&t.statusCode>=300)return(async(e,t)=>{const n={...e,body:await On(e.body,t)},i=Un(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chime#BadRequestException":throw await rn(n,t);case"ConflictException":case"com.amazonaws.chime#ConflictException":throw await an(n,t);case"ForbiddenException":case"com.amazonaws.chime#ForbiddenException":throw await on(n,t);case"NotFoundException":case"com.amazonaws.chime#NotFoundException":throw await sn(n,t);case"ResourceLimitExceededException":case"com.amazonaws.chime#ResourceLimitExceededException":throw await cn(n,t);case"ServiceFailureException":case"com.amazonaws.chime#ServiceFailureException":throw await dn(n,t);case"ServiceUnavailableException":case"com.amazonaws.chime#ServiceUnavailableException":throw await ln(n,t);case"ThrottledClientException":case"com.amazonaws.chime#ThrottledClientException":throw await un(n,t);case"UnauthorizedClientException":case"com.amazonaws.chime#UnauthorizedClientException":throw await hn(n,t);default:const r=n.body;return tn({output:e,parsedBody:r,errorCode:i})}})(t,n);const i=(0,e.UI)({$metadata:Rn(t)}),r=(0,e.CE)((0,e.Wh)(await _n(t.body,n)),"body"),a=(0,e.qn)(r,{RoomMembership:e=>In(e)});return Object.assign(i,a),i})(t,n)}}class hi extends e.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,i.a3)(t,hi.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:a}=t,o={logger:a,clientName:"ChimeClient",commandName:"CreateSipMediaApplicationCallCommand",inputFilterSensitiveLog:Ct,outputFilterSensitiveLog:e=>e},{requestHandler:s}=t;return r.resolve((e=>s.handle(e.request,n||{})),o)}serialize(t,n){return(async(t,n)=>{const{hostname:i,protocol:r="https",port:a,path:o}=await n.endpoint();let s,c=`${o?.endsWith("/")?o.slice(0,-1):o||""}/sip-media-applications/{SipMediaApplicationId}/calls`;return c=(0,e.Is)(c,t,"SipMediaApplicationId",(()=>t.SipMediaApplicationId),"{SipMediaApplicationId}",!1),s=JSON.stringify((0,e.qn)(t,{FromPhoneNumber:[],SipHeaders:t=>(0,e.F3)(t),ToPhoneNumber:[]})),new Qt.aW({protocol:r,hostname:i,port:a,method:"POST",headers:{"content-type":"application/json"},path:c,body:s})})(t,n)}deserialize(t,n){return(async(t,n)=>{if(201!==t.statusCode&&t.statusCode>=300)return(async(e,t)=>{const n={...e,body:await On(e.body,t)},i=Un(e,n.body);switch(i){case"AccessDeniedException":case"com.amazonaws.chime#AccessDeniedException":throw await nn(n,t);case"BadRequestException":case"com.amazonaws.chime#BadRequestException":throw await rn(n,t);case"ForbiddenException":case"com.amazonaws.chime#ForbiddenException":throw await on(n,t);case"ResourceLimitExceededException":case"com.amazonaws.chime#ResourceLimitExceededException":throw await cn(n,t);case"ServiceFailureException":case"com.amazonaws.chime#ServiceFailureException":throw await dn(n,t);case"ServiceUnavailableException":case"com.amazonaws.chime#ServiceUnavailableException":throw await ln(n,t);case"ThrottledClientException":case"com.amazonaws.chime#ThrottledClientException":throw await un(n,t);case"UnauthorizedClientException":case"com.amazonaws.chime#UnauthorizedClientException":throw await hn(n,t);default:const r=n.body;return tn({output:e,parsedBody:r,errorCode:i})}})(t,n);const i=(0,e.UI)({$metadata:Rn(t)}),r=(0,e.CE)((0,e.Wh)(await _n(t.body,n)),"body"),a=(0,e.qn)(r,{SipMediaApplicationCall:e.F3});return Object.assign(i,a),i})(t,n)}}class pi extends e.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,i.a3)(t,pi.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:a}=t,o={logger:a,clientName:"ChimeClient",commandName:"CreateSipMediaApplicationCommand",inputFilterSensitiveLog:bt,outputFilterSensitiveLog:Et},{requestHandler:s}=t;return r.resolve((e=>s.handle(e.request,n||{})),o)}serialize(t,n){return(async(t,n)=>{const{hostname:i,protocol:r="https",port:a,path:o}=await n.endpoint(),s=`${o?.endsWith("/")?o.slice(0,-1):o||""}/sip-media-applications`;let c;return c=JSON.stringify((0,e.qn)(t,{AwsRegion:[],Endpoints:t=>(0,e.F3)(t),Name:[]})),new Qt.aW({protocol:r,hostname:i,port:a,method:"POST",headers:{"content-type":"application/json"},path:s,body:c})})(t,n)}deserialize(t,n){return(async(t,n)=>{if(201!==t.statusCode&&t.statusCode>=300)return(async(e,t)=>{const n={...e,body:await On(e.body,t)},i=Un(e,n.body);switch(i){case"AccessDeniedException":case"com.amazonaws.chime#AccessDeniedException":throw await nn(n,t);case"BadRequestException":case"com.amazonaws.chime#BadRequestException":throw await rn(n,t);case"ConflictException":case"com.amazonaws.chime#ConflictException":throw await an(n,t);case"ForbiddenException":case"com.amazonaws.chime#ForbiddenException":throw await on(n,t);case"ResourceLimitExceededException":case"com.amazonaws.chime#ResourceLimitExceededException":throw await cn(n,t);case"ServiceFailureException":case"com.amazonaws.chime#ServiceFailureException":throw await dn(n,t);case"ServiceUnavailableException":case"com.amazonaws.chime#ServiceUnavailableException":throw await ln(n,t);case"ThrottledClientException":case"com.amazonaws.chime#ThrottledClientException":throw await un(n,t);case"UnauthorizedClientException":case"com.amazonaws.chime#UnauthorizedClientException":throw await hn(n,t);default:const r=n.body;return tn({output:e,parsedBody:r,errorCode:i})}})(t,n);const i=(0,e.UI)({$metadata:Rn(t)}),r=(0,e.CE)((0,e.Wh)(await _n(t.body,n)),"body"),a=(0,e.qn)(r,{SipMediaApplication:e=>kn(e)});return Object.assign(i,a),i})(t,n)}}class mi extends e.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,i.a3)(t,mi.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:a}=t,o={logger:a,clientName:"ChimeClient",commandName:"CreateSipRuleCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:e=>e},{requestHandler:s}=t;return r.resolve((e=>s.handle(e.request,n||{})),o)}serialize(t,n){return(async(t,n)=>{const{hostname:i,protocol:r="https",port:a,path:o}=await n.endpoint(),s=`${o?.endsWith("/")?o.slice(0,-1):o||""}/sip-rules`;let c;return c=JSON.stringify((0,e.qn)(t,{Disabled:[],Name:[],TargetApplications:t=>(0,e.F3)(t),TriggerType:[],TriggerValue:[]})),new Qt.aW({protocol:r,hostname:i,port:a,method:"POST",headers:{"content-type":"application/json"},path:s,body:c})})(t,n)}deserialize(t,n){return(async(t,n)=>{if(201!==t.statusCode&&t.statusCode>=300)return(async(e,t)=>{const n={...e,body:await On(e.body,t)},i=Un(e,n.body);switch(i){case"AccessDeniedException":case"com.amazonaws.chime#AccessDeniedException":throw await nn(n,t);case"BadRequestException":case"com.amazonaws.chime#BadRequestException":throw await rn(n,t);case"ConflictException":case"com.amazonaws.chime#ConflictException":throw await an(n,t);case"ForbiddenException":case"com.amazonaws.chime#ForbiddenException":throw await on(n,t);case"ResourceLimitExceededException":case"com.amazonaws.chime#ResourceLimitExceededException":throw await cn(n,t);case"ServiceFailureException":case"com.amazonaws.chime#ServiceFailureException":throw await dn(n,t);case"ServiceUnavailableException":case"com.amazonaws.chime#ServiceUnavailableException":throw await ln(n,t);case"ThrottledClientException":case"com.amazonaws.chime#ThrottledClientException":throw await un(n,t);case"UnauthorizedClientException":case"com.amazonaws.chime#UnauthorizedClientException":throw await hn(n,t);default:const r=n.body;return tn({output:e,parsedBody:r,errorCode:i})}})(t,n);const i=(0,e.UI)({$metadata:Rn(t)}),r=(0,e.CE)((0,e.Wh)(await _n(t.body,n)),"body"),a=(0,e.qn)(r,{SipRule:e=>Pn(e)});return Object.assign(i,a),i})(t,n)}}class fi extends e.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,i.a3)(t,fi.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:a}=t,o={logger:a,clientName:"ChimeClient",commandName:"CreateUserCommand",inputFilterSensitiveLog:xt,outputFilterSensitiveLog:kt},{requestHandler:s}=t;return r.resolve((e=>s.handle(e.request,n||{})),o)}serialize(t,n){return(async(t,n)=>{const{hostname:i,protocol:r="https",port:a,path:o}=await n.endpoint();let s=`${o?.endsWith("/")?o.slice(0,-1):o||""}/accounts/{AccountId}/users`;s=(0,e.Is)(s,t,"AccountId",(()=>t.AccountId),"{AccountId}",!1);const c=(0,e.UI)({operation:[,"create"]});let d;return d=JSON.stringify((0,e.qn)(t,{Email:[],UserType:[],Username:[]})),new Qt.aW({protocol:r,hostname:i,port:a,method:"POST",headers:{"content-type":"application/json"},path:s,query:c,body:d})})(t,n)}deserialize(t,n){return(async(t,n)=>{if(201!==t.statusCode&&t.statusCode>=300)return(async(e,t)=>{const n={...e,body:await On(e.body,t)},i=Un(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chime#BadRequestException":throw await rn(n,t);case"ConflictException":case"com.amazonaws.chime#ConflictException":throw await an(n,t);case"ForbiddenException":case"com.amazonaws.chime#ForbiddenException":throw await on(n,t);case"NotFoundException":case"com.amazonaws.chime#NotFoundException":throw await sn(n,t);case"ServiceFailureException":case"com.amazonaws.chime#ServiceFailureException":throw await dn(n,t);case"ServiceUnavailableException":case"com.amazonaws.chime#ServiceUnavailableException":throw await ln(n,t);case"ThrottledClientException":case"com.amazonaws.chime#ThrottledClientException":throw await un(n,t);case"UnauthorizedClientException":case"com.amazonaws.chime#UnauthorizedClientException":throw await hn(n,t);default:const r=n.body;return tn({output:e,parsedBody:r,errorCode:i})}})(t,n);const i=(0,e.UI)({$metadata:Rn(t)}),r=(0,e.CE)((0,e.Wh)(await _n(t.body,n)),"body"),a=(0,e.qn)(r,{User:e=>An(e)});return Object.assign(i,a),i})(t,n)}}class gi extends e.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,i.a3)(t,gi.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:a}=t,o={logger:a,clientName:"ChimeClient",commandName:"CreateVoiceConnectorCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:e=>e},{requestHandler:s}=t;return r.resolve((e=>s.handle(e.request,n||{})),o)}serialize(t,n){return(async(t,n)=>{const{hostname:i,protocol:r="https",port:a,path:o}=await n.endpoint(),s=`${o?.endsWith("/")?o.slice(0,-1):o||""}/voice-connectors`;let c;return c=JSON.stringify((0,e.qn)(t,{AwsRegion:[],Name:[],RequireEncryption:[]})),new Qt.aW({protocol:r,hostname:i,port:a,method:"POST",headers:{"content-type":"application/json"},path:s,body:c})})(t,n)}deserialize(t,n){return(async(t,n)=>{if(201!==t.statusCode&&t.statusCode>=300)return(async(e,t)=>{const n={...e,body:await On(e.body,t)},i=Un(e,n.body);switch(i){case"AccessDeniedException":case"com.amazonaws.chime#AccessDeniedException":throw await nn(n,t);case"BadRequestException":case"com.amazonaws.chime#BadRequestException":throw await rn(n,t);case"ForbiddenException":case"com.amazonaws.chime#ForbiddenException":throw await on(n,t);case"ResourceLimitExceededException":case"com.amazonaws.chime#ResourceLimitExceededException":throw await cn(n,t);case"ServiceFailureException":case"com.amazonaws.chime#ServiceFailureException":throw await dn(n,t);case"ServiceUnavailableException":case"com.amazonaws.chime#ServiceUnavailableException":throw await ln(n,t);case"ThrottledClientException":case"com.amazonaws.chime#ThrottledClientException":throw await un(n,t);case"UnauthorizedClientException":case"com.amazonaws.chime#UnauthorizedClientException":throw await hn(n,t);default:const r=n.body;return tn({output:e,parsedBody:r,errorCode:i})}})(t,n);const i=(0,e.UI)({$metadata:Rn(t)}),r=(0,e.CE)((0,e.Wh)(await _n(t.body,n)),"body"),a=(0,e.qn)(r,{VoiceConnector:e=>Tn(e)});return Object.assign(i,a),i})(t,n)}}class wi extends e.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,i.a3)(t,wi.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:a}=t,o={logger:a,clientName:"ChimeClient",commandName:"CreateVoiceConnectorGroupCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:e=>e},{requestHandler:s}=t;return r.resolve((e=>s.handle(e.request,n||{})),o)}serialize(t,n){return(async(t,n)=>{const{hostname:i,protocol:r="https",port:a,path:o}=await n.endpoint(),s=`${o?.endsWith("/")?o.slice(0,-1):o||""}/voice-connector-groups`;let c;return c=JSON.stringify((0,e.qn)(t,{Name:[],VoiceConnectorItems:t=>(0,e.F3)(t)})),new Qt.aW({protocol:r,hostname:i,port:a,method:"POST",headers:{"content-type":"application/json"},path:s,body:c})})(t,n)}deserialize(t,n){return(async(t,n)=>{if(201!==t.statusCode&&t.statusCode>=300)return(async(e,t)=>{const n={...e,body:await On(e.body,t)},i=Un(e,n.body);switch(i){case"AccessDeniedException":case"com.amazonaws.chime#AccessDeniedException":throw await nn(n,t);case"BadRequestException":case"com.amazonaws.chime#BadRequestException":throw await rn(n,t);case"ForbiddenException":case"com.amazonaws.chime#ForbiddenException":throw await on(n,t);case"ResourceLimitExceededException":case"com.amazonaws.chime#ResourceLimitExceededException":throw await cn(n,t);case"ServiceFailureException":case"com.amazonaws.chime#ServiceFailureException":throw await dn(n,t);case"ServiceUnavailableException":case"com.amazonaws.chime#ServiceUnavailableException":throw await ln(n,t);case"ThrottledClientException":case"com.amazonaws.chime#ThrottledClientException":throw await un(n,t);case"UnauthorizedClientException":case"com.amazonaws.chime#UnauthorizedClientException":throw await hn(n,t);default:const r=n.body;return tn({output:e,parsedBody:r,errorCode:i})}})(t,n);const i=(0,e.UI)({$metadata:Rn(t)}),r=(0,e.CE)((0,e.Wh)(await _n(t.body,n)),"body"),a=(0,e.qn)(r,{VoiceConnectorGroup:e=>Mn(e)});return Object.assign(i,a),i})(t,n)}}class yi extends e.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,i.a3)(t,yi.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:a}=t,o={logger:a,clientName:"ChimeClient",commandName:"DeleteAccountCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:e=>e},{requestHandler:s}=t;return r.resolve((e=>s.handle(e.request,n||{})),o)}serialize(t,n){return(async(t,n)=>{const{hostname:i,protocol:r="https",port:a,path:o}=await n.endpoint();let s=`${o?.endsWith("/")?o.slice(0,-1):o||""}/accounts/{AccountId}`;return s=(0,e.Is)(s,t,"AccountId",(()=>t.AccountId),"{AccountId}",!1),new Qt.aW({protocol:r,hostname:i,port:a,method:"DELETE",headers:{},path:s,body:void 0})})(t,n)}deserialize(t,n){return(async(t,n)=>{if(204!==t.statusCode&&t.statusCode>=300)return(async(e,t)=>{const n={...e,body:await On(e.body,t)},i=Un(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chime#BadRequestException":throw await rn(n,t);case"ForbiddenException":case"com.amazonaws.chime#ForbiddenException":throw await on(n,t);case"NotFoundException":case"com.amazonaws.chime#NotFoundException":throw await sn(n,t);case"ServiceFailureException":case"com.amazonaws.chime#ServiceFailureException":throw await dn(n,t);case"ServiceUnavailableException":case"com.amazonaws.chime#ServiceUnavailableException":throw await ln(n,t);case"ThrottledClientException":case"com.amazonaws.chime#ThrottledClientException":throw await un(n,t);case"UnauthorizedClientException":case"com.amazonaws.chime#UnauthorizedClientException":throw await hn(n,t);case"UnprocessableEntityException":case"com.amazonaws.chime#UnprocessableEntityException":throw await pn(n,t);default:const r=n.body;return tn({output:e,parsedBody:r,errorCode:i})}})(t,n);const i=(0,e.UI)({$metadata:Rn(t)});return await(0,e.Wg)(t.body,n),i})(t,n)}}class vi extends e.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,i.a3)(t,vi.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:a}=t,o={logger:a,clientName:"ChimeClient",commandName:"DeleteAppInstanceAdminCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:e=>e},{requestHandler:s}=t;return r.resolve((e=>s.handle(e.request,n||{})),o)}serialize(t,n){return(async(t,n)=>{const{hostname:i,protocol:r="https",port:a,path:o}=await n.endpoint();let s=`${o?.endsWith("/")?o.slice(0,-1):o||""}/app-instances/{AppInstanceArn}/admins/{AppInstanceAdminArn}`;s=(0,e.Is)(s,t,"AppInstanceAdminArn",(()=>t.AppInstanceAdminArn),"{AppInstanceAdminArn}",!1),s=(0,e.Is)(s,t,"AppInstanceArn",(()=>t.AppInstanceArn),"{AppInstanceArn}",!1);let{hostname:c}=await n.endpoint();if(!0!==n.disableHostPrefix&&(c="identity-"+c,!(0,Qt.Lb)(c)))throw new Error("ValidationError: prefixed hostname must be hostname compatible.");return new Qt.aW({protocol:r,hostname:c,port:a,method:"DELETE",headers:{},path:s,body:void 0})})(t,n)}deserialize(t,n){return(async(t,n)=>{if(204!==t.statusCode&&t.statusCode>=300)return(async(e,t)=>{const n={...e,body:await On(e.body,t)},i=Un(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chime#BadRequestException":throw await rn(n,t);case"ConflictException":case"com.amazonaws.chime#ConflictException":throw await an(n,t);case"ForbiddenException":case"com.amazonaws.chime#ForbiddenException":throw await on(n,t);case"ServiceFailureException":case"com.amazonaws.chime#ServiceFailureException":throw await dn(n,t);case"ServiceUnavailableException":case"com.amazonaws.chime#ServiceUnavailableException":throw await ln(n,t);case"ThrottledClientException":case"com.amazonaws.chime#ThrottledClientException":throw await un(n,t);case"UnauthorizedClientException":case"com.amazonaws.chime#UnauthorizedClientException":throw await hn(n,t);default:const r=n.body;return tn({output:e,parsedBody:r,errorCode:i})}})(t,n);const i=(0,e.UI)({$metadata:Rn(t)});return await(0,e.Wg)(t.body,n),i})(t,n)}}class bi extends e.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,i.a3)(t,bi.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:a}=t,o={logger:a,clientName:"ChimeClient",commandName:"DeleteAppInstanceCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:e=>e},{requestHandler:s}=t;return r.resolve((e=>s.handle(e.request,n||{})),o)}serialize(t,n){return(async(t,n)=>{const{hostname:i,protocol:r="https",port:a,path:o}=await n.endpoint();let s=`${o?.endsWith("/")?o.slice(0,-1):o||""}/app-instances/{AppInstanceArn}`;s=(0,e.Is)(s,t,"AppInstanceArn",(()=>t.AppInstanceArn),"{AppInstanceArn}",!1);let{hostname:c}=await n.endpoint();if(!0!==n.disableHostPrefix&&(c="identity-"+c,!(0,Qt.Lb)(c)))throw new Error("ValidationError: prefixed hostname must be hostname compatible.");return new Qt.aW({protocol:r,hostname:c,port:a,method:"DELETE",headers:{},path:s,body:void 0})})(t,n)}deserialize(t,n){return(async(t,n)=>{if(204!==t.statusCode&&t.statusCode>=300)return(async(e,t)=>{const n={...e,body:await On(e.body,t)},i=Un(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chime#BadRequestException":throw await rn(n,t);case"ForbiddenException":case"com.amazonaws.chime#ForbiddenException":throw await on(n,t);case"ServiceFailureException":case"com.amazonaws.chime#ServiceFailureException":throw await dn(n,t);case"ServiceUnavailableException":case"com.amazonaws.chime#ServiceUnavailableException":throw await ln(n,t);case"ThrottledClientException":case"com.amazonaws.chime#ThrottledClientException":throw await un(n,t);case"UnauthorizedClientException":case"com.amazonaws.chime#UnauthorizedClientException":throw await hn(n,t);default:const r=n.body;return tn({output:e,parsedBody:r,errorCode:i})}})(t,n);const i=(0,e.UI)({$metadata:Rn(t)});return await(0,e.Wg)(t.body,n),i})(t,n)}}class Si extends e.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,i.a3)(t,Si.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:a}=t,o={logger:a,clientName:"ChimeClient",commandName:"DeleteAppInstanceStreamingConfigurationsCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:e=>e},{requestHandler:s}=t;return r.resolve((e=>s.handle(e.request,n||{})),o)}serialize(t,n){return(async(t,n)=>{const{hostname:i,protocol:r="https",port:a,path:o}=await n.endpoint();let s=`${o?.endsWith("/")?o.slice(0,-1):o||""}/app-instances/{AppInstanceArn}/streaming-configurations`;return s=(0,e.Is)(s,t,"AppInstanceArn",(()=>t.AppInstanceArn),"{AppInstanceArn}",!1),new Qt.aW({protocol:r,hostname:i,port:a,method:"DELETE",headers:{},path:s,body:void 0})})(t,n)}deserialize(t,n){return(async(t,n)=>{if(204!==t.statusCode&&t.statusCode>=300)return(async(e,t)=>{const n={...e,body:await On(e.body,t)},i=Un(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chime#BadRequestException":throw await rn(n,t);case"ForbiddenException":case"com.amazonaws.chime#ForbiddenException":throw await on(n,t);case"NotFoundException":case"com.amazonaws.chime#NotFoundException":throw await sn(n,t);case"ServiceFailureException":case"com.amazonaws.chime#ServiceFailureException":throw await dn(n,t);case"ServiceUnavailableException":case"com.amazonaws.chime#ServiceUnavailableException":throw await ln(n,t);case"ThrottledClientException":case"com.amazonaws.chime#ThrottledClientException":throw await un(n,t);case"UnauthorizedClientException":case"com.amazonaws.chime#UnauthorizedClientException":throw await hn(n,t);default:const r=n.body;return tn({output:e,parsedBody:r,errorCode:i})}})(t,n);const i=(0,e.UI)({$metadata:Rn(t)});return await(0,e.Wg)(t.body,n),i})(t,n)}}class Ei extends e.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,i.a3)(t,Ei.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:a}=t,o={logger:a,clientName:"ChimeClient",commandName:"DeleteAppInstanceUserCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:e=>e},{requestHandler:s}=t;return r.resolve((e=>s.handle(e.request,n||{})),o)}serialize(t,n){return(async(t,n)=>{const{hostname:i,protocol:r="https",port:a,path:o}=await n.endpoint();let s=`${o?.endsWith("/")?o.slice(0,-1):o||""}/app-instance-users/{AppInstanceUserArn}`;s=(0,e.Is)(s,t,"AppInstanceUserArn",(()=>t.AppInstanceUserArn),"{AppInstanceUserArn}",!1);let{hostname:c}=await n.endpoint();if(!0!==n.disableHostPrefix&&(c="identity-"+c,!(0,Qt.Lb)(c)))throw new Error("ValidationError: prefixed hostname must be hostname compatible.");return new Qt.aW({protocol:r,hostname:c,port:a,method:"DELETE",headers:{},path:s,body:void 0})})(t,n)}deserialize(t,n){return(async(t,n)=>{if(204!==t.statusCode&&t.statusCode>=300)return(async(e,t)=>{const n={...e,body:await On(e.body,t)},i=Un(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chime#BadRequestException":throw await rn(n,t);case"ForbiddenException":case"com.amazonaws.chime#ForbiddenException":throw await on(n,t);case"ServiceFailureException":case"com.amazonaws.chime#ServiceFailureException":throw await dn(n,t);case"ServiceUnavailableException":case"com.amazonaws.chime#ServiceUnavailableException":throw await ln(n,t);case"ThrottledClientException":case"com.amazonaws.chime#ThrottledClientException":throw await un(n,t);case"UnauthorizedClientException":case"com.amazonaws.chime#UnauthorizedClientException":throw await hn(n,t);default:const r=n.body;return tn({output:e,parsedBody:r,errorCode:i})}})(t,n);const i=(0,e.UI)({$metadata:Rn(t)});return await(0,e.Wg)(t.body,n),i})(t,n)}}class Ci extends e.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,i.a3)(t,Ci.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:a}=t,o={logger:a,clientName:"ChimeClient",commandName:"DeleteAttendeeCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:e=>e},{requestHandler:s}=t;return r.resolve((e=>s.handle(e.request,n||{})),o)}serialize(t,n){return(async(t,n)=>{const{hostname:i,protocol:r="https",port:a,path:o}=await n.endpoint();let s=`${o?.endsWith("/")?o.slice(0,-1):o||""}/meetings/{MeetingId}/attendees/{AttendeeId}`;return s=(0,e.Is)(s,t,"MeetingId",(()=>t.MeetingId),"{MeetingId}",!1),s=(0,e.Is)(s,t,"AttendeeId",(()=>t.AttendeeId),"{AttendeeId}",!1),new Qt.aW({protocol:r,hostname:i,port:a,method:"DELETE",headers:{},path:s,body:void 0})})(t,n)}deserialize(t,n){return(async(t,n)=>{if(204!==t.statusCode&&t.statusCode>=300)return(async(e,t)=>{const n={...e,body:await On(e.body,t)},i=Un(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chime#BadRequestException":throw await rn(n,t);case"ForbiddenException":case"com.amazonaws.chime#ForbiddenException":throw await on(n,t);case"NotFoundException":case"com.amazonaws.chime#NotFoundException":throw await sn(n,t);case"ServiceFailureException":case"com.amazonaws.chime#ServiceFailureException":throw await dn(n,t);case"ServiceUnavailableException":case"com.amazonaws.chime#ServiceUnavailableException":throw await ln(n,t);case"ThrottledClientException":case"com.amazonaws.chime#ThrottledClientException":throw await un(n,t);case"UnauthorizedClientException":case"com.amazonaws.chime#UnauthorizedClientException":throw await hn(n,t);default:const r=n.body;return tn({output:e,parsedBody:r,errorCode:i})}})(t,n);const i=(0,e.UI)({$metadata:Rn(t)});return await(0,e.Wg)(t.body,n),i})(t,n)}}class xi extends e.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,i.a3)(t,xi.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:a}=t,o={logger:a,clientName:"ChimeClient",commandName:"DeleteChannelBanCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:e=>e},{requestHandler:s}=t;return r.resolve((e=>s.handle(e.request,n||{})),o)}serialize(t,n){return(async(t,n)=>{const{hostname:i,protocol:r="https",port:a,path:o}=await n.endpoint(),s=(0,e.UI)({},Fn,{"x-amz-chime-bearer":t.ChimeBearer});let c=`${o?.endsWith("/")?o.slice(0,-1):o||""}/channels/{ChannelArn}/bans/{MemberArn}`;c=(0,e.Is)(c,t,"ChannelArn",(()=>t.ChannelArn),"{ChannelArn}",!1),c=(0,e.Is)(c,t,"MemberArn",(()=>t.MemberArn),"{MemberArn}",!1);let{hostname:d}=await n.endpoint();if(!0!==n.disableHostPrefix&&(d="messaging-"+d,!(0,Qt.Lb)(d)))throw new Error("ValidationError: prefixed hostname must be hostname compatible.");return new Qt.aW({protocol:r,hostname:d,port:a,method:"DELETE",headers:s,path:c,body:void 0})})(t,n)}deserialize(t,n){return(async(t,n)=>{if(204!==t.statusCode&&t.statusCode>=300)return(async(e,t)=>{const n={...e,body:await On(e.body,t)},i=Un(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chime#BadRequestException":throw await rn(n,t);case"ForbiddenException":case"com.amazonaws.chime#ForbiddenException":throw await on(n,t);case"ServiceFailureException":case"com.amazonaws.chime#ServiceFailureException":throw await dn(n,t);case"ServiceUnavailableException":case"com.amazonaws.chime#ServiceUnavailableException":throw await ln(n,t);case"ThrottledClientException":case"com.amazonaws.chime#ThrottledClientException":throw await un(n,t);case"UnauthorizedClientException":case"com.amazonaws.chime#UnauthorizedClientException":throw await hn(n,t);default:const r=n.body;return tn({output:e,parsedBody:r,errorCode:i})}})(t,n);const i=(0,e.UI)({$metadata:Rn(t)});return await(0,e.Wg)(t.body,n),i})(t,n)}}class Ii extends e.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,i.a3)(t,Ii.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:a}=t,o={logger:a,clientName:"ChimeClient",commandName:"DeleteChannelCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:e=>e},{requestHandler:s}=t;return r.resolve((e=>s.handle(e.request,n||{})),o)}serialize(t,n){return(async(t,n)=>{const{hostname:i,protocol:r="https",port:a,path:o}=await n.endpoint(),s=(0,e.UI)({},Fn,{"x-amz-chime-bearer":t.ChimeBearer});let c=`${o?.endsWith("/")?o.slice(0,-1):o||""}/channels/{ChannelArn}`;c=(0,e.Is)(c,t,"ChannelArn",(()=>t.ChannelArn),"{ChannelArn}",!1);let{hostname:d}=await n.endpoint();if(!0!==n.disableHostPrefix&&(d="messaging-"+d,!(0,Qt.Lb)(d)))throw new Error("ValidationError: prefixed hostname must be hostname compatible.");return new Qt.aW({protocol:r,hostname:d,port:a,method:"DELETE",headers:s,path:c,body:void 0})})(t,n)}deserialize(t,n){return(async(t,n)=>{if(204!==t.statusCode&&t.statusCode>=300)return(async(e,t)=>{const n={...e,body:await On(e.body,t)},i=Un(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chime#BadRequestException":throw await rn(n,t);case"ForbiddenException":case"com.amazonaws.chime#ForbiddenException":throw await on(n,t);case"ServiceFailureException":case"com.amazonaws.chime#ServiceFailureException":throw await dn(n,t);case"ServiceUnavailableException":case"com.amazonaws.chime#ServiceUnavailableException":throw await ln(n,t);case"ThrottledClientException":case"com.amazonaws.chime#ThrottledClientException":throw await un(n,t);case"UnauthorizedClientException":case"com.amazonaws.chime#UnauthorizedClientException":throw await hn(n,t);default:const r=n.body;return tn({output:e,parsedBody:r,errorCode:i})}})(t,n);const i=(0,e.UI)({$metadata:Rn(t)});return await(0,e.Wg)(t.body,n),i})(t,n)}}class ki extends e.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,i.a3)(t,ki.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:a}=t,o={logger:a,clientName:"ChimeClient",commandName:"DeleteChannelMembershipCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:e=>e},{requestHandler:s}=t;return r.resolve((e=>s.handle(e.request,n||{})),o)}serialize(t,n){return(async(t,n)=>{const{hostname:i,protocol:r="https",port:a,path:o}=await n.endpoint(),s=(0,e.UI)({},Fn,{"x-amz-chime-bearer":t.ChimeBearer});let c=`${o?.endsWith("/")?o.slice(0,-1):o||""}/channels/{ChannelArn}/memberships/{MemberArn}`;c=(0,e.Is)(c,t,"ChannelArn",(()=>t.ChannelArn),"{ChannelArn}",!1),c=(0,e.Is)(c,t,"MemberArn",(()=>t.MemberArn),"{MemberArn}",!1);let{hostname:d}=await n.endpoint();if(!0!==n.disableHostPrefix&&(d="messaging-"+d,!(0,Qt.Lb)(d)))throw new Error("ValidationError: prefixed hostname must be hostname compatible.");return new Qt.aW({protocol:r,hostname:d,port:a,method:"DELETE",headers:s,path:c,body:void 0})})(t,n)}deserialize(t,n){return(async(t,n)=>{if(204!==t.statusCode&&t.statusCode>=300)return(async(e,t)=>{const n={...e,body:await On(e.body,t)},i=Un(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chime#BadRequestException":throw await rn(n,t);case"ConflictException":case"com.amazonaws.chime#ConflictException":throw await an(n,t);case"ForbiddenException":case"com.amazonaws.chime#ForbiddenException":throw await on(n,t);case"ServiceFailureException":case"com.amazonaws.chime#ServiceFailureException":throw await dn(n,t);case"ServiceUnavailableException":case"com.amazonaws.chime#ServiceUnavailableException":throw await ln(n,t);case"ThrottledClientException":case"com.amazonaws.chime#ThrottledClientException":throw await un(n,t);case"UnauthorizedClientException":case"com.amazonaws.chime#UnauthorizedClientException":throw await hn(n,t);default:const r=n.body;return tn({output:e,parsedBody:r,errorCode:i})}})(t,n);const i=(0,e.UI)({$metadata:Rn(t)});return await(0,e.Wg)(t.body,n),i})(t,n)}}class Pi extends e.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,i.a3)(t,Pi.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:a}=t,o={logger:a,clientName:"ChimeClient",commandName:"DeleteChannelMessageCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:e=>e},{requestHandler:s}=t;return r.resolve((e=>s.handle(e.request,n||{})),o)}serialize(t,n){return(async(t,n)=>{const{hostname:i,protocol:r="https",port:a,path:o}=await n.endpoint(),s=(0,e.UI)({},Fn,{"x-amz-chime-bearer":t.ChimeBearer});let c=`${o?.endsWith("/")?o.slice(0,-1):o||""}/channels/{ChannelArn}/messages/{MessageId}`;c=(0,e.Is)(c,t,"ChannelArn",(()=>t.ChannelArn),"{ChannelArn}",!1),c=(0,e.Is)(c,t,"MessageId",(()=>t.MessageId),"{MessageId}",!1);let{hostname:d}=await n.endpoint();if(!0!==n.disableHostPrefix&&(d="messaging-"+d,!(0,Qt.Lb)(d)))throw new Error("ValidationError: prefixed hostname must be hostname compatible.");return new Qt.aW({protocol:r,hostname:d,port:a,method:"DELETE",headers:s,path:c,body:void 0})})(t,n)}deserialize(t,n){return(async(t,n)=>{if(204!==t.statusCode&&t.statusCode>=300)return(async(e,t)=>{const n={...e,body:await On(e.body,t)},i=Un(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chime#BadRequestException":throw await rn(n,t);case"ForbiddenException":case"com.amazonaws.chime#ForbiddenException":throw await on(n,t);case"ServiceFailureException":case"com.amazonaws.chime#ServiceFailureException":throw await dn(n,t);case"ServiceUnavailableException":case"com.amazonaws.chime#ServiceUnavailableException":throw await ln(n,t);case"ThrottledClientException":case"com.amazonaws.chime#ThrottledClientException":throw await un(n,t);case"UnauthorizedClientException":case"com.amazonaws.chime#UnauthorizedClientException":throw await hn(n,t);default:const r=n.body;return tn({output:e,parsedBody:r,errorCode:i})}})(t,n);const i=(0,e.UI)({$metadata:Rn(t)});return await(0,e.Wg)(t.body,n),i})(t,n)}}class Ai extends e.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,i.a3)(t,Ai.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:a}=t,o={logger:a,clientName:"ChimeClient",commandName:"DeleteChannelModeratorCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:e=>e},{requestHandler:s}=t;return r.resolve((e=>s.handle(e.request,n||{})),o)}serialize(t,n){return(async(t,n)=>{const{hostname:i,protocol:r="https",port:a,path:o}=await n.endpoint(),s=(0,e.UI)({},Fn,{"x-amz-chime-bearer":t.ChimeBearer});let c=`${o?.endsWith("/")?o.slice(0,-1):o||""}/channels/{ChannelArn}/moderators/{ChannelModeratorArn}`;c=(0,e.Is)(c,t,"ChannelArn",(()=>t.ChannelArn),"{ChannelArn}",!1),c=(0,e.Is)(c,t,"ChannelModeratorArn",(()=>t.ChannelModeratorArn),"{ChannelModeratorArn}",!1);let{hostname:d}=await n.endpoint();if(!0!==n.disableHostPrefix&&(d="messaging-"+d,!(0,Qt.Lb)(d)))throw new Error("ValidationError: prefixed hostname must be hostname compatible.");return new Qt.aW({protocol:r,hostname:d,port:a,method:"DELETE",headers:s,path:c,body:void 0})})(t,n)}deserialize(t,n){return(async(t,n)=>{if(204!==t.statusCode&&t.statusCode>=300)return(async(e,t)=>{const n={...e,body:await On(e.body,t)},i=Un(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chime#BadRequestException":throw await rn(n,t);case"ForbiddenException":case"com.amazonaws.chime#ForbiddenException":throw await on(n,t);case"ServiceFailureException":case"com.amazonaws.chime#ServiceFailureException":throw await dn(n,t);case"ServiceUnavailableException":case"com.amazonaws.chime#ServiceUnavailableException":throw await ln(n,t);case"ThrottledClientException":case"com.amazonaws.chime#ThrottledClientException":throw await un(n,t);case"UnauthorizedClientException":case"com.amazonaws.chime#UnauthorizedClientException":throw await hn(n,t);default:const r=n.body;return tn({output:e,parsedBody:r,errorCode:i})}})(t,n);const i=(0,e.UI)({$metadata:Rn(t)});return await(0,e.Wg)(t.body,n),i})(t,n)}}class Ti extends e.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,i.a3)(t,Ti.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:a}=t,o={logger:a,clientName:"ChimeClient",commandName:"DeleteEventsConfigurationCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:e=>e},{requestHandler:s}=t;return r.resolve((e=>s.handle(e.request,n||{})),o)}serialize(t,n){return(async(t,n)=>{const{hostname:i,protocol:r="https",port:a,path:o}=await n.endpoint();let s=`${o?.endsWith("/")?o.slice(0,-1):o||""}/accounts/{AccountId}/bots/{BotId}/events-configuration`;return s=(0,e.Is)(s,t,"AccountId",(()=>t.AccountId),"{AccountId}",!1),s=(0,e.Is)(s,t,"BotId",(()=>t.BotId),"{BotId}",!1),new Qt.aW({protocol:r,hostname:i,port:a,method:"DELETE",headers:{},path:s,body:void 0})})(t,n)}deserialize(t,n){return(async(t,n)=>{if(204!==t.statusCode&&t.statusCode>=300)return(async(e,t)=>{const n={...e,body:await On(e.body,t)},i=Un(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chime#BadRequestException":throw await rn(n,t);case"ForbiddenException":case"com.amazonaws.chime#ForbiddenException":throw await on(n,t);case"ResourceLimitExceededException":case"com.amazonaws.chime#ResourceLimitExceededException":throw await cn(n,t);case"ServiceFailureException":case"com.amazonaws.chime#ServiceFailureException":throw await dn(n,t);case"ServiceUnavailableException":case"com.amazonaws.chime#ServiceUnavailableException":throw await ln(n,t);case"UnauthorizedClientException":case"com.amazonaws.chime#UnauthorizedClientException":throw await hn(n,t);default:const r=n.body;return tn({output:e,parsedBody:r,errorCode:i})}})(t,n);const i=(0,e.UI)({$metadata:Rn(t)});return await(0,e.Wg)(t.body,n),i})(t,n)}}class Mi extends e.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,i.a3)(t,Mi.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:a}=t,o={logger:a,clientName:"ChimeClient",commandName:"DeleteMediaCapturePipelineCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:e=>e},{requestHandler:s}=t;return r.resolve((e=>s.handle(e.request,n||{})),o)}serialize(t,n){return(async(t,n)=>{const{hostname:i,protocol:r="https",port:a,path:o}=await n.endpoint();let s=`${o?.endsWith("/")?o.slice(0,-1):o||""}/media-capture-pipelines/{MediaPipelineId}`;return s=(0,e.Is)(s,t,"MediaPipelineId",(()=>t.MediaPipelineId),"{MediaPipelineId}",!1),new Qt.aW({protocol:r,hostname:i,port:a,method:"DELETE",headers:{},path:s,body:void 0})})(t,n)}deserialize(t,n){return(async(t,n)=>{if(204!==t.statusCode&&t.statusCode>=300)return(async(e,t)=>{const n={...e,body:await On(e.body,t)},i=Un(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chime#BadRequestException":throw await rn(n,t);case"ForbiddenException":case"com.amazonaws.chime#ForbiddenException":throw await on(n,t);case"NotFoundException":case"com.amazonaws.chime#NotFoundException":throw await sn(n,t);case"ServiceFailureException":case"com.amazonaws.chime#ServiceFailureException":throw await dn(n,t);case"ServiceUnavailableException":case"com.amazonaws.chime#ServiceUnavailableException":throw await ln(n,t);case"ThrottledClientException":case"com.amazonaws.chime#ThrottledClientException":throw await un(n,t);case"UnauthorizedClientException":case"com.amazonaws.chime#UnauthorizedClientException":throw await hn(n,t);default:const r=n.body;return tn({output:e,parsedBody:r,errorCode:i})}})(t,n);const i=(0,e.UI)({$metadata:Rn(t)});return await(0,e.Wg)(t.body,n),i})(t,n)}}class Ri extends e.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,i.a3)(t,Ri.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:a}=t,o={logger:a,clientName:"ChimeClient",commandName:"DeleteMeetingCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:e=>e},{requestHandler:s}=t;return r.resolve((e=>s.handle(e.request,n||{})),o)}serialize(t,n){return(async(t,n)=>{const{hostname:i,protocol:r="https",port:a,path:o}=await n.endpoint();let s=`${o?.endsWith("/")?o.slice(0,-1):o||""}/meetings/{MeetingId}`;return s=(0,e.Is)(s,t,"MeetingId",(()=>t.MeetingId),"{MeetingId}",!1),new Qt.aW({protocol:r,hostname:i,port:a,method:"DELETE",headers:{},path:s,body:void 0})})(t,n)}deserialize(t,n){return(async(t,n)=>{if(204!==t.statusCode&&t.statusCode>=300)return(async(e,t)=>{const n={...e,body:await On(e.body,t)},i=Un(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chime#BadRequestException":throw await rn(n,t);case"ForbiddenException":case"com.amazonaws.chime#ForbiddenException":throw await on(n,t);case"NotFoundException":case"com.amazonaws.chime#NotFoundException":throw await sn(n,t);case"ServiceFailureException":case"com.amazonaws.chime#ServiceFailureException":throw await dn(n,t);case"ServiceUnavailableException":case"com.amazonaws.chime#ServiceUnavailableException":throw await ln(n,t);case"ThrottledClientException":case"com.amazonaws.chime#ThrottledClientException":throw await un(n,t);case"UnauthorizedClientException":case"com.amazonaws.chime#UnauthorizedClientException":throw await hn(n,t);default:const r=n.body;return tn({output:e,parsedBody:r,errorCode:i})}})(t,n);const i=(0,e.UI)({$metadata:Rn(t)});return await(0,e.Wg)(t.body,n),i})(t,n)}}class Fi extends e.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,i.a3)(t,Fi.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:a}=t,o={logger:a,clientName:"ChimeClient",commandName:"DeletePhoneNumberCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:e=>e},{requestHandler:s}=t;return r.resolve((e=>s.handle(e.request,n||{})),o)}serialize(t,n){return(async(t,n)=>{const{hostname:i,protocol:r="https",port:a,path:o}=await n.endpoint();let s=`${o?.endsWith("/")?o.slice(0,-1):o||""}/phone-numbers/{PhoneNumberId}`;return s=(0,e.Is)(s,t,"PhoneNumberId",(()=>t.PhoneNumberId),"{PhoneNumberId}",!1),new Qt.aW({protocol:r,hostname:i,port:a,method:"DELETE",headers:{},path:s,body:void 0})})(t,n)}deserialize(t,n){return(async(t,n)=>{if(204!==t.statusCode&&t.statusCode>=300)return(async(e,t)=>{const n={...e,body:await On(e.body,t)},i=Un(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chime#BadRequestException":throw await rn(n,t);case"ForbiddenException":case"com.amazonaws.chime#ForbiddenException":throw await on(n,t);case"NotFoundException":case"com.amazonaws.chime#NotFoundException":throw await sn(n,t);case"ServiceFailureException":case"com.amazonaws.chime#ServiceFailureException":throw await dn(n,t);case"ServiceUnavailableException":case"com.amazonaws.chime#ServiceUnavailableException":throw await ln(n,t);case"ThrottledClientException":case"com.amazonaws.chime#ThrottledClientException":throw await un(n,t);case"UnauthorizedClientException":case"com.amazonaws.chime#UnauthorizedClientException":throw await hn(n,t);default:const r=n.body;return tn({output:e,parsedBody:r,errorCode:i})}})(t,n);const i=(0,e.UI)({$metadata:Rn(t)});return await(0,e.Wg)(t.body,n),i})(t,n)}}class _i extends e.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,i.a3)(t,_i.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:a}=t,o={logger:a,clientName:"ChimeClient",commandName:"DeleteProxySessionCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:e=>e},{requestHandler:s}=t;return r.resolve((e=>s.handle(e.request,n||{})),o)}serialize(t,n){return(async(t,n)=>{const{hostname:i,protocol:r="https",port:a,path:o}=await n.endpoint();let s=`${o?.endsWith("/")?o.slice(0,-1):o||""}/voice-connectors/{VoiceConnectorId}/proxy-sessions/{ProxySessionId}`;return s=(0,e.Is)(s,t,"VoiceConnectorId",(()=>t.VoiceConnectorId),"{VoiceConnectorId}",!1),s=(0,e.Is)(s,t,"ProxySessionId",(()=>t.ProxySessionId),"{ProxySessionId}",!1),new Qt.aW({protocol:r,hostname:i,port:a,method:"DELETE",headers:{},path:s,body:void 0})})(t,n)}deserialize(t,n){return(async(t,n)=>{if(204!==t.statusCode&&t.statusCode>=300)return(async(e,t)=>{const n={...e,body:await On(e.body,t)},i=Un(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chime#BadRequestException":throw await rn(n,t);case"ForbiddenException":case"com.amazonaws.chime#ForbiddenException":throw await on(n,t);case"NotFoundException":case"com.amazonaws.chime#NotFoundException":throw await sn(n,t);case"ServiceFailureException":case"com.amazonaws.chime#ServiceFailureException":throw await dn(n,t);case"ServiceUnavailableException":case"com.amazonaws.chime#ServiceUnavailableException":throw await ln(n,t);case"ThrottledClientException":case"com.amazonaws.chime#ThrottledClientException":throw await un(n,t);case"UnauthorizedClientException":case"com.amazonaws.chime#UnauthorizedClientException":throw await hn(n,t);default:const r=n.body;return tn({output:e,parsedBody:r,errorCode:i})}})(t,n);const i=(0,e.UI)({$metadata:Rn(t)});return await(0,e.Wg)(t.body,n),i})(t,n)}}class Oi extends e.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,i.a3)(t,Oi.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:a}=t,o={logger:a,clientName:"ChimeClient",commandName:"DeleteRoomCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:e=>e},{requestHandler:s}=t;return r.resolve((e=>s.handle(e.request,n||{})),o)}serialize(t,n){return(async(t,n)=>{const{hostname:i,protocol:r="https",port:a,path:o}=await n.endpoint();let s=`${o?.endsWith("/")?o.slice(0,-1):o||""}/accounts/{AccountId}/rooms/{RoomId}`;return s=(0,e.Is)(s,t,"AccountId",(()=>t.AccountId),"{AccountId}",!1),s=(0,e.Is)(s,t,"RoomId",(()=>t.RoomId),"{RoomId}",!1),new Qt.aW({protocol:r,hostname:i,port:a,method:"DELETE",headers:{},path:s,body:void 0})})(t,n)}deserialize(t,n){return(async(t,n)=>{if(204!==t.statusCode&&t.statusCode>=300)return(async(e,t)=>{const n={...e,body:await On(e.body,t)},i=Un(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chime#BadRequestException":throw await rn(n,t);case"ForbiddenException":case"com.amazonaws.chime#ForbiddenException":throw await on(n,t);case"NotFoundException":case"com.amazonaws.chime#NotFoundException":throw await sn(n,t);case"ServiceFailureException":case"com.amazonaws.chime#ServiceFailureException":throw await dn(n,t);case"ServiceUnavailableException":case"com.amazonaws.chime#ServiceUnavailableException":throw await ln(n,t);case"ThrottledClientException":case"com.amazonaws.chime#ThrottledClientException":throw await un(n,t);case"UnauthorizedClientException":case"com.amazonaws.chime#UnauthorizedClientException":throw await hn(n,t);default:const r=n.body;return tn({output:e,parsedBody:r,errorCode:i})}})(t,n);const i=(0,e.UI)({$metadata:Rn(t)});return await(0,e.Wg)(t.body,n),i})(t,n)}}class Ui extends e.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,i.a3)(t,Ui.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:a}=t,o={logger:a,clientName:"ChimeClient",commandName:"DeleteRoomMembershipCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:e=>e},{requestHandler:s}=t;return r.resolve((e=>s.handle(e.request,n||{})),o)}serialize(t,n){return(async(t,n)=>{const{hostname:i,protocol:r="https",port:a,path:o}=await n.endpoint();let s=`${o?.endsWith("/")?o.slice(0,-1):o||""}/accounts/{AccountId}/rooms/{RoomId}/memberships/{MemberId}`;return s=(0,e.Is)(s,t,"AccountId",(()=>t.AccountId),"{AccountId}",!1),s=(0,e.Is)(s,t,"RoomId",(()=>t.RoomId),"{RoomId}",!1),s=(0,e.Is)(s,t,"MemberId",(()=>t.MemberId),"{MemberId}",!1),new Qt.aW({protocol:r,hostname:i,port:a,method:"DELETE",headers:{},path:s,body:void 0})})(t,n)}deserialize(t,n){return(async(t,n)=>{if(204!==t.statusCode&&t.statusCode>=300)return(async(e,t)=>{const n={...e,body:await On(e.body,t)},i=Un(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chime#BadRequestException":throw await rn(n,t);case"ForbiddenException":case"com.amazonaws.chime#ForbiddenException":throw await on(n,t);case"NotFoundException":case"com.amazonaws.chime#NotFoundException":throw await sn(n,t);case"ServiceFailureException":case"com.amazonaws.chime#ServiceFailureException":throw await dn(n,t);case"ServiceUnavailableException":case"com.amazonaws.chime#ServiceUnavailableException":throw await ln(n,t);case"ThrottledClientException":case"com.amazonaws.chime#ThrottledClientException":throw await un(n,t);case"UnauthorizedClientException":case"com.amazonaws.chime#UnauthorizedClientException":throw await hn(n,t);default:const r=n.body;return tn({output:e,parsedBody:r,errorCode:i})}})(t,n);const i=(0,e.UI)({$metadata:Rn(t)});return await(0,e.Wg)(t.body,n),i})(t,n)}}class Ni extends e.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,i.a3)(t,Ni.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:a}=t,o={logger:a,clientName:"ChimeClient",commandName:"DeleteSipMediaApplicationCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:e=>e},{requestHandler:s}=t;return r.resolve((e=>s.handle(e.request,n||{})),o)}serialize(t,n){return(async(t,n)=>{const{hostname:i,protocol:r="https",port:a,path:o}=await n.endpoint();let s=`${o?.endsWith("/")?o.slice(0,-1):o||""}/sip-media-applications/{SipMediaApplicationId}`;return s=(0,e.Is)(s,t,"SipMediaApplicationId",(()=>t.SipMediaApplicationId),"{SipMediaApplicationId}",!1),new Qt.aW({protocol:r,hostname:i,port:a,method:"DELETE",headers:{},path:s,body:void 0})})(t,n)}deserialize(t,n){return(async(t,n)=>{if(204!==t.statusCode&&t.statusCode>=300)return(async(e,t)=>{const n={...e,body:await On(e.body,t)},i=Un(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chime#BadRequestException":throw await rn(n,t);case"ConflictException":case"com.amazonaws.chime#ConflictException":throw await an(n,t);case"ForbiddenException":case"com.amazonaws.chime#ForbiddenException":throw await on(n,t);case"NotFoundException":case"com.amazonaws.chime#NotFoundException":throw await sn(n,t);case"ServiceFailureException":case"com.amazonaws.chime#ServiceFailureException":throw await dn(n,t);case"ServiceUnavailableException":case"com.amazonaws.chime#ServiceUnavailableException":throw await ln(n,t);case"ThrottledClientException":case"com.amazonaws.chime#ThrottledClientException":throw await un(n,t);case"UnauthorizedClientException":case"com.amazonaws.chime#UnauthorizedClientException":throw await hn(n,t);default:const r=n.body;return tn({output:e,parsedBody:r,errorCode:i})}})(t,n);const i=(0,e.UI)({$metadata:Rn(t)});return await(0,e.Wg)(t.body,n),i})(t,n)}}class zi extends e.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,i.a3)(t,zi.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:a}=t,o={logger:a,clientName:"ChimeClient",commandName:"DeleteSipRuleCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:e=>e},{requestHandler:s}=t;return r.resolve((e=>s.handle(e.request,n||{})),o)}serialize(t,n){return(async(t,n)=>{const{hostname:i,protocol:r="https",port:a,path:o}=await n.endpoint();let s=`${o?.endsWith("/")?o.slice(0,-1):o||""}/sip-rules/{SipRuleId}`;return s=(0,e.Is)(s,t,"SipRuleId",(()=>t.SipRuleId),"{SipRuleId}",!1),new Qt.aW({protocol:r,hostname:i,port:a,method:"DELETE",headers:{},path:s,body:void 0})})(t,n)}deserialize(t,n){return(async(t,n)=>{if(204!==t.statusCode&&t.statusCode>=300)return(async(e,t)=>{const n={...e,body:await On(e.body,t)},i=Un(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chime#BadRequestException":throw await rn(n,t);case"ConflictException":case"com.amazonaws.chime#ConflictException":throw await an(n,t);case"ForbiddenException":case"com.amazonaws.chime#ForbiddenException":throw await on(n,t);case"NotFoundException":case"com.amazonaws.chime#NotFoundException":throw await sn(n,t);case"ServiceFailureException":case"com.amazonaws.chime#ServiceFailureException":throw await dn(n,t);case"ServiceUnavailableException":case"com.amazonaws.chime#ServiceUnavailableException":throw await ln(n,t);case"ThrottledClientException":case"com.amazonaws.chime#ThrottledClientException":throw await un(n,t);case"UnauthorizedClientException":case"com.amazonaws.chime#UnauthorizedClientException":throw await hn(n,t);default:const r=n.body;return tn({output:e,parsedBody:r,errorCode:i})}})(t,n);const i=(0,e.UI)({$metadata:Rn(t)});return await(0,e.Wg)(t.body,n),i})(t,n)}}class Di extends e.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,i.a3)(t,Di.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:a}=t,o={logger:a,clientName:"ChimeClient",commandName:"DeleteVoiceConnectorCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:e=>e},{requestHandler:s}=t;return r.resolve((e=>s.handle(e.request,n||{})),o)}serialize(t,n){return(async(t,n)=>{const{hostname:i,protocol:r="https",port:a,path:o}=await n.endpoint();let s=`${o?.endsWith("/")?o.slice(0,-1):o||""}/voice-connectors/{VoiceConnectorId}`;return s=(0,e.Is)(s,t,"VoiceConnectorId",(()=>t.VoiceConnectorId),"{VoiceConnectorId}",!1),new Qt.aW({protocol:r,hostname:i,port:a,method:"DELETE",headers:{},path:s,body:void 0})})(t,n)}deserialize(t,n){return(async(t,n)=>{if(204!==t.statusCode&&t.statusCode>=300)return(async(e,t)=>{const n={...e,body:await On(e.body,t)},i=Un(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chime#BadRequestException":throw await rn(n,t);case"ConflictException":case"com.amazonaws.chime#ConflictException":throw await an(n,t);case"ForbiddenException":case"com.amazonaws.chime#ForbiddenException":throw await on(n,t);case"NotFoundException":case"com.amazonaws.chime#NotFoundException":throw await sn(n,t);case"ServiceFailureException":case"com.amazonaws.chime#ServiceFailureException":throw await dn(n,t);case"ServiceUnavailableException":case"com.amazonaws.chime#ServiceUnavailableException":throw await ln(n,t);case"ThrottledClientException":case"com.amazonaws.chime#ThrottledClientException":throw await un(n,t);case"UnauthorizedClientException":case"com.amazonaws.chime#UnauthorizedClientException":throw await hn(n,t);default:const r=n.body;return tn({output:e,parsedBody:r,errorCode:i})}})(t,n);const i=(0,e.UI)({$metadata:Rn(t)});return await(0,e.Wg)(t.body,n),i})(t,n)}}class Li extends e.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,i.a3)(t,Li.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:a}=t,o={logger:a,clientName:"ChimeClient",commandName:"DeleteVoiceConnectorEmergencyCallingConfigurationCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:e=>e},{requestHandler:s}=t;return r.resolve((e=>s.handle(e.request,n||{})),o)}serialize(t,n){return(async(t,n)=>{const{hostname:i,protocol:r="https",port:a,path:o}=await n.endpoint();let s=`${o?.endsWith("/")?o.slice(0,-1):o||""}/voice-connectors/{VoiceConnectorId}/emergency-calling-configuration`;return s=(0,e.Is)(s,t,"VoiceConnectorId",(()=>t.VoiceConnectorId),"{VoiceConnectorId}",!1),new Qt.aW({protocol:r,hostname:i,port:a,method:"DELETE",headers:{},path:s,body:void 0})})(t,n)}deserialize(t,n){return(async(t,n)=>{if(204!==t.statusCode&&t.statusCode>=300)return(async(e,t)=>{const n={...e,body:await On(e.body,t)},i=Un(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chime#BadRequestException":throw await rn(n,t);case"ForbiddenException":case"com.amazonaws.chime#ForbiddenException":throw await on(n,t);case"NotFoundException":case"com.amazonaws.chime#NotFoundException":throw await sn(n,t);case"ServiceFailureException":case"com.amazonaws.chime#ServiceFailureException":throw await dn(n,t);case"ServiceUnavailableException":case"com.amazonaws.chime#ServiceUnavailableException":throw await ln(n,t);case"ThrottledClientException":case"com.amazonaws.chime#ThrottledClientException":throw await un(n,t);case"UnauthorizedClientException":case"com.amazonaws.chime#UnauthorizedClientException":throw await hn(n,t);default:const r=n.body;return tn({output:e,parsedBody:r,errorCode:i})}})(t,n);const i=(0,e.UI)({$metadata:Rn(t)});return await(0,e.Wg)(t.body,n),i})(t,n)}}class Bi extends e.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,i.a3)(t,Bi.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:a}=t,o={logger:a,clientName:"ChimeClient",commandName:"DeleteVoiceConnectorGroupCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:e=>e},{requestHandler:s}=t;return r.resolve((e=>s.handle(e.request,n||{})),o)}serialize(t,n){return(async(t,n)=>{const{hostname:i,protocol:r="https",port:a,path:o}=await n.endpoint();let s=`${o?.endsWith("/")?o.slice(0,-1):o||""}/voice-connector-groups/{VoiceConnectorGroupId}`;return s=(0,e.Is)(s,t,"VoiceConnectorGroupId",(()=>t.VoiceConnectorGroupId),"{VoiceConnectorGroupId}",!1),new Qt.aW({protocol:r,hostname:i,port:a,method:"DELETE",headers:{},path:s,body:void 0})})(t,n)}deserialize(t,n){return(async(t,n)=>{if(204!==t.statusCode&&t.statusCode>=300)return(async(e,t)=>{const n={...e,body:await On(e.body,t)},i=Un(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chime#BadRequestException":throw await rn(n,t);case"ConflictException":case"com.amazonaws.chime#ConflictException":throw await an(n,t);case"ForbiddenException":case"com.amazonaws.chime#ForbiddenException":throw await on(n,t);case"NotFoundException":case"com.amazonaws.chime#NotFoundException":throw await sn(n,t);case"ServiceFailureException":case"com.amazonaws.chime#ServiceFailureException":throw await dn(n,t);case"ServiceUnavailableException":case"com.amazonaws.chime#ServiceUnavailableException":throw await ln(n,t);case"ThrottledClientException":case"com.amazonaws.chime#ThrottledClientException":throw await un(n,t);case"UnauthorizedClientException":case"com.amazonaws.chime#UnauthorizedClientException":throw await hn(n,t);default:const r=n.body;return tn({output:e,parsedBody:r,errorCode:i})}})(t,n);const i=(0,e.UI)({$metadata:Rn(t)});return await(0,e.Wg)(t.body,n),i})(t,n)}}class qi extends e.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,i.a3)(t,qi.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:a}=t,o={logger:a,clientName:"ChimeClient",commandName:"DeleteVoiceConnectorOriginationCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:e=>e},{requestHandler:s}=t;return r.resolve((e=>s.handle(e.request,n||{})),o)}serialize(t,n){return(async(t,n)=>{const{hostname:i,protocol:r="https",port:a,path:o}=await n.endpoint();let s=`${o?.endsWith("/")?o.slice(0,-1):o||""}/voice-connectors/{VoiceConnectorId}/origination`;return s=(0,e.Is)(s,t,"VoiceConnectorId",(()=>t.VoiceConnectorId),"{VoiceConnectorId}",!1),new Qt.aW({protocol:r,hostname:i,port:a,method:"DELETE",headers:{},path:s,body:void 0})})(t,n)}deserialize(t,n){return(async(t,n)=>{if(204!==t.statusCode&&t.statusCode>=300)return(async(e,t)=>{const n={...e,body:await On(e.body,t)},i=Un(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chime#BadRequestException":throw await rn(n,t);case"ForbiddenException":case"com.amazonaws.chime#ForbiddenException":throw await on(n,t);case"NotFoundException":case"com.amazonaws.chime#NotFoundException":throw await sn(n,t);case"ServiceFailureException":case"com.amazonaws.chime#ServiceFailureException":throw await dn(n,t);case"ServiceUnavailableException":case"com.amazonaws.chime#ServiceUnavailableException":throw await ln(n,t);case"ThrottledClientException":case"com.amazonaws.chime#ThrottledClientException":throw await un(n,t);case"UnauthorizedClientException":case"com.amazonaws.chime#UnauthorizedClientException":throw await hn(n,t);default:const r=n.body;return tn({output:e,parsedBody:r,errorCode:i})}})(t,n);const i=(0,e.UI)({$metadata:Rn(t)});return await(0,e.Wg)(t.body,n),i})(t,n)}}class Vi extends e.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,i.a3)(t,Vi.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:a}=t,o={logger:a,clientName:"ChimeClient",commandName:"DeleteVoiceConnectorProxyCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:e=>e},{requestHandler:s}=t;return r.resolve((e=>s.handle(e.request,n||{})),o)}serialize(t,n){return(async(t,n)=>{const{hostname:i,protocol:r="https",port:a,path:o}=await n.endpoint();let s=`${o?.endsWith("/")?o.slice(0,-1):o||""}/voice-connectors/{VoiceConnectorId}/programmable-numbers/proxy`;return s=(0,e.Is)(s,t,"VoiceConnectorId",(()=>t.VoiceConnectorId),"{VoiceConnectorId}",!1),new Qt.aW({protocol:r,hostname:i,port:a,method:"DELETE",headers:{},path:s,body:void 0})})(t,n)}deserialize(t,n){return(async(t,n)=>{if(204!==t.statusCode&&t.statusCode>=300)return(async(e,t)=>{const n={...e,body:await On(e.body,t)},i=Un(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chime#BadRequestException":throw await rn(n,t);case"ForbiddenException":case"com.amazonaws.chime#ForbiddenException":throw await on(n,t);case"NotFoundException":case"com.amazonaws.chime#NotFoundException":throw await sn(n,t);case"ServiceFailureException":case"com.amazonaws.chime#ServiceFailureException":throw await dn(n,t);case"ServiceUnavailableException":case"com.amazonaws.chime#ServiceUnavailableException":throw await ln(n,t);case"ThrottledClientException":case"com.amazonaws.chime#ThrottledClientException":throw await un(n,t);case"UnauthorizedClientException":case"com.amazonaws.chime#UnauthorizedClientException":throw await hn(n,t);default:const r=n.body;return tn({output:e,parsedBody:r,errorCode:i})}})(t,n);const i=(0,e.UI)({$metadata:Rn(t)});return await(0,e.Wg)(t.body,n),i})(t,n)}}class ji extends e.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,i.a3)(t,ji.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:a}=t,o={logger:a,clientName:"ChimeClient",commandName:"DeleteVoiceConnectorStreamingConfigurationCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:e=>e},{requestHandler:s}=t;return r.resolve((e=>s.handle(e.request,n||{})),o)}serialize(t,n){return(async(t,n)=>{const{hostname:i,protocol:r="https",port:a,path:o}=await n.endpoint();let s=`${o?.endsWith("/")?o.slice(0,-1):o||""}/voice-connectors/{VoiceConnectorId}/streaming-configuration`;return s=(0,e.Is)(s,t,"VoiceConnectorId",(()=>t.VoiceConnectorId),"{VoiceConnectorId}",!1),new Qt.aW({protocol:r,hostname:i,port:a,method:"DELETE",headers:{},path:s,body:void 0})})(t,n)}deserialize(t,n){return(async(t,n)=>{if(204!==t.statusCode&&t.statusCode>=300)return(async(e,t)=>{const n={...e,body:await On(e.body,t)},i=Un(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chime#BadRequestException":throw await rn(n,t);case"ForbiddenException":case"com.amazonaws.chime#ForbiddenException":throw await on(n,t);case"NotFoundException":case"com.amazonaws.chime#NotFoundException":throw await sn(n,t);case"ServiceFailureException":case"com.amazonaws.chime#ServiceFailureException":throw await dn(n,t);case"ServiceUnavailableException":case"com.amazonaws.chime#ServiceUnavailableException":throw await ln(n,t);case"ThrottledClientException":case"com.amazonaws.chime#ThrottledClientException":throw await un(n,t);case"UnauthorizedClientException":case"com.amazonaws.chime#UnauthorizedClientException":throw await hn(n,t);default:const r=n.body;return tn({output:e,parsedBody:r,errorCode:i})}})(t,n);const i=(0,e.UI)({$metadata:Rn(t)});return await(0,e.Wg)(t.body,n),i})(t,n)}}class Wi extends e.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,i.a3)(t,Wi.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:a}=t,o={logger:a,clientName:"ChimeClient",commandName:"DeleteVoiceConnectorTerminationCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:e=>e},{requestHandler:s}=t;return r.resolve((e=>s.handle(e.request,n||{})),o)}serialize(t,n){return(async(t,n)=>{const{hostname:i,protocol:r="https",port:a,path:o}=await n.endpoint();let s=`${o?.endsWith("/")?o.slice(0,-1):o||""}/voice-connectors/{VoiceConnectorId}/termination`;return s=(0,e.Is)(s,t,"VoiceConnectorId",(()=>t.VoiceConnectorId),"{VoiceConnectorId}",!1),new Qt.aW({protocol:r,hostname:i,port:a,method:"DELETE",headers:{},path:s,body:void 0})})(t,n)}deserialize(t,n){return(async(t,n)=>{if(204!==t.statusCode&&t.statusCode>=300)return(async(e,t)=>{const n={...e,body:await On(e.body,t)},i=Un(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chime#BadRequestException":throw await rn(n,t);case"ForbiddenException":case"com.amazonaws.chime#ForbiddenException":throw await on(n,t);case"NotFoundException":case"com.amazonaws.chime#NotFoundException":throw await sn(n,t);case"ServiceFailureException":case"com.amazonaws.chime#ServiceFailureException":throw await dn(n,t);case"ServiceUnavailableException":case"com.amazonaws.chime#ServiceUnavailableException":throw await ln(n,t);case"ThrottledClientException":case"com.amazonaws.chime#ThrottledClientException":throw await un(n,t);case"UnauthorizedClientException":case"com.amazonaws.chime#UnauthorizedClientException":throw await hn(n,t);default:const r=n.body;return tn({output:e,parsedBody:r,errorCode:i})}})(t,n);const i=(0,e.UI)({$metadata:Rn(t)});return await(0,e.Wg)(t.body,n),i})(t,n)}}class $i extends e.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,i.a3)(t,$i.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:a}=t,o={logger:a,clientName:"ChimeClient",commandName:"DeleteVoiceConnectorTerminationCredentialsCommand",inputFilterSensitiveLog:Pt,outputFilterSensitiveLog:e=>e},{requestHandler:s}=t;return r.resolve((e=>s.handle(e.request,n||{})),o)}serialize(t,n){return(async(t,n)=>{const{hostname:i,protocol:r="https",port:a,path:o}=await n.endpoint();let s=`${o?.endsWith("/")?o.slice(0,-1):o||""}/voice-connectors/{VoiceConnectorId}/termination/credentials`;s=(0,e.Is)(s,t,"VoiceConnectorId",(()=>t.VoiceConnectorId),"{VoiceConnectorId}",!1);const c=(0,e.UI)({operation:[,"delete"]});let d;return d=JSON.stringify((0,e.qn)(t,{Usernames:t=>(0,e.F3)(t)})),new Qt.aW({protocol:r,hostname:i,port:a,method:"POST",headers:{"content-type":"application/json"},path:s,query:c,body:d})})(t,n)}deserialize(t,n){return(async(t,n)=>{if(204!==t.statusCode&&t.statusCode>=300)return(async(e,t)=>{const n={...e,body:await On(e.body,t)},i=Un(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chime#BadRequestException":throw await rn(n,t);case"ForbiddenException":case"com.amazonaws.chime#ForbiddenException":throw await on(n,t);case"NotFoundException":case"com.amazonaws.chime#NotFoundException":throw await sn(n,t);case"ServiceFailureException":case"com.amazonaws.chime#ServiceFailureException":throw await dn(n,t);case"ServiceUnavailableException":case"com.amazonaws.chime#ServiceUnavailableException":throw await ln(n,t);case"ThrottledClientException":case"com.amazonaws.chime#ThrottledClientException":throw await un(n,t);case"UnauthorizedClientException":case"com.amazonaws.chime#UnauthorizedClientException":throw await hn(n,t);default:const r=n.body;return tn({output:e,parsedBody:r,errorCode:i})}})(t,n);const i=(0,e.UI)({$metadata:Rn(t)});return await(0,e.Wg)(t.body,n),i})(t,n)}}class Hi extends e.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,i.a3)(t,Hi.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:a}=t,o={logger:a,clientName:"ChimeClient",commandName:"DescribeAppInstanceAdminCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:Tt},{requestHandler:s}=t;return r.resolve((e=>s.handle(e.request,n||{})),o)}serialize(t,n){return(async(t,n)=>{const{hostname:i,protocol:r="https",port:a,path:o}=await n.endpoint();let s=`${o?.endsWith("/")?o.slice(0,-1):o||""}/app-instances/{AppInstanceArn}/admins/{AppInstanceAdminArn}`;s=(0,e.Is)(s,t,"AppInstanceAdminArn",(()=>t.AppInstanceAdminArn),"{AppInstanceAdminArn}",!1),s=(0,e.Is)(s,t,"AppInstanceArn",(()=>t.AppInstanceArn),"{AppInstanceArn}",!1);let{hostname:c}=await n.endpoint();if(!0!==n.disableHostPrefix&&(c="identity-"+c,!(0,Qt.Lb)(c)))throw new Error("ValidationError: prefixed hostname must be hostname compatible.");return new Qt.aW({protocol:r,hostname:c,port:a,method:"GET",headers:{},path:s,body:void 0})})(t,n)}deserialize(t,n){return(async(t,n)=>{if(200!==t.statusCode&&t.statusCode>=300)return(async(e,t)=>{const n={...e,body:await On(e.body,t)},i=Un(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chime#BadRequestException":throw await rn(n,t);case"ForbiddenException":case"com.amazonaws.chime#ForbiddenException":throw await on(n,t);case"ServiceFailureException":case"com.amazonaws.chime#ServiceFailureException":throw await dn(n,t);case"ServiceUnavailableException":case"com.amazonaws.chime#ServiceUnavailableException":throw await ln(n,t);case"ThrottledClientException":case"com.amazonaws.chime#ThrottledClientException":throw await un(n,t);case"UnauthorizedClientException":case"com.amazonaws.chime#UnauthorizedClientException":throw await hn(n,t);default:const r=n.body;return tn({output:e,parsedBody:r,errorCode:i})}})(t,n);const i=(0,e.UI)({$metadata:Rn(t)}),r=(0,e.CE)((0,e.Wh)(await _n(t.body,n)),"body"),a=(0,e.qn)(r,{AppInstanceAdmin:t=>((t,n)=>(0,e.qn)(t,{Admin:e.F3,AppInstanceArn:e.pY,CreatedTimestamp:t=>(0,e.CE)((0,e.KX)((0,e.Fx)(t)))}))(t)});return Object.assign(i,a),i})(t,n)}}class Gi extends e.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,i.a3)(t,Gi.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:a}=t,o={logger:a,clientName:"ChimeClient",commandName:"DescribeAppInstanceCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:At},{requestHandler:s}=t;return r.resolve((e=>s.handle(e.request,n||{})),o)}serialize(t,n){return(async(t,n)=>{const{hostname:i,protocol:r="https",port:a,path:o}=await n.endpoint();let s=`${o?.endsWith("/")?o.slice(0,-1):o||""}/app-instances/{AppInstanceArn}`;s=(0,e.Is)(s,t,"AppInstanceArn",(()=>t.AppInstanceArn),"{AppInstanceArn}",!1);let{hostname:c}=await n.endpoint();if(!0!==n.disableHostPrefix&&(c="identity-"+c,!(0,Qt.Lb)(c)))throw new Error("ValidationError: prefixed hostname must be hostname compatible.");return new Qt.aW({protocol:r,hostname:c,port:a,method:"GET",headers:{},path:s,body:void 0})})(t,n)}deserialize(t,n){return(async(t,n)=>{if(200!==t.statusCode&&t.statusCode>=300)return(async(e,t)=>{const n={...e,body:await On(e.body,t)},i=Un(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chime#BadRequestException":throw await rn(n,t);case"ForbiddenException":case"com.amazonaws.chime#ForbiddenException":throw await on(n,t);case"ServiceFailureException":case"com.amazonaws.chime#ServiceFailureException":throw await dn(n,t);case"ServiceUnavailableException":case"com.amazonaws.chime#ServiceUnavailableException":throw await ln(n,t);case"ThrottledClientException":case"com.amazonaws.chime#ThrottledClientException":throw await un(n,t);case"UnauthorizedClientException":case"com.amazonaws.chime#UnauthorizedClientException":throw await hn(n,t);default:const r=n.body;return tn({output:e,parsedBody:r,errorCode:i})}})(t,n);const i=(0,e.UI)({$metadata:Rn(t)}),r=(0,e.CE)((0,e.Wh)(await _n(t.body,n)),"body"),a=(0,e.qn)(r,{AppInstance:t=>((t,n)=>(0,e.qn)(t,{AppInstanceArn:e.pY,CreatedTimestamp:t=>(0,e.CE)((0,e.KX)((0,e.Fx)(t))),LastUpdatedTimestamp:t=>(0,e.CE)((0,e.KX)((0,e.Fx)(t))),Metadata:e.pY,Name:e.pY}))(t)});return Object.assign(i,a),i})(t,n)}}class Ki extends e.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,i.a3)(t,Ki.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:a}=t,o={logger:a,clientName:"ChimeClient",commandName:"DescribeAppInstanceUserCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:Mt},{requestHandler:s}=t;return r.resolve((e=>s.handle(e.request,n||{})),o)}serialize(t,n){return(async(t,n)=>{const{hostname:i,protocol:r="https",port:a,path:o}=await n.endpoint();let s=`${o?.endsWith("/")?o.slice(0,-1):o||""}/app-instance-users/{AppInstanceUserArn}`;s=(0,e.Is)(s,t,"AppInstanceUserArn",(()=>t.AppInstanceUserArn),"{AppInstanceUserArn}",!1);let{hostname:c}=await n.endpoint();if(!0!==n.disableHostPrefix&&(c="identity-"+c,!(0,Qt.Lb)(c)))throw new Error("ValidationError: prefixed hostname must be hostname compatible.");return new Qt.aW({protocol:r,hostname:c,port:a,method:"GET",headers:{},path:s,body:void 0})})(t,n)}deserialize(t,n){return(async(t,n)=>{if(200!==t.statusCode&&t.statusCode>=300)return(async(e,t)=>{const n={...e,body:await On(e.body,t)},i=Un(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chime#BadRequestException":throw await rn(n,t);case"ForbiddenException":case"com.amazonaws.chime#ForbiddenException":throw await on(n,t);case"ServiceFailureException":case"com.amazonaws.chime#ServiceFailureException":throw await dn(n,t);case"ServiceUnavailableException":case"com.amazonaws.chime#ServiceUnavailableException":throw await ln(n,t);case"ThrottledClientException":case"com.amazonaws.chime#ThrottledClientException":throw await un(n,t);case"UnauthorizedClientException":case"com.amazonaws.chime#UnauthorizedClientException":throw await hn(n,t);default:const r=n.body;return tn({output:e,parsedBody:r,errorCode:i})}})(t,n);const i=(0,e.UI)({$metadata:Rn(t)}),r=(0,e.CE)((0,e.Wh)(await _n(t.body,n)),"body"),a=(0,e.qn)(r,{AppInstanceUser:t=>((t,n)=>(0,e.qn)(t,{AppInstanceUserArn:e.pY,CreatedTimestamp:t=>(0,e.CE)((0,e.KX)((0,e.Fx)(t))),LastUpdatedTimestamp:t=>(0,e.CE)((0,e.KX)((0,e.Fx)(t))),Metadata:e.pY,Name:e.pY}))(t)});return Object.assign(i,a),i})(t,n)}}class Yi extends e.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,i.a3)(t,Yi.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:a}=t,o={logger:a,clientName:"ChimeClient",commandName:"DescribeChannelBanCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:Ft},{requestHandler:s}=t;return r.resolve((e=>s.handle(e.request,n||{})),o)}serialize(t,n){return(async(t,n)=>{const{hostname:i,protocol:r="https",port:a,path:o}=await n.endpoint(),s=(0,e.UI)({},Fn,{"x-amz-chime-bearer":t.ChimeBearer});let c=`${o?.endsWith("/")?o.slice(0,-1):o||""}/channels/{ChannelArn}/bans/{MemberArn}`;c=(0,e.Is)(c,t,"ChannelArn",(()=>t.ChannelArn),"{ChannelArn}",!1),c=(0,e.Is)(c,t,"MemberArn",(()=>t.MemberArn),"{MemberArn}",!1);let{hostname:d}=await n.endpoint();if(!0!==n.disableHostPrefix&&(d="messaging-"+d,!(0,Qt.Lb)(d)))throw new Error("ValidationError: prefixed hostname must be hostname compatible.");return new Qt.aW({protocol:r,hostname:d,port:a,method:"GET",headers:s,path:c,body:void 0})})(t,n)}deserialize(t,n){return(async(t,n)=>{if(200!==t.statusCode&&t.statusCode>=300)return(async(e,t)=>{const n={...e,body:await On(e.body,t)},i=Un(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chime#BadRequestException":throw await rn(n,t);case"ForbiddenException":case"com.amazonaws.chime#ForbiddenException":throw await on(n,t);case"NotFoundException":case"com.amazonaws.chime#NotFoundException":throw await sn(n,t);case"ServiceFailureException":case"com.amazonaws.chime#ServiceFailureException":throw await dn(n,t);case"ServiceUnavailableException":case"com.amazonaws.chime#ServiceUnavailableException":throw await ln(n,t);case"ThrottledClientException":case"com.amazonaws.chime#ThrottledClientException":throw await un(n,t);case"UnauthorizedClientException":case"com.amazonaws.chime#UnauthorizedClientException":throw await hn(n,t);default:const r=n.body;return tn({output:e,parsedBody:r,errorCode:i})}})(t,n);const i=(0,e.UI)({$metadata:Rn(t)}),r=(0,e.CE)((0,e.Wh)(await _n(t.body,n)),"body"),a=(0,e.qn)(r,{ChannelBan:t=>((t,n)=>(0,e.qn)(t,{ChannelArn:e.pY,CreatedBy:e.F3,CreatedTimestamp:t=>(0,e.CE)((0,e.KX)((0,e.Fx)(t))),Member:e.F3}))(t)});return Object.assign(i,a),i})(t,n)}}class Ji extends e.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,i.a3)(t,Ji.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:a}=t,o={logger:a,clientName:"ChimeClient",commandName:"DescribeChannelCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:Rt},{requestHandler:s}=t;return r.resolve((e=>s.handle(e.request,n||{})),o)}serialize(t,n){return(async(t,n)=>{const{hostname:i,protocol:r="https",port:a,path:o}=await n.endpoint(),s=(0,e.UI)({},Fn,{"x-amz-chime-bearer":t.ChimeBearer});let c=`${o?.endsWith("/")?o.slice(0,-1):o||""}/channels/{ChannelArn}`;c=(0,e.Is)(c,t,"ChannelArn",(()=>t.ChannelArn),"{ChannelArn}",!1);let{hostname:d}=await n.endpoint();if(!0!==n.disableHostPrefix&&(d="messaging-"+d,!(0,Qt.Lb)(d)))throw new Error("ValidationError: prefixed hostname must be hostname compatible.");return new Qt.aW({protocol:r,hostname:d,port:a,method:"GET",headers:s,path:c,body:void 0})})(t,n)}deserialize(t,n){return(async(t,n)=>{if(200!==t.statusCode&&t.statusCode>=300)return(async(e,t)=>{const n={...e,body:await On(e.body,t)},i=Un(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chime#BadRequestException":throw await rn(n,t);case"ForbiddenException":case"com.amazonaws.chime#ForbiddenException":throw await on(n,t);case"ServiceFailureException":case"com.amazonaws.chime#ServiceFailureException":throw await dn(n,t);case"ServiceUnavailableException":case"com.amazonaws.chime#ServiceUnavailableException":throw await ln(n,t);case"ThrottledClientException":case"com.amazonaws.chime#ThrottledClientException":throw await un(n,t);case"UnauthorizedClientException":case"com.amazonaws.chime#UnauthorizedClientException":throw await hn(n,t);default:const r=n.body;return tn({output:e,parsedBody:r,errorCode:i})}})(t,n);const i=(0,e.UI)({$metadata:Rn(t)}),r=(0,e.CE)((0,e.Wh)(await _n(t.body,n)),"body"),a=(0,e.qn)(r,{Channel:t=>((t,n)=>(0,e.qn)(t,{ChannelArn:e.pY,CreatedBy:e.F3,CreatedTimestamp:t=>(0,e.CE)((0,e.KX)((0,e.Fx)(t))),LastMessageTimestamp:t=>(0,e.CE)((0,e.KX)((0,e.Fx)(t))),LastUpdatedTimestamp:t=>(0,e.CE)((0,e.KX)((0,e.Fx)(t))),Metadata:e.pY,Mode:e.pY,Name:e.pY,Privacy:e.pY}))(t)});return Object.assign(i,a),i})(t,n)}}class Xi extends e.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,i.a3)(t,Xi.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:a}=t,o={logger:a,clientName:"ChimeClient",commandName:"DescribeChannelMembershipCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:_t},{requestHandler:s}=t;return r.resolve((e=>s.handle(e.request,n||{})),o)}serialize(t,n){return(async(t,n)=>{const{hostname:i,protocol:r="https",port:a,path:o}=await n.endpoint(),s=(0,e.UI)({},Fn,{"x-amz-chime-bearer":t.ChimeBearer});let c=`${o?.endsWith("/")?o.slice(0,-1):o||""}/channels/{ChannelArn}/memberships/{MemberArn}`;c=(0,e.Is)(c,t,"ChannelArn",(()=>t.ChannelArn),"{ChannelArn}",!1),c=(0,e.Is)(c,t,"MemberArn",(()=>t.MemberArn),"{MemberArn}",!1);let{hostname:d}=await n.endpoint();if(!0!==n.disableHostPrefix&&(d="messaging-"+d,!(0,Qt.Lb)(d)))throw new Error("ValidationError: prefixed hostname must be hostname compatible.");return new Qt.aW({protocol:r,hostname:d,port:a,method:"GET",headers:s,path:c,body:void 0})})(t,n)}deserialize(t,n){return(async(t,n)=>{if(200!==t.statusCode&&t.statusCode>=300)return(async(e,t)=>{const n={...e,body:await On(e.body,t)},i=Un(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chime#BadRequestException":throw await rn(n,t);case"ForbiddenException":case"com.amazonaws.chime#ForbiddenException":throw await on(n,t);case"NotFoundException":case"com.amazonaws.chime#NotFoundException":throw await sn(n,t);case"ServiceFailureException":case"com.amazonaws.chime#ServiceFailureException":throw await dn(n,t);case"ServiceUnavailableException":case"com.amazonaws.chime#ServiceUnavailableException":throw await ln(n,t);case"ThrottledClientException":case"com.amazonaws.chime#ThrottledClientException":throw await un(n,t);case"UnauthorizedClientException":case"com.amazonaws.chime#UnauthorizedClientException":throw await hn(n,t);default:const r=n.body;return tn({output:e,parsedBody:r,errorCode:i})}})(t,n);const i=(0,e.UI)({$metadata:Rn(t)}),r=(0,e.CE)((0,e.Wh)(await _n(t.body,n)),"body"),a=(0,e.qn)(r,{ChannelMembership:t=>((t,n)=>(0,e.qn)(t,{ChannelArn:e.pY,CreatedTimestamp:t=>(0,e.CE)((0,e.KX)((0,e.Fx)(t))),InvitedBy:e.F3,LastUpdatedTimestamp:t=>(0,e.CE)((0,e.KX)((0,e.Fx)(t))),Member:e.F3,Type:e.pY}))(t)});return Object.assign(i,a),i})(t,n)}}class Zi extends e.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,i.a3)(t,Zi.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:a}=t,o={logger:a,clientName:"ChimeClient",commandName:"DescribeChannelMembershipForAppInstanceUserCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:Ot},{requestHandler:s}=t;return r.resolve((e=>s.handle(e.request,n||{})),o)}serialize(t,n){return(async(t,n)=>{const{hostname:i,protocol:r="https",port:a,path:o}=await n.endpoint(),s=(0,e.UI)({},Fn,{"x-amz-chime-bearer":t.ChimeBearer});let c=`${o?.endsWith("/")?o.slice(0,-1):o||""}/channels/{ChannelArn}`;c=(0,e.Is)(c,t,"ChannelArn",(()=>t.ChannelArn),"{ChannelArn}",!1);const d=(0,e.UI)({scope:[,"app-instance-user-membership"],"app-instance-user-arn":[,(0,e.CE)(t.AppInstanceUserArn,"AppInstanceUserArn")]});let{hostname:l}=await n.endpoint();if(!0!==n.disableHostPrefix&&(l="messaging-"+l,!(0,Qt.Lb)(l)))throw new Error("ValidationError: prefixed hostname must be hostname compatible.");return new Qt.aW({protocol:r,hostname:l,port:a,method:"GET",headers:s,path:c,query:d,body:void 0})})(t,n)}deserialize(t,n){return(async(t,n)=>{if(200!==t.statusCode&&t.statusCode>=300)return(async(e,t)=>{const n={...e,body:await On(e.body,t)},i=Un(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chime#BadRequestException":throw await rn(n,t);case"ForbiddenException":case"com.amazonaws.chime#ForbiddenException":throw await on(n,t);case"ServiceFailureException":case"com.amazonaws.chime#ServiceFailureException":throw await dn(n,t);case"ServiceUnavailableException":case"com.amazonaws.chime#ServiceUnavailableException":throw await ln(n,t);case"ThrottledClientException":case"com.amazonaws.chime#ThrottledClientException":throw await un(n,t);case"UnauthorizedClientException":case"com.amazonaws.chime#UnauthorizedClientException":throw await hn(n,t);default:const r=n.body;return tn({output:e,parsedBody:r,errorCode:i})}})(t,n);const i=(0,e.UI)({$metadata:Rn(t)}),r=(0,e.CE)((0,e.Wh)(await _n(t.body,n)),"body"),a=(0,e.qn)(r,{ChannelMembership:e=>gn(e,n)});return Object.assign(i,a),i})(t,n)}}class Qi extends e.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,i.a3)(t,Qi.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:a}=t,o={logger:a,clientName:"ChimeClient",commandName:"DescribeChannelModeratedByAppInstanceUserCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:Ut},{requestHandler:s}=t;return r.resolve((e=>s.handle(e.request,n||{})),o)}serialize(t,n){return(async(t,n)=>{const{hostname:i,protocol:r="https",port:a,path:o}=await n.endpoint(),s=(0,e.UI)({},Fn,{"x-amz-chime-bearer":t.ChimeBearer});let c=`${o?.endsWith("/")?o.slice(0,-1):o||""}/channels/{ChannelArn}`;c=(0,e.Is)(c,t,"ChannelArn",(()=>t.ChannelArn),"{ChannelArn}",!1);const d=(0,e.UI)({scope:[,"app-instance-user-moderated-channel"],"app-instance-user-arn":[,(0,e.CE)(t.AppInstanceUserArn,"AppInstanceUserArn")]});let{hostname:l}=await n.endpoint();if(!0!==n.disableHostPrefix&&(l="messaging-"+l,!(0,Qt.Lb)(l)))throw new Error("ValidationError: prefixed hostname must be hostname compatible.");return new Qt.aW({protocol:r,hostname:l,port:a,method:"GET",headers:s,path:c,query:d,body:void 0})})(t,n)}deserialize(t,n){return(async(t,n)=>{if(200!==t.statusCode&&t.statusCode>=300)return(async(e,t)=>{const n={...e,body:await On(e.body,t)},i=Un(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chime#BadRequestException":throw await rn(n,t);case"ForbiddenException":case"com.amazonaws.chime#ForbiddenException":throw await on(n,t);case"ServiceFailureException":case"com.amazonaws.chime#ServiceFailureException":throw await dn(n,t);case"ServiceUnavailableException":case"com.amazonaws.chime#ServiceUnavailableException":throw await ln(n,t);case"ThrottledClientException":case"com.amazonaws.chime#ThrottledClientException":throw await un(n,t);case"UnauthorizedClientException":case"com.amazonaws.chime#UnauthorizedClientException":throw await hn(n,t);default:const r=n.body;return tn({output:e,parsedBody:r,errorCode:i})}})(t,n);const i=(0,e.UI)({$metadata:Rn(t)}),r=(0,e.CE)((0,e.Wh)(await _n(t.body,n)),"body"),a=(0,e.qn)(r,{Channel:e=>wn(e,n)});return Object.assign(i,a),i})(t,n)}}class er extends e.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,i.a3)(t,er.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:a}=t,o={logger:a,clientName:"ChimeClient",commandName:"DescribeChannelModeratorCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:Nt},{requestHandler:s}=t;return r.resolve((e=>s.handle(e.request,n||{})),o)}serialize(t,n){return(async(t,n)=>{const{hostname:i,protocol:r="https",port:a,path:o}=await n.endpoint(),s=(0,e.UI)({},Fn,{"x-amz-chime-bearer":t.ChimeBearer});let c=`${o?.endsWith("/")?o.slice(0,-1):o||""}/channels/{ChannelArn}/moderators/{ChannelModeratorArn}`;c=(0,e.Is)(c,t,"ChannelArn",(()=>t.ChannelArn),"{ChannelArn}",!1),c=(0,e.Is)(c,t,"ChannelModeratorArn",(()=>t.ChannelModeratorArn),"{ChannelModeratorArn}",!1);let{hostname:d}=await n.endpoint();if(!0!==n.disableHostPrefix&&(d="messaging-"+d,!(0,Qt.Lb)(d)))throw new Error("ValidationError: prefixed hostname must be hostname compatible.");return new Qt.aW({protocol:r,hostname:d,port:a,method:"GET",headers:s,path:c,body:void 0})})(t,n)}deserialize(t,n){return(async(t,n)=>{if(200!==t.statusCode&&t.statusCode>=300)return(async(e,t)=>{const n={...e,body:await On(e.body,t)},i=Un(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chime#BadRequestException":throw await rn(n,t);case"ForbiddenException":case"com.amazonaws.chime#ForbiddenException":throw await on(n,t);case"NotFoundException":case"com.amazonaws.chime#NotFoundException":throw await sn(n,t);case"ServiceFailureException":case"com.amazonaws.chime#ServiceFailureException":throw await dn(n,t);case"ServiceUnavailableException":case"com.amazonaws.chime#ServiceUnavailableException":throw await ln(n,t);case"ThrottledClientException":case"com.amazonaws.chime#ThrottledClientException":throw await un(n,t);case"UnauthorizedClientException":case"com.amazonaws.chime#UnauthorizedClientException":throw await hn(n,t);default:const r=n.body;return tn({output:e,parsedBody:r,errorCode:i})}})(t,n);const i=(0,e.UI)({$metadata:Rn(t)}),r=(0,e.CE)((0,e.Wh)(await _n(t.body,n)),"body"),a=(0,e.qn)(r,{ChannelModerator:t=>((t,n)=>(0,e.qn)(t,{ChannelArn:e.pY,CreatedBy:e.F3,CreatedTimestamp:t=>(0,e.CE)((0,e.KX)((0,e.Fx)(t))),Moderator:e.F3}))(t)});return Object.assign(i,a),i})(t,n)}}class tr extends e.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,i.a3)(t,tr.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:a}=t,o={logger:a,clientName:"ChimeClient",commandName:"DisassociatePhoneNumberFromUserCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:e=>e},{requestHandler:s}=t;return r.resolve((e=>s.handle(e.request,n||{})),o)}serialize(t,n){return(async(t,n)=>{const{hostname:i,protocol:r="https",port:a,path:o}=await n.endpoint();let s=`${o?.endsWith("/")?o.slice(0,-1):o||""}/accounts/{AccountId}/users/{UserId}`;s=(0,e.Is)(s,t,"AccountId",(()=>t.AccountId),"{AccountId}",!1),s=(0,e.Is)(s,t,"UserId",(()=>t.UserId),"{UserId}",!1);const c=(0,e.UI)({operation:[,"disassociate-phone-number"]});return new Qt.aW({protocol:r,hostname:i,port:a,method:"POST",headers:{},path:s,query:c,body:void 0})})(t,n)}deserialize(t,n){return(async(t,n)=>{if(200!==t.statusCode&&t.statusCode>=300)return(async(e,t)=>{const n={...e,body:await On(e.body,t)},i=Un(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chime#BadRequestException":throw await rn(n,t);case"ForbiddenException":case"com.amazonaws.chime#ForbiddenException":throw await on(n,t);case"NotFoundException":case"com.amazonaws.chime#NotFoundException":throw await sn(n,t);case"ServiceFailureException":case"com.amazonaws.chime#ServiceFailureException":throw await dn(n,t);case"ServiceUnavailableException":case"com.amazonaws.chime#ServiceUnavailableException":throw await ln(n,t);case"ThrottledClientException":case"com.amazonaws.chime#ThrottledClientException":throw await un(n,t);case"UnauthorizedClientException":case"com.amazonaws.chime#UnauthorizedClientException":throw await hn(n,t);default:const r=n.body;return tn({output:e,parsedBody:r,errorCode:i})}})(t,n);const i=(0,e.UI)({$metadata:Rn(t)});return await(0,e.Wg)(t.body,n),i})(t,n)}}class nr extends e.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,i.a3)(t,nr.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:a}=t,o={logger:a,clientName:"ChimeClient",commandName:"DisassociatePhoneNumbersFromVoiceConnectorCommand",inputFilterSensitiveLog:zt,outputFilterSensitiveLog:e=>e},{requestHandler:s}=t;return r.resolve((e=>s.handle(e.request,n||{})),o)}serialize(t,n){return(async(t,n)=>{const{hostname:i,protocol:r="https",port:a,path:o}=await n.endpoint();let s=`${o?.endsWith("/")?o.slice(0,-1):o||""}/voice-connectors/{VoiceConnectorId}`;s=(0,e.Is)(s,t,"VoiceConnectorId",(()=>t.VoiceConnectorId),"{VoiceConnectorId}",!1);const c=(0,e.UI)({operation:[,"disassociate-phone-numbers"]});let d;return d=JSON.stringify((0,e.qn)(t,{E164PhoneNumbers:t=>(0,e.F3)(t)})),new Qt.aW({protocol:r,hostname:i,port:a,method:"POST",headers:{"content-type":"application/json"},path:s,query:c,body:d})})(t,n)}deserialize(t,n){return(async(t,n)=>{if(200!==t.statusCode&&t.statusCode>=300)return(async(e,t)=>{const n={...e,body:await On(e.body,t)},i=Un(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chime#BadRequestException":throw await rn(n,t);case"ForbiddenException":case"com.amazonaws.chime#ForbiddenException":throw await on(n,t);case"NotFoundException":case"com.amazonaws.chime#NotFoundException":throw await sn(n,t);case"ServiceFailureException":case"com.amazonaws.chime#ServiceFailureException":throw await dn(n,t);case"ServiceUnavailableException":case"com.amazonaws.chime#ServiceUnavailableException":throw await ln(n,t);case"ThrottledClientException":case"com.amazonaws.chime#ThrottledClientException":throw await un(n,t);case"UnauthorizedClientException":case"com.amazonaws.chime#UnauthorizedClientException":throw await hn(n,t);default:const r=n.body;return tn({output:e,parsedBody:r,errorCode:i})}})(t,n);const i=(0,e.UI)({$metadata:Rn(t)}),r=(0,e.CE)((0,e.Wh)(await _n(t.body,n)),"body"),a=(0,e.qn)(r,{PhoneNumberErrors:e.F3});return Object.assign(i,a),i})(t,n)}}class ir extends e.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,i.a3)(t,ir.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:a}=t,o={logger:a,clientName:"ChimeClient",commandName:"DisassociatePhoneNumbersFromVoiceConnectorGroupCommand",inputFilterSensitiveLog:Dt,outputFilterSensitiveLog:e=>e},{requestHandler:s}=t;return r.resolve((e=>s.handle(e.request,n||{})),o)}serialize(t,n){return(async(t,n)=>{const{hostname:i,protocol:r="https",port:a,path:o}=await n.endpoint();let s=`${o?.endsWith("/")?o.slice(0,-1):o||""}/voice-connector-groups/{VoiceConnectorGroupId}`;s=(0,e.Is)(s,t,"VoiceConnectorGroupId",(()=>t.VoiceConnectorGroupId),"{VoiceConnectorGroupId}",!1);const c=(0,e.UI)({operation:[,"disassociate-phone-numbers"]});let d;return d=JSON.stringify((0,e.qn)(t,{E164PhoneNumbers:t=>(0,e.F3)(t)})),new Qt.aW({protocol:r,hostname:i,port:a,method:"POST",headers:{"content-type":"application/json"},path:s,query:c,body:d})})(t,n)}deserialize(t,n){return(async(t,n)=>{if(200!==t.statusCode&&t.statusCode>=300)return(async(e,t)=>{const n={...e,body:await On(e.body,t)},i=Un(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chime#BadRequestException":throw await rn(n,t);case"ForbiddenException":case"com.amazonaws.chime#ForbiddenException":throw await on(n,t);case"NotFoundException":case"com.amazonaws.chime#NotFoundException":throw await sn(n,t);case"ServiceFailureException":case"com.amazonaws.chime#ServiceFailureException":throw await dn(n,t);case"ServiceUnavailableException":case"com.amazonaws.chime#ServiceUnavailableException":throw await ln(n,t);case"ThrottledClientException":case"com.amazonaws.chime#ThrottledClientException":throw await un(n,t);case"UnauthorizedClientException":case"com.amazonaws.chime#UnauthorizedClientException":throw await hn(n,t);default:const r=n.body;return tn({output:e,parsedBody:r,errorCode:i})}})(t,n);const i=(0,e.UI)({$metadata:Rn(t)}),r=(0,e.CE)((0,e.Wh)(await _n(t.body,n)),"body"),a=(0,e.qn)(r,{PhoneNumberErrors:e.F3});return Object.assign(i,a),i})(t,n)}}class rr extends e.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,i.a3)(t,rr.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:a}=t,o={logger:a,clientName:"ChimeClient",commandName:"DisassociateSigninDelegateGroupsFromAccountCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:e=>e},{requestHandler:s}=t;return r.resolve((e=>s.handle(e.request,n||{})),o)}serialize(t,n){return(async(t,n)=>{const{hostname:i,protocol:r="https",port:a,path:o}=await n.endpoint();let s=`${o?.endsWith("/")?o.slice(0,-1):o||""}/accounts/{AccountId}`;s=(0,e.Is)(s,t,"AccountId",(()=>t.AccountId),"{AccountId}",!1);const c=(0,e.UI)({operation:[,"disassociate-signin-delegate-groups"]});let d;return d=JSON.stringify((0,e.qn)(t,{GroupNames:t=>(0,e.F3)(t)})),new Qt.aW({protocol:r,hostname:i,port:a,method:"POST",headers:{"content-type":"application/json"},path:s,query:c,body:d})})(t,n)}deserialize(t,n){return(async(t,n)=>{if(200!==t.statusCode&&t.statusCode>=300)return(async(e,t)=>{const n={...e,body:await On(e.body,t)},i=Un(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chime#BadRequestException":throw await rn(n,t);case"ForbiddenException":case"com.amazonaws.chime#ForbiddenException":throw await on(n,t);case"NotFoundException":case"com.amazonaws.chime#NotFoundException":throw await sn(n,t);case"ServiceFailureException":case"com.amazonaws.chime#ServiceFailureException":throw await dn(n,t);case"ServiceUnavailableException":case"com.amazonaws.chime#ServiceUnavailableException":throw await ln(n,t);case"ThrottledClientException":case"com.amazonaws.chime#ThrottledClientException":throw await un(n,t);case"UnauthorizedClientException":case"com.amazonaws.chime#UnauthorizedClientException":throw await hn(n,t);default:const r=n.body;return tn({output:e,parsedBody:r,errorCode:i})}})(t,n);const i=(0,e.UI)({$metadata:Rn(t)});return await(0,e.Wg)(t.body,n),i})(t,n)}}class ar extends e.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,i.a3)(t,ar.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:a}=t,o={logger:a,clientName:"ChimeClient",commandName:"GetAccountCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:e=>e},{requestHandler:s}=t;return r.resolve((e=>s.handle(e.request,n||{})),o)}serialize(t,n){return(async(t,n)=>{const{hostname:i,protocol:r="https",port:a,path:o}=await n.endpoint();let s=`${o?.endsWith("/")?o.slice(0,-1):o||""}/accounts/{AccountId}`;return s=(0,e.Is)(s,t,"AccountId",(()=>t.AccountId),"{AccountId}",!1),new Qt.aW({protocol:r,hostname:i,port:a,method:"GET",headers:{},path:s,body:void 0})})(t,n)}deserialize(t,n){return(async(t,n)=>{if(200!==t.statusCode&&t.statusCode>=300)return(async(e,t)=>{const n={...e,body:await On(e.body,t)},i=Un(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chime#BadRequestException":throw await rn(n,t);case"ForbiddenException":case"com.amazonaws.chime#ForbiddenException":throw await on(n,t);case"NotFoundException":case"com.amazonaws.chime#NotFoundException":throw await sn(n,t);case"ServiceFailureException":case"com.amazonaws.chime#ServiceFailureException":throw await dn(n,t);case"ServiceUnavailableException":case"com.amazonaws.chime#ServiceUnavailableException":throw await ln(n,t);case"ThrottledClientException":case"com.amazonaws.chime#ThrottledClientException":throw await un(n,t);case"UnauthorizedClientException":case"com.amazonaws.chime#UnauthorizedClientException":throw await hn(n,t);default:const r=n.body;return tn({output:e,parsedBody:r,errorCode:i})}})(t,n);const i=(0,e.UI)({$metadata:Rn(t)}),r=(0,e.CE)((0,e.Wh)(await _n(t.body,n)),"body"),a=(0,e.qn)(r,{Account:e=>mn(e)});return Object.assign(i,a),i})(t,n)}}class or extends e.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,i.a3)(t,or.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:a}=t,o={logger:a,clientName:"ChimeClient",commandName:"GetAccountSettingsCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:e=>e},{requestHandler:s}=t;return r.resolve((e=>s.handle(e.request,n||{})),o)}serialize(t,n){return(async(t,n)=>{const{hostname:i,protocol:r="https",port:a,path:o}=await n.endpoint();let s=`${o?.endsWith("/")?o.slice(0,-1):o||""}/accounts/{AccountId}/settings`;return s=(0,e.Is)(s,t,"AccountId",(()=>t.AccountId),"{AccountId}",!1),new Qt.aW({protocol:r,hostname:i,port:a,method:"GET",headers:{},path:s,body:void 0})})(t,n)}deserialize(t,n){return(async(t,n)=>{if(200!==t.statusCode&&t.statusCode>=300)return(async(e,t)=>{const n={...e,body:await On(e.body,t)},i=Un(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chime#BadRequestException":throw await rn(n,t);case"ForbiddenException":case"com.amazonaws.chime#ForbiddenException":throw await on(n,t);case"NotFoundException":case"com.amazonaws.chime#NotFoundException":throw await sn(n,t);case"ServiceFailureException":case"com.amazonaws.chime#ServiceFailureException":throw await dn(n,t);case"ServiceUnavailableException":case"com.amazonaws.chime#ServiceUnavailableException":throw await ln(n,t);case"ThrottledClientException":case"com.amazonaws.chime#ThrottledClientException":throw await un(n,t);case"UnauthorizedClientException":case"com.amazonaws.chime#UnauthorizedClientException":throw await hn(n,t);default:const r=n.body;return tn({output:e,parsedBody:r,errorCode:i})}})(t,n);const i=(0,e.UI)({$metadata:Rn(t)}),r=(0,e.CE)((0,e.Wh)(await _n(t.body,n)),"body"),a=(0,e.qn)(r,{AccountSettings:e.F3});return Object.assign(i,a),i})(t,n)}}class sr extends e.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,i.a3)(t,sr.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:a}=t,o={logger:a,clientName:"ChimeClient",commandName:"GetAppInstanceRetentionSettingsCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:e=>e},{requestHandler:s}=t;return r.resolve((e=>s.handle(e.request,n||{})),o)}serialize(t,n){return(async(t,n)=>{const{hostname:i,protocol:r="https",port:a,path:o}=await n.endpoint();let s=`${o?.endsWith("/")?o.slice(0,-1):o||""}/app-instances/{AppInstanceArn}/retention-settings`;s=(0,e.Is)(s,t,"AppInstanceArn",(()=>t.AppInstanceArn),"{AppInstanceArn}",!1);let{hostname:c}=await n.endpoint();if(!0!==n.disableHostPrefix&&(c="identity-"+c,!(0,Qt.Lb)(c)))throw new Error("ValidationError: prefixed hostname must be hostname compatible.");return new Qt.aW({protocol:r,hostname:c,port:a,method:"GET",headers:{},path:s,body:void 0})})(t,n)}deserialize(t,n){return(async(t,n)=>{if(200!==t.statusCode&&t.statusCode>=300)return(async(e,t)=>{const n={...e,body:await On(e.body,t)},i=Un(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chime#BadRequestException":throw await rn(n,t);case"ForbiddenException":case"com.amazonaws.chime#ForbiddenException":throw await on(n,t);case"NotFoundException":case"com.amazonaws.chime#NotFoundException":throw await sn(n,t);case"ServiceFailureException":case"com.amazonaws.chime#ServiceFailureException":throw await dn(n,t);case"ServiceUnavailableException":case"com.amazonaws.chime#ServiceUnavailableException":throw await ln(n,t);case"ThrottledClientException":case"com.amazonaws.chime#ThrottledClientException":throw await un(n,t);case"UnauthorizedClientException":case"com.amazonaws.chime#UnauthorizedClientException":throw await hn(n,t);default:const r=n.body;return tn({output:e,parsedBody:r,errorCode:i})}})(t,n);const i=(0,e.UI)({$metadata:Rn(t)}),r=(0,e.CE)((0,e.Wh)(await _n(t.body,n)),"body"),a=(0,e.qn)(r,{AppInstanceRetentionSettings:e.F3,InitiateDeletionTimestamp:t=>(0,e.CE)((0,e.KX)((0,e.Fx)(t)))});return Object.assign(i,a),i})(t,n)}}class cr extends e.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,i.a3)(t,cr.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:a}=t,o={logger:a,clientName:"ChimeClient",commandName:"GetAppInstanceStreamingConfigurationsCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:qt},{requestHandler:s}=t;return r.resolve((e=>s.handle(e.request,n||{})),o)}serialize(t,n){return(async(t,n)=>{const{hostname:i,protocol:r="https",port:a,path:o}=await n.endpoint();let s=`${o?.endsWith("/")?o.slice(0,-1):o||""}/app-instances/{AppInstanceArn}/streaming-configurations`;return s=(0,e.Is)(s,t,"AppInstanceArn",(()=>t.AppInstanceArn),"{AppInstanceArn}",!1),new Qt.aW({protocol:r,hostname:i,port:a,method:"GET",headers:{},path:s,body:void 0})})(t,n)}deserialize(t,n){return(async(t,n)=>{if(200!==t.statusCode&&t.statusCode>=300)return(async(e,t)=>{const n={...e,body:await On(e.body,t)},i=Un(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chime#BadRequestException":throw await rn(n,t);case"ForbiddenException":case"com.amazonaws.chime#ForbiddenException":throw await on(n,t);case"NotFoundException":case"com.amazonaws.chime#NotFoundException":throw await sn(n,t);case"ServiceFailureException":case"com.amazonaws.chime#ServiceFailureException":throw await dn(n,t);case"ServiceUnavailableException":case"com.amazonaws.chime#ServiceUnavailableException":throw await ln(n,t);case"ThrottledClientException":case"com.amazonaws.chime#ThrottledClientException":throw await un(n,t);case"UnauthorizedClientException":case"com.amazonaws.chime#UnauthorizedClientException":throw await hn(n,t);default:const r=n.body;return tn({output:e,parsedBody:r,errorCode:i})}})(t,n);const i=(0,e.UI)({$metadata:Rn(t)}),r=(0,e.CE)((0,e.Wh)(await _n(t.body,n)),"body"),a=(0,e.qn)(r,{AppInstanceStreamingConfigurations:e.F3});return Object.assign(i,a),i})(t,n)}}class dr extends e.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,i.a3)(t,dr.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:a}=t,o={logger:a,clientName:"ChimeClient",commandName:"GetAttendeeCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:Vt},{requestHandler:s}=t;return r.resolve((e=>s.handle(e.request,n||{})),o)}serialize(t,n){return(async(t,n)=>{const{hostname:i,protocol:r="https",port:a,path:o}=await n.endpoint();let s=`${o?.endsWith("/")?o.slice(0,-1):o||""}/meetings/{MeetingId}/attendees/{AttendeeId}`;return s=(0,e.Is)(s,t,"MeetingId",(()=>t.MeetingId),"{MeetingId}",!1),s=(0,e.Is)(s,t,"AttendeeId",(()=>t.AttendeeId),"{AttendeeId}",!1),new Qt.aW({protocol:r,hostname:i,port:a,method:"GET",headers:{},path:s,body:void 0})})(t,n)}deserialize(t,n){return(async(t,n)=>{if(200!==t.statusCode&&t.statusCode>=300)return(async(e,t)=>{const n={...e,body:await On(e.body,t)},i=Un(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chime#BadRequestException":throw await rn(n,t);case"ForbiddenException":case"com.amazonaws.chime#ForbiddenException":throw await on(n,t);case"NotFoundException":case"com.amazonaws.chime#NotFoundException":throw await sn(n,t);case"ServiceFailureException":case"com.amazonaws.chime#ServiceFailureException":throw await dn(n,t);case"ServiceUnavailableException":case"com.amazonaws.chime#ServiceUnavailableException":throw await ln(n,t);case"ThrottledClientException":case"com.amazonaws.chime#ThrottledClientException":throw await un(n,t);case"UnauthorizedClientException":case"com.amazonaws.chime#UnauthorizedClientException":throw await hn(n,t);default:const r=n.body;return tn({output:e,parsedBody:r,errorCode:i})}})(t,n);const i=(0,e.UI)({$metadata:Rn(t)}),r=(0,e.CE)((0,e.Wh)(await _n(t.body,n)),"body"),a=(0,e.qn)(r,{Attendee:e.F3});return Object.assign(i,a),i})(t,n)}}class lr extends e.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,i.a3)(t,lr.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:a}=t,o={logger:a,clientName:"ChimeClient",commandName:"GetBotCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:jt},{requestHandler:s}=t;return r.resolve((e=>s.handle(e.request,n||{})),o)}serialize(t,n){return(async(t,n)=>{const{hostname:i,protocol:r="https",port:a,path:o}=await n.endpoint();let s=`${o?.endsWith("/")?o.slice(0,-1):o||""}/accounts/{AccountId}/bots/{BotId}`;return s=(0,e.Is)(s,t,"AccountId",(()=>t.AccountId),"{AccountId}",!1),s=(0,e.Is)(s,t,"BotId",(()=>t.BotId),"{BotId}",!1),new Qt.aW({protocol:r,hostname:i,port:a,method:"GET",headers:{},path:s,body:void 0})})(t,n)}deserialize(t,n){return(async(t,n)=>{if(200!==t.statusCode&&t.statusCode>=300)return(async(e,t)=>{const n={...e,body:await On(e.body,t)},i=Un(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chime#BadRequestException":throw await rn(n,t);case"ForbiddenException":case"com.amazonaws.chime#ForbiddenException":throw await on(n,t);case"NotFoundException":case"com.amazonaws.chime#NotFoundException":throw await sn(n,t);case"ServiceFailureException":case"com.amazonaws.chime#ServiceFailureException":throw await dn(n,t);case"ServiceUnavailableException":case"com.amazonaws.chime#ServiceUnavailableException":throw await ln(n,t);case"ThrottledClientException":case"com.amazonaws.chime#ThrottledClientException":throw await un(n,t);case"UnauthorizedClientException":case"com.amazonaws.chime#UnauthorizedClientException":throw await hn(n,t);default:const r=n.body;return tn({output:e,parsedBody:r,errorCode:i})}})(t,n);const i=(0,e.UI)({$metadata:Rn(t)}),r=(0,e.CE)((0,e.Wh)(await _n(t.body,n)),"body"),a=(0,e.qn)(r,{Bot:e=>fn(e)});return Object.assign(i,a),i})(t,n)}}class ur extends e.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,i.a3)(t,ur.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:a}=t,o={logger:a,clientName:"ChimeClient",commandName:"GetChannelMessageCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:Wt},{requestHandler:s}=t;return r.resolve((e=>s.handle(e.request,n||{})),o)}serialize(t,n){return(async(t,n)=>{const{hostname:i,protocol:r="https",port:a,path:o}=await n.endpoint(),s=(0,e.UI)({},Fn,{"x-amz-chime-bearer":t.ChimeBearer});let c=`${o?.endsWith("/")?o.slice(0,-1):o||""}/channels/{ChannelArn}/messages/{MessageId}`;c=(0,e.Is)(c,t,"ChannelArn",(()=>t.ChannelArn),"{ChannelArn}",!1),c=(0,e.Is)(c,t,"MessageId",(()=>t.MessageId),"{MessageId}",!1);let{hostname:d}=await n.endpoint();if(!0!==n.disableHostPrefix&&(d="messaging-"+d,!(0,Qt.Lb)(d)))throw new Error("ValidationError: prefixed hostname must be hostname compatible.");return new Qt.aW({protocol:r,hostname:d,port:a,method:"GET",headers:s,path:c,body:void 0})})(t,n)}deserialize(t,n){return(async(t,n)=>{if(200!==t.statusCode&&t.statusCode>=300)return(async(e,t)=>{const n={...e,body:await On(e.body,t)},i=Un(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chime#BadRequestException":throw await rn(n,t);case"ForbiddenException":case"com.amazonaws.chime#ForbiddenException":throw await on(n,t);case"NotFoundException":case"com.amazonaws.chime#NotFoundException":throw await sn(n,t);case"ServiceFailureException":case"com.amazonaws.chime#ServiceFailureException":throw await dn(n,t);case"ServiceUnavailableException":case"com.amazonaws.chime#ServiceUnavailableException":throw await ln(n,t);case"ThrottledClientException":case"com.amazonaws.chime#ThrottledClientException":throw await un(n,t);case"UnauthorizedClientException":case"com.amazonaws.chime#UnauthorizedClientException":throw await hn(n,t);default:const r=n.body;return tn({output:e,parsedBody:r,errorCode:i})}})(t,n);const i=(0,e.UI)({$metadata:Rn(t)}),r=(0,e.CE)((0,e.Wh)(await _n(t.body,n)),"body"),a=(0,e.qn)(r,{ChannelMessage:t=>((t,n)=>(0,e.qn)(t,{ChannelArn:e.pY,Content:e.pY,CreatedTimestamp:t=>(0,e.CE)((0,e.KX)((0,e.Fx)(t))),LastEditedTimestamp:t=>(0,e.CE)((0,e.KX)((0,e.Fx)(t))),LastUpdatedTimestamp:t=>(0,e.CE)((0,e.KX)((0,e.Fx)(t))),MessageId:e.pY,Metadata:e.pY,Persistence:e.pY,Redacted:e.zE,Sender:e.F3,Type:e.pY}))(t)});return Object.assign(i,a),i})(t,n)}}class hr extends e.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,i.a3)(t,hr.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:a}=t,o={logger:a,clientName:"ChimeClient",commandName:"GetEventsConfigurationCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:$t},{requestHandler:s}=t;return r.resolve((e=>s.handle(e.request,n||{})),o)}serialize(t,n){return(async(t,n)=>{const{hostname:i,protocol:r="https",port:a,path:o}=await n.endpoint();let s=`${o?.endsWith("/")?o.slice(0,-1):o||""}/accounts/{AccountId}/bots/{BotId}/events-configuration`;return s=(0,e.Is)(s,t,"AccountId",(()=>t.AccountId),"{AccountId}",!1),s=(0,e.Is)(s,t,"BotId",(()=>t.BotId),"{BotId}",!1),new Qt.aW({protocol:r,hostname:i,port:a,method:"GET",headers:{},path:s,body:void 0})})(t,n)}deserialize(t,n){return(async(t,n)=>{if(200!==t.statusCode&&t.statusCode>=300)return(async(e,t)=>{const n={...e,body:await On(e.body,t)},i=Un(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chime#BadRequestException":throw await rn(n,t);case"ForbiddenException":case"com.amazonaws.chime#ForbiddenException":throw await on(n,t);case"NotFoundException":case"com.amazonaws.chime#NotFoundException":throw await sn(n,t);case"ResourceLimitExceededException":case"com.amazonaws.chime#ResourceLimitExceededException":throw await cn(n,t);case"ServiceFailureException":case"com.amazonaws.chime#ServiceFailureException":throw await dn(n,t);case"ServiceUnavailableException":case"com.amazonaws.chime#ServiceUnavailableException":throw await ln(n,t);case"UnauthorizedClientException":case"com.amazonaws.chime#UnauthorizedClientException":throw await hn(n,t);default:const r=n.body;return tn({output:e,parsedBody:r,errorCode:i})}})(t,n);const i=(0,e.UI)({$metadata:Rn(t)}),r=(0,e.CE)((0,e.Wh)(await _n(t.body,n)),"body"),a=(0,e.qn)(r,{EventsConfiguration:e.F3});return Object.assign(i,a),i})(t,n)}}class pr extends e.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,i.a3)(t,pr.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:a}=t,o={logger:a,clientName:"ChimeClient",commandName:"GetGlobalSettingsCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:e=>e},{requestHandler:s}=t;return r.resolve((e=>s.handle(e.request,n||{})),o)}serialize(e,t){return(async(e,t)=>{const{hostname:n,protocol:i="https",port:r,path:a}=await t.endpoint(),o=`${a?.endsWith("/")?a.slice(0,-1):a||""}/settings`;let s;return s="",new Qt.aW({protocol:i,hostname:n,port:r,method:"GET",headers:{"content-type":"application/json"},path:o,body:""})})(0,t)}deserialize(t,n){return(async(t,n)=>{if(200!==t.statusCode&&t.statusCode>=300)return(async(e,t)=>{const n={...e,body:await On(e.body,t)},i=Un(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chime#BadRequestException":throw await rn(n,t);case"ForbiddenException":case"com.amazonaws.chime#ForbiddenException":throw await on(n,t);case"ServiceFailureException":case"com.amazonaws.chime#ServiceFailureException":throw await dn(n,t);case"ServiceUnavailableException":case"com.amazonaws.chime#ServiceUnavailableException":throw await ln(n,t);case"ThrottledClientException":case"com.amazonaws.chime#ThrottledClientException":throw await un(n,t);case"UnauthorizedClientException":case"com.amazonaws.chime#UnauthorizedClientException":throw await hn(n,t);default:const r=n.body;return tn({output:e,parsedBody:r,errorCode:i})}})(t,n);const i=(0,e.UI)({$metadata:Rn(t)}),r=(0,e.CE)((0,e.Wh)(await _n(t.body,n)),"body"),a=(0,e.qn)(r,{BusinessCalling:e.F3,VoiceConnector:e.F3});return Object.assign(i,a),i})(t,n)}}class mr extends e.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,i.a3)(t,mr.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:a}=t,o={logger:a,clientName:"ChimeClient",commandName:"GetMediaCapturePipelineCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:Ht},{requestHandler:s}=t;return r.resolve((e=>s.handle(e.request,n||{})),o)}serialize(t,n){return(async(t,n)=>{const{hostname:i,protocol:r="https",port:a,path:o}=await n.endpoint();let s=`${o?.endsWith("/")?o.slice(0,-1):o||""}/media-capture-pipelines/{MediaPipelineId}`;return s=(0,e.Is)(s,t,"MediaPipelineId",(()=>t.MediaPipelineId),"{MediaPipelineId}",!1),new Qt.aW({protocol:r,hostname:i,port:a,method:"GET",headers:{},path:s,body:void 0})})(t,n)}deserialize(t,n){return(async(t,n)=>{if(200!==t.statusCode&&t.statusCode>=300)return(async(e,t)=>{const n={...e,body:await On(e.body,t)},i=Un(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chime#BadRequestException":throw await rn(n,t);case"ForbiddenException":case"com.amazonaws.chime#ForbiddenException":throw await on(n,t);case"NotFoundException":case"com.amazonaws.chime#NotFoundException":throw await sn(n,t);case"ServiceFailureException":case"com.amazonaws.chime#ServiceFailureException":throw await dn(n,t);case"ServiceUnavailableException":case"com.amazonaws.chime#ServiceUnavailableException":throw await ln(n,t);case"ThrottledClientException":case"com.amazonaws.chime#ThrottledClientException":throw await un(n,t);case"UnauthorizedClientException":case"com.amazonaws.chime#UnauthorizedClientException":throw await hn(n,t);default:const r=n.body;return tn({output:e,parsedBody:r,errorCode:i})}})(t,n);const i=(0,e.UI)({$metadata:Rn(t)}),r=(0,e.CE)((0,e.Wh)(await _n(t.body,n)),"body"),a=(0,e.qn)(r,{MediaCapturePipeline:e=>vn(e)});return Object.assign(i,a),i})(t,n)}}class fr extends e.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,i.a3)(t,fr.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:a}=t,o={logger:a,clientName:"ChimeClient",commandName:"GetMeetingCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:Gt},{requestHandler:s}=t;return r.resolve((e=>s.handle(e.request,n||{})),o)}serialize(t,n){return(async(t,n)=>{const{hostname:i,protocol:r="https",port:a,path:o}=await n.endpoint();let s=`${o?.endsWith("/")?o.slice(0,-1):o||""}/meetings/{MeetingId}`;return s=(0,e.Is)(s,t,"MeetingId",(()=>t.MeetingId),"{MeetingId}",!1),new Qt.aW({protocol:r,hostname:i,port:a,method:"GET",headers:{},path:s,body:void 0})})(t,n)}deserialize(t,n){return(async(t,n)=>{if(200!==t.statusCode&&t.statusCode>=300)return(async(e,t)=>{const n={...e,body:await On(e.body,t)},i=Un(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chime#BadRequestException":throw await rn(n,t);case"ForbiddenException":case"com.amazonaws.chime#ForbiddenException":throw await on(n,t);case"NotFoundException":case"com.amazonaws.chime#NotFoundException":throw await sn(n,t);case"ServiceFailureException":case"com.amazonaws.chime#ServiceFailureException":throw await dn(n,t);case"ServiceUnavailableException":case"com.amazonaws.chime#ServiceUnavailableException":throw await ln(n,t);case"ThrottledClientException":case"com.amazonaws.chime#ThrottledClientException":throw await un(n,t);case"UnauthorizedClientException":case"com.amazonaws.chime#UnauthorizedClientException":throw await hn(n,t);default:const r=n.body;return tn({output:e,parsedBody:r,errorCode:i})}})(t,n);const i=(0,e.UI)({$metadata:Rn(t)}),r=(0,e.CE)((0,e.Wh)(await _n(t.body,n)),"body"),a=(0,e.qn)(r,{Meeting:e.F3});return Object.assign(i,a),i})(t,n)}}class gr extends e.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,i.a3)(t,gr.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:a}=t,o={logger:a,clientName:"ChimeClient",commandName:"GetMessagingSessionEndpointCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:e=>e},{requestHandler:s}=t;return r.resolve((e=>s.handle(e.request,n||{})),o)}serialize(e,t){return(async(e,t)=>{const{hostname:n,protocol:i="https",port:r,path:a}=await t.endpoint(),o=`${a?.endsWith("/")?a.slice(0,-1):a||""}/endpoints/messaging-session`;let s;s="";let{hostname:c}=await t.endpoint();if(!0!==t.disableHostPrefix&&(c="messaging-"+c,!(0,Qt.Lb)(c)))throw new Error("ValidationError: prefixed hostname must be hostname compatible.");return new Qt.aW({protocol:i,hostname:c,port:r,method:"GET",headers:{"content-type":"application/json"},path:o,body:""})})(0,t)}deserialize(t,n){return(async(t,n)=>{if(200!==t.statusCode&&t.statusCode>=300)return(async(e,t)=>{const n={...e,body:await On(e.body,t)},i=Un(e,n.body);switch(i){case"ForbiddenException":case"com.amazonaws.chime#ForbiddenException":throw await on(n,t);case"ServiceFailureException":case"com.amazonaws.chime#ServiceFailureException":throw await dn(n,t);case"ServiceUnavailableException":case"com.amazonaws.chime#ServiceUnavailableException":throw await ln(n,t);case"ThrottledClientException":case"com.amazonaws.chime#ThrottledClientException":throw await un(n,t);case"UnauthorizedClientException":case"com.amazonaws.chime#UnauthorizedClientException":throw await hn(n,t);default:const r=n.body;return tn({output:e,parsedBody:r,errorCode:i})}})(t,n);const i=(0,e.UI)({$metadata:Rn(t)}),r=(0,e.CE)((0,e.Wh)(await _n(t.body,n)),"body"),a=(0,e.qn)(r,{Endpoint:e.F3});return Object.assign(i,a),i})(t,n)}}class wr extends e.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,i.a3)(t,wr.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:a}=t,o={logger:a,clientName:"ChimeClient",commandName:"GetPhoneNumberCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:Yt},{requestHandler:s}=t;return r.resolve((e=>s.handle(e.request,n||{})),o)}serialize(t,n){return(async(t,n)=>{const{hostname:i,protocol:r="https",port:a,path:o}=await n.endpoint();let s=`${o?.endsWith("/")?o.slice(0,-1):o||""}/phone-numbers/{PhoneNumberId}`;return s=(0,e.Is)(s,t,"PhoneNumberId",(()=>t.PhoneNumberId),"{PhoneNumberId}",!1),new Qt.aW({protocol:r,hostname:i,port:a,method:"GET",headers:{},path:s,body:void 0})})(t,n)}deserialize(t,n){return(async(t,n)=>{if(200!==t.statusCode&&t.statusCode>=300)return(async(e,t)=>{const n={...e,body:await On(e.body,t)},i=Un(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chime#BadRequestException":throw await rn(n,t);case"ForbiddenException":case"com.amazonaws.chime#ForbiddenException":throw await on(n,t);case"NotFoundException":case"com.amazonaws.chime#NotFoundException":throw await sn(n,t);case"ServiceFailureException":case"com.amazonaws.chime#ServiceFailureException":throw await dn(n,t);case"ServiceUnavailableException":case"com.amazonaws.chime#ServiceUnavailableException":throw await ln(n,t);case"ThrottledClientException":case"com.amazonaws.chime#ThrottledClientException":throw await un(n,t);case"UnauthorizedClientException":case"com.amazonaws.chime#UnauthorizedClientException":throw await hn(n,t);default:const r=n.body;return tn({output:e,parsedBody:r,errorCode:i})}})(t,n);const i=(0,e.UI)({$metadata:Rn(t)}),r=(0,e.CE)((0,e.Wh)(await _n(t.body,n)),"body"),a=(0,e.qn)(r,{PhoneNumber:e=>bn(e,n)});return Object.assign(i,a),i})(t,n)}}class yr extends e.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,i.a3)(t,yr.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:a}=t,o={logger:a,clientName:"ChimeClient",commandName:"GetPhoneNumberOrderCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:Jt},{requestHandler:s}=t;return r.resolve((e=>s.handle(e.request,n||{})),o)}serialize(t,n){return(async(t,n)=>{const{hostname:i,protocol:r="https",port:a,path:o}=await n.endpoint();let s=`${o?.endsWith("/")?o.slice(0,-1):o||""}/phone-number-orders/{PhoneNumberOrderId}`;return s=(0,e.Is)(s,t,"PhoneNumberOrderId",(()=>t.PhoneNumberOrderId),"{PhoneNumberOrderId}",!1),new Qt.aW({protocol:r,hostname:i,port:a,method:"GET",headers:{},path:s,body:void 0})})(t,n)}deserialize(t,n){return(async(t,n)=>{if(200!==t.statusCode&&t.statusCode>=300)return(async(e,t)=>{const n={...e,body:await On(e.body,t)},i=Un(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chime#BadRequestException":throw await rn(n,t);case"ForbiddenException":case"com.amazonaws.chime#ForbiddenException":throw await on(n,t);case"NotFoundException":case"com.amazonaws.chime#NotFoundException":throw await sn(n,t);case"ServiceFailureException":case"com.amazonaws.chime#ServiceFailureException":throw await dn(n,t);case"ServiceUnavailableException":case"com.amazonaws.chime#ServiceUnavailableException":throw await ln(n,t);case"ThrottledClientException":case"com.amazonaws.chime#ThrottledClientException":throw await un(n,t);case"UnauthorizedClientException":case"com.amazonaws.chime#UnauthorizedClientException":throw await hn(n,t);default:const r=n.body;return tn({output:e,parsedBody:r,errorCode:i})}})(t,n);const i=(0,e.UI)({$metadata:Rn(t)}),r=(0,e.CE)((0,e.Wh)(await _n(t.body,n)),"body"),a=(0,e.qn)(r,{PhoneNumberOrder:e=>En(e)});return Object.assign(i,a),i})(t,n)}}class vr extends e.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,i.a3)(t,vr.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:a}=t,o={logger:a,clientName:"ChimeClient",commandName:"GetPhoneNumberSettingsCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:Xt},{requestHandler:s}=t;return r.resolve((e=>s.handle(e.request,n||{})),o)}serialize(e,t){return(async(e,t)=>{const{hostname:n,protocol:i="https",port:r,path:a}=await t.endpoint(),o=`${a?.endsWith("/")?a.slice(0,-1):a||""}/settings/phone-number`;let s;return s="",new Qt.aW({protocol:i,hostname:n,port:r,method:"GET",headers:{"content-type":"application/json"},path:o,body:""})})(0,t)}deserialize(t,n){return(async(t,n)=>{if(200!==t.statusCode&&t.statusCode>=300)return(async(e,t)=>{const n={...e,body:await On(e.body,t)},i=Un(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chime#BadRequestException":throw await rn(n,t);case"ForbiddenException":case"com.amazonaws.chime#ForbiddenException":throw await on(n,t);case"ServiceFailureException":case"com.amazonaws.chime#ServiceFailureException":throw await dn(n,t);case"ServiceUnavailableException":case"com.amazonaws.chime#ServiceUnavailableException":throw await ln(n,t);case"ThrottledClientException":case"com.amazonaws.chime#ThrottledClientException":throw await un(n,t);case"UnauthorizedClientException":case"com.amazonaws.chime#UnauthorizedClientException":throw await hn(n,t);default:const r=n.body;return tn({output:e,parsedBody:r,errorCode:i})}})(t,n);const i=(0,e.UI)({$metadata:Rn(t)}),r=(0,e.CE)((0,e.Wh)(await _n(t.body,n)),"body"),a=(0,e.qn)(r,{CallingName:e.pY,CallingNameUpdatedTimestamp:t=>(0,e.CE)((0,e.aH)(t))});return Object.assign(i,a),i})(t,n)}}class br extends e.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,i.a3)(t,br.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:a}=t,o={logger:a,clientName:"ChimeClient",commandName:"GetProxySessionCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:Zt},{requestHandler:s}=t;return r.resolve((e=>s.handle(e.request,n||{})),o)}serialize(t,n){return(async(t,n)=>{const{hostname:i,protocol:r="https",port:a,path:o}=await n.endpoint();let s=`${o?.endsWith("/")?o.slice(0,-1):o||""}/voice-connectors/{VoiceConnectorId}/proxy-sessions/{ProxySessionId}`;return s=(0,e.Is)(s,t,"VoiceConnectorId",(()=>t.VoiceConnectorId),"{VoiceConnectorId}",!1),s=(0,e.Is)(s,t,"ProxySessionId",(()=>t.ProxySessionId),"{ProxySessionId}",!1),new Qt.aW({protocol:r,hostname:i,port:a,method:"GET",headers:{},path:s,body:void 0})})(t,n)}deserialize(t,n){return(async(t,n)=>{if(200!==t.statusCode&&t.statusCode>=300)return(async(e,t)=>{const n={...e,body:await On(e.body,t)},i=Un(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chime#BadRequestException":throw await rn(n,t);case"ForbiddenException":case"com.amazonaws.chime#ForbiddenException":throw await on(n,t);case"NotFoundException":case"com.amazonaws.chime#NotFoundException":throw await sn(n,t);case"ServiceFailureException":case"com.amazonaws.chime#ServiceFailureException":throw await dn(n,t);case"ServiceUnavailableException":case"com.amazonaws.chime#ServiceUnavailableException":throw await ln(n,t);case"ThrottledClientException":case"com.amazonaws.chime#ThrottledClientException":throw await un(n,t);case"UnauthorizedClientException":case"com.amazonaws.chime#UnauthorizedClientException":throw await hn(n,t);default:const r=n.body;return tn({output:e,parsedBody:r,errorCode:i})}})(t,n);const i=(0,e.UI)({$metadata:Rn(t)}),r=(0,e.CE)((0,e.Wh)(await _n(t.body,n)),"body"),a=(0,e.qn)(r,{ProxySession:e=>Cn(e)});return Object.assign(i,a),i})(t,n)}}class Sr extends e.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,i.a3)(t,Sr.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:a}=t,o={logger:a,clientName:"ChimeClient",commandName:"GetRetentionSettingsCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:e=>e},{requestHandler:s}=t;return r.resolve((e=>s.handle(e.request,n||{})),o)}serialize(t,n){return(async(t,n)=>{const{hostname:i,protocol:r="https",port:a,path:o}=await n.endpoint();let s=`${o?.endsWith("/")?o.slice(0,-1):o||""}/accounts/{AccountId}/retention-settings`;return s=(0,e.Is)(s,t,"AccountId",(()=>t.AccountId),"{AccountId}",!1),new Qt.aW({protocol:r,hostname:i,port:a,method:"GET",headers:{},path:s,body:void 0})})(t,n)}deserialize(t,n){return(async(t,n)=>{if(200!==t.statusCode&&t.statusCode>=300)return(async(e,t)=>{const n={...e,body:await On(e.body,t)},i=Un(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chime#BadRequestException":throw await rn(n,t);case"ForbiddenException":case"com.amazonaws.chime#ForbiddenException":throw await on(n,t);case"NotFoundException":case"com.amazonaws.chime#NotFoundException":throw await sn(n,t);case"ServiceFailureException":case"com.amazonaws.chime#ServiceFailureException":throw await dn(n,t);case"ServiceUnavailableException":case"com.amazonaws.chime#ServiceUnavailableException":throw await ln(n,t);case"ThrottledClientException":case"com.amazonaws.chime#ThrottledClientException":throw await un(n,t);case"UnauthorizedClientException":case"com.amazonaws.chime#UnauthorizedClientException":throw await hn(n,t);default:const r=n.body;return tn({output:e,parsedBody:r,errorCode:i})}})(t,n);const i=(0,e.UI)({$metadata:Rn(t)}),r=(0,e.CE)((0,e.Wh)(await _n(t.body,n)),"body"),a=(0,e.qn)(r,{InitiateDeletionTimestamp:t=>(0,e.CE)((0,e.aH)(t)),RetentionSettings:e.F3});return Object.assign(i,a),i})(t,n)}}const Er=e=>({...e,...e.Room&&{Room:mt(e.Room)}}),Cr=e=>({...e,...e.SipMediaApplication&&{SipMediaApplication:St(e.SipMediaApplication)}}),xr=e=>({...e,...e.User&&{User:It(e.User)}}),Ir=e=>({...e,...e.EmergencyCallingConfiguration&&{EmergencyCallingConfiguration:Lt(e.EmergencyCallingConfiguration)}}),kr=t=>({...t,...t.FallBackPhoneNumber&&{FallBackPhoneNumber:e.oc}}),Pr=e=>({...e,...e.Proxy&&{Proxy:kr(e.Proxy)}}),Ar=t=>({...t,...t.DefaultPhoneNumber&&{DefaultPhoneNumber:e.oc}}),Tr=e=>({...e,...e.Termination&&{Termination:Ar(e.Termination)}}),Mr=t=>({...t,...t.UserEmailList&&{UserEmailList:e.oc}}),Rr=t=>({...t,...t.Invites&&{Invites:t.Invites.map((t=>(t=>({...t,...t.EmailAddress&&{EmailAddress:e.oc}}))(t)))}}),Fr=t=>({...t,...t.UserEmail&&{UserEmail:e.oc}}),_r=t=>({...t,...t.NextToken&&{NextToken:e.oc}}),Or=t=>({...t,...t.AppInstanceAdmins&&{AppInstanceAdmins:t.AppInstanceAdmins.map((e=>(e=>({...e,...e.Admin&&{Admin:ue(e.Admin)}}))(e)))},...t.NextToken&&{NextToken:e.oc}}),Ur=t=>({...t,...t.NextToken&&{NextToken:e.oc}}),Nr=t=>({...t,...t.AppInstances&&{AppInstances:t.AppInstances.map((t=>(t=>({...t,...t.Name&&{Name:e.oc},...t.Metadata&&{Metadata:e.oc}}))(t)))},...t.NextToken&&{NextToken:e.oc}}),zr=t=>({...t,...t.NextToken&&{NextToken:e.oc}}),Dr=t=>({...t,...t.AppInstanceUsers&&{AppInstanceUsers:t.AppInstanceUsers.map((t=>(t=>({...t,...t.Name&&{Name:e.oc},...t.Metadata&&{Metadata:e.oc}}))(t)))},...t.NextToken&&{NextToken:e.oc}}),Lr=e=>({...e,...e.Attendees&&{Attendees:e.Attendees.map((e=>ye(e)))}}),Br=e=>({...e,...e.Tags&&{Tags:e.Tags.map((e=>ve(e)))}}),qr=e=>({...e,...e.Bots&&{Bots:e.Bots.map((e=>Ae(e)))}}),Vr=t=>({...t,...t.NextToken&&{NextToken:e.oc}}),jr=t=>({...t,...t.NextToken&&{NextToken:e.oc},...t.ChannelBans&&{ChannelBans:t.ChannelBans.map((e=>(e=>({...e,...e.Member&&{Member:ue(e.Member)}}))(e)))}}),Wr=t=>({...t,...t.NextToken&&{NextToken:e.oc}}),$r=t=>({...t,...t.ChannelMemberships&&{ChannelMemberships:t.ChannelMemberships.map((e=>(e=>({...e,...e.Member&&{Member:ue(e.Member)}}))(e)))},...t.NextToken&&{NextToken:e.oc}}),Hr=t=>({...t,...t.NextToken&&{NextToken:e.oc}}),Gr=t=>({...t,...t.ChannelMemberships&&{ChannelMemberships:t.ChannelMemberships.map((e=>_e(e)))},...t.NextToken&&{NextToken:e.oc}}),Kr=t=>({...t,...t.NextToken&&{NextToken:e.oc}}),Yr=t=>({...t,...t.NextToken&&{NextToken:e.oc},...t.ChannelMessages&&{ChannelMessages:t.ChannelMessages.map((t=>(t=>({...t,...t.Content&&{Content:e.oc},...t.Metadata&&{Metadata:e.oc},...t.Sender&&{Sender:ue(t.Sender)}}))(t)))}}),Jr=t=>({...t,...t.NextToken&&{NextToken:e.oc}}),Xr=t=>({...t,...t.NextToken&&{NextToken:e.oc},...t.ChannelModerators&&{ChannelModerators:t.ChannelModerators.map((e=>(e=>({...e,...e.Moderator&&{Moderator:ue(e.Moderator)}}))(e)))}}),Zr=t=>({...t,...t.NextToken&&{NextToken:e.oc}}),Qr=t=>({...t,...t.Channels&&{Channels:t.Channels.map((e=>Fe(e)))},...t.NextToken&&{NextToken:e.oc}}),ea=t=>({...t,...t.NextToken&&{NextToken:e.oc}}),ta=t=>({...t,...t.Channels&&{Channels:t.Channels.map((e=>Ue(e)))},...t.NextToken&&{NextToken:e.oc}}),na=e=>({...e,...e.MediaCapturePipelines&&{MediaCapturePipelines:e.MediaCapturePipelines.map((e=>Ze(e)))}}),ia=e=>({...e,...e.Meetings&&{Meetings:e.Meetings.map((e=>nt(e)))}}),ra=e=>({...e,...e.Tags&&{Tags:e.Tags.map((e=>ve(e)))}}),aa=e=>({...e}),oa=e=>({...e,...e.PhoneNumbers&&{PhoneNumbers:e.PhoneNumbers.map((e=>Kt(e)))}}),sa=e=>({...e}),ca=e=>({...e,...e.RoomMemberships&&{RoomMemberships:e.RoomMemberships.map((e=>wt(e)))}}),da=e=>({...e,...e.Rooms&&{Rooms:e.Rooms.map((e=>mt(e)))}}),la=e=>({...e}),ua=t=>({...t,...t.ResourceARN&&{ResourceARN:e.oc}}),ha=e=>({...e,...e.Tags&&{Tags:e.Tags.map((e=>ve(e)))}}),pa=t=>({...t,...t.UserEmail&&{UserEmail:e.oc}}),ma=e=>({...e,...e.Users&&{Users:e.Users.map((e=>It(e)))}}),fa=t=>({...t,...t.Usernames&&{Usernames:e.oc}}),ga=e=>({...e,...e.AppInstanceStreamingConfigurations&&{AppInstanceStreamingConfigurations:e.AppInstanceStreamingConfigurations.map((e=>pe(e)))}}),wa=e=>({...e,...e.AppInstanceStreamingConfigurations&&{AppInstanceStreamingConfigurations:e.AppInstanceStreamingConfigurations.map((e=>pe(e)))}}),ya=t=>({...t,...t.OutboundEventsHTTPSEndpoint&&{OutboundEventsHTTPSEndpoint:e.oc},...t.LambdaFunctionArn&&{LambdaFunctionArn:e.oc}}),va=e=>({...e,...e.EventsConfiguration&&{EventsConfiguration:Bt(e.EventsConfiguration)}}),ba=e=>({...e,...e.EmergencyCallingConfiguration&&{EmergencyCallingConfiguration:Lt(e.EmergencyCallingConfiguration)}}),Sa=e=>({...e,...e.EmergencyCallingConfiguration&&{EmergencyCallingConfiguration:Lt(e.EmergencyCallingConfiguration)}}),Ea=t=>({...t,...t.FallBackPhoneNumber&&{FallBackPhoneNumber:e.oc}}),Ca=e=>({...e,...e.Proxy&&{Proxy:kr(e.Proxy)}}),xa=e=>({...e,...e.Termination&&{Termination:Ar(e.Termination)}}),Ia=e=>({...e,...e.Termination&&{Termination:Ar(e.Termination)}}),ka=t=>({...t,...t.Credentials&&{Credentials:t.Credentials.map((t=>(t=>({...t,...t.Username&&{Username:e.oc},...t.Password&&{Password:e.oc}}))(t)))}}),Pa=e=>({...e,...e.Bot&&{Bot:Ae(e.Bot)}}),Aa=e=>({...e,...e.User&&{User:It(e.User)}}),Ta=e=>({...e,...e.PhoneNumber&&{PhoneNumber:Kt(e.PhoneNumber)}}),Ma=t=>({...t,...t.E164PhoneNumbers&&{E164PhoneNumbers:e.oc}}),Ra=t=>({...t,...t.Content&&{Content:e.oc},...t.Metadata&&{Metadata:e.oc},...t.ClientRequestToken&&{ClientRequestToken:e.oc}}),Fa=e=>({...e,...e.Tags&&{Tags:e.Tags.map((e=>ve(e)))}}),_a=e=>({...e,...e.Tags&&{Tags:e.Tags.map((e=>ve(e)))}}),Oa=t=>({...t,...t.ResourceARN&&{ResourceARN:e.oc},...t.Tags&&{Tags:t.Tags.map((e=>ve(e)))}}),Ua=t=>({...t,...t.TagKeys&&{TagKeys:e.oc}}),Na=t=>({...t,...t.TagKeys&&{TagKeys:e.oc}}),za=t=>({...t,...t.ResourceARN&&{ResourceARN:e.oc},...t.TagKeys&&{TagKeys:e.oc}}),Da=t=>({...t,...t.Name&&{Name:e.oc},...t.Metadata&&{Metadata:e.oc}}),La=t=>({...t,...t.Name&&{Name:e.oc},...t.Metadata&&{Metadata:e.oc}}),Ba=e=>({...e,...e.Bot&&{Bot:Ae(e.Bot)}}),qa=t=>({...t,...t.Name&&{Name:e.oc},...t.Metadata&&{Metadata:e.oc}}),Va=t=>({...t,...t.Content&&{Content:e.oc},...t.Metadata&&{Metadata:e.oc}}),ja=t=>({...t,...t.CallingName&&{CallingName:e.oc}}),Wa=e=>({...e,...e.PhoneNumber&&{PhoneNumber:Kt(e.PhoneNumber)}}),$a=t=>({...t,...t.CallingName&&{CallingName:e.oc}}),Ha=e=>({...e,...e.ProxySession&&{ProxySession:ut(e.ProxySession)}}),Ga=t=>({...t,...t.Name&&{Name:e.oc}}),Ka=e=>({...e,...e.Room&&{Room:mt(e.Room)}}),Ya=e=>({...e,...e.RoomMembership&&{RoomMembership:wt(e.RoomMembership)}}),Ja=e=>({...e,...e.Endpoints&&{Endpoints:e.Endpoints.map((e=>vt(e)))}}),Xa=e=>({...e,...e.SipMediaApplication&&{SipMediaApplication:St(e.SipMediaApplication)}}),Za=t=>({...t,...t.Arguments&&{Arguments:e.oc}}),Qa=e=>({...e,...e.AlexaForBusinessMetadata&&{AlexaForBusinessMetadata:de(e.AlexaForBusinessMetadata)}}),eo=e=>({...e,...e.User&&{User:It(e.User)}}),to=t=>({...t,...t.StreetNumber&&{StreetNumber:e.oc},...t.StreetInfo&&{StreetInfo:e.oc},...t.City&&{City:e.oc},...t.State&&{State:e.oc},...t.Country&&{Country:e.oc},...t.PostalCode&&{PostalCode:e.oc}}),no=t=>({...t,...t.Address&&{Address:ce(t.Address)},...t.CandidateAddressList&&{CandidateAddressList:t.CandidateAddressList.map((t=>(t=>({...t,...t.streetInfo&&{streetInfo:e.oc},...t.streetNumber&&{streetNumber:e.oc},...t.city&&{city:e.oc},...t.state&&{state:e.oc},...t.postalCode&&{postalCode:e.oc},...t.postalCodePlus4&&{postalCodePlus4:e.oc},...t.country&&{country:e.oc}}))(t)))}});class io extends e.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,i.a3)(t,io.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:a}=t,o={logger:a,clientName:"ChimeClient",commandName:"GetRoomCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:Er},{requestHandler:s}=t;return r.resolve((e=>s.handle(e.request,n||{})),o)}serialize(t,n){return(async(t,n)=>{const{hostname:i,protocol:r="https",port:a,path:o}=await n.endpoint();let s=`${o?.endsWith("/")?o.slice(0,-1):o||""}/accounts/{AccountId}/rooms/{RoomId}`;return s=(0,e.Is)(s,t,"AccountId",(()=>t.AccountId),"{AccountId}",!1),s=(0,e.Is)(s,t,"RoomId",(()=>t.RoomId),"{RoomId}",!1),new Qt.aW({protocol:r,hostname:i,port:a,method:"GET",headers:{},path:s,body:void 0})})(t,n)}deserialize(t,n){return(async(t,n)=>{if(200!==t.statusCode&&t.statusCode>=300)return(async(e,t)=>{const n={...e,body:await On(e.body,t)},i=Un(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chime#BadRequestException":throw await rn(n,t);case"ForbiddenException":case"com.amazonaws.chime#ForbiddenException":throw await on(n,t);case"NotFoundException":case"com.amazonaws.chime#NotFoundException":throw await sn(n,t);case"ServiceFailureException":case"com.amazonaws.chime#ServiceFailureException":throw await dn(n,t);case"ServiceUnavailableException":case"com.amazonaws.chime#ServiceUnavailableException":throw await ln(n,t);case"ThrottledClientException":case"com.amazonaws.chime#ThrottledClientException":throw await un(n,t);case"UnauthorizedClientException":case"com.amazonaws.chime#UnauthorizedClientException":throw await hn(n,t);default:const r=n.body;return tn({output:e,parsedBody:r,errorCode:i})}})(t,n);const i=(0,e.UI)({$metadata:Rn(t)}),r=(0,e.CE)((0,e.Wh)(await _n(t.body,n)),"body"),a=(0,e.qn)(r,{Room:e=>xn(e)});return Object.assign(i,a),i})(t,n)}}class ro extends e.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,i.a3)(t,ro.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:a}=t,o={logger:a,clientName:"ChimeClient",commandName:"GetSipMediaApplicationCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:Cr},{requestHandler:s}=t;return r.resolve((e=>s.handle(e.request,n||{})),o)}serialize(t,n){return(async(t,n)=>{const{hostname:i,protocol:r="https",port:a,path:o}=await n.endpoint();let s=`${o?.endsWith("/")?o.slice(0,-1):o||""}/sip-media-applications/{SipMediaApplicationId}`;return s=(0,e.Is)(s,t,"SipMediaApplicationId",(()=>t.SipMediaApplicationId),"{SipMediaApplicationId}",!1),new Qt.aW({protocol:r,hostname:i,port:a,method:"GET",headers:{},path:s,body:void 0})})(t,n)}deserialize(t,n){return(async(t,n)=>{if(200!==t.statusCode&&t.statusCode>=300)return(async(e,t)=>{const n={...e,body:await On(e.body,t)},i=Un(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chime#BadRequestException":throw await rn(n,t);case"ForbiddenException":case"com.amazonaws.chime#ForbiddenException":throw await on(n,t);case"NotFoundException":case"com.amazonaws.chime#NotFoundException":throw await sn(n,t);case"ServiceFailureException":case"com.amazonaws.chime#ServiceFailureException":throw await dn(n,t);case"ServiceUnavailableException":case"com.amazonaws.chime#ServiceUnavailableException":throw await ln(n,t);case"ThrottledClientException":case"com.amazonaws.chime#ThrottledClientException":throw await un(n,t);case"UnauthorizedClientException":case"com.amazonaws.chime#UnauthorizedClientException":throw await hn(n,t);default:const r=n.body;return tn({output:e,parsedBody:r,errorCode:i})}})(t,n);const i=(0,e.UI)({$metadata:Rn(t)}),r=(0,e.CE)((0,e.Wh)(await _n(t.body,n)),"body"),a=(0,e.qn)(r,{SipMediaApplication:e=>kn(e)});return Object.assign(i,a),i})(t,n)}}class ao extends e.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,i.a3)(t,ao.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:a}=t,o={logger:a,clientName:"ChimeClient",commandName:"GetSipMediaApplicationLoggingConfigurationCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:e=>e},{requestHandler:s}=t;return r.resolve((e=>s.handle(e.request,n||{})),o)}serialize(t,n){return(async(t,n)=>{const{hostname:i,protocol:r="https",port:a,path:o}=await n.endpoint();let s=`${o?.endsWith("/")?o.slice(0,-1):o||""}/sip-media-applications/{SipMediaApplicationId}/logging-configuration`;return s=(0,e.Is)(s,t,"SipMediaApplicationId",(()=>t.SipMediaApplicationId),"{SipMediaApplicationId}",!1),new Qt.aW({protocol:r,hostname:i,port:a,method:"GET",headers:{},path:s,body:void 0})})(t,n)}deserialize(t,n){return(async(t,n)=>{if(200!==t.statusCode&&t.statusCode>=300)return(async(e,t)=>{const n={...e,body:await On(e.body,t)},i=Un(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chime#BadRequestException":throw await rn(n,t);case"ForbiddenException":case"com.amazonaws.chime#ForbiddenException":throw await on(n,t);case"NotFoundException":case"com.amazonaws.chime#NotFoundException":throw await sn(n,t);case"ServiceFailureException":case"com.amazonaws.chime#ServiceFailureException":throw await dn(n,t);case"ServiceUnavailableException":case"com.amazonaws.chime#ServiceUnavailableException":throw await ln(n,t);case"ThrottledClientException":case"com.amazonaws.chime#ThrottledClientException":throw await un(n,t);case"UnauthorizedClientException":case"com.amazonaws.chime#UnauthorizedClientException":throw await hn(n,t);default:const r=n.body;return tn({output:e,parsedBody:r,errorCode:i})}})(t,n);const i=(0,e.UI)({$metadata:Rn(t)}),r=(0,e.CE)((0,e.Wh)(await _n(t.body,n)),"body"),a=(0,e.qn)(r,{SipMediaApplicationLoggingConfiguration:e.F3});return Object.assign(i,a),i})(t,n)}}class oo extends e.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,i.a3)(t,oo.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:a}=t,o={logger:a,clientName:"ChimeClient",commandName:"GetSipRuleCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:e=>e},{requestHandler:s}=t;return r.resolve((e=>s.handle(e.request,n||{})),o)}serialize(t,n){return(async(t,n)=>{const{hostname:i,protocol:r="https",port:a,path:o}=await n.endpoint();let s=`${o?.endsWith("/")?o.slice(0,-1):o||""}/sip-rules/{SipRuleId}`;return s=(0,e.Is)(s,t,"SipRuleId",(()=>t.SipRuleId),"{SipRuleId}",!1),new Qt.aW({protocol:r,hostname:i,port:a,method:"GET",headers:{},path:s,body:void 0})})(t,n)}deserialize(t,n){return(async(t,n)=>{if(200!==t.statusCode&&t.statusCode>=300)return(async(e,t)=>{const n={...e,body:await On(e.body,t)},i=Un(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chime#BadRequestException":throw await rn(n,t);case"ForbiddenException":case"com.amazonaws.chime#ForbiddenException":throw await on(n,t);case"NotFoundException":case"com.amazonaws.chime#NotFoundException":throw await sn(n,t);case"ServiceFailureException":case"com.amazonaws.chime#ServiceFailureException":throw await dn(n,t);case"ServiceUnavailableException":case"com.amazonaws.chime#ServiceUnavailableException":throw await ln(n,t);case"ThrottledClientException":case"com.amazonaws.chime#ThrottledClientException":throw await un(n,t);case"UnauthorizedClientException":case"com.amazonaws.chime#UnauthorizedClientException":throw await hn(n,t);default:const r=n.body;return tn({output:e,parsedBody:r,errorCode:i})}})(t,n);const i=(0,e.UI)({$metadata:Rn(t)}),r=(0,e.CE)((0,e.Wh)(await _n(t.body,n)),"body"),a=(0,e.qn)(r,{SipRule:e=>Pn(e)});return Object.assign(i,a),i})(t,n)}}class so extends e.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,i.a3)(t,so.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:a}=t,o={logger:a,clientName:"ChimeClient",commandName:"GetUserCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:xr},{requestHandler:s}=t;return r.resolve((e=>s.handle(e.request,n||{})),o)}serialize(t,n){return(async(t,n)=>{const{hostname:i,protocol:r="https",port:a,path:o}=await n.endpoint();let s=`${o?.endsWith("/")?o.slice(0,-1):o||""}/accounts/{AccountId}/users/{UserId}`;return s=(0,e.Is)(s,t,"AccountId",(()=>t.AccountId),"{AccountId}",!1),s=(0,e.Is)(s,t,"UserId",(()=>t.UserId),"{UserId}",!1),new Qt.aW({protocol:r,hostname:i,port:a,method:"GET",headers:{},path:s,body:void 0})})(t,n)}deserialize(t,n){return(async(t,n)=>{if(200!==t.statusCode&&t.statusCode>=300)return(async(e,t)=>{const n={...e,body:await On(e.body,t)},i=Un(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chime#BadRequestException":throw await rn(n,t);case"ForbiddenException":case"com.amazonaws.chime#ForbiddenException":throw await on(n,t);case"NotFoundException":case"com.amazonaws.chime#NotFoundException":throw await sn(n,t);case"ServiceFailureException":case"com.amazonaws.chime#ServiceFailureException":throw await dn(n,t);case"ServiceUnavailableException":case"com.amazonaws.chime#ServiceUnavailableException":throw await ln(n,t);case"ThrottledClientException":case"com.amazonaws.chime#ThrottledClientException":throw await un(n,t);case"UnauthorizedClientException":case"com.amazonaws.chime#UnauthorizedClientException":throw await hn(n,t);default:const r=n.body;return tn({output:e,parsedBody:r,errorCode:i})}})(t,n);const i=(0,e.UI)({$metadata:Rn(t)}),r=(0,e.CE)((0,e.Wh)(await _n(t.body,n)),"body"),a=(0,e.qn)(r,{User:e=>An(e)});return Object.assign(i,a),i})(t,n)}}class co extends e.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,i.a3)(t,co.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:a}=t,o={logger:a,clientName:"ChimeClient",commandName:"GetUserSettingsCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:e=>e},{requestHandler:s}=t;return r.resolve((e=>s.handle(e.request,n||{})),o)}serialize(t,n){return(async(t,n)=>{const{hostname:i,protocol:r="https",port:a,path:o}=await n.endpoint();let s=`${o?.endsWith("/")?o.slice(0,-1):o||""}/accounts/{AccountId}/users/{UserId}/settings`;return s=(0,e.Is)(s,t,"AccountId",(()=>t.AccountId),"{AccountId}",!1),s=(0,e.Is)(s,t,"UserId",(()=>t.UserId),"{UserId}",!1),new Qt.aW({protocol:r,hostname:i,port:a,method:"GET",headers:{},path:s,body:void 0})})(t,n)}deserialize(t,n){return(async(t,n)=>{if(200!==t.statusCode&&t.statusCode>=300)return(async(e,t)=>{const n={...e,body:await On(e.body,t)},i=Un(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chime#BadRequestException":throw await rn(n,t);case"ForbiddenException":case"com.amazonaws.chime#ForbiddenException":throw await on(n,t);case"NotFoundException":case"com.amazonaws.chime#NotFoundException":throw await sn(n,t);case"ServiceFailureException":case"com.amazonaws.chime#ServiceFailureException":throw await dn(n,t);case"ServiceUnavailableException":case"com.amazonaws.chime#ServiceUnavailableException":throw await ln(n,t);case"ThrottledClientException":case"com.amazonaws.chime#ThrottledClientException":throw await un(n,t);case"UnauthorizedClientException":case"com.amazonaws.chime#UnauthorizedClientException":throw await hn(n,t);default:const r=n.body;return tn({output:e,parsedBody:r,errorCode:i})}})(t,n);const i=(0,e.UI)({$metadata:Rn(t)}),r=(0,e.CE)((0,e.Wh)(await _n(t.body,n)),"body"),a=(0,e.qn)(r,{UserSettings:e.F3});return Object.assign(i,a),i})(t,n)}}class lo extends e.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,i.a3)(t,lo.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:a}=t,o={logger:a,clientName:"ChimeClient",commandName:"GetVoiceConnectorCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:e=>e},{requestHandler:s}=t;return r.resolve((e=>s.handle(e.request,n||{})),o)}serialize(t,n){return(async(t,n)=>{const{hostname:i,protocol:r="https",port:a,path:o}=await n.endpoint();let s=`${o?.endsWith("/")?o.slice(0,-1):o||""}/voice-connectors/{VoiceConnectorId}`;return s=(0,e.Is)(s,t,"VoiceConnectorId",(()=>t.VoiceConnectorId),"{VoiceConnectorId}",!1),new Qt.aW({protocol:r,hostname:i,port:a,method:"GET",headers:{},path:s,body:void 0})})(t,n)}deserialize(t,n){return(async(t,n)=>{if(200!==t.statusCode&&t.statusCode>=300)return(async(e,t)=>{const n={...e,body:await On(e.body,t)},i=Un(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chime#BadRequestException":throw await rn(n,t);case"ForbiddenException":case"com.amazonaws.chime#ForbiddenException":throw await on(n,t);case"NotFoundException":case"com.amazonaws.chime#NotFoundException":throw await sn(n,t);case"ServiceFailureException":case"com.amazonaws.chime#ServiceFailureException":throw await dn(n,t);case"ServiceUnavailableException":case"com.amazonaws.chime#ServiceUnavailableException":throw await ln(n,t);case"ThrottledClientException":case"com.amazonaws.chime#ThrottledClientException":throw await un(n,t);case"UnauthorizedClientException":case"com.amazonaws.chime#UnauthorizedClientException":throw await hn(n,t);default:const r=n.body;return tn({output:e,parsedBody:r,errorCode:i})}})(t,n);const i=(0,e.UI)({$metadata:Rn(t)}),r=(0,e.CE)((0,e.Wh)(await _n(t.body,n)),"body"),a=(0,e.qn)(r,{VoiceConnector:e=>Tn(e)});return Object.assign(i,a),i})(t,n)}}class uo extends e.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,i.a3)(t,uo.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:a}=t,o={logger:a,clientName:"ChimeClient",commandName:"GetVoiceConnectorEmergencyCallingConfigurationCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:Ir},{requestHandler:s}=t;return r.resolve((e=>s.handle(e.request,n||{})),o)}serialize(t,n){return(async(t,n)=>{const{hostname:i,protocol:r="https",port:a,path:o}=await n.endpoint();let s=`${o?.endsWith("/")?o.slice(0,-1):o||""}/voice-connectors/{VoiceConnectorId}/emergency-calling-configuration`;return s=(0,e.Is)(s,t,"VoiceConnectorId",(()=>t.VoiceConnectorId),"{VoiceConnectorId}",!1),new Qt.aW({protocol:r,hostname:i,port:a,method:"GET",headers:{},path:s,body:void 0})})(t,n)}deserialize(t,n){return(async(t,n)=>{if(200!==t.statusCode&&t.statusCode>=300)return(async(e,t)=>{const n={...e,body:await On(e.body,t)},i=Un(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chime#BadRequestException":throw await rn(n,t);case"ForbiddenException":case"com.amazonaws.chime#ForbiddenException":throw await on(n,t);case"NotFoundException":case"com.amazonaws.chime#NotFoundException":throw await sn(n,t);case"ServiceFailureException":case"com.amazonaws.chime#ServiceFailureException":throw await dn(n,t);case"ServiceUnavailableException":case"com.amazonaws.chime#ServiceUnavailableException":throw await ln(n,t);case"ThrottledClientException":case"com.amazonaws.chime#ThrottledClientException":throw await un(n,t);case"UnauthorizedClientException":case"com.amazonaws.chime#UnauthorizedClientException":throw await hn(n,t);default:const r=n.body;return tn({output:e,parsedBody:r,errorCode:i})}})(t,n);const i=(0,e.UI)({$metadata:Rn(t)}),r=(0,e.CE)((0,e.Wh)(await _n(t.body,n)),"body"),a=(0,e.qn)(r,{EmergencyCallingConfiguration:e.F3});return Object.assign(i,a),i})(t,n)}}class ho extends e.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,i.a3)(t,ho.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:a}=t,o={logger:a,clientName:"ChimeClient",commandName:"GetVoiceConnectorGroupCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:e=>e},{requestHandler:s}=t;return r.resolve((e=>s.handle(e.request,n||{})),o)}serialize(t,n){return(async(t,n)=>{const{hostname:i,protocol:r="https",port:a,path:o}=await n.endpoint();let s=`${o?.endsWith("/")?o.slice(0,-1):o||""}/voice-connector-groups/{VoiceConnectorGroupId}`;return s=(0,e.Is)(s,t,"VoiceConnectorGroupId",(()=>t.VoiceConnectorGroupId),"{VoiceConnectorGroupId}",!1),new Qt.aW({protocol:r,hostname:i,port:a,method:"GET",headers:{},path:s,body:void 0})})(t,n)}deserialize(t,n){return(async(t,n)=>{if(200!==t.statusCode&&t.statusCode>=300)return(async(e,t)=>{const n={...e,body:await On(e.body,t)},i=Un(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chime#BadRequestException":throw await rn(n,t);case"ForbiddenException":case"com.amazonaws.chime#ForbiddenException":throw await on(n,t);case"NotFoundException":case"com.amazonaws.chime#NotFoundException":throw await sn(n,t);case"ServiceFailureException":case"com.amazonaws.chime#ServiceFailureException":throw await dn(n,t);case"ServiceUnavailableException":case"com.amazonaws.chime#ServiceUnavailableException":throw await ln(n,t);case"ThrottledClientException":case"com.amazonaws.chime#ThrottledClientException":throw await un(n,t);case"UnauthorizedClientException":case"com.amazonaws.chime#UnauthorizedClientException":throw await hn(n,t);default:const r=n.body;return tn({output:e,parsedBody:r,errorCode:i})}})(t,n);const i=(0,e.UI)({$metadata:Rn(t)}),r=(0,e.CE)((0,e.Wh)(await _n(t.body,n)),"body"),a=(0,e.qn)(r,{VoiceConnectorGroup:e=>Mn(e)});return Object.assign(i,a),i})(t,n)}}class po extends e.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,i.a3)(t,po.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:a}=t,o={logger:a,clientName:"ChimeClient",commandName:"GetVoiceConnectorLoggingConfigurationCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:e=>e},{requestHandler:s}=t;return r.resolve((e=>s.handle(e.request,n||{})),o)}serialize(t,n){return(async(t,n)=>{const{hostname:i,protocol:r="https",port:a,path:o}=await n.endpoint();let s=`${o?.endsWith("/")?o.slice(0,-1):o||""}/voice-connectors/{VoiceConnectorId}/logging-configuration`;return s=(0,e.Is)(s,t,"VoiceConnectorId",(()=>t.VoiceConnectorId),"{VoiceConnectorId}",!1),new Qt.aW({protocol:r,hostname:i,port:a,method:"GET",headers:{},path:s,body:void 0})})(t,n)}deserialize(t,n){return(async(t,n)=>{if(200!==t.statusCode&&t.statusCode>=300)return(async(e,t)=>{const n={...e,body:await On(e.body,t)},i=Un(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chime#BadRequestException":throw await rn(n,t);case"ForbiddenException":case"com.amazonaws.chime#ForbiddenException":throw await on(n,t);case"NotFoundException":case"com.amazonaws.chime#NotFoundException":throw await sn(n,t);case"ServiceFailureException":case"com.amazonaws.chime#ServiceFailureException":throw await dn(n,t);case"ServiceUnavailableException":case"com.amazonaws.chime#ServiceUnavailableException":throw await ln(n,t);case"ThrottledClientException":case"com.amazonaws.chime#ThrottledClientException":throw await un(n,t);case"UnauthorizedClientException":case"com.amazonaws.chime#UnauthorizedClientException":throw await hn(n,t);default:const r=n.body;return tn({output:e,parsedBody:r,errorCode:i})}})(t,n);const i=(0,e.UI)({$metadata:Rn(t)}),r=(0,e.CE)((0,e.Wh)(await _n(t.body,n)),"body"),a=(0,e.qn)(r,{LoggingConfiguration:e.F3});return Object.assign(i,a),i})(t,n)}}class mo extends e.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,i.a3)(t,mo.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:a}=t,o={logger:a,clientName:"ChimeClient",commandName:"GetVoiceConnectorOriginationCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:e=>e},{requestHandler:s}=t;return r.resolve((e=>s.handle(e.request,n||{})),o)}serialize(t,n){return(async(t,n)=>{const{hostname:i,protocol:r="https",port:a,path:o}=await n.endpoint();let s=`${o?.endsWith("/")?o.slice(0,-1):o||""}/voice-connectors/{VoiceConnectorId}/origination`;return s=(0,e.Is)(s,t,"VoiceConnectorId",(()=>t.VoiceConnectorId),"{VoiceConnectorId}",!1),new Qt.aW({protocol:r,hostname:i,port:a,method:"GET",headers:{},path:s,body:void 0})})(t,n)}deserialize(t,n){return(async(t,n)=>{if(200!==t.statusCode&&t.statusCode>=300)return(async(e,t)=>{const n={...e,body:await On(e.body,t)},i=Un(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chime#BadRequestException":throw await rn(n,t);case"ForbiddenException":case"com.amazonaws.chime#ForbiddenException":throw await on(n,t);case"NotFoundException":case"com.amazonaws.chime#NotFoundException":throw await sn(n,t);case"ServiceFailureException":case"com.amazonaws.chime#ServiceFailureException":throw await dn(n,t);case"ServiceUnavailableException":case"com.amazonaws.chime#ServiceUnavailableException":throw await ln(n,t);case"ThrottledClientException":case"com.amazonaws.chime#ThrottledClientException":throw await un(n,t);case"UnauthorizedClientException":case"com.amazonaws.chime#UnauthorizedClientException":throw await hn(n,t);default:const r=n.body;return tn({output:e,parsedBody:r,errorCode:i})}})(t,n);const i=(0,e.UI)({$metadata:Rn(t)}),r=(0,e.CE)((0,e.Wh)(await _n(t.body,n)),"body"),a=(0,e.qn)(r,{Origination:e.F3});return Object.assign(i,a),i})(t,n)}}class fo extends e.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,i.a3)(t,fo.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:a}=t,o={logger:a,clientName:"ChimeClient",commandName:"GetVoiceConnectorProxyCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:Pr},{requestHandler:s}=t;return r.resolve((e=>s.handle(e.request,n||{})),o)}serialize(t,n){return(async(t,n)=>{const{hostname:i,protocol:r="https",port:a,path:o}=await n.endpoint();let s=`${o?.endsWith("/")?o.slice(0,-1):o||""}/voice-connectors/{VoiceConnectorId}/programmable-numbers/proxy`;return s=(0,e.Is)(s,t,"VoiceConnectorId",(()=>t.VoiceConnectorId),"{VoiceConnectorId}",!1),new Qt.aW({protocol:r,hostname:i,port:a,method:"GET",headers:{},path:s,body:void 0})})(t,n)}deserialize(t,n){return(async(t,n)=>{if(200!==t.statusCode&&t.statusCode>=300)return(async(e,t)=>{const n={...e,body:await On(e.body,t)},i=Un(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chime#BadRequestException":throw await rn(n,t);case"ForbiddenException":case"com.amazonaws.chime#ForbiddenException":throw await on(n,t);case"NotFoundException":case"com.amazonaws.chime#NotFoundException":throw await sn(n,t);case"ServiceFailureException":case"com.amazonaws.chime#ServiceFailureException":throw await dn(n,t);case"ServiceUnavailableException":case"com.amazonaws.chime#ServiceUnavailableException":throw await ln(n,t);case"ThrottledClientException":case"com.amazonaws.chime#ThrottledClientException":throw await un(n,t);case"UnauthorizedClientException":case"com.amazonaws.chime#UnauthorizedClientException":throw await hn(n,t);default:const r=n.body;return tn({output:e,parsedBody:r,errorCode:i})}})(t,n);const i=(0,e.UI)({$metadata:Rn(t)}),r=(0,e.CE)((0,e.Wh)(await _n(t.body,n)),"body"),a=(0,e.qn)(r,{Proxy:e.F3});return Object.assign(i,a),i})(t,n)}}class go extends e.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,i.a3)(t,go.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:a}=t,o={logger:a,clientName:"ChimeClient",commandName:"GetVoiceConnectorStreamingConfigurationCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:e=>e},{requestHandler:s}=t;return r.resolve((e=>s.handle(e.request,n||{})),o)}serialize(t,n){return(async(t,n)=>{const{hostname:i,protocol:r="https",port:a,path:o}=await n.endpoint();let s=`${o?.endsWith("/")?o.slice(0,-1):o||""}/voice-connectors/{VoiceConnectorId}/streaming-configuration`;return s=(0,e.Is)(s,t,"VoiceConnectorId",(()=>t.VoiceConnectorId),"{VoiceConnectorId}",!1),new Qt.aW({protocol:r,hostname:i,port:a,method:"GET",headers:{},path:s,body:void 0})})(t,n)}deserialize(t,n){return(async(t,n)=>{if(200!==t.statusCode&&t.statusCode>=300)return(async(e,t)=>{const n={...e,body:await On(e.body,t)},i=Un(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chime#BadRequestException":throw await rn(n,t);case"ForbiddenException":case"com.amazonaws.chime#ForbiddenException":throw await on(n,t);case"NotFoundException":case"com.amazonaws.chime#NotFoundException":throw await sn(n,t);case"ServiceFailureException":case"com.amazonaws.chime#ServiceFailureException":throw await dn(n,t);case"ServiceUnavailableException":case"com.amazonaws.chime#ServiceUnavailableException":throw await ln(n,t);case"ThrottledClientException":case"com.amazonaws.chime#ThrottledClientException":throw await un(n,t);case"UnauthorizedClientException":case"com.amazonaws.chime#UnauthorizedClientException":throw await hn(n,t);default:const r=n.body;return tn({output:e,parsedBody:r,errorCode:i})}})(t,n);const i=(0,e.UI)({$metadata:Rn(t)}),r=(0,e.CE)((0,e.Wh)(await _n(t.body,n)),"body"),a=(0,e.qn)(r,{StreamingConfiguration:e.F3});return Object.assign(i,a),i})(t,n)}}class wo extends e.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,i.a3)(t,wo.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:a}=t,o={logger:a,clientName:"ChimeClient",commandName:"GetVoiceConnectorTerminationCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:Tr},{requestHandler:s}=t;return r.resolve((e=>s.handle(e.request,n||{})),o)}serialize(t,n){return(async(t,n)=>{const{hostname:i,protocol:r="https",port:a,path:o}=await n.endpoint();let s=`${o?.endsWith("/")?o.slice(0,-1):o||""}/voice-connectors/{VoiceConnectorId}/termination`;return s=(0,e.Is)(s,t,"VoiceConnectorId",(()=>t.VoiceConnectorId),"{VoiceConnectorId}",!1),new Qt.aW({protocol:r,hostname:i,port:a,method:"GET",headers:{},path:s,body:void 0})})(t,n)}deserialize(t,n){return(async(t,n)=>{if(200!==t.statusCode&&t.statusCode>=300)return(async(e,t)=>{const n={...e,body:await On(e.body,t)},i=Un(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chime#BadRequestException":throw await rn(n,t);case"ForbiddenException":case"com.amazonaws.chime#ForbiddenException":throw await on(n,t);case"NotFoundException":case"com.amazonaws.chime#NotFoundException":throw await sn(n,t);case"ServiceFailureException":case"com.amazonaws.chime#ServiceFailureException":throw await dn(n,t);case"ServiceUnavailableException":case"com.amazonaws.chime#ServiceUnavailableException":throw await ln(n,t);case"ThrottledClientException":case"com.amazonaws.chime#ThrottledClientException":throw await un(n,t);case"UnauthorizedClientException":case"com.amazonaws.chime#UnauthorizedClientException":throw await hn(n,t);default:const r=n.body;return tn({output:e,parsedBody:r,errorCode:i})}})(t,n);const i=(0,e.UI)({$metadata:Rn(t)}),r=(0,e.CE)((0,e.Wh)(await _n(t.body,n)),"body"),a=(0,e.qn)(r,{Termination:e.F3});return Object.assign(i,a),i})(t,n)}}class yo extends e.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,i.a3)(t,yo.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:a}=t,o={logger:a,clientName:"ChimeClient",commandName:"GetVoiceConnectorTerminationHealthCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:e=>e},{requestHandler:s}=t;return r.resolve((e=>s.handle(e.request,n||{})),o)}serialize(t,n){return(async(t,n)=>{const{hostname:i,protocol:r="https",port:a,path:o}=await n.endpoint();let s=`${o?.endsWith("/")?o.slice(0,-1):o||""}/voice-connectors/{VoiceConnectorId}/termination/health`;return s=(0,e.Is)(s,t,"VoiceConnectorId",(()=>t.VoiceConnectorId),"{VoiceConnectorId}",!1),new Qt.aW({protocol:r,hostname:i,port:a,method:"GET",headers:{},path:s,body:void 0})})(t,n)}deserialize(t,n){return(async(t,n)=>{if(200!==t.statusCode&&t.statusCode>=300)return(async(e,t)=>{const n={...e,body:await On(e.body,t)},i=Un(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chime#BadRequestException":throw await rn(n,t);case"ForbiddenException":case"com.amazonaws.chime#ForbiddenException":throw await on(n,t);case"NotFoundException":case"com.amazonaws.chime#NotFoundException":throw await sn(n,t);case"ServiceFailureException":case"com.amazonaws.chime#ServiceFailureException":throw await dn(n,t);case"ServiceUnavailableException":case"com.amazonaws.chime#ServiceUnavailableException":throw await ln(n,t);case"ThrottledClientException":case"com.amazonaws.chime#ThrottledClientException":throw await un(n,t);case"UnauthorizedClientException":case"com.amazonaws.chime#UnauthorizedClientException":throw await hn(n,t);default:const r=n.body;return tn({output:e,parsedBody:r,errorCode:i})}})(t,n);const i=(0,e.UI)({$metadata:Rn(t)}),r=(0,e.CE)((0,e.Wh)(await _n(t.body,n)),"body"),a=(0,e.qn)(r,{TerminationHealth:t=>((t,n)=>(0,e.qn)(t,{Source:e.pY,Timestamp:t=>(0,e.CE)((0,e.aH)(t))}))(t)});return Object.assign(i,a),i})(t,n)}}class vo extends e.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,i.a3)(t,vo.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:a}=t,o={logger:a,clientName:"ChimeClient",commandName:"InviteUsersCommand",inputFilterSensitiveLog:Mr,outputFilterSensitiveLog:Rr},{requestHandler:s}=t;return r.resolve((e=>s.handle(e.request,n||{})),o)}serialize(t,n){return(async(t,n)=>{const{hostname:i,protocol:r="https",port:a,path:o}=await n.endpoint();let s=`${o?.endsWith("/")?o.slice(0,-1):o||""}/accounts/{AccountId}/users`;s=(0,e.Is)(s,t,"AccountId",(()=>t.AccountId),"{AccountId}",!1);const c=(0,e.UI)({operation:[,"add"]});let d;return d=JSON.stringify((0,e.qn)(t,{UserEmailList:t=>(0,e.F3)(t),UserType:[]})),new Qt.aW({protocol:r,hostname:i,port:a,method:"POST",headers:{"content-type":"application/json"},path:s,query:c,body:d})})(t,n)}deserialize(t,n){return(async(t,n)=>{if(201!==t.statusCode&&t.statusCode>=300)return(async(e,t)=>{const n={...e,body:await On(e.body,t)},i=Un(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chime#BadRequestException":throw await rn(n,t);case"ForbiddenException":case"com.amazonaws.chime#ForbiddenException":throw await on(n,t);case"NotFoundException":case"com.amazonaws.chime#NotFoundException":throw await sn(n,t);case"ServiceFailureException":case"com.amazonaws.chime#ServiceFailureException":throw await dn(n,t);case"ServiceUnavailableException":case"com.amazonaws.chime#ServiceUnavailableException":throw await ln(n,t);case"ThrottledClientException":case"com.amazonaws.chime#ThrottledClientException":throw await un(n,t);case"UnauthorizedClientException":case"com.amazonaws.chime#UnauthorizedClientException":throw await hn(n,t);default:const r=n.body;return tn({output:e,parsedBody:r,errorCode:i})}})(t,n);const i=(0,e.UI)({$metadata:Rn(t)}),r=(0,e.CE)((0,e.Wh)(await _n(t.body,n)),"body"),a=(0,e.qn)(r,{Invites:e.F3});return Object.assign(i,a),i})(t,n)}}class bo extends e.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,i.a3)(t,bo.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:a}=t,o={logger:a,clientName:"ChimeClient",commandName:"ListAccountsCommand",inputFilterSensitiveLog:Fr,outputFilterSensitiveLog:e=>e},{requestHandler:s}=t;return r.resolve((e=>s.handle(e.request,n||{})),o)}serialize(t,n){return(async(t,n)=>{const{hostname:i,protocol:r="https",port:a,path:o}=await n.endpoint(),s=`${o?.endsWith("/")?o.slice(0,-1):o||""}/accounts`,c=(0,e.UI)({name:[,t.Name],"user-email":[,t.UserEmail],"next-token":[,t.NextToken],"max-results":[()=>void 0!==t.MaxResults,()=>t.MaxResults.toString()]});return new Qt.aW({protocol:r,hostname:i,port:a,method:"GET",headers:{},path:s,query:c,body:void 0})})(t,n)}deserialize(t,n){return(async(t,n)=>{if(200!==t.statusCode&&t.statusCode>=300)return(async(e,t)=>{const n={...e,body:await On(e.body,t)},i=Un(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chime#BadRequestException":throw await rn(n,t);case"ForbiddenException":case"com.amazonaws.chime#ForbiddenException":throw await on(n,t);case"NotFoundException":case"com.amazonaws.chime#NotFoundException":throw await sn(n,t);case"ServiceFailureException":case"com.amazonaws.chime#ServiceFailureException":throw await dn(n,t);case"ServiceUnavailableException":case"com.amazonaws.chime#ServiceUnavailableException":throw await ln(n,t);case"ThrottledClientException":case"com.amazonaws.chime#ThrottledClientException":throw await un(n,t);case"UnauthorizedClientException":case"com.amazonaws.chime#UnauthorizedClientException":throw await hn(n,t);default:const r=n.body;return tn({output:e,parsedBody:r,errorCode:i})}})(t,n);const i=(0,e.UI)({$metadata:Rn(t)}),r=(0,e.CE)((0,e.Wh)(await _n(t.body,n)),"body"),a=(0,e.qn)(r,{Accounts:e=>((e,t)=>{const n=(e||[]).filter((e=>null!=e)).map((e=>mn(e)));return n})(e),NextToken:e.pY});return Object.assign(i,a),i})(t,n)}}class So extends e.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,i.a3)(t,So.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:a}=t,o={logger:a,clientName:"ChimeClient",commandName:"ListAppInstanceAdminsCommand",inputFilterSensitiveLog:_r,outputFilterSensitiveLog:Or},{requestHandler:s}=t;return r.resolve((e=>s.handle(e.request,n||{})),o)}serialize(t,n){return(async(t,n)=>{const{hostname:i,protocol:r="https",port:a,path:o}=await n.endpoint();let s=`${o?.endsWith("/")?o.slice(0,-1):o||""}/app-instances/{AppInstanceArn}/admins`;s=(0,e.Is)(s,t,"AppInstanceArn",(()=>t.AppInstanceArn),"{AppInstanceArn}",!1);const c=(0,e.UI)({"max-results":[()=>void 0!==t.MaxResults,()=>t.MaxResults.toString()],"next-token":[,t.NextToken]});let{hostname:d}=await n.endpoint();if(!0!==n.disableHostPrefix&&(d="identity-"+d,!(0,Qt.Lb)(d)))throw new Error("ValidationError: prefixed hostname must be hostname compatible.");return new Qt.aW({protocol:r,hostname:d,port:a,method:"GET",headers:{},path:s,query:c,body:void 0})})(t,n)}deserialize(t,n){return(async(t,n)=>{if(200!==t.statusCode&&t.statusCode>=300)return(async(e,t)=>{const n={...e,body:await On(e.body,t)},i=Un(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chime#BadRequestException":throw await rn(n,t);case"ForbiddenException":case"com.amazonaws.chime#ForbiddenException":throw await on(n,t);case"ServiceFailureException":case"com.amazonaws.chime#ServiceFailureException":throw await dn(n,t);case"ServiceUnavailableException":case"com.amazonaws.chime#ServiceUnavailableException":throw await ln(n,t);case"ThrottledClientException":case"com.amazonaws.chime#ThrottledClientException":throw await un(n,t);case"UnauthorizedClientException":case"com.amazonaws.chime#UnauthorizedClientException":throw await hn(n,t);default:const r=n.body;return tn({output:e,parsedBody:r,errorCode:i})}})(t,n);const i=(0,e.UI)({$metadata:Rn(t)}),r=(0,e.CE)((0,e.Wh)(await _n(t.body,n)),"body"),a=(0,e.qn)(r,{AppInstanceAdmins:e.F3,AppInstanceArn:e.pY,NextToken:e.pY});return Object.assign(i,a),i})(t,n)}}class Eo extends e.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,i.a3)(t,Eo.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:a}=t,o={logger:a,clientName:"ChimeClient",commandName:"ListAppInstancesCommand",inputFilterSensitiveLog:Ur,outputFilterSensitiveLog:Nr},{requestHandler:s}=t;return r.resolve((e=>s.handle(e.request,n||{})),o)}serialize(t,n){return(async(t,n)=>{const{hostname:i,protocol:r="https",port:a,path:o}=await n.endpoint(),s=`${o?.endsWith("/")?o.slice(0,-1):o||""}/app-instances`,c=(0,e.UI)({"max-results":[()=>void 0!==t.MaxResults,()=>t.MaxResults.toString()],"next-token":[,t.NextToken]});let{hostname:d}=await n.endpoint();if(!0!==n.disableHostPrefix&&(d="identity-"+d,!(0,Qt.Lb)(d)))throw new Error("ValidationError: prefixed hostname must be hostname compatible.");return new Qt.aW({protocol:r,hostname:d,port:a,method:"GET",headers:{},path:s,query:c,body:void 0})})(t,n)}deserialize(t,n){return(async(t,n)=>{if(200!==t.statusCode&&t.statusCode>=300)return(async(e,t)=>{const n={...e,body:await On(e.body,t)},i=Un(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chime#BadRequestException":throw await rn(n,t);case"ForbiddenException":case"com.amazonaws.chime#ForbiddenException":throw await on(n,t);case"ServiceFailureException":case"com.amazonaws.chime#ServiceFailureException":throw await dn(n,t);case"ServiceUnavailableException":case"com.amazonaws.chime#ServiceUnavailableException":throw await ln(n,t);case"ThrottledClientException":case"com.amazonaws.chime#ThrottledClientException":throw await un(n,t);case"UnauthorizedClientException":case"com.amazonaws.chime#UnauthorizedClientException":throw await hn(n,t);default:const r=n.body;return tn({output:e,parsedBody:r,errorCode:i})}})(t,n);const i=(0,e.UI)({$metadata:Rn(t)}),r=(0,e.CE)((0,e.Wh)(await _n(t.body,n)),"body"),a=(0,e.qn)(r,{AppInstances:e.F3,NextToken:e.pY});return Object.assign(i,a),i})(t,n)}}class Co extends e.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,i.a3)(t,Co.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:a}=t,o={logger:a,clientName:"ChimeClient",commandName:"ListAppInstanceUsersCommand",inputFilterSensitiveLog:zr,outputFilterSensitiveLog:Dr},{requestHandler:s}=t;return r.resolve((e=>s.handle(e.request,n||{})),o)}serialize(t,n){return(async(t,n)=>{const{hostname:i,protocol:r="https",port:a,path:o}=await n.endpoint(),s=`${o?.endsWith("/")?o.slice(0,-1):o||""}/app-instance-users`,c=(0,e.UI)({"app-instance-arn":[,(0,e.CE)(t.AppInstanceArn,"AppInstanceArn")],"max-results":[()=>void 0!==t.MaxResults,()=>t.MaxResults.toString()],"next-token":[,t.NextToken]});let{hostname:d}=await n.endpoint();if(!0!==n.disableHostPrefix&&(d="identity-"+d,!(0,Qt.Lb)(d)))throw new Error("ValidationError: prefixed hostname must be hostname compatible.");return new Qt.aW({protocol:r,hostname:d,port:a,method:"GET",headers:{},path:s,query:c,body:void 0})})(t,n)}deserialize(t,n){return(async(t,n)=>{if(200!==t.statusCode&&t.statusCode>=300)return(async(e,t)=>{const n={...e,body:await On(e.body,t)},i=Un(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chime#BadRequestException":throw await rn(n,t);case"ForbiddenException":case"com.amazonaws.chime#ForbiddenException":throw await on(n,t);case"ServiceFailureException":case"com.amazonaws.chime#ServiceFailureException":throw await dn(n,t);case"ServiceUnavailableException":case"com.amazonaws.chime#ServiceUnavailableException":throw await ln(n,t);case"ThrottledClientException":case"com.amazonaws.chime#ThrottledClientException":throw await un(n,t);case"UnauthorizedClientException":case"com.amazonaws.chime#UnauthorizedClientException":throw await hn(n,t);default:const r=n.body;return tn({output:e,parsedBody:r,errorCode:i})}})(t,n);const i=(0,e.UI)({$metadata:Rn(t)}),r=(0,e.CE)((0,e.Wh)(await _n(t.body,n)),"body"),a=(0,e.qn)(r,{AppInstanceArn:e.pY,AppInstanceUsers:e.F3,NextToken:e.pY});return Object.assign(i,a),i})(t,n)}}class xo extends e.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,i.a3)(t,xo.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:a}=t,o={logger:a,clientName:"ChimeClient",commandName:"ListAttendeesCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:Lr},{requestHandler:s}=t;return r.resolve((e=>s.handle(e.request,n||{})),o)}serialize(t,n){return(async(t,n)=>{const{hostname:i,protocol:r="https",port:a,path:o}=await n.endpoint();let s=`${o?.endsWith("/")?o.slice(0,-1):o||""}/meetings/{MeetingId}/attendees`;s=(0,e.Is)(s,t,"MeetingId",(()=>t.MeetingId),"{MeetingId}",!1);const c=(0,e.UI)({"next-token":[,t.NextToken],"max-results":[()=>void 0!==t.MaxResults,()=>t.MaxResults.toString()]});return new Qt.aW({protocol:r,hostname:i,port:a,method:"GET",headers:{},path:s,query:c,body:void 0})})(t,n)}deserialize(t,n){return(async(t,n)=>{if(200!==t.statusCode&&t.statusCode>=300)return(async(e,t)=>{const n={...e,body:await On(e.body,t)},i=Un(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chime#BadRequestException":throw await rn(n,t);case"ForbiddenException":case"com.amazonaws.chime#ForbiddenException":throw await on(n,t);case"NotFoundException":case"com.amazonaws.chime#NotFoundException":throw await sn(n,t);case"ServiceFailureException":case"com.amazonaws.chime#ServiceFailureException":throw await dn(n,t);case"ServiceUnavailableException":case"com.amazonaws.chime#ServiceUnavailableException":throw await ln(n,t);case"ThrottledClientException":case"com.amazonaws.chime#ThrottledClientException":throw await un(n,t);case"UnauthorizedClientException":case"com.amazonaws.chime#UnauthorizedClientException":throw await hn(n,t);default:const r=n.body;return tn({output:e,parsedBody:r,errorCode:i})}})(t,n);const i=(0,e.UI)({$metadata:Rn(t)}),r=(0,e.CE)((0,e.Wh)(await _n(t.body,n)),"body"),a=(0,e.qn)(r,{Attendees:e.F3,NextToken:e.pY});return Object.assign(i,a),i})(t,n)}}class Io extends e.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,i.a3)(t,Io.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:a}=t,o={logger:a,clientName:"ChimeClient",commandName:"ListAttendeeTagsCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:Br},{requestHandler:s}=t;return r.resolve((e=>s.handle(e.request,n||{})),o)}serialize(t,n){return(async(t,n)=>{const{hostname:i,protocol:r="https",port:a,path:o}=await n.endpoint();let s=`${o?.endsWith("/")?o.slice(0,-1):o||""}/meetings/{MeetingId}/attendees/{AttendeeId}/tags`;return s=(0,e.Is)(s,t,"MeetingId",(()=>t.MeetingId),"{MeetingId}",!1),s=(0,e.Is)(s,t,"AttendeeId",(()=>t.AttendeeId),"{AttendeeId}",!1),new Qt.aW({protocol:r,hostname:i,port:a,method:"GET",headers:{},path:s,body:void 0})})(t,n)}deserialize(t,n){return(async(t,n)=>{if(200!==t.statusCode&&t.statusCode>=300)return(async(e,t)=>{const n={...e,body:await On(e.body,t)},i=Un(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chime#BadRequestException":throw await rn(n,t);case"ForbiddenException":case"com.amazonaws.chime#ForbiddenException":throw await on(n,t);case"NotFoundException":case"com.amazonaws.chime#NotFoundException":throw await sn(n,t);case"ServiceFailureException":case"com.amazonaws.chime#ServiceFailureException":throw await dn(n,t);case"ServiceUnavailableException":case"com.amazonaws.chime#ServiceUnavailableException":throw await ln(n,t);case"ThrottledClientException":case"com.amazonaws.chime#ThrottledClientException":throw await un(n,t);case"UnauthorizedClientException":case"com.amazonaws.chime#UnauthorizedClientException":throw await hn(n,t);default:const r=n.body;return tn({output:e,parsedBody:r,errorCode:i})}})(t,n);const i=(0,e.UI)({$metadata:Rn(t)}),r=(0,e.CE)((0,e.Wh)(await _n(t.body,n)),"body"),a=(0,e.qn)(r,{Tags:e.F3});return Object.assign(i,a),i})(t,n)}}class ko extends e.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,i.a3)(t,ko.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:a}=t,o={logger:a,clientName:"ChimeClient",commandName:"ListBotsCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:qr},{requestHandler:s}=t;return r.resolve((e=>s.handle(e.request,n||{})),o)}serialize(t,n){return(async(t,n)=>{const{hostname:i,protocol:r="https",port:a,path:o}=await n.endpoint();let s=`${o?.endsWith("/")?o.slice(0,-1):o||""}/accounts/{AccountId}/bots`;s=(0,e.Is)(s,t,"AccountId",(()=>t.AccountId),"{AccountId}",!1);const c=(0,e.UI)({"max-results":[()=>void 0!==t.MaxResults,()=>t.MaxResults.toString()],"next-token":[,t.NextToken]});return new Qt.aW({protocol:r,hostname:i,port:a,method:"GET",headers:{},path:s,query:c,body:void 0})})(t,n)}deserialize(t,n){return(async(t,n)=>{if(200!==t.statusCode&&t.statusCode>=300)return(async(e,t)=>{const n={...e,body:await On(e.body,t)},i=Un(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chime#BadRequestException":throw await rn(n,t);case"ForbiddenException":case"com.amazonaws.chime#ForbiddenException":throw await on(n,t);case"NotFoundException":case"com.amazonaws.chime#NotFoundException":throw await sn(n,t);case"ServiceFailureException":case"com.amazonaws.chime#ServiceFailureException":throw await dn(n,t);case"ServiceUnavailableException":case"com.amazonaws.chime#ServiceUnavailableException":throw await ln(n,t);case"ThrottledClientException":case"com.amazonaws.chime#ThrottledClientException":throw await un(n,t);case"UnauthorizedClientException":case"com.amazonaws.chime#UnauthorizedClientException":throw await hn(n,t);default:const r=n.body;return tn({output:e,parsedBody:r,errorCode:i})}})(t,n);const i=(0,e.UI)({$metadata:Rn(t)}),r=(0,e.CE)((0,e.Wh)(await _n(t.body,n)),"body"),a=(0,e.qn)(r,{Bots:e=>((e,t)=>{const n=(e||[]).filter((e=>null!=e)).map((e=>fn(e)));return n})(e),NextToken:e.pY});return Object.assign(i,a),i})(t,n)}}class Po extends e.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,i.a3)(t,Po.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:a}=t,o={logger:a,clientName:"ChimeClient",commandName:"ListChannelBansCommand",inputFilterSensitiveLog:Vr,outputFilterSensitiveLog:jr},{requestHandler:s}=t;return r.resolve((e=>s.handle(e.request,n||{})),o)}serialize(t,n){return(async(t,n)=>{const{hostname:i,protocol:r="https",port:a,path:o}=await n.endpoint(),s=(0,e.UI)({},Fn,{"x-amz-chime-bearer":t.ChimeBearer});let c=`${o?.endsWith("/")?o.slice(0,-1):o||""}/channels/{ChannelArn}/bans`;c=(0,e.Is)(c,t,"ChannelArn",(()=>t.ChannelArn),"{ChannelArn}",!1);const d=(0,e.UI)({"max-results":[()=>void 0!==t.MaxResults,()=>t.MaxResults.toString()],"next-token":[,t.NextToken]});let{hostname:l}=await n.endpoint();if(!0!==n.disableHostPrefix&&(l="messaging-"+l,!(0,Qt.Lb)(l)))throw new Error("ValidationError: prefixed hostname must be hostname compatible.");return new Qt.aW({protocol:r,hostname:l,port:a,method:"GET",headers:s,path:c,query:d,body:void 0})})(t,n)}deserialize(t,n){return(async(t,n)=>{if(200!==t.statusCode&&t.statusCode>=300)return(async(e,t)=>{const n={...e,body:await On(e.body,t)},i=Un(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chime#BadRequestException":throw await rn(n,t);case"ForbiddenException":case"com.amazonaws.chime#ForbiddenException":throw await on(n,t);case"ServiceFailureException":case"com.amazonaws.chime#ServiceFailureException":throw await dn(n,t);case"ServiceUnavailableException":case"com.amazonaws.chime#ServiceUnavailableException":throw await ln(n,t);case"ThrottledClientException":case"com.amazonaws.chime#ThrottledClientException":throw await un(n,t);case"UnauthorizedClientException":case"com.amazonaws.chime#UnauthorizedClientException":throw await hn(n,t);default:const r=n.body;return tn({output:e,parsedBody:r,errorCode:i})}})(t,n);const i=(0,e.UI)({$metadata:Rn(t)}),r=(0,e.CE)((0,e.Wh)(await _n(t.body,n)),"body"),a=(0,e.qn)(r,{ChannelArn:e.pY,ChannelBans:e.F3,NextToken:e.pY});return Object.assign(i,a),i})(t,n)}}class Ao extends e.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,i.a3)(t,Ao.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:a}=t,o={logger:a,clientName:"ChimeClient",commandName:"ListChannelMembershipsCommand",inputFilterSensitiveLog:Wr,outputFilterSensitiveLog:$r},{requestHandler:s}=t;return r.resolve((e=>s.handle(e.request,n||{})),o)}serialize(t,n){return(async(t,n)=>{const{hostname:i,protocol:r="https",port:a,path:o}=await n.endpoint(),s=(0,e.UI)({},Fn,{"x-amz-chime-bearer":t.ChimeBearer});let c=`${o?.endsWith("/")?o.slice(0,-1):o||""}/channels/{ChannelArn}/memberships`;c=(0,e.Is)(c,t,"ChannelArn",(()=>t.ChannelArn),"{ChannelArn}",!1);const d=(0,e.UI)({type:[,t.Type],"max-results":[()=>void 0!==t.MaxResults,()=>t.MaxResults.toString()],"next-token":[,t.NextToken]});let{hostname:l}=await n.endpoint();if(!0!==n.disableHostPrefix&&(l="messaging-"+l,!(0,Qt.Lb)(l)))throw new Error("ValidationError: prefixed hostname must be hostname compatible.");return new Qt.aW({protocol:r,hostname:l,port:a,method:"GET",headers:s,path:c,query:d,body:void 0})})(t,n)}deserialize(t,n){return(async(t,n)=>{if(200!==t.statusCode&&t.statusCode>=300)return(async(e,t)=>{const n={...e,body:await On(e.body,t)},i=Un(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chime#BadRequestException":throw await rn(n,t);case"ForbiddenException":case"com.amazonaws.chime#ForbiddenException":throw await on(n,t);case"ServiceFailureException":case"com.amazonaws.chime#ServiceFailureException":throw await dn(n,t);case"ServiceUnavailableException":case"com.amazonaws.chime#ServiceUnavailableException":throw await ln(n,t);case"ThrottledClientException":case"com.amazonaws.chime#ThrottledClientException":throw await un(n,t);case"UnauthorizedClientException":case"com.amazonaws.chime#UnauthorizedClientException":throw await hn(n,t);default:const r=n.body;return tn({output:e,parsedBody:r,errorCode:i})}})(t,n);const i=(0,e.UI)({$metadata:Rn(t)}),r=(0,e.CE)((0,e.Wh)(await _n(t.body,n)),"body"),a=(0,e.qn)(r,{ChannelArn:e.pY,ChannelMemberships:e.F3,NextToken:e.pY});return Object.assign(i,a),i})(t,n)}}class To extends e.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,i.a3)(t,To.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:a}=t,o={logger:a,clientName:"ChimeClient",commandName:"ListChannelMembershipsForAppInstanceUserCommand",inputFilterSensitiveLog:Hr,outputFilterSensitiveLog:Gr},{requestHandler:s}=t;return r.resolve((e=>s.handle(e.request,n||{})),o)}serialize(t,n){return(async(t,n)=>{const{hostname:i,protocol:r="https",port:a,path:o}=await n.endpoint(),s=(0,e.UI)({},Fn,{"x-amz-chime-bearer":t.ChimeBearer}),c=`${o?.endsWith("/")?o.slice(0,-1):o||""}/channels`,d=(0,e.UI)({scope:[,"app-instance-user-memberships"],"app-instance-user-arn":[,t.AppInstanceUserArn],"max-results":[()=>void 0!==t.MaxResults,()=>t.MaxResults.toString()],"next-token":[,t.NextToken]});let{hostname:l}=await n.endpoint();if(!0!==n.disableHostPrefix&&(l="messaging-"+l,!(0,Qt.Lb)(l)))throw new Error("ValidationError: prefixed hostname must be hostname compatible.");return new Qt.aW({protocol:r,hostname:l,port:a,method:"GET",headers:s,path:c,query:d,body:void 0})})(t,n)}deserialize(t,n){return(async(t,n)=>{if(200!==t.statusCode&&t.statusCode>=300)return(async(e,t)=>{const n={...e,body:await On(e.body,t)},i=Un(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chime#BadRequestException":throw await rn(n,t);case"ForbiddenException":case"com.amazonaws.chime#ForbiddenException":throw await on(n,t);case"ServiceFailureException":case"com.amazonaws.chime#ServiceFailureException":throw await dn(n,t);case"ServiceUnavailableException":case"com.amazonaws.chime#ServiceUnavailableException":throw await ln(n,t);case"ThrottledClientException":case"com.amazonaws.chime#ThrottledClientException":throw await un(n,t);case"UnauthorizedClientException":case"com.amazonaws.chime#UnauthorizedClientException":throw await hn(n,t);default:const r=n.body;return tn({output:e,parsedBody:r,errorCode:i})}})(t,n);const i=(0,e.UI)({$metadata:Rn(t)}),r=(0,e.CE)((0,e.Wh)(await _n(t.body,n)),"body"),a=(0,e.qn)(r,{ChannelMemberships:e=>((e,t)=>{const n=(e||[]).filter((e=>null!=e)).map((e=>gn(e,t)));return n})(e,n),NextToken:e.pY});return Object.assign(i,a),i})(t,n)}}class Mo extends e.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,i.a3)(t,Mo.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:a}=t,o={logger:a,clientName:"ChimeClient",commandName:"ListChannelMessagesCommand",inputFilterSensitiveLog:Kr,outputFilterSensitiveLog:Yr},{requestHandler:s}=t;return r.resolve((e=>s.handle(e.request,n||{})),o)}serialize(t,n){return(async(t,n)=>{const{hostname:i,protocol:r="https",port:a,path:o}=await n.endpoint(),s=(0,e.UI)({},Fn,{"x-amz-chime-bearer":t.ChimeBearer});let c=`${o?.endsWith("/")?o.slice(0,-1):o||""}/channels/{ChannelArn}/messages`;c=(0,e.Is)(c,t,"ChannelArn",(()=>t.ChannelArn),"{ChannelArn}",!1);const d=(0,e.UI)({"sort-order":[,t.SortOrder],"not-before":[()=>void 0!==t.NotBefore,()=>(t.NotBefore.toISOString().split(".")[0]+"Z").toString()],"not-after":[()=>void 0!==t.NotAfter,()=>(t.NotAfter.toISOString().split(".")[0]+"Z").toString()],"max-results":[()=>void 0!==t.MaxResults,()=>t.MaxResults.toString()],"next-token":[,t.NextToken]});let{hostname:l}=await n.endpoint();if(!0!==n.disableHostPrefix&&(l="messaging-"+l,!(0,Qt.Lb)(l)))throw new Error("ValidationError: prefixed hostname must be hostname compatible.");return new Qt.aW({protocol:r,hostname:l,port:a,method:"GET",headers:s,path:c,query:d,body:void 0})})(t,n)}deserialize(t,n){return(async(t,n)=>{if(200!==t.statusCode&&t.statusCode>=300)return(async(e,t)=>{const n={...e,body:await On(e.body,t)},i=Un(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chime#BadRequestException":throw await rn(n,t);case"ForbiddenException":case"com.amazonaws.chime#ForbiddenException":throw await on(n,t);case"ServiceFailureException":case"com.amazonaws.chime#ServiceFailureException":throw await dn(n,t);case"ServiceUnavailableException":case"com.amazonaws.chime#ServiceUnavailableException":throw await ln(n,t);case"ThrottledClientException":case"com.amazonaws.chime#ThrottledClientException":throw await un(n,t);case"UnauthorizedClientException":case"com.amazonaws.chime#UnauthorizedClientException":throw await hn(n,t);default:const r=n.body;return tn({output:e,parsedBody:r,errorCode:i})}})(t,n);const i=(0,e.UI)({$metadata:Rn(t)}),r=(0,e.CE)((0,e.Wh)(await _n(t.body,n)),"body"),a=(0,e.qn)(r,{ChannelArn:e.pY,ChannelMessages:t=>((t,n)=>{const i=(t||[]).filter((e=>null!=e)).map((t=>((t,n)=>(0,e.qn)(t,{Content:e.pY,CreatedTimestamp:t=>(0,e.CE)((0,e.KX)((0,e.Fx)(t))),LastEditedTimestamp:t=>(0,e.CE)((0,e.KX)((0,e.Fx)(t))),LastUpdatedTimestamp:t=>(0,e.CE)((0,e.KX)((0,e.Fx)(t))),MessageId:e.pY,Metadata:e.pY,Redacted:e.zE,Sender:e.F3,Type:e.pY}))(t)));return i})(t),NextToken:e.pY});return Object.assign(i,a),i})(t,n)}}class Ro extends e.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,i.a3)(t,Ro.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:a}=t,o={logger:a,clientName:"ChimeClient",commandName:"ListChannelModeratorsCommand",inputFilterSensitiveLog:Jr,outputFilterSensitiveLog:Xr},{requestHandler:s}=t;return r.resolve((e=>s.handle(e.request,n||{})),o)}serialize(t,n){return(async(t,n)=>{const{hostname:i,protocol:r="https",port:a,path:o}=await n.endpoint(),s=(0,e.UI)({},Fn,{"x-amz-chime-bearer":t.ChimeBearer});let c=`${o?.endsWith("/")?o.slice(0,-1):o||""}/channels/{ChannelArn}/moderators`;c=(0,e.Is)(c,t,"ChannelArn",(()=>t.ChannelArn),"{ChannelArn}",!1);const d=(0,e.UI)({"max-results":[()=>void 0!==t.MaxResults,()=>t.MaxResults.toString()],"next-token":[,t.NextToken]});let{hostname:l}=await n.endpoint();if(!0!==n.disableHostPrefix&&(l="messaging-"+l,!(0,Qt.Lb)(l)))throw new Error("ValidationError: prefixed hostname must be hostname compatible.");return new Qt.aW({protocol:r,hostname:l,port:a,method:"GET",headers:s,path:c,query:d,body:void 0})})(t,n)}deserialize(t,n){return(async(t,n)=>{if(200!==t.statusCode&&t.statusCode>=300)return(async(e,t)=>{const n={...e,body:await On(e.body,t)},i=Un(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chime#BadRequestException":throw await rn(n,t);case"ForbiddenException":case"com.amazonaws.chime#ForbiddenException":throw await on(n,t);case"ServiceFailureException":case"com.amazonaws.chime#ServiceFailureException":throw await dn(n,t);case"ServiceUnavailableException":case"com.amazonaws.chime#ServiceUnavailableException":throw await ln(n,t);case"ThrottledClientException":case"com.amazonaws.chime#ThrottledClientException":throw await un(n,t);case"UnauthorizedClientException":case"com.amazonaws.chime#UnauthorizedClientException":throw await hn(n,t);default:const r=n.body;return tn({output:e,parsedBody:r,errorCode:i})}})(t,n);const i=(0,e.UI)({$metadata:Rn(t)}),r=(0,e.CE)((0,e.Wh)(await _n(t.body,n)),"body"),a=(0,e.qn)(r,{ChannelArn:e.pY,ChannelModerators:e.F3,NextToken:e.pY});return Object.assign(i,a),i})(t,n)}}class Fo extends e.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,i.a3)(t,Fo.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:a}=t,o={logger:a,clientName:"ChimeClient",commandName:"ListChannelsCommand",inputFilterSensitiveLog:Zr,outputFilterSensitiveLog:Qr},{requestHandler:s}=t;return r.resolve((e=>s.handle(e.request,n||{})),o)}serialize(t,n){return(async(t,n)=>{const{hostname:i,protocol:r="https",port:a,path:o}=await n.endpoint(),s=(0,e.UI)({},Fn,{"x-amz-chime-bearer":t.ChimeBearer}),c=`${o?.endsWith("/")?o.slice(0,-1):o||""}/channels`,d=(0,e.UI)({"app-instance-arn":[,(0,e.CE)(t.AppInstanceArn,"AppInstanceArn")],privacy:[,t.Privacy],"max-results":[()=>void 0!==t.MaxResults,()=>t.MaxResults.toString()],"next-token":[,t.NextToken]});let{hostname:l}=await n.endpoint();if(!0!==n.disableHostPrefix&&(l="messaging-"+l,!(0,Qt.Lb)(l)))throw new Error("ValidationError: prefixed hostname must be hostname compatible.");return new Qt.aW({protocol:r,hostname:l,port:a,method:"GET",headers:s,path:c,query:d,body:void 0})})(t,n)}deserialize(t,n){return(async(t,n)=>{if(200!==t.statusCode&&t.statusCode>=300)return(async(e,t)=>{const n={...e,body:await On(e.body,t)},i=Un(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chime#BadRequestException":throw await rn(n,t);case"ForbiddenException":case"com.amazonaws.chime#ForbiddenException":throw await on(n,t);case"ServiceFailureException":case"com.amazonaws.chime#ServiceFailureException":throw await dn(n,t);case"ServiceUnavailableException":case"com.amazonaws.chime#ServiceUnavailableException":throw await ln(n,t);case"ThrottledClientException":case"com.amazonaws.chime#ThrottledClientException":throw await un(n,t);case"UnauthorizedClientException":case"com.amazonaws.chime#UnauthorizedClientException":throw await hn(n,t);default:const r=n.body;return tn({output:e,parsedBody:r,errorCode:i})}})(t,n);const i=(0,e.UI)({$metadata:Rn(t)}),r=(0,e.CE)((0,e.Wh)(await _n(t.body,n)),"body"),a=(0,e.qn)(r,{Channels:e=>((e,t)=>{const n=(e||[]).filter((e=>null!=e)).map((e=>yn(e,t)));return n})(e,n),NextToken:e.pY});return Object.assign(i,a),i})(t,n)}}class _o extends e.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,i.a3)(t,_o.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:a}=t,o={logger:a,clientName:"ChimeClient",commandName:"ListChannelsModeratedByAppInstanceUserCommand",inputFilterSensitiveLog:ea,outputFilterSensitiveLog:ta},{requestHandler:s}=t;return r.resolve((e=>s.handle(e.request,n||{})),o)}serialize(t,n){return(async(t,n)=>{const{hostname:i,protocol:r="https",port:a,path:o}=await n.endpoint(),s=(0,e.UI)({},Fn,{"x-amz-chime-bearer":t.ChimeBearer}),c=`${o?.endsWith("/")?o.slice(0,-1):o||""}/channels`,d=(0,e.UI)({scope:[,"app-instance-user-moderated-channels"],"app-instance-user-arn":[,t.AppInstanceUserArn],"max-results":[()=>void 0!==t.MaxResults,()=>t.MaxResults.toString()],"next-token":[,t.NextToken]});let{hostname:l}=await n.endpoint();if(!0!==n.disableHostPrefix&&(l="messaging-"+l,!(0,Qt.Lb)(l)))throw new Error("ValidationError: prefixed hostname must be hostname compatible.");return new Qt.aW({protocol:r,hostname:l,port:a,method:"GET",headers:s,path:c,query:d,body:void 0})})(t,n)}deserialize(t,n){return(async(t,n)=>{if(200!==t.statusCode&&t.statusCode>=300)return(async(e,t)=>{const n={...e,body:await On(e.body,t)},i=Un(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chime#BadRequestException":throw await rn(n,t);case"ForbiddenException":case"com.amazonaws.chime#ForbiddenException":throw await on(n,t);case"ServiceFailureException":case"com.amazonaws.chime#ServiceFailureException":throw await dn(n,t);case"ServiceUnavailableException":case"com.amazonaws.chime#ServiceUnavailableException":throw await ln(n,t);case"ThrottledClientException":case"com.amazonaws.chime#ThrottledClientException":throw await un(n,t);case"UnauthorizedClientException":case"com.amazonaws.chime#UnauthorizedClientException":throw await hn(n,t);default:const r=n.body;return tn({output:e,parsedBody:r,errorCode:i})}})(t,n);const i=(0,e.UI)({$metadata:Rn(t)}),r=(0,e.CE)((0,e.Wh)(await _n(t.body,n)),"body"),a=(0,e.qn)(r,{Channels:e=>((e,t)=>{const n=(e||[]).filter((e=>null!=e)).map((e=>wn(e,t)));return n})(e,n),NextToken:e.pY});return Object.assign(i,a),i})(t,n)}}class Oo extends e.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,i.a3)(t,Oo.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:a}=t,o={logger:a,clientName:"ChimeClient",commandName:"ListMediaCapturePipelinesCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:na},{requestHandler:s}=t;return r.resolve((e=>s.handle(e.request,n||{})),o)}serialize(t,n){return(async(t,n)=>{const{hostname:i,protocol:r="https",port:a,path:o}=await n.endpoint(),s=`${o?.endsWith("/")?o.slice(0,-1):o||""}/media-capture-pipelines`,c=(0,e.UI)({"next-token":[,t.NextToken],"max-results":[()=>void 0!==t.MaxResults,()=>t.MaxResults.toString()]});return new Qt.aW({protocol:r,hostname:i,port:a,method:"GET",headers:{},path:s,query:c,body:void 0})})(t,n)}deserialize(t,n){return(async(t,n)=>{if(200!==t.statusCode&&t.statusCode>=300)return(async(e,t)=>{const n={...e,body:await On(e.body,t)},i=Un(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chime#BadRequestException":throw await rn(n,t);case"ForbiddenException":case"com.amazonaws.chime#ForbiddenException":throw await on(n,t);case"ServiceFailureException":case"com.amazonaws.chime#ServiceFailureException":throw await dn(n,t);case"ServiceUnavailableException":case"com.amazonaws.chime#ServiceUnavailableException":throw await ln(n,t);case"ThrottledClientException":case"com.amazonaws.chime#ThrottledClientException":throw await un(n,t);case"UnauthorizedClientException":case"com.amazonaws.chime#UnauthorizedClientException":throw await hn(n,t);default:const r=n.body;return tn({output:e,parsedBody:r,errorCode:i})}})(t,n);const i=(0,e.UI)({$metadata:Rn(t)}),r=(0,e.CE)((0,e.Wh)(await _n(t.body,n)),"body"),a=(0,e.qn)(r,{MediaCapturePipelines:e=>((e,t)=>{const n=(e||[]).filter((e=>null!=e)).map((e=>vn(e)));return n})(e),NextToken:e.pY});return Object.assign(i,a),i})(t,n)}}class Uo extends e.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,i.a3)(t,Uo.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:a}=t,o={logger:a,clientName:"ChimeClient",commandName:"ListMeetingsCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:ia},{requestHandler:s}=t;return r.resolve((e=>s.handle(e.request,n||{})),o)}serialize(t,n){return(async(t,n)=>{const{hostname:i,protocol:r="https",port:a,path:o}=await n.endpoint(),s=`${o?.endsWith("/")?o.slice(0,-1):o||""}/meetings`,c=(0,e.UI)({"next-token":[,t.NextToken],"max-results":[()=>void 0!==t.MaxResults,()=>t.MaxResults.toString()]});return new Qt.aW({protocol:r,hostname:i,port:a,method:"GET",headers:{},path:s,query:c,body:void 0})})(t,n)}deserialize(t,n){return(async(t,n)=>{if(200!==t.statusCode&&t.statusCode>=300)return(async(e,t)=>{const n={...e,body:await On(e.body,t)},i=Un(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chime#BadRequestException":throw await rn(n,t);case"ForbiddenException":case"com.amazonaws.chime#ForbiddenException":throw await on(n,t);case"ServiceFailureException":case"com.amazonaws.chime#ServiceFailureException":throw await dn(n,t);case"ServiceUnavailableException":case"com.amazonaws.chime#ServiceUnavailableException":throw await ln(n,t);case"ThrottledClientException":case"com.amazonaws.chime#ThrottledClientException":throw await un(n,t);case"UnauthorizedClientException":case"com.amazonaws.chime#UnauthorizedClientException":throw await hn(n,t);default:const r=n.body;return tn({output:e,parsedBody:r,errorCode:i})}})(t,n);const i=(0,e.UI)({$metadata:Rn(t)}),r=(0,e.CE)((0,e.Wh)(await _n(t.body,n)),"body"),a=(0,e.qn)(r,{Meetings:e.F3,NextToken:e.pY});return Object.assign(i,a),i})(t,n)}}class No extends e.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,i.a3)(t,No.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:a}=t,o={logger:a,clientName:"ChimeClient",commandName:"ListMeetingTagsCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:ra},{requestHandler:s}=t;return r.resolve((e=>s.handle(e.request,n||{})),o)}serialize(t,n){return(async(t,n)=>{const{hostname:i,protocol:r="https",port:a,path:o}=await n.endpoint();let s=`${o?.endsWith("/")?o.slice(0,-1):o||""}/meetings/{MeetingId}/tags`;return s=(0,e.Is)(s,t,"MeetingId",(()=>t.MeetingId),"{MeetingId}",!1),new Qt.aW({protocol:r,hostname:i,port:a,method:"GET",headers:{},path:s,body:void 0})})(t,n)}deserialize(t,n){return(async(t,n)=>{if(200!==t.statusCode&&t.statusCode>=300)return(async(e,t)=>{const n={...e,body:await On(e.body,t)},i=Un(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chime#BadRequestException":throw await rn(n,t);case"ForbiddenException":case"com.amazonaws.chime#ForbiddenException":throw await on(n,t);case"NotFoundException":case"com.amazonaws.chime#NotFoundException":throw await sn(n,t);case"ServiceFailureException":case"com.amazonaws.chime#ServiceFailureException":throw await dn(n,t);case"ServiceUnavailableException":case"com.amazonaws.chime#ServiceUnavailableException":throw await ln(n,t);case"ThrottledClientException":case"com.amazonaws.chime#ThrottledClientException":throw await un(n,t);case"UnauthorizedClientException":case"com.amazonaws.chime#UnauthorizedClientException":throw await hn(n,t);default:const r=n.body;return tn({output:e,parsedBody:r,errorCode:i})}})(t,n);const i=(0,e.UI)({$metadata:Rn(t)}),r=(0,e.CE)((0,e.Wh)(await _n(t.body,n)),"body"),a=(0,e.qn)(r,{Tags:e.F3});return Object.assign(i,a),i})(t,n)}}class zo extends e.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,i.a3)(t,zo.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:a}=t,o={logger:a,clientName:"ChimeClient",commandName:"ListPhoneNumberOrdersCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:aa},{requestHandler:s}=t;return r.resolve((e=>s.handle(e.request,n||{})),o)}serialize(t,n){return(async(t,n)=>{const{hostname:i,protocol:r="https",port:a,path:o}=await n.endpoint(),s=`${o?.endsWith("/")?o.slice(0,-1):o||""}/phone-number-orders`,c=(0,e.UI)({"next-token":[,t.NextToken],"max-results":[()=>void 0!==t.MaxResults,()=>t.MaxResults.toString()]});return new Qt.aW({protocol:r,hostname:i,port:a,method:"GET",headers:{},path:s,query:c,body:void 0})})(t,n)}deserialize(t,n){return(async(t,n)=>{if(200!==t.statusCode&&t.statusCode>=300)return(async(e,t)=>{const n={...e,body:await On(e.body,t)},i=Un(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chime#BadRequestException":throw await rn(n,t);case"ForbiddenException":case"com.amazonaws.chime#ForbiddenException":throw await on(n,t);case"ServiceFailureException":case"com.amazonaws.chime#ServiceFailureException":throw await dn(n,t);case"ServiceUnavailableException":case"com.amazonaws.chime#ServiceUnavailableException":throw await ln(n,t);case"ThrottledClientException":case"com.amazonaws.chime#ThrottledClientException":throw await un(n,t);case"UnauthorizedClientException":case"com.amazonaws.chime#UnauthorizedClientException":throw await hn(n,t);default:const r=n.body;return tn({output:e,parsedBody:r,errorCode:i})}})(t,n);const i=(0,e.UI)({$metadata:Rn(t)}),r=(0,e.CE)((0,e.Wh)(await _n(t.body,n)),"body"),a=(0,e.qn)(r,{NextToken:e.pY,PhoneNumberOrders:e=>((e,t)=>{const n=(e||[]).filter((e=>null!=e)).map((e=>En(e)));return n})(e)});return Object.assign(i,a),i})(t,n)}}class Do extends e.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,i.a3)(t,Do.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:a}=t,o={logger:a,clientName:"ChimeClient",commandName:"ListPhoneNumbersCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:oa},{requestHandler:s}=t;return r.resolve((e=>s.handle(e.request,n||{})),o)}serialize(t,n){return(async(t,n)=>{const{hostname:i,protocol:r="https",port:a,path:o}=await n.endpoint(),s=`${o?.endsWith("/")?o.slice(0,-1):o||""}/phone-numbers`,c=(0,e.UI)({status:[,t.Status],"product-type":[,t.ProductType],"filter-name":[,t.FilterName],"filter-value":[,t.FilterValue],"max-results":[()=>void 0!==t.MaxResults,()=>t.MaxResults.toString()],"next-token":[,t.NextToken]});return new Qt.aW({protocol:r,hostname:i,port:a,method:"GET",headers:{},path:s,query:c,body:void 0})})(t,n)}deserialize(t,n){return(async(t,n)=>{if(200!==t.statusCode&&t.statusCode>=300)return(async(e,t)=>{const n={...e,body:await On(e.body,t)},i=Un(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chime#BadRequestException":throw await rn(n,t);case"ForbiddenException":case"com.amazonaws.chime#ForbiddenException":throw await on(n,t);case"NotFoundException":case"com.amazonaws.chime#NotFoundException":throw await sn(n,t);case"ServiceFailureException":case"com.amazonaws.chime#ServiceFailureException":throw await dn(n,t);case"ServiceUnavailableException":case"com.amazonaws.chime#ServiceUnavailableException":throw await ln(n,t);case"ThrottledClientException":case"com.amazonaws.chime#ThrottledClientException":throw await un(n,t);case"UnauthorizedClientException":case"com.amazonaws.chime#UnauthorizedClientException":throw await hn(n,t);default:const r=n.body;return tn({output:e,parsedBody:r,errorCode:i})}})(t,n);const i=(0,e.UI)({$metadata:Rn(t)}),r=(0,e.CE)((0,e.Wh)(await _n(t.body,n)),"body"),a=(0,e.qn)(r,{NextToken:e.pY,PhoneNumbers:e=>((e,t)=>{const n=(e||[]).filter((e=>null!=e)).map((e=>bn(e,t)));return n})(e,n)});return Object.assign(i,a),i})(t,n)}}class Lo extends e.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,i.a3)(t,Lo.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:a}=t,o={logger:a,clientName:"ChimeClient",commandName:"ListProxySessionsCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:sa},{requestHandler:s}=t;return r.resolve((e=>s.handle(e.request,n||{})),o)}serialize(t,n){return(async(t,n)=>{const{hostname:i,protocol:r="https",port:a,path:o}=await n.endpoint();let s=`${o?.endsWith("/")?o.slice(0,-1):o||""}/voice-connectors/{VoiceConnectorId}/proxy-sessions`;s=(0,e.Is)(s,t,"VoiceConnectorId",(()=>t.VoiceConnectorId),"{VoiceConnectorId}",!1);const c=(0,e.UI)({status:[,t.Status],"next-token":[,t.NextToken],"max-results":[()=>void 0!==t.MaxResults,()=>t.MaxResults.toString()]});return new Qt.aW({protocol:r,hostname:i,port:a,method:"GET",headers:{},path:s,query:c,body:void 0})})(t,n)}deserialize(t,n){return(async(t,n)=>{if(200!==t.statusCode&&t.statusCode>=300)return(async(e,t)=>{const n={...e,body:await On(e.body,t)},i=Un(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chime#BadRequestException":throw await rn(n,t);case"ForbiddenException":case"com.amazonaws.chime#ForbiddenException":throw await on(n,t);case"NotFoundException":case"com.amazonaws.chime#NotFoundException":throw await sn(n,t);case"ServiceFailureException":case"com.amazonaws.chime#ServiceFailureException":throw await dn(n,t);case"ServiceUnavailableException":case"com.amazonaws.chime#ServiceUnavailableException":throw await ln(n,t);case"ThrottledClientException":case"com.amazonaws.chime#ThrottledClientException":throw await un(n,t);case"UnauthorizedClientException":case"com.amazonaws.chime#UnauthorizedClientException":throw await hn(n,t);default:const r=n.body;return tn({output:e,parsedBody:r,errorCode:i})}})(t,n);const i=(0,e.UI)({$metadata:Rn(t)}),r=(0,e.CE)((0,e.Wh)(await _n(t.body,n)),"body"),a=(0,e.qn)(r,{NextToken:e.pY,ProxySessions:e=>((e,t)=>{const n=(e||[]).filter((e=>null!=e)).map((e=>Cn(e)));return n})(e)});return Object.assign(i,a),i})(t,n)}}class Bo extends e.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,i.a3)(t,Bo.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:a}=t,o={logger:a,clientName:"ChimeClient",commandName:"ListRoomMembershipsCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:ca},{requestHandler:s}=t;return r.resolve((e=>s.handle(e.request,n||{})),o)}serialize(t,n){return(async(t,n)=>{const{hostname:i,protocol:r="https",port:a,path:o}=await n.endpoint();let s=`${o?.endsWith("/")?o.slice(0,-1):o||""}/accounts/{AccountId}/rooms/{RoomId}/memberships`;s=(0,e.Is)(s,t,"AccountId",(()=>t.AccountId),"{AccountId}",!1),s=(0,e.Is)(s,t,"RoomId",(()=>t.RoomId),"{RoomId}",!1);const c=(0,e.UI)({"max-results":[()=>void 0!==t.MaxResults,()=>t.MaxResults.toString()],"next-token":[,t.NextToken]});return new Qt.aW({protocol:r,hostname:i,port:a,method:"GET",headers:{},path:s,query:c,body:void 0})})(t,n)}deserialize(t,n){return(async(t,n)=>{if(200!==t.statusCode&&t.statusCode>=300)return(async(e,t)=>{const n={...e,body:await On(e.body,t)},i=Un(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chime#BadRequestException":throw await rn(n,t);case"ForbiddenException":case"com.amazonaws.chime#ForbiddenException":throw await on(n,t);case"NotFoundException":case"com.amazonaws.chime#NotFoundException":throw await sn(n,t);case"ServiceFailureException":case"com.amazonaws.chime#ServiceFailureException":throw await dn(n,t);case"ServiceUnavailableException":case"com.amazonaws.chime#ServiceUnavailableException":throw await ln(n,t);case"ThrottledClientException":case"com.amazonaws.chime#ThrottledClientException":throw await un(n,t);case"UnauthorizedClientException":case"com.amazonaws.chime#UnauthorizedClientException":throw await hn(n,t);default:const r=n.body;return tn({output:e,parsedBody:r,errorCode:i})}})(t,n);const i=(0,e.UI)({$metadata:Rn(t)}),r=(0,e.CE)((0,e.Wh)(await _n(t.body,n)),"body"),a=(0,e.qn)(r,{NextToken:e.pY,RoomMemberships:e=>((e,t)=>{const n=(e||[]).filter((e=>null!=e)).map((e=>In(e)));return n})(e)});return Object.assign(i,a),i})(t,n)}}class qo extends e.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,i.a3)(t,qo.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:a}=t,o={logger:a,clientName:"ChimeClient",commandName:"ListRoomsCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:da},{requestHandler:s}=t;return r.resolve((e=>s.handle(e.request,n||{})),o)}serialize(t,n){return(async(t,n)=>{const{hostname:i,protocol:r="https",port:a,path:o}=await n.endpoint();let s=`${o?.endsWith("/")?o.slice(0,-1):o||""}/accounts/{AccountId}/rooms`;s=(0,e.Is)(s,t,"AccountId",(()=>t.AccountId),"{AccountId}",!1);const c=(0,e.UI)({"member-id":[,t.MemberId],"max-results":[()=>void 0!==t.MaxResults,()=>t.MaxResults.toString()],"next-token":[,t.NextToken]});return new Qt.aW({protocol:r,hostname:i,port:a,method:"GET",headers:{},path:s,query:c,body:void 0})})(t,n)}deserialize(t,n){return(async(t,n)=>{if(200!==t.statusCode&&t.statusCode>=300)return(async(e,t)=>{const n={...e,body:await On(e.body,t)},i=Un(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chime#BadRequestException":throw await rn(n,t);case"ForbiddenException":case"com.amazonaws.chime#ForbiddenException":throw await on(n,t);case"NotFoundException":case"com.amazonaws.chime#NotFoundException":throw await sn(n,t);case"ServiceFailureException":case"com.amazonaws.chime#ServiceFailureException":throw await dn(n,t);case"ServiceUnavailableException":case"com.amazonaws.chime#ServiceUnavailableException":throw await ln(n,t);case"ThrottledClientException":case"com.amazonaws.chime#ThrottledClientException":throw await un(n,t);case"UnauthorizedClientException":case"com.amazonaws.chime#UnauthorizedClientException":throw await hn(n,t);default:const r=n.body;return tn({output:e,parsedBody:r,errorCode:i})}})(t,n);const i=(0,e.UI)({$metadata:Rn(t)}),r=(0,e.CE)((0,e.Wh)(await _n(t.body,n)),"body"),a=(0,e.qn)(r,{NextToken:e.pY,Rooms:e=>((e,t)=>{const n=(e||[]).filter((e=>null!=e)).map((e=>xn(e)));return n})(e)});return Object.assign(i,a),i})(t,n)}}class Vo extends e.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,i.a3)(t,Vo.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:a}=t,o={logger:a,clientName:"ChimeClient",commandName:"ListSipMediaApplicationsCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:la},{requestHandler:s}=t;return r.resolve((e=>s.handle(e.request,n||{})),o)}serialize(t,n){return(async(t,n)=>{const{hostname:i,protocol:r="https",port:a,path:o}=await n.endpoint(),s=`${o?.endsWith("/")?o.slice(0,-1):o||""}/sip-media-applications`,c=(0,e.UI)({"max-results":[()=>void 0!==t.MaxResults,()=>t.MaxResults.toString()],"next-token":[,t.NextToken]});return new Qt.aW({protocol:r,hostname:i,port:a,method:"GET",headers:{},path:s,query:c,body:void 0})})(t,n)}deserialize(t,n){return(async(t,n)=>{if(200!==t.statusCode&&t.statusCode>=300)return(async(e,t)=>{const n={...e,body:await On(e.body,t)},i=Un(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chime#BadRequestException":throw await rn(n,t);case"ForbiddenException":case"com.amazonaws.chime#ForbiddenException":throw await on(n,t);case"ServiceFailureException":case"com.amazonaws.chime#ServiceFailureException":throw await dn(n,t);case"ServiceUnavailableException":case"com.amazonaws.chime#ServiceUnavailableException":throw await ln(n,t);case"ThrottledClientException":case"com.amazonaws.chime#ThrottledClientException":throw await un(n,t);case"UnauthorizedClientException":case"com.amazonaws.chime#UnauthorizedClientException":throw await hn(n,t);default:const r=n.body;return tn({output:e,parsedBody:r,errorCode:i})}})(t,n);const i=(0,e.UI)({$metadata:Rn(t)}),r=(0,e.CE)((0,e.Wh)(await _n(t.body,n)),"body"),a=(0,e.qn)(r,{NextToken:e.pY,SipMediaApplications:e=>((e,t)=>{const n=(e||[]).filter((e=>null!=e)).map((e=>kn(e)));return n})(e)});return Object.assign(i,a),i})(t,n)}}class jo extends e.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,i.a3)(t,jo.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:a}=t,o={logger:a,clientName:"ChimeClient",commandName:"ListSipRulesCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:e=>e},{requestHandler:s}=t;return r.resolve((e=>s.handle(e.request,n||{})),o)}serialize(t,n){return(async(t,n)=>{const{hostname:i,protocol:r="https",port:a,path:o}=await n.endpoint(),s=`${o?.endsWith("/")?o.slice(0,-1):o||""}/sip-rules`,c=(0,e.UI)({"sip-media-application":[,t.SipMediaApplicationId],"max-results":[()=>void 0!==t.MaxResults,()=>t.MaxResults.toString()],"next-token":[,t.NextToken]});return new Qt.aW({protocol:r,hostname:i,port:a,method:"GET",headers:{},path:s,query:c,body:void 0})})(t,n)}deserialize(t,n){return(async(t,n)=>{if(200!==t.statusCode&&t.statusCode>=300)return(async(e,t)=>{const n={...e,body:await On(e.body,t)},i=Un(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chime#BadRequestException":throw await rn(n,t);case"ForbiddenException":case"com.amazonaws.chime#ForbiddenException":throw await on(n,t);case"ServiceFailureException":case"com.amazonaws.chime#ServiceFailureException":throw await dn(n,t);case"ServiceUnavailableException":case"com.amazonaws.chime#ServiceUnavailableException":throw await ln(n,t);case"ThrottledClientException":case"com.amazonaws.chime#ThrottledClientException":throw await un(n,t);case"UnauthorizedClientException":case"com.amazonaws.chime#UnauthorizedClientException":throw await hn(n,t);default:const r=n.body;return tn({output:e,parsedBody:r,errorCode:i})}})(t,n);const i=(0,e.UI)({$metadata:Rn(t)}),r=(0,e.CE)((0,e.Wh)(await _n(t.body,n)),"body"),a=(0,e.qn)(r,{NextToken:e.pY,SipRules:e=>((e,t)=>{const n=(e||[]).filter((e=>null!=e)).map((e=>Pn(e)));return n})(e)});return Object.assign(i,a),i})(t,n)}}class Wo extends e.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,i.a3)(t,Wo.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:a}=t,o={logger:a,clientName:"ChimeClient",commandName:"ListSupportedPhoneNumberCountriesCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:e=>e},{requestHandler:s}=t;return r.resolve((e=>s.handle(e.request,n||{})),o)}serialize(t,n){return(async(t,n)=>{const{hostname:i,protocol:r="https",port:a,path:o}=await n.endpoint(),s=`${o?.endsWith("/")?o.slice(0,-1):o||""}/phone-number-countries`,c=(0,e.UI)({"product-type":[,(0,e.CE)(t.ProductType,"ProductType")]});return new Qt.aW({protocol:r,hostname:i,port:a,method:"GET",headers:{},path:s,query:c,body:void 0})})(t,n)}deserialize(t,n){return(async(t,n)=>{if(200!==t.statusCode&&t.statusCode>=300)return(async(e,t)=>{const n={...e,body:await On(e.body,t)},i=Un(e,n.body);switch(i){case"AccessDeniedException":case"com.amazonaws.chime#AccessDeniedException":throw await nn(n,t);case"BadRequestException":case"com.amazonaws.chime#BadRequestException":throw await rn(n,t);case"ForbiddenException":case"com.amazonaws.chime#ForbiddenException":throw await on(n,t);case"ServiceFailureException":case"com.amazonaws.chime#ServiceFailureException":throw await dn(n,t);case"ServiceUnavailableException":case"com.amazonaws.chime#ServiceUnavailableException":throw await ln(n,t);case"ThrottledClientException":case"com.amazonaws.chime#ThrottledClientException":throw await un(n,t);case"UnauthorizedClientException":case"com.amazonaws.chime#UnauthorizedClientException":throw await hn(n,t);default:const r=n.body;return tn({output:e,parsedBody:r,errorCode:i})}})(t,n);const i=(0,e.UI)({$metadata:Rn(t)}),r=(0,e.CE)((0,e.Wh)(await _n(t.body,n)),"body"),a=(0,e.qn)(r,{PhoneNumberCountries:e.F3});return Object.assign(i,a),i})(t,n)}}class $o extends e.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,i.a3)(t,$o.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:a}=t,o={logger:a,clientName:"ChimeClient",commandName:"ListTagsForResourceCommand",inputFilterSensitiveLog:ua,outputFilterSensitiveLog:ha},{requestHandler:s}=t;return r.resolve((e=>s.handle(e.request,n||{})),o)}serialize(t,n){return(async(t,n)=>{const{hostname:i,protocol:r="https",port:a,path:o}=await n.endpoint(),s=`${o?.endsWith("/")?o.slice(0,-1):o||""}/tags`,c=(0,e.UI)({arn:[,(0,e.CE)(t.ResourceARN,"ResourceARN")]});return new Qt.aW({protocol:r,hostname:i,port:a,method:"GET",headers:{},path:s,query:c,body:void 0})})(t,n)}deserialize(t,n){return(async(t,n)=>{if(200!==t.statusCode&&t.statusCode>=300)return(async(e,t)=>{const n={...e,body:await On(e.body,t)},i=Un(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chime#BadRequestException":throw await rn(n,t);case"ForbiddenException":case"com.amazonaws.chime#ForbiddenException":throw await on(n,t);case"NotFoundException":case"com.amazonaws.chime#NotFoundException":throw await sn(n,t);case"ServiceFailureException":case"com.amazonaws.chime#ServiceFailureException":throw await dn(n,t);case"ServiceUnavailableException":case"com.amazonaws.chime#ServiceUnavailableException":throw await ln(n,t);case"UnauthorizedClientException":case"com.amazonaws.chime#UnauthorizedClientException":throw await hn(n,t);default:const r=n.body;return tn({output:e,parsedBody:r,errorCode:i})}})(t,n);const i=(0,e.UI)({$metadata:Rn(t)}),r=(0,e.CE)((0,e.Wh)(await _n(t.body,n)),"body"),a=(0,e.qn)(r,{Tags:e.F3});return Object.assign(i,a),i})(t,n)}}class Ho extends e.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,i.a3)(t,Ho.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:a}=t,o={logger:a,clientName:"ChimeClient",commandName:"ListUsersCommand",inputFilterSensitiveLog:pa,outputFilterSensitiveLog:ma},{requestHandler:s}=t;return r.resolve((e=>s.handle(e.request,n||{})),o)}serialize(t,n){return(async(t,n)=>{const{hostname:i,protocol:r="https",port:a,path:o}=await n.endpoint();let s=`${o?.endsWith("/")?o.slice(0,-1):o||""}/accounts/{AccountId}/users`;s=(0,e.Is)(s,t,"AccountId",(()=>t.AccountId),"{AccountId}",!1);const c=(0,e.UI)({"user-email":[,t.UserEmail],"user-type":[,t.UserType],"max-results":[()=>void 0!==t.MaxResults,()=>t.MaxResults.toString()],"next-token":[,t.NextToken]});return new Qt.aW({protocol:r,hostname:i,port:a,method:"GET",headers:{},path:s,query:c,body:void 0})})(t,n)}deserialize(t,n){return(async(t,n)=>{if(200!==t.statusCode&&t.statusCode>=300)return(async(e,t)=>{const n={...e,body:await On(e.body,t)},i=Un(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chime#BadRequestException":throw await rn(n,t);case"ForbiddenException":case"com.amazonaws.chime#ForbiddenException":throw await on(n,t);case"NotFoundException":case"com.amazonaws.chime#NotFoundException":throw await sn(n,t);case"ServiceFailureException":case"com.amazonaws.chime#ServiceFailureException":throw await dn(n,t);case"ServiceUnavailableException":case"com.amazonaws.chime#ServiceUnavailableException":throw await ln(n,t);case"ThrottledClientException":case"com.amazonaws.chime#ThrottledClientException":throw await un(n,t);case"UnauthorizedClientException":case"com.amazonaws.chime#UnauthorizedClientException":throw await hn(n,t);default:const r=n.body;return tn({output:e,parsedBody:r,errorCode:i})}})(t,n);const i=(0,e.UI)({$metadata:Rn(t)}),r=(0,e.CE)((0,e.Wh)(await _n(t.body,n)),"body"),a=(0,e.qn)(r,{NextToken:e.pY,Users:e=>((e,t)=>{const n=(e||[]).filter((e=>null!=e)).map((e=>An(e)));return n})(e)});return Object.assign(i,a),i})(t,n)}}class Go extends e.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,i.a3)(t,Go.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:a}=t,o={logger:a,clientName:"ChimeClient",commandName:"ListVoiceConnectorGroupsCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:e=>e},{requestHandler:s}=t;return r.resolve((e=>s.handle(e.request,n||{})),o)}serialize(t,n){return(async(t,n)=>{const{hostname:i,protocol:r="https",port:a,path:o}=await n.endpoint(),s=`${o?.endsWith("/")?o.slice(0,-1):o||""}/voice-connector-groups`,c=(0,e.UI)({"next-token":[,t.NextToken],"max-results":[()=>void 0!==t.MaxResults,()=>t.MaxResults.toString()]});return new Qt.aW({protocol:r,hostname:i,port:a,method:"GET",headers:{},path:s,query:c,body:void 0})})(t,n)}deserialize(t,n){return(async(t,n)=>{if(200!==t.statusCode&&t.statusCode>=300)return(async(e,t)=>{const n={...e,body:await On(e.body,t)},i=Un(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chime#BadRequestException":throw await rn(n,t);case"ForbiddenException":case"com.amazonaws.chime#ForbiddenException":throw await on(n,t);case"ServiceFailureException":case"com.amazonaws.chime#ServiceFailureException":throw await dn(n,t);case"ServiceUnavailableException":case"com.amazonaws.chime#ServiceUnavailableException":throw await ln(n,t);case"ThrottledClientException":case"com.amazonaws.chime#ThrottledClientException":throw await un(n,t);case"UnauthorizedClientException":case"com.amazonaws.chime#UnauthorizedClientException":throw await hn(n,t);default:const r=n.body;return tn({output:e,parsedBody:r,errorCode:i})}})(t,n);const i=(0,e.UI)({$metadata:Rn(t)}),r=(0,e.CE)((0,e.Wh)(await _n(t.body,n)),"body"),a=(0,e.qn)(r,{NextToken:e.pY,VoiceConnectorGroups:e=>((e,t)=>{const n=(e||[]).filter((e=>null!=e)).map((e=>Mn(e)));return n})(e)});return Object.assign(i,a),i})(t,n)}}class Ko extends e.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,i.a3)(t,Ko.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:a}=t,o={logger:a,clientName:"ChimeClient",commandName:"ListVoiceConnectorsCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:e=>e},{requestHandler:s}=t;return r.resolve((e=>s.handle(e.request,n||{})),o)}serialize(t,n){return(async(t,n)=>{const{hostname:i,protocol:r="https",port:a,path:o}=await n.endpoint(),s=`${o?.endsWith("/")?o.slice(0,-1):o||""}/voice-connectors`,c=(0,e.UI)({"next-token":[,t.NextToken],"max-results":[()=>void 0!==t.MaxResults,()=>t.MaxResults.toString()]});return new Qt.aW({protocol:r,hostname:i,port:a,method:"GET",headers:{},path:s,query:c,body:void 0})})(t,n)}deserialize(t,n){return(async(t,n)=>{if(200!==t.statusCode&&t.statusCode>=300)return(async(e,t)=>{const n={...e,body:await On(e.body,t)},i=Un(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chime#BadRequestException":throw await rn(n,t);case"ForbiddenException":case"com.amazonaws.chime#ForbiddenException":throw await on(n,t);case"ServiceFailureException":case"com.amazonaws.chime#ServiceFailureException":throw await dn(n,t);case"ServiceUnavailableException":case"com.amazonaws.chime#ServiceUnavailableException":throw await ln(n,t);case"ThrottledClientException":case"com.amazonaws.chime#ThrottledClientException":throw await un(n,t);case"UnauthorizedClientException":case"com.amazonaws.chime#UnauthorizedClientException":throw await hn(n,t);default:const r=n.body;return tn({output:e,parsedBody:r,errorCode:i})}})(t,n);const i=(0,e.UI)({$metadata:Rn(t)}),r=(0,e.CE)((0,e.Wh)(await _n(t.body,n)),"body"),a=(0,e.qn)(r,{NextToken:e.pY,VoiceConnectors:e=>((e,t)=>{const n=(e||[]).filter((e=>null!=e)).map((e=>Tn(e)));return n})(e)});return Object.assign(i,a),i})(t,n)}}class Yo extends e.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,i.a3)(t,Yo.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:a}=t,o={logger:a,clientName:"ChimeClient",commandName:"ListVoiceConnectorTerminationCredentialsCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:fa},{requestHandler:s}=t;return r.resolve((e=>s.handle(e.request,n||{})),o)}serialize(t,n){return(async(t,n)=>{const{hostname:i,protocol:r="https",port:a,path:o}=await n.endpoint();let s=`${o?.endsWith("/")?o.slice(0,-1):o||""}/voice-connectors/{VoiceConnectorId}/termination/credentials`;return s=(0,e.Is)(s,t,"VoiceConnectorId",(()=>t.VoiceConnectorId),"{VoiceConnectorId}",!1),new Qt.aW({protocol:r,hostname:i,port:a,method:"GET",headers:{},path:s,body:void 0})})(t,n)}deserialize(t,n){return(async(t,n)=>{if(200!==t.statusCode&&t.statusCode>=300)return(async(e,t)=>{const n={...e,body:await On(e.body,t)},i=Un(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chime#BadRequestException":throw await rn(n,t);case"ForbiddenException":case"com.amazonaws.chime#ForbiddenException":throw await on(n,t);case"NotFoundException":case"com.amazonaws.chime#NotFoundException":throw await sn(n,t);case"ServiceFailureException":case"com.amazonaws.chime#ServiceFailureException":throw await dn(n,t);case"ServiceUnavailableException":case"com.amazonaws.chime#ServiceUnavailableException":throw await ln(n,t);case"ThrottledClientException":case"com.amazonaws.chime#ThrottledClientException":throw await un(n,t);case"UnauthorizedClientException":case"com.amazonaws.chime#UnauthorizedClientException":throw await hn(n,t);default:const r=n.body;return tn({output:e,parsedBody:r,errorCode:i})}})(t,n);const i=(0,e.UI)({$metadata:Rn(t)}),r=(0,e.CE)((0,e.Wh)(await _n(t.body,n)),"body"),a=(0,e.qn)(r,{Usernames:e.F3});return Object.assign(i,a),i})(t,n)}}class Jo extends e.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,i.a3)(t,Jo.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:a}=t,o={logger:a,clientName:"ChimeClient",commandName:"LogoutUserCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:e=>e},{requestHandler:s}=t;return r.resolve((e=>s.handle(e.request,n||{})),o)}serialize(t,n){return(async(t,n)=>{const{hostname:i,protocol:r="https",port:a,path:o}=await n.endpoint();let s=`${o?.endsWith("/")?o.slice(0,-1):o||""}/accounts/{AccountId}/users/{UserId}`;s=(0,e.Is)(s,t,"AccountId",(()=>t.AccountId),"{AccountId}",!1),s=(0,e.Is)(s,t,"UserId",(()=>t.UserId),"{UserId}",!1);const c=(0,e.UI)({operation:[,"logout"]});return new Qt.aW({protocol:r,hostname:i,port:a,method:"POST",headers:{},path:s,query:c,body:void 0})})(t,n)}deserialize(t,n){return(async(t,n)=>{if(204!==t.statusCode&&t.statusCode>=300)return(async(e,t)=>{const n={...e,body:await On(e.body,t)},i=Un(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chime#BadRequestException":throw await rn(n,t);case"ForbiddenException":case"com.amazonaws.chime#ForbiddenException":throw await on(n,t);case"NotFoundException":case"com.amazonaws.chime#NotFoundException":throw await sn(n,t);case"ServiceFailureException":case"com.amazonaws.chime#ServiceFailureException":throw await dn(n,t);case"ServiceUnavailableException":case"com.amazonaws.chime#ServiceUnavailableException":throw await ln(n,t);case"ThrottledClientException":case"com.amazonaws.chime#ThrottledClientException":throw await un(n,t);case"UnauthorizedClientException":case"com.amazonaws.chime#UnauthorizedClientException":throw await hn(n,t);default:const r=n.body;return tn({output:e,parsedBody:r,errorCode:i})}})(t,n);const i=(0,e.UI)({$metadata:Rn(t)});return await(0,e.Wg)(t.body,n),i})(t,n)}}class Xo extends e.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,i.a3)(t,Xo.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:a}=t,o={logger:a,clientName:"ChimeClient",commandName:"PutAppInstanceRetentionSettingsCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:e=>e},{requestHandler:s}=t;return r.resolve((e=>s.handle(e.request,n||{})),o)}serialize(t,n){return(async(t,n)=>{const{hostname:i,protocol:r="https",port:a,path:o}=await n.endpoint();let s,c=`${o?.endsWith("/")?o.slice(0,-1):o||""}/app-instances/{AppInstanceArn}/retention-settings`;c=(0,e.Is)(c,t,"AppInstanceArn",(()=>t.AppInstanceArn),"{AppInstanceArn}",!1),s=JSON.stringify((0,e.qn)(t,{AppInstanceRetentionSettings:t=>(0,e.F3)(t)}));let{hostname:d}=await n.endpoint();if(!0!==n.disableHostPrefix&&(d="identity-"+d,!(0,Qt.Lb)(d)))throw new Error("ValidationError: prefixed hostname must be hostname compatible.");return new Qt.aW({protocol:r,hostname:d,port:a,method:"PUT",headers:{"content-type":"application/json"},path:c,body:s})})(t,n)}deserialize(t,n){return(async(t,n)=>{if(200!==t.statusCode&&t.statusCode>=300)return(async(e,t)=>{const n={...e,body:await On(e.body,t)},i=Un(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chime#BadRequestException":throw await rn(n,t);case"ConflictException":case"com.amazonaws.chime#ConflictException":throw await an(n,t);case"ForbiddenException":case"com.amazonaws.chime#ForbiddenException":throw await on(n,t);case"NotFoundException":case"com.amazonaws.chime#NotFoundException":throw await sn(n,t);case"ServiceFailureException":case"com.amazonaws.chime#ServiceFailureException":throw await dn(n,t);case"ServiceUnavailableException":case"com.amazonaws.chime#ServiceUnavailableException":throw await ln(n,t);case"ThrottledClientException":case"com.amazonaws.chime#ThrottledClientException":throw await un(n,t);case"UnauthorizedClientException":case"com.amazonaws.chime#UnauthorizedClientException":throw await hn(n,t);default:const r=n.body;return tn({output:e,parsedBody:r,errorCode:i})}})(t,n);const i=(0,e.UI)({$metadata:Rn(t)}),r=(0,e.CE)((0,e.Wh)(await _n(t.body,n)),"body"),a=(0,e.qn)(r,{AppInstanceRetentionSettings:e.F3,InitiateDeletionTimestamp:t=>(0,e.CE)((0,e.KX)((0,e.Fx)(t)))});return Object.assign(i,a),i})(t,n)}}class Zo extends e.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,i.a3)(t,Zo.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:a}=t,o={logger:a,clientName:"ChimeClient",commandName:"PutAppInstanceStreamingConfigurationsCommand",inputFilterSensitiveLog:ga,outputFilterSensitiveLog:wa},{requestHandler:s}=t;return r.resolve((e=>s.handle(e.request,n||{})),o)}serialize(t,n){return(async(t,n)=>{const{hostname:i,protocol:r="https",port:a,path:o}=await n.endpoint();let s,c=`${o?.endsWith("/")?o.slice(0,-1):o||""}/app-instances/{AppInstanceArn}/streaming-configurations`;return c=(0,e.Is)(c,t,"AppInstanceArn",(()=>t.AppInstanceArn),"{AppInstanceArn}",!1),s=JSON.stringify((0,e.qn)(t,{AppInstanceStreamingConfigurations:t=>(0,e.F3)(t)})),new Qt.aW({protocol:r,hostname:i,port:a,method:"PUT",headers:{"content-type":"application/json"},path:c,body:s})})(t,n)}deserialize(t,n){return(async(t,n)=>{if(200!==t.statusCode&&t.statusCode>=300)return(async(e,t)=>{const n={...e,body:await On(e.body,t)},i=Un(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chime#BadRequestException":throw await rn(n,t);case"ForbiddenException":case"com.amazonaws.chime#ForbiddenException":throw await on(n,t);case"NotFoundException":case"com.amazonaws.chime#NotFoundException":throw await sn(n,t);case"ServiceFailureException":case"com.amazonaws.chime#ServiceFailureException":throw await dn(n,t);case"ServiceUnavailableException":case"com.amazonaws.chime#ServiceUnavailableException":throw await ln(n,t);case"ThrottledClientException":case"com.amazonaws.chime#ThrottledClientException":throw await un(n,t);case"UnauthorizedClientException":case"com.amazonaws.chime#UnauthorizedClientException":throw await hn(n,t);default:const r=n.body;return tn({output:e,parsedBody:r,errorCode:i})}})(t,n);const i=(0,e.UI)({$metadata:Rn(t)}),r=(0,e.CE)((0,e.Wh)(await _n(t.body,n)),"body"),a=(0,e.qn)(r,{AppInstanceStreamingConfigurations:e.F3});return Object.assign(i,a),i})(t,n)}}class Qo extends e.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,i.a3)(t,Qo.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:a}=t,o={logger:a,clientName:"ChimeClient",commandName:"PutEventsConfigurationCommand",inputFilterSensitiveLog:ya,outputFilterSensitiveLog:va},{requestHandler:s}=t;return r.resolve((e=>s.handle(e.request,n||{})),o)}serialize(t,n){return(async(t,n)=>{const{hostname:i,protocol:r="https",port:a,path:o}=await n.endpoint();let s,c=`${o?.endsWith("/")?o.slice(0,-1):o||""}/accounts/{AccountId}/bots/{BotId}/events-configuration`;return c=(0,e.Is)(c,t,"AccountId",(()=>t.AccountId),"{AccountId}",!1),c=(0,e.Is)(c,t,"BotId",(()=>t.BotId),"{BotId}",!1),s=JSON.stringify((0,e.qn)(t,{LambdaFunctionArn:[],OutboundEventsHTTPSEndpoint:[]})),new Qt.aW({protocol:r,hostname:i,port:a,method:"PUT",headers:{"content-type":"application/json"},path:c,body:s})})(t,n)}deserialize(t,n){return(async(t,n)=>{if(201!==t.statusCode&&t.statusCode>=300)return(async(e,t)=>{const n={...e,body:await On(e.body,t)},i=Un(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chime#BadRequestException":throw await rn(n,t);case"ForbiddenException":case"com.amazonaws.chime#ForbiddenException":throw await on(n,t);case"NotFoundException":case"com.amazonaws.chime#NotFoundException":throw await sn(n,t);case"ResourceLimitExceededException":case"com.amazonaws.chime#ResourceLimitExceededException":throw await cn(n,t);case"ServiceFailureException":case"com.amazonaws.chime#ServiceFailureException":throw await dn(n,t);case"ServiceUnavailableException":case"com.amazonaws.chime#ServiceUnavailableException":throw await ln(n,t);case"UnauthorizedClientException":case"com.amazonaws.chime#UnauthorizedClientException":throw await hn(n,t);default:const r=n.body;return tn({output:e,parsedBody:r,errorCode:i})}})(t,n);const i=(0,e.UI)({$metadata:Rn(t)}),r=(0,e.CE)((0,e.Wh)(await _n(t.body,n)),"body"),a=(0,e.qn)(r,{EventsConfiguration:e.F3});return Object.assign(i,a),i})(t,n)}}class es extends e.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,i.a3)(t,es.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:a}=t,o={logger:a,clientName:"ChimeClient",commandName:"PutRetentionSettingsCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:e=>e},{requestHandler:s}=t;return r.resolve((e=>s.handle(e.request,n||{})),o)}serialize(t,n){return(async(t,n)=>{const{hostname:i,protocol:r="https",port:a,path:o}=await n.endpoint();let s,c=`${o?.endsWith("/")?o.slice(0,-1):o||""}/accounts/{AccountId}/retention-settings`;return c=(0,e.Is)(c,t,"AccountId",(()=>t.AccountId),"{AccountId}",!1),s=JSON.stringify((0,e.qn)(t,{RetentionSettings:t=>(0,e.F3)(t)})),new Qt.aW({protocol:r,hostname:i,port:a,method:"PUT",headers:{"content-type":"application/json"},path:c,body:s})})(t,n)}deserialize(t,n){return(async(t,n)=>{if(204!==t.statusCode&&t.statusCode>=300)return(async(e,t)=>{const n={...e,body:await On(e.body,t)},i=Un(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chime#BadRequestException":throw await rn(n,t);case"ConflictException":case"com.amazonaws.chime#ConflictException":throw await an(n,t);case"ForbiddenException":case"com.amazonaws.chime#ForbiddenException":throw await on(n,t);case"NotFoundException":case"com.amazonaws.chime#NotFoundException":throw await sn(n,t);case"ServiceFailureException":case"com.amazonaws.chime#ServiceFailureException":throw await dn(n,t);case"ServiceUnavailableException":case"com.amazonaws.chime#ServiceUnavailableException":throw await ln(n,t);case"ThrottledClientException":case"com.amazonaws.chime#ThrottledClientException":throw await un(n,t);case"UnauthorizedClientException":case"com.amazonaws.chime#UnauthorizedClientException":throw await hn(n,t);default:const r=n.body;return tn({output:e,parsedBody:r,errorCode:i})}})(t,n);const i=(0,e.UI)({$metadata:Rn(t)}),r=(0,e.CE)((0,e.Wh)(await _n(t.body,n)),"body"),a=(0,e.qn)(r,{InitiateDeletionTimestamp:t=>(0,e.CE)((0,e.aH)(t)),RetentionSettings:e.F3});return Object.assign(i,a),i})(t,n)}}class ts extends e.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,i.a3)(t,ts.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:a}=t,o={logger:a,clientName:"ChimeClient",commandName:"PutSipMediaApplicationLoggingConfigurationCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:e=>e},{requestHandler:s}=t;return r.resolve((e=>s.handle(e.request,n||{})),o)}serialize(t,n){return(async(t,n)=>{const{hostname:i,protocol:r="https",port:a,path:o}=await n.endpoint();let s,c=`${o?.endsWith("/")?o.slice(0,-1):o||""}/sip-media-applications/{SipMediaApplicationId}/logging-configuration`;return c=(0,e.Is)(c,t,"SipMediaApplicationId",(()=>t.SipMediaApplicationId),"{SipMediaApplicationId}",!1),s=JSON.stringify((0,e.qn)(t,{SipMediaApplicationLoggingConfiguration:t=>(0,e.F3)(t)})),new Qt.aW({protocol:r,hostname:i,port:a,method:"PUT",headers:{"content-type":"application/json"},path:c,body:s})})(t,n)}deserialize(t,n){return(async(t,n)=>{if(200!==t.statusCode&&t.statusCode>=300)return(async(e,t)=>{const n={...e,body:await On(e.body,t)},i=Un(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chime#BadRequestException":throw await rn(n,t);case"ForbiddenException":case"com.amazonaws.chime#ForbiddenException":throw await on(n,t);case"NotFoundException":case"com.amazonaws.chime#NotFoundException":throw await sn(n,t);case"ServiceFailureException":case"com.amazonaws.chime#ServiceFailureException":throw await dn(n,t);case"ServiceUnavailableException":case"com.amazonaws.chime#ServiceUnavailableException":throw await ln(n,t);case"ThrottledClientException":case"com.amazonaws.chime#ThrottledClientException":throw await un(n,t);case"UnauthorizedClientException":case"com.amazonaws.chime#UnauthorizedClientException":throw await hn(n,t);default:const r=n.body;return tn({output:e,parsedBody:r,errorCode:i})}})(t,n);const i=(0,e.UI)({$metadata:Rn(t)}),r=(0,e.CE)((0,e.Wh)(await _n(t.body,n)),"body"),a=(0,e.qn)(r,{SipMediaApplicationLoggingConfiguration:e.F3});return Object.assign(i,a),i})(t,n)}}class ns extends e.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,i.a3)(t,ns.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:a}=t,o={logger:a,clientName:"ChimeClient",commandName:"PutVoiceConnectorEmergencyCallingConfigurationCommand",inputFilterSensitiveLog:ba,outputFilterSensitiveLog:Sa},{requestHandler:s}=t;return r.resolve((e=>s.handle(e.request,n||{})),o)}serialize(t,n){return(async(t,n)=>{const{hostname:i,protocol:r="https",port:a,path:o}=await n.endpoint();let s,c=`${o?.endsWith("/")?o.slice(0,-1):o||""}/voice-connectors/{VoiceConnectorId}/emergency-calling-configuration`;return c=(0,e.Is)(c,t,"VoiceConnectorId",(()=>t.VoiceConnectorId),"{VoiceConnectorId}",!1),s=JSON.stringify((0,e.qn)(t,{EmergencyCallingConfiguration:t=>(0,e.F3)(t)})),new Qt.aW({protocol:r,hostname:i,port:a,method:"PUT",headers:{"content-type":"application/json"},path:c,body:s})})(t,n)}deserialize(t,n){return(async(t,n)=>{if(200!==t.statusCode&&t.statusCode>=300)return(async(e,t)=>{const n={...e,body:await On(e.body,t)},i=Un(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chime#BadRequestException":throw await rn(n,t);case"ForbiddenException":case"com.amazonaws.chime#ForbiddenException":throw await on(n,t);case"NotFoundException":case"com.amazonaws.chime#NotFoundException":throw await sn(n,t);case"ServiceFailureException":case"com.amazonaws.chime#ServiceFailureException":throw await dn(n,t);case"ServiceUnavailableException":case"com.amazonaws.chime#ServiceUnavailableException":throw await ln(n,t);case"ThrottledClientException":case"com.amazonaws.chime#ThrottledClientException":throw await un(n,t);case"UnauthorizedClientException":case"com.amazonaws.chime#UnauthorizedClientException":throw await hn(n,t);default:const r=n.body;return tn({output:e,parsedBody:r,errorCode:i})}})(t,n);const i=(0,e.UI)({$metadata:Rn(t)}),r=(0,e.CE)((0,e.Wh)(await _n(t.body,n)),"body"),a=(0,e.qn)(r,{EmergencyCallingConfiguration:e.F3});return Object.assign(i,a),i})(t,n)}}class is extends e.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,i.a3)(t,is.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:a}=t,o={logger:a,clientName:"ChimeClient",commandName:"PutVoiceConnectorLoggingConfigurationCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:e=>e},{requestHandler:s}=t;return r.resolve((e=>s.handle(e.request,n||{})),o)}serialize(t,n){return(async(t,n)=>{const{hostname:i,protocol:r="https",port:a,path:o}=await n.endpoint();let s,c=`${o?.endsWith("/")?o.slice(0,-1):o||""}/voice-connectors/{VoiceConnectorId}/logging-configuration`;return c=(0,e.Is)(c,t,"VoiceConnectorId",(()=>t.VoiceConnectorId),"{VoiceConnectorId}",!1),s=JSON.stringify((0,e.qn)(t,{LoggingConfiguration:t=>(0,e.F3)(t)})),new Qt.aW({protocol:r,hostname:i,port:a,method:"PUT",headers:{"content-type":"application/json"},path:c,body:s})})(t,n)}deserialize(t,n){return(async(t,n)=>{if(200!==t.statusCode&&t.statusCode>=300)return(async(e,t)=>{const n={...e,body:await On(e.body,t)},i=Un(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chime#BadRequestException":throw await rn(n,t);case"ForbiddenException":case"com.amazonaws.chime#ForbiddenException":throw await on(n,t);case"NotFoundException":case"com.amazonaws.chime#NotFoundException":throw await sn(n,t);case"ServiceFailureException":case"com.amazonaws.chime#ServiceFailureException":throw await dn(n,t);case"ServiceUnavailableException":case"com.amazonaws.chime#ServiceUnavailableException":throw await ln(n,t);case"ThrottledClientException":case"com.amazonaws.chime#ThrottledClientException":throw await un(n,t);case"UnauthorizedClientException":case"com.amazonaws.chime#UnauthorizedClientException":throw await hn(n,t);default:const r=n.body;return tn({output:e,parsedBody:r,errorCode:i})}})(t,n);const i=(0,e.UI)({$metadata:Rn(t)}),r=(0,e.CE)((0,e.Wh)(await _n(t.body,n)),"body"),a=(0,e.qn)(r,{LoggingConfiguration:e.F3});return Object.assign(i,a),i})(t,n)}}class rs extends e.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,i.a3)(t,rs.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:a}=t,o={logger:a,clientName:"ChimeClient",commandName:"PutVoiceConnectorOriginationCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:e=>e},{requestHandler:s}=t;return r.resolve((e=>s.handle(e.request,n||{})),o)}serialize(t,n){return(async(t,n)=>{const{hostname:i,protocol:r="https",port:a,path:o}=await n.endpoint();let s,c=`${o?.endsWith("/")?o.slice(0,-1):o||""}/voice-connectors/{VoiceConnectorId}/origination`;return c=(0,e.Is)(c,t,"VoiceConnectorId",(()=>t.VoiceConnectorId),"{VoiceConnectorId}",!1),s=JSON.stringify((0,e.qn)(t,{Origination:t=>(0,e.F3)(t)})),new Qt.aW({protocol:r,hostname:i,port:a,method:"PUT",headers:{"content-type":"application/json"},path:c,body:s})})(t,n)}deserialize(t,n){return(async(t,n)=>{if(200!==t.statusCode&&t.statusCode>=300)return(async(e,t)=>{const n={...e,body:await On(e.body,t)},i=Un(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chime#BadRequestException":throw await rn(n,t);case"ForbiddenException":case"com.amazonaws.chime#ForbiddenException":throw await on(n,t);case"NotFoundException":case"com.amazonaws.chime#NotFoundException":throw await sn(n,t);case"ServiceFailureException":case"com.amazonaws.chime#ServiceFailureException":throw await dn(n,t);case"ServiceUnavailableException":case"com.amazonaws.chime#ServiceUnavailableException":throw await ln(n,t);case"ThrottledClientException":case"com.amazonaws.chime#ThrottledClientException":throw await un(n,t);case"UnauthorizedClientException":case"com.amazonaws.chime#UnauthorizedClientException":throw await hn(n,t);default:const r=n.body;return tn({output:e,parsedBody:r,errorCode:i})}})(t,n);const i=(0,e.UI)({$metadata:Rn(t)}),r=(0,e.CE)((0,e.Wh)(await _n(t.body,n)),"body"),a=(0,e.qn)(r,{Origination:e.F3});return Object.assign(i,a),i})(t,n)}}class as extends e.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,i.a3)(t,as.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:a}=t,o={logger:a,clientName:"ChimeClient",commandName:"PutVoiceConnectorProxyCommand",inputFilterSensitiveLog:Ea,outputFilterSensitiveLog:Ca},{requestHandler:s}=t;return r.resolve((e=>s.handle(e.request,n||{})),o)}serialize(t,n){return(async(t,n)=>{const{hostname:i,protocol:r="https",port:a,path:o}=await n.endpoint();let s,c=`${o?.endsWith("/")?o.slice(0,-1):o||""}/voice-connectors/{VoiceConnectorId}/programmable-numbers/proxy`;return c=(0,e.Is)(c,t,"VoiceConnectorId",(()=>t.VoiceConnectorId),"{VoiceConnectorId}",!1),s=JSON.stringify((0,e.qn)(t,{DefaultSessionExpiryMinutes:[],Disabled:[],FallBackPhoneNumber:[],PhoneNumberPoolCountries:t=>(0,e.F3)(t)})),new Qt.aW({protocol:r,hostname:i,port:a,method:"PUT",headers:{"content-type":"application/json"},path:c,body:s})})(t,n)}deserialize(t,n){return(async(t,n)=>{if(200!==t.statusCode&&t.statusCode>=300)return(async(e,t)=>{const n={...e,body:await On(e.body,t)},i=Un(e,n.body);switch(i){case"AccessDeniedException":case"com.amazonaws.chime#AccessDeniedException":throw await nn(n,t);case"BadRequestException":case"com.amazonaws.chime#BadRequestException":throw await rn(n,t);case"ForbiddenException":case"com.amazonaws.chime#ForbiddenException":throw await on(n,t);case"NotFoundException":case"com.amazonaws.chime#NotFoundException":throw await sn(n,t);case"ServiceFailureException":case"com.amazonaws.chime#ServiceFailureException":throw await dn(n,t);case"ServiceUnavailableException":case"com.amazonaws.chime#ServiceUnavailableException":throw await ln(n,t);case"ThrottledClientException":case"com.amazonaws.chime#ThrottledClientException":throw await un(n,t);case"UnauthorizedClientException":case"com.amazonaws.chime#UnauthorizedClientException":throw await hn(n,t);default:const r=n.body;return tn({output:e,parsedBody:r,errorCode:i})}})(t,n);const i=(0,e.UI)({$metadata:Rn(t)}),r=(0,e.CE)((0,e.Wh)(await _n(t.body,n)),"body"),a=(0,e.qn)(r,{Proxy:e.F3});return Object.assign(i,a),i})(t,n)}}class os extends e.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,i.a3)(t,os.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:a}=t,o={logger:a,clientName:"ChimeClient",commandName:"PutVoiceConnectorStreamingConfigurationCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:e=>e},{requestHandler:s}=t;return r.resolve((e=>s.handle(e.request,n||{})),o)}serialize(t,n){return(async(t,n)=>{const{hostname:i,protocol:r="https",port:a,path:o}=await n.endpoint();let s,c=`${o?.endsWith("/")?o.slice(0,-1):o||""}/voice-connectors/{VoiceConnectorId}/streaming-configuration`;return c=(0,e.Is)(c,t,"VoiceConnectorId",(()=>t.VoiceConnectorId),"{VoiceConnectorId}",!1),s=JSON.stringify((0,e.qn)(t,{StreamingConfiguration:t=>(0,e.F3)(t)})),new Qt.aW({protocol:r,hostname:i,port:a,method:"PUT",headers:{"content-type":"application/json"},path:c,body:s})})(t,n)}deserialize(t,n){return(async(t,n)=>{if(200!==t.statusCode&&t.statusCode>=300)return(async(e,t)=>{const n={...e,body:await On(e.body,t)},i=Un(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chime#BadRequestException":throw await rn(n,t);case"ForbiddenException":case"com.amazonaws.chime#ForbiddenException":throw await on(n,t);case"NotFoundException":case"com.amazonaws.chime#NotFoundException":throw await sn(n,t);case"ServiceFailureException":case"com.amazonaws.chime#ServiceFailureException":throw await dn(n,t);case"ServiceUnavailableException":case"com.amazonaws.chime#ServiceUnavailableException":throw await ln(n,t);case"ThrottledClientException":case"com.amazonaws.chime#ThrottledClientException":throw await un(n,t);case"UnauthorizedClientException":case"com.amazonaws.chime#UnauthorizedClientException":throw await hn(n,t);default:const r=n.body;return tn({output:e,parsedBody:r,errorCode:i})}})(t,n);const i=(0,e.UI)({$metadata:Rn(t)}),r=(0,e.CE)((0,e.Wh)(await _n(t.body,n)),"body"),a=(0,e.qn)(r,{StreamingConfiguration:e.F3});return Object.assign(i,a),i})(t,n)}}class ss extends e.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,i.a3)(t,ss.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:a}=t,o={logger:a,clientName:"ChimeClient",commandName:"PutVoiceConnectorTerminationCommand",inputFilterSensitiveLog:xa,outputFilterSensitiveLog:Ia},{requestHandler:s}=t;return r.resolve((e=>s.handle(e.request,n||{})),o)}serialize(t,n){return(async(t,n)=>{const{hostname:i,protocol:r="https",port:a,path:o}=await n.endpoint();let s,c=`${o?.endsWith("/")?o.slice(0,-1):o||""}/voice-connectors/{VoiceConnectorId}/termination`;return c=(0,e.Is)(c,t,"VoiceConnectorId",(()=>t.VoiceConnectorId),"{VoiceConnectorId}",!1),s=JSON.stringify((0,e.qn)(t,{Termination:t=>(0,e.F3)(t)})),new Qt.aW({protocol:r,hostname:i,port:a,method:"PUT",headers:{"content-type":"application/json"},path:c,body:s})})(t,n)}deserialize(t,n){return(async(t,n)=>{if(200!==t.statusCode&&t.statusCode>=300)return(async(e,t)=>{const n={...e,body:await On(e.body,t)},i=Un(e,n.body);switch(i){case"AccessDeniedException":case"com.amazonaws.chime#AccessDeniedException":throw await nn(n,t);case"BadRequestException":case"com.amazonaws.chime#BadRequestException":throw await rn(n,t);case"ForbiddenException":case"com.amazonaws.chime#ForbiddenException":throw await on(n,t);case"NotFoundException":case"com.amazonaws.chime#NotFoundException":throw await sn(n,t);case"ServiceFailureException":case"com.amazonaws.chime#ServiceFailureException":throw await dn(n,t);case"ServiceUnavailableException":case"com.amazonaws.chime#ServiceUnavailableException":throw await ln(n,t);case"ThrottledClientException":case"com.amazonaws.chime#ThrottledClientException":throw await un(n,t);case"UnauthorizedClientException":case"com.amazonaws.chime#UnauthorizedClientException":throw await hn(n,t);default:const r=n.body;return tn({output:e,parsedBody:r,errorCode:i})}})(t,n);const i=(0,e.UI)({$metadata:Rn(t)}),r=(0,e.CE)((0,e.Wh)(await _n(t.body,n)),"body"),a=(0,e.qn)(r,{Termination:e.F3});return Object.assign(i,a),i})(t,n)}}class cs extends e.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,i.a3)(t,cs.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:a}=t,o={logger:a,clientName:"ChimeClient",commandName:"PutVoiceConnectorTerminationCredentialsCommand",inputFilterSensitiveLog:ka,outputFilterSensitiveLog:e=>e},{requestHandler:s}=t;return r.resolve((e=>s.handle(e.request,n||{})),o)}serialize(t,n){return(async(t,n)=>{const{hostname:i,protocol:r="https",port:a,path:o}=await n.endpoint();let s=`${o?.endsWith("/")?o.slice(0,-1):o||""}/voice-connectors/{VoiceConnectorId}/termination/credentials`;s=(0,e.Is)(s,t,"VoiceConnectorId",(()=>t.VoiceConnectorId),"{VoiceConnectorId}",!1);const c=(0,e.UI)({operation:[,"put"]});let d;return d=JSON.stringify((0,e.qn)(t,{Credentials:t=>(0,e.F3)(t)})),new Qt.aW({protocol:r,hostname:i,port:a,method:"POST",headers:{"content-type":"application/json"},path:s,query:c,body:d})})(t,n)}deserialize(t,n){return(async(t,n)=>{if(204!==t.statusCode&&t.statusCode>=300)return(async(e,t)=>{const n={...e,body:await On(e.body,t)},i=Un(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chime#BadRequestException":throw await rn(n,t);case"ForbiddenException":case"com.amazonaws.chime#ForbiddenException":throw await on(n,t);case"NotFoundException":case"com.amazonaws.chime#NotFoundException":throw await sn(n,t);case"ServiceFailureException":case"com.amazonaws.chime#ServiceFailureException":throw await dn(n,t);case"ServiceUnavailableException":case"com.amazonaws.chime#ServiceUnavailableException":throw await ln(n,t);case"ThrottledClientException":case"com.amazonaws.chime#ThrottledClientException":throw await un(n,t);case"UnauthorizedClientException":case"com.amazonaws.chime#UnauthorizedClientException":throw await hn(n,t);default:const r=n.body;return tn({output:e,parsedBody:r,errorCode:i})}})(t,n);const i=(0,e.UI)({$metadata:Rn(t)});return await(0,e.Wg)(t.body,n),i})(t,n)}}class ds extends e.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,i.a3)(t,ds.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:a}=t,o={logger:a,clientName:"ChimeClient",commandName:"RedactChannelMessageCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:e=>e},{requestHandler:s}=t;return r.resolve((e=>s.handle(e.request,n||{})),o)}serialize(t,n){return(async(t,n)=>{const{hostname:i,protocol:r="https",port:a,path:o}=await n.endpoint(),s=(0,e.UI)({},Fn,{"x-amz-chime-bearer":t.ChimeBearer});let c=`${o?.endsWith("/")?o.slice(0,-1):o||""}/channels/{ChannelArn}/messages/{MessageId}`;c=(0,e.Is)(c,t,"ChannelArn",(()=>t.ChannelArn),"{ChannelArn}",!1),c=(0,e.Is)(c,t,"MessageId",(()=>t.MessageId),"{MessageId}",!1);const d=(0,e.UI)({operation:[,"redact"]});let{hostname:l}=await n.endpoint();if(!0!==n.disableHostPrefix&&(l="messaging-"+l,!(0,Qt.Lb)(l)))throw new Error("ValidationError: prefixed hostname must be hostname compatible.");return new Qt.aW({protocol:r,hostname:l,port:a,method:"POST",headers:s,path:c,query:d,body:void 0})})(t,n)}deserialize(t,n){return(async(t,n)=>{if(200!==t.statusCode&&t.statusCode>=300)return(async(e,t)=>{const n={...e,body:await On(e.body,t)},i=Un(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chime#BadRequestException":throw await rn(n,t);case"ForbiddenException":case"com.amazonaws.chime#ForbiddenException":throw await on(n,t);case"ServiceFailureException":case"com.amazonaws.chime#ServiceFailureException":throw await dn(n,t);case"ServiceUnavailableException":case"com.amazonaws.chime#ServiceUnavailableException":throw await ln(n,t);case"ThrottledClientException":case"com.amazonaws.chime#ThrottledClientException":throw await un(n,t);case"UnauthorizedClientException":case"com.amazonaws.chime#UnauthorizedClientException":throw await hn(n,t);default:const r=n.body;return tn({output:e,parsedBody:r,errorCode:i})}})(t,n);const i=(0,e.UI)({$metadata:Rn(t)}),r=(0,e.CE)((0,e.Wh)(await _n(t.body,n)),"body"),a=(0,e.qn)(r,{ChannelArn:e.pY,MessageId:e.pY});return Object.assign(i,a),i})(t,n)}}class ls extends e.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,i.a3)(t,ls.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:a}=t,o={logger:a,clientName:"ChimeClient",commandName:"RedactConversationMessageCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:e=>e},{requestHandler:s}=t;return r.resolve((e=>s.handle(e.request,n||{})),o)}serialize(t,n){return(async(t,n)=>{const{hostname:i,protocol:r="https",port:a,path:o}=await n.endpoint();let s=`${o?.endsWith("/")?o.slice(0,-1):o||""}/accounts/{AccountId}/conversations/{ConversationId}/messages/{MessageId}`;s=(0,e.Is)(s,t,"AccountId",(()=>t.AccountId),"{AccountId}",!1),s=(0,e.Is)(s,t,"ConversationId",(()=>t.ConversationId),"{ConversationId}",!1),s=(0,e.Is)(s,t,"MessageId",(()=>t.MessageId),"{MessageId}",!1);const c=(0,e.UI)({operation:[,"redact"]});return new Qt.aW({protocol:r,hostname:i,port:a,method:"POST",headers:{},path:s,query:c,body:void 0})})(t,n)}deserialize(t,n){return(async(t,n)=>{if(200!==t.statusCode&&t.statusCode>=300)return(async(e,t)=>{const n={...e,body:await On(e.body,t)},i=Un(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chime#BadRequestException":throw await rn(n,t);case"ForbiddenException":case"com.amazonaws.chime#ForbiddenException":throw await on(n,t);case"NotFoundException":case"com.amazonaws.chime#NotFoundException":throw await sn(n,t);case"ServiceFailureException":case"com.amazonaws.chime#ServiceFailureException":throw await dn(n,t);case"ServiceUnavailableException":case"com.amazonaws.chime#ServiceUnavailableException":throw await ln(n,t);case"ThrottledClientException":case"com.amazonaws.chime#ThrottledClientException":throw await un(n,t);case"UnauthorizedClientException":case"com.amazonaws.chime#UnauthorizedClientException":throw await hn(n,t);default:const r=n.body;return tn({output:e,parsedBody:r,errorCode:i})}})(t,n);const i=(0,e.UI)({$metadata:Rn(t)});return await(0,e.Wg)(t.body,n),i})(t,n)}}class us extends e.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,i.a3)(t,us.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:a}=t,o={logger:a,clientName:"ChimeClient",commandName:"RedactRoomMessageCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:e=>e},{requestHandler:s}=t;return r.resolve((e=>s.handle(e.request,n||{})),o)}serialize(t,n){return(async(t,n)=>{const{hostname:i,protocol:r="https",port:a,path:o}=await n.endpoint();let s=`${o?.endsWith("/")?o.slice(0,-1):o||""}/accounts/{AccountId}/rooms/{RoomId}/messages/{MessageId}`;s=(0,e.Is)(s,t,"AccountId",(()=>t.AccountId),"{AccountId}",!1),s=(0,e.Is)(s,t,"RoomId",(()=>t.RoomId),"{RoomId}",!1),s=(0,e.Is)(s,t,"MessageId",(()=>t.MessageId),"{MessageId}",!1);const c=(0,e.UI)({operation:[,"redact"]});return new Qt.aW({protocol:r,hostname:i,port:a,method:"POST",headers:{},path:s,query:c,body:void 0})})(t,n)}deserialize(t,n){return(async(t,n)=>{if(200!==t.statusCode&&t.statusCode>=300)return(async(e,t)=>{const n={...e,body:await On(e.body,t)},i=Un(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chime#BadRequestException":throw await rn(n,t);case"ForbiddenException":case"com.amazonaws.chime#ForbiddenException":throw await on(n,t);case"NotFoundException":case"com.amazonaws.chime#NotFoundException":throw await sn(n,t);case"ServiceFailureException":case"com.amazonaws.chime#ServiceFailureException":throw await dn(n,t);case"ServiceUnavailableException":case"com.amazonaws.chime#ServiceUnavailableException":throw await ln(n,t);case"ThrottledClientException":case"com.amazonaws.chime#ThrottledClientException":throw await un(n,t);case"UnauthorizedClientException":case"com.amazonaws.chime#UnauthorizedClientException":throw await hn(n,t);default:const r=n.body;return tn({output:e,parsedBody:r,errorCode:i})}})(t,n);const i=(0,e.UI)({$metadata:Rn(t)});return await(0,e.Wg)(t.body,n),i})(t,n)}}class hs extends e.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,i.a3)(t,hs.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:a}=t,o={logger:a,clientName:"ChimeClient",commandName:"RegenerateSecurityTokenCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:Pa},{requestHandler:s}=t;return r.resolve((e=>s.handle(e.request,n||{})),o)}serialize(t,n){return(async(t,n)=>{const{hostname:i,protocol:r="https",port:a,path:o}=await n.endpoint();let s=`${o?.endsWith("/")?o.slice(0,-1):o||""}/accounts/{AccountId}/bots/{BotId}`;s=(0,e.Is)(s,t,"AccountId",(()=>t.AccountId),"{AccountId}",!1),s=(0,e.Is)(s,t,"BotId",(()=>t.BotId),"{BotId}",!1);const c=(0,e.UI)({operation:[,"regenerate-security-token"]});return new Qt.aW({protocol:r,hostname:i,port:a,method:"POST",headers:{},path:s,query:c,body:void 0})})(t,n)}deserialize(t,n){return(async(t,n)=>{if(200!==t.statusCode&&t.statusCode>=300)return(async(e,t)=>{const n={...e,body:await On(e.body,t)},i=Un(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chime#BadRequestException":throw await rn(n,t);case"ForbiddenException":case"com.amazonaws.chime#ForbiddenException":throw await on(n,t);case"NotFoundException":case"com.amazonaws.chime#NotFoundException":throw await sn(n,t);case"ServiceFailureException":case"com.amazonaws.chime#ServiceFailureException":throw await dn(n,t);case"ServiceUnavailableException":case"com.amazonaws.chime#ServiceUnavailableException":throw await ln(n,t);case"ThrottledClientException":case"com.amazonaws.chime#ThrottledClientException":throw await un(n,t);case"UnauthorizedClientException":case"com.amazonaws.chime#UnauthorizedClientException":throw await hn(n,t);default:const r=n.body;return tn({output:e,parsedBody:r,errorCode:i})}})(t,n);const i=(0,e.UI)({$metadata:Rn(t)}),r=(0,e.CE)((0,e.Wh)(await _n(t.body,n)),"body"),a=(0,e.qn)(r,{Bot:e=>fn(e)});return Object.assign(i,a),i})(t,n)}}class ps extends e.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,i.a3)(t,ps.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:a}=t,o={logger:a,clientName:"ChimeClient",commandName:"ResetPersonalPINCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:Aa},{requestHandler:s}=t;return r.resolve((e=>s.handle(e.request,n||{})),o)}serialize(t,n){return(async(t,n)=>{const{hostname:i,protocol:r="https",port:a,path:o}=await n.endpoint();let s=`${o?.endsWith("/")?o.slice(0,-1):o||""}/accounts/{AccountId}/users/{UserId}`;s=(0,e.Is)(s,t,"AccountId",(()=>t.AccountId),"{AccountId}",!1),s=(0,e.Is)(s,t,"UserId",(()=>t.UserId),"{UserId}",!1);const c=(0,e.UI)({operation:[,"reset-personal-pin"]});return new Qt.aW({protocol:r,hostname:i,port:a,method:"POST",headers:{},path:s,query:c,body:void 0})})(t,n)}deserialize(t,n){return(async(t,n)=>{if(200!==t.statusCode&&t.statusCode>=300)return(async(e,t)=>{const n={...e,body:await On(e.body,t)},i=Un(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chime#BadRequestException":throw await rn(n,t);case"ForbiddenException":case"com.amazonaws.chime#ForbiddenException":throw await on(n,t);case"NotFoundException":case"com.amazonaws.chime#NotFoundException":throw await sn(n,t);case"ServiceFailureException":case"com.amazonaws.chime#ServiceFailureException":throw await dn(n,t);case"ServiceUnavailableException":case"com.amazonaws.chime#ServiceUnavailableException":throw await ln(n,t);case"ThrottledClientException":case"com.amazonaws.chime#ThrottledClientException":throw await un(n,t);case"UnauthorizedClientException":case"com.amazonaws.chime#UnauthorizedClientException":throw await hn(n,t);default:const r=n.body;return tn({output:e,parsedBody:r,errorCode:i})}})(t,n);const i=(0,e.UI)({$metadata:Rn(t)}),r=(0,e.CE)((0,e.Wh)(await _n(t.body,n)),"body"),a=(0,e.qn)(r,{User:e=>An(e)});return Object.assign(i,a),i})(t,n)}}class ms extends e.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,i.a3)(t,ms.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:a}=t,o={logger:a,clientName:"ChimeClient",commandName:"RestorePhoneNumberCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:Ta},{requestHandler:s}=t;return r.resolve((e=>s.handle(e.request,n||{})),o)}serialize(t,n){return(async(t,n)=>{const{hostname:i,protocol:r="https",port:a,path:o}=await n.endpoint();let s=`${o?.endsWith("/")?o.slice(0,-1):o||""}/phone-numbers/{PhoneNumberId}`;s=(0,e.Is)(s,t,"PhoneNumberId",(()=>t.PhoneNumberId),"{PhoneNumberId}",!1);const c=(0,e.UI)({operation:[,"restore"]});return new Qt.aW({protocol:r,hostname:i,port:a,method:"POST",headers:{},path:s,query:c,body:void 0})})(t,n)}deserialize(t,n){return(async(t,n)=>{if(200!==t.statusCode&&t.statusCode>=300)return(async(e,t)=>{const n={...e,body:await On(e.body,t)},i=Un(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chime#BadRequestException":throw await rn(n,t);case"ForbiddenException":case"com.amazonaws.chime#ForbiddenException":throw await on(n,t);case"NotFoundException":case"com.amazonaws.chime#NotFoundException":throw await sn(n,t);case"ResourceLimitExceededException":case"com.amazonaws.chime#ResourceLimitExceededException":throw await cn(n,t);case"ServiceFailureException":case"com.amazonaws.chime#ServiceFailureException":throw await dn(n,t);case"ServiceUnavailableException":case"com.amazonaws.chime#ServiceUnavailableException":throw await ln(n,t);case"ThrottledClientException":case"com.amazonaws.chime#ThrottledClientException":throw await un(n,t);case"UnauthorizedClientException":case"com.amazonaws.chime#UnauthorizedClientException":throw await hn(n,t);default:const r=n.body;return tn({output:e,parsedBody:r,errorCode:i})}})(t,n);const i=(0,e.UI)({$metadata:Rn(t)}),r=(0,e.CE)((0,e.Wh)(await _n(t.body,n)),"body"),a=(0,e.qn)(r,{PhoneNumber:e=>bn(e,n)});return Object.assign(i,a),i})(t,n)}}class fs extends e.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,i.a3)(t,fs.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:a}=t,o={logger:a,clientName:"ChimeClient",commandName:"SearchAvailablePhoneNumbersCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:Ma},{requestHandler:s}=t;return r.resolve((e=>s.handle(e.request,n||{})),o)}serialize(t,n){return(async(t,n)=>{const{hostname:i,protocol:r="https",port:a,path:o}=await n.endpoint(),s=`${o?.endsWith("/")?o.slice(0,-1):o||""}/search`,c=(0,e.UI)({type:[,"phone-numbers"],"area-code":[,t.AreaCode],city:[,t.City],country:[,t.Country],state:[,t.State],"toll-free-prefix":[,t.TollFreePrefix],"phone-number-type":[,t.PhoneNumberType],"max-results":[()=>void 0!==t.MaxResults,()=>t.MaxResults.toString()],"next-token":[,t.NextToken]});return new Qt.aW({protocol:r,hostname:i,port:a,method:"GET",headers:{},path:s,query:c,body:void 0})})(t,n)}deserialize(t,n){return(async(t,n)=>{if(200!==t.statusCode&&t.statusCode>=300)return(async(e,t)=>{const n={...e,body:await On(e.body,t)},i=Un(e,n.body);switch(i){case"AccessDeniedException":case"com.amazonaws.chime#AccessDeniedException":throw await nn(n,t);case"BadRequestException":case"com.amazonaws.chime#BadRequestException":throw await rn(n,t);case"ForbiddenException":case"com.amazonaws.chime#ForbiddenException":throw await on(n,t);case"ServiceFailureException":case"com.amazonaws.chime#ServiceFailureException":throw await dn(n,t);case"ServiceUnavailableException":case"com.amazonaws.chime#ServiceUnavailableException":throw await ln(n,t);case"ThrottledClientException":case"com.amazonaws.chime#ThrottledClientException":throw await un(n,t);case"UnauthorizedClientException":case"com.amazonaws.chime#UnauthorizedClientException":throw await hn(n,t);default:const r=n.body;return tn({output:e,parsedBody:r,errorCode:i})}})(t,n);const i=(0,e.UI)({$metadata:Rn(t)}),r=(0,e.CE)((0,e.Wh)(await _n(t.body,n)),"body"),a=(0,e.qn)(r,{E164PhoneNumbers:e.F3,NextToken:e.pY});return Object.assign(i,a),i})(t,n)}}class gs extends e.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,i.a3)(t,gs.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:a}=t,o={logger:a,clientName:"ChimeClient",commandName:"SendChannelMessageCommand",inputFilterSensitiveLog:Ra,outputFilterSensitiveLog:e=>e},{requestHandler:s}=t;return r.resolve((e=>s.handle(e.request,n||{})),o)}serialize(t,n){return(async(t,n)=>{const{hostname:i,protocol:r="https",port:a,path:o}=await n.endpoint(),s=(0,e.UI)({},Fn,{"content-type":"application/json","x-amz-chime-bearer":t.ChimeBearer});let c,d=`${o?.endsWith("/")?o.slice(0,-1):o||""}/channels/{ChannelArn}/messages`;d=(0,e.Is)(d,t,"ChannelArn",(()=>t.ChannelArn),"{ChannelArn}",!1),c=JSON.stringify((0,e.qn)(t,{ClientRequestToken:[!0,e=>e??(0,en.Z)()],Content:[],Metadata:[],Persistence:[],Type:[]}));let{hostname:l}=await n.endpoint();if(!0!==n.disableHostPrefix&&(l="messaging-"+l,!(0,Qt.Lb)(l)))throw new Error("ValidationError: prefixed hostname must be hostname compatible.");return new Qt.aW({protocol:r,hostname:l,port:a,method:"POST",headers:s,path:d,body:c})})(t,n)}deserialize(t,n){return(async(t,n)=>{if(201!==t.statusCode&&t.statusCode>=300)return(async(e,t)=>{const n={...e,body:await On(e.body,t)},i=Un(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chime#BadRequestException":throw await rn(n,t);case"ConflictException":case"com.amazonaws.chime#ConflictException":throw await an(n,t);case"ForbiddenException":case"com.amazonaws.chime#ForbiddenException":throw await on(n,t);case"ServiceFailureException":case"com.amazonaws.chime#ServiceFailureException":throw await dn(n,t);case"ServiceUnavailableException":case"com.amazonaws.chime#ServiceUnavailableException":throw await ln(n,t);case"ThrottledClientException":case"com.amazonaws.chime#ThrottledClientException":throw await un(n,t);case"UnauthorizedClientException":case"com.amazonaws.chime#UnauthorizedClientException":throw await hn(n,t);default:const r=n.body;return tn({output:e,parsedBody:r,errorCode:i})}})(t,n);const i=(0,e.UI)({$metadata:Rn(t)}),r=(0,e.CE)((0,e.Wh)(await _n(t.body,n)),"body"),a=(0,e.qn)(r,{ChannelArn:e.pY,MessageId:e.pY});return Object.assign(i,a),i})(t,n)}}class ws extends e.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,i.a3)(t,ws.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:a}=t,o={logger:a,clientName:"ChimeClient",commandName:"StartMeetingTranscriptionCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:e=>e},{requestHandler:s}=t;return r.resolve((e=>s.handle(e.request,n||{})),o)}serialize(t,n){return(async(t,n)=>{const{hostname:i,protocol:r="https",port:a,path:o}=await n.endpoint();let s=`${o?.endsWith("/")?o.slice(0,-1):o||""}/meetings/{MeetingId}/transcription`;s=(0,e.Is)(s,t,"MeetingId",(()=>t.MeetingId),"{MeetingId}",!1);const c=(0,e.UI)({operation:[,"start"]});let d;return d=JSON.stringify((0,e.qn)(t,{TranscriptionConfiguration:t=>(0,e.F3)(t)})),new Qt.aW({protocol:r,hostname:i,port:a,method:"POST",headers:{"content-type":"application/json"},path:s,query:c,body:d})})(t,n)}deserialize(t,n){return(async(t,n)=>{if(200!==t.statusCode&&t.statusCode>=300)return(async(e,t)=>{const n={...e,body:await On(e.body,t)},i=Un(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chime#BadRequestException":throw await rn(n,t);case"ForbiddenException":case"com.amazonaws.chime#ForbiddenException":throw await on(n,t);case"NotFoundException":case"com.amazonaws.chime#NotFoundException":throw await sn(n,t);case"ResourceLimitExceededException":case"com.amazonaws.chime#ResourceLimitExceededException":throw await cn(n,t);case"ServiceFailureException":case"com.amazonaws.chime#ServiceFailureException":throw await dn(n,t);case"ServiceUnavailableException":case"com.amazonaws.chime#ServiceUnavailableException":throw await ln(n,t);case"ThrottledClientException":case"com.amazonaws.chime#ThrottledClientException":throw await un(n,t);case"UnauthorizedClientException":case"com.amazonaws.chime#UnauthorizedClientException":throw await hn(n,t);case"UnprocessableEntityException":case"com.amazonaws.chime#UnprocessableEntityException":throw await pn(n,t);default:const r=n.body;return tn({output:e,parsedBody:r,errorCode:i})}})(t,n);const i=(0,e.UI)({$metadata:Rn(t)});return await(0,e.Wg)(t.body,n),i})(t,n)}}class ys extends e.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,i.a3)(t,ys.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:a}=t,o={logger:a,clientName:"ChimeClient",commandName:"StopMeetingTranscriptionCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:e=>e},{requestHandler:s}=t;return r.resolve((e=>s.handle(e.request,n||{})),o)}serialize(t,n){return(async(t,n)=>{const{hostname:i,protocol:r="https",port:a,path:o}=await n.endpoint();let s=`${o?.endsWith("/")?o.slice(0,-1):o||""}/meetings/{MeetingId}/transcription`;s=(0,e.Is)(s,t,"MeetingId",(()=>t.MeetingId),"{MeetingId}",!1);const c=(0,e.UI)({operation:[,"stop"]});return new Qt.aW({protocol:r,hostname:i,port:a,method:"POST",headers:{},path:s,query:c,body:void 0})})(t,n)}deserialize(t,n){return(async(t,n)=>{if(200!==t.statusCode&&t.statusCode>=300)return(async(e,t)=>{const n={...e,body:await On(e.body,t)},i=Un(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chime#BadRequestException":throw await rn(n,t);case"ForbiddenException":case"com.amazonaws.chime#ForbiddenException":throw await on(n,t);case"NotFoundException":case"com.amazonaws.chime#NotFoundException":throw await sn(n,t);case"ServiceFailureException":case"com.amazonaws.chime#ServiceFailureException":throw await dn(n,t);case"ServiceUnavailableException":case"com.amazonaws.chime#ServiceUnavailableException":throw await ln(n,t);case"ThrottledClientException":case"com.amazonaws.chime#ThrottledClientException":throw await un(n,t);case"UnauthorizedClientException":case"com.amazonaws.chime#UnauthorizedClientException":throw await hn(n,t);case"UnprocessableEntityException":case"com.amazonaws.chime#UnprocessableEntityException":throw await pn(n,t);default:const r=n.body;return tn({output:e,parsedBody:r,errorCode:i})}})(t,n);const i=(0,e.UI)({$metadata:Rn(t)});return await(0,e.Wg)(t.body,n),i})(t,n)}}class vs extends e.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,i.a3)(t,vs.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:a}=t,o={logger:a,clientName:"ChimeClient",commandName:"TagAttendeeCommand",inputFilterSensitiveLog:Fa,outputFilterSensitiveLog:e=>e},{requestHandler:s}=t;return r.resolve((e=>s.handle(e.request,n||{})),o)}serialize(t,n){return(async(t,n)=>{const{hostname:i,protocol:r="https",port:a,path:o}=await n.endpoint();let s=`${o?.endsWith("/")?o.slice(0,-1):o||""}/meetings/{MeetingId}/attendees/{AttendeeId}/tags`;s=(0,e.Is)(s,t,"MeetingId",(()=>t.MeetingId),"{MeetingId}",!1),s=(0,e.Is)(s,t,"AttendeeId",(()=>t.AttendeeId),"{AttendeeId}",!1);const c=(0,e.UI)({operation:[,"add"]});let d;return d=JSON.stringify((0,e.qn)(t,{Tags:t=>(0,e.F3)(t)})),new Qt.aW({protocol:r,hostname:i,port:a,method:"POST",headers:{"content-type":"application/json"},path:s,query:c,body:d})})(t,n)}deserialize(t,n){return(async(t,n)=>{if(204!==t.statusCode&&t.statusCode>=300)return(async(e,t)=>{const n={...e,body:await On(e.body,t)},i=Un(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chime#BadRequestException":throw await rn(n,t);case"ForbiddenException":case"com.amazonaws.chime#ForbiddenException":throw await on(n,t);case"NotFoundException":case"com.amazonaws.chime#NotFoundException":throw await sn(n,t);case"ResourceLimitExceededException":case"com.amazonaws.chime#ResourceLimitExceededException":throw await cn(n,t);case"ServiceFailureException":case"com.amazonaws.chime#ServiceFailureException":throw await dn(n,t);case"ServiceUnavailableException":case"com.amazonaws.chime#ServiceUnavailableException":throw await ln(n,t);case"ThrottledClientException":case"com.amazonaws.chime#ThrottledClientException":throw await un(n,t);case"UnauthorizedClientException":case"com.amazonaws.chime#UnauthorizedClientException":throw await hn(n,t);default:const r=n.body;return tn({output:e,parsedBody:r,errorCode:i})}})(t,n);const i=(0,e.UI)({$metadata:Rn(t)});return await(0,e.Wg)(t.body,n),i})(t,n)}}class bs extends e.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,i.a3)(t,bs.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:a}=t,o={logger:a,clientName:"ChimeClient",commandName:"TagMeetingCommand",inputFilterSensitiveLog:_a,outputFilterSensitiveLog:e=>e},{requestHandler:s}=t;return r.resolve((e=>s.handle(e.request,n||{})),o)}serialize(t,n){return(async(t,n)=>{const{hostname:i,protocol:r="https",port:a,path:o}=await n.endpoint();let s=`${o?.endsWith("/")?o.slice(0,-1):o||""}/meetings/{MeetingId}/tags`;s=(0,e.Is)(s,t,"MeetingId",(()=>t.MeetingId),"{MeetingId}",!1);const c=(0,e.UI)({operation:[,"add"]});let d;return d=JSON.stringify((0,e.qn)(t,{Tags:t=>(0,e.F3)(t)})),new Qt.aW({protocol:r,hostname:i,port:a,method:"POST",headers:{"content-type":"application/json"},path:s,query:c,body:d})})(t,n)}deserialize(t,n){return(async(t,n)=>{if(204!==t.statusCode&&t.statusCode>=300)return(async(e,t)=>{const n={...e,body:await On(e.body,t)},i=Un(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chime#BadRequestException":throw await rn(n,t);case"ForbiddenException":case"com.amazonaws.chime#ForbiddenException":throw await on(n,t);case"NotFoundException":case"com.amazonaws.chime#NotFoundException":throw await sn(n,t);case"ResourceLimitExceededException":case"com.amazonaws.chime#ResourceLimitExceededException":throw await cn(n,t);case"ServiceFailureException":case"com.amazonaws.chime#ServiceFailureException":throw await dn(n,t);case"ServiceUnavailableException":case"com.amazonaws.chime#ServiceUnavailableException":throw await ln(n,t);case"ThrottledClientException":case"com.amazonaws.chime#ThrottledClientException":throw await un(n,t);case"UnauthorizedClientException":case"com.amazonaws.chime#UnauthorizedClientException":throw await hn(n,t);default:const r=n.body;return tn({output:e,parsedBody:r,errorCode:i})}})(t,n);const i=(0,e.UI)({$metadata:Rn(t)});return await(0,e.Wg)(t.body,n),i})(t,n)}}class Ss extends e.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,i.a3)(t,Ss.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:a}=t,o={logger:a,clientName:"ChimeClient",commandName:"TagResourceCommand",inputFilterSensitiveLog:Oa,outputFilterSensitiveLog:e=>e},{requestHandler:s}=t;return r.resolve((e=>s.handle(e.request,n||{})),o)}serialize(t,n){return(async(t,n)=>{const{hostname:i,protocol:r="https",port:a,path:o}=await n.endpoint(),s=`${o?.endsWith("/")?o.slice(0,-1):o||""}/tags`,c=(0,e.UI)({operation:[,"tag-resource"]});let d;return d=JSON.stringify((0,e.qn)(t,{ResourceARN:[],Tags:t=>(0,e.F3)(t)})),new Qt.aW({protocol:r,hostname:i,port:a,method:"POST",headers:{"content-type":"application/json"},path:s,query:c,body:d})})(t,n)}deserialize(t,n){return(async(t,n)=>{if(204!==t.statusCode&&t.statusCode>=300)return(async(e,t)=>{const n={...e,body:await On(e.body,t)},i=Un(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chime#BadRequestException":throw await rn(n,t);case"ForbiddenException":case"com.amazonaws.chime#ForbiddenException":throw await on(n,t);case"NotFoundException":case"com.amazonaws.chime#NotFoundException":throw await sn(n,t);case"ServiceFailureException":case"com.amazonaws.chime#ServiceFailureException":throw await dn(n,t);case"ServiceUnavailableException":case"com.amazonaws.chime#ServiceUnavailableException":throw await ln(n,t);case"UnauthorizedClientException":case"com.amazonaws.chime#UnauthorizedClientException":throw await hn(n,t);default:const r=n.body;return tn({output:e,parsedBody:r,errorCode:i})}})(t,n);const i=(0,e.UI)({$metadata:Rn(t)});return await(0,e.Wg)(t.body,n),i})(t,n)}}class Es extends e.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,i.a3)(t,Es.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:a}=t,o={logger:a,clientName:"ChimeClient",commandName:"UntagAttendeeCommand",inputFilterSensitiveLog:Ua,outputFilterSensitiveLog:e=>e},{requestHandler:s}=t;return r.resolve((e=>s.handle(e.request,n||{})),o)}serialize(t,n){return(async(t,n)=>{const{hostname:i,protocol:r="https",port:a,path:o}=await n.endpoint();let s=`${o?.endsWith("/")?o.slice(0,-1):o||""}/meetings/{MeetingId}/attendees/{AttendeeId}/tags`;s=(0,e.Is)(s,t,"MeetingId",(()=>t.MeetingId),"{MeetingId}",!1),s=(0,e.Is)(s,t,"AttendeeId",(()=>t.AttendeeId),"{AttendeeId}",!1);const c=(0,e.UI)({operation:[,"delete"]});let d;return d=JSON.stringify((0,e.qn)(t,{TagKeys:t=>(0,e.F3)(t)})),new Qt.aW({protocol:r,hostname:i,port:a,method:"POST",headers:{"content-type":"application/json"},path:s,query:c,body:d})})(t,n)}deserialize(t,n){return(async(t,n)=>{if(204!==t.statusCode&&t.statusCode>=300)return(async(e,t)=>{const n={...e,body:await On(e.body,t)},i=Un(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chime#BadRequestException":throw await rn(n,t);case"ForbiddenException":case"com.amazonaws.chime#ForbiddenException":throw await on(n,t);case"NotFoundException":case"com.amazonaws.chime#NotFoundException":throw await sn(n,t);case"ServiceFailureException":case"com.amazonaws.chime#ServiceFailureException":throw await dn(n,t);case"ServiceUnavailableException":case"com.amazonaws.chime#ServiceUnavailableException":throw await ln(n,t);case"ThrottledClientException":case"com.amazonaws.chime#ThrottledClientException":throw await un(n,t);case"UnauthorizedClientException":case"com.amazonaws.chime#UnauthorizedClientException":throw await hn(n,t);default:const r=n.body;return tn({output:e,parsedBody:r,errorCode:i})}})(t,n);const i=(0,e.UI)({$metadata:Rn(t)});return await(0,e.Wg)(t.body,n),i})(t,n)}}class Cs extends e.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,i.a3)(t,Cs.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:a}=t,o={logger:a,clientName:"ChimeClient",commandName:"UntagMeetingCommand",inputFilterSensitiveLog:Na,outputFilterSensitiveLog:e=>e},{requestHandler:s}=t;return r.resolve((e=>s.handle(e.request,n||{})),o)}serialize(t,n){return(async(t,n)=>{const{hostname:i,protocol:r="https",port:a,path:o}=await n.endpoint();let s=`${o?.endsWith("/")?o.slice(0,-1):o||""}/meetings/{MeetingId}/tags`;s=(0,e.Is)(s,t,"MeetingId",(()=>t.MeetingId),"{MeetingId}",!1);const c=(0,e.UI)({operation:[,"delete"]});let d;return d=JSON.stringify((0,e.qn)(t,{TagKeys:t=>(0,e.F3)(t)})),new Qt.aW({protocol:r,hostname:i,port:a,method:"POST",headers:{"content-type":"application/json"},path:s,query:c,body:d})})(t,n)}deserialize(t,n){return(async(t,n)=>{if(204!==t.statusCode&&t.statusCode>=300)return(async(e,t)=>{const n={...e,body:await On(e.body,t)},i=Un(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chime#BadRequestException":throw await rn(n,t);case"ForbiddenException":case"com.amazonaws.chime#ForbiddenException":throw await on(n,t);case"NotFoundException":case"com.amazonaws.chime#NotFoundException":throw await sn(n,t);case"ServiceFailureException":case"com.amazonaws.chime#ServiceFailureException":throw await dn(n,t);case"ServiceUnavailableException":case"com.amazonaws.chime#ServiceUnavailableException":throw await ln(n,t);case"ThrottledClientException":case"com.amazonaws.chime#ThrottledClientException":throw await un(n,t);case"UnauthorizedClientException":case"com.amazonaws.chime#UnauthorizedClientException":throw await hn(n,t);default:const r=n.body;return tn({output:e,parsedBody:r,errorCode:i})}})(t,n);const i=(0,e.UI)({$metadata:Rn(t)});return await(0,e.Wg)(t.body,n),i})(t,n)}}class xs extends e.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,i.a3)(t,xs.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:a}=t,o={logger:a,clientName:"ChimeClient",commandName:"UntagResourceCommand",inputFilterSensitiveLog:za,outputFilterSensitiveLog:e=>e},{requestHandler:s}=t;return r.resolve((e=>s.handle(e.request,n||{})),o)}serialize(t,n){return(async(t,n)=>{const{hostname:i,protocol:r="https",port:a,path:o}=await n.endpoint(),s=`${o?.endsWith("/")?o.slice(0,-1):o||""}/tags`,c=(0,e.UI)({operation:[,"untag-resource"]});let d;return d=JSON.stringify((0,e.qn)(t,{ResourceARN:[],TagKeys:t=>(0,e.F3)(t)})),new Qt.aW({protocol:r,hostname:i,port:a,method:"POST",headers:{"content-type":"application/json"},path:s,query:c,body:d})})(t,n)}deserialize(t,n){return(async(t,n)=>{if(204!==t.statusCode&&t.statusCode>=300)return(async(e,t)=>{const n={...e,body:await On(e.body,t)},i=Un(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chime#BadRequestException":throw await rn(n,t);case"ForbiddenException":case"com.amazonaws.chime#ForbiddenException":throw await on(n,t);case"NotFoundException":case"com.amazonaws.chime#NotFoundException":throw await sn(n,t);case"ServiceFailureException":case"com.amazonaws.chime#ServiceFailureException":throw await dn(n,t);case"ServiceUnavailableException":case"com.amazonaws.chime#ServiceUnavailableException":throw await ln(n,t);case"UnauthorizedClientException":case"com.amazonaws.chime#UnauthorizedClientException":throw await hn(n,t);default:const r=n.body;return tn({output:e,parsedBody:r,errorCode:i})}})(t,n);const i=(0,e.UI)({$metadata:Rn(t)});return await(0,e.Wg)(t.body,n),i})(t,n)}}class Is extends e.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,i.a3)(t,Is.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:a}=t,o={logger:a,clientName:"ChimeClient",commandName:"UpdateAccountCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:e=>e},{requestHandler:s}=t;return r.resolve((e=>s.handle(e.request,n||{})),o)}serialize(t,n){return(async(t,n)=>{const{hostname:i,protocol:r="https",port:a,path:o}=await n.endpoint();let s,c=`${o?.endsWith("/")?o.slice(0,-1):o||""}/accounts/{AccountId}`;return c=(0,e.Is)(c,t,"AccountId",(()=>t.AccountId),"{AccountId}",!1),s=JSON.stringify((0,e.qn)(t,{DefaultLicense:[],Name:[]})),new Qt.aW({protocol:r,hostname:i,port:a,method:"POST",headers:{"content-type":"application/json"},path:c,body:s})})(t,n)}deserialize(t,n){return(async(t,n)=>{if(200!==t.statusCode&&t.statusCode>=300)return(async(e,t)=>{const n={...e,body:await On(e.body,t)},i=Un(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chime#BadRequestException":throw await rn(n,t);case"ForbiddenException":case"com.amazonaws.chime#ForbiddenException":throw await on(n,t);case"NotFoundException":case"com.amazonaws.chime#NotFoundException":throw await sn(n,t);case"ServiceFailureException":case"com.amazonaws.chime#ServiceFailureException":throw await dn(n,t);case"ServiceUnavailableException":case"com.amazonaws.chime#ServiceUnavailableException":throw await ln(n,t);case"ThrottledClientException":case"com.amazonaws.chime#ThrottledClientException":throw await un(n,t);case"UnauthorizedClientException":case"com.amazonaws.chime#UnauthorizedClientException":throw await hn(n,t);default:const r=n.body;return tn({output:e,parsedBody:r,errorCode:i})}})(t,n);const i=(0,e.UI)({$metadata:Rn(t)}),r=(0,e.CE)((0,e.Wh)(await _n(t.body,n)),"body"),a=(0,e.qn)(r,{Account:e=>mn(e)});return Object.assign(i,a),i})(t,n)}}class ks extends e.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,i.a3)(t,ks.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:a}=t,o={logger:a,clientName:"ChimeClient",commandName:"UpdateAccountSettingsCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:e=>e},{requestHandler:s}=t;return r.resolve((e=>s.handle(e.request,n||{})),o)}serialize(t,n){return(async(t,n)=>{const{hostname:i,protocol:r="https",port:a,path:o}=await n.endpoint();let s,c=`${o?.endsWith("/")?o.slice(0,-1):o||""}/accounts/{AccountId}/settings`;return c=(0,e.Is)(c,t,"AccountId",(()=>t.AccountId),"{AccountId}",!1),s=JSON.stringify((0,e.qn)(t,{AccountSettings:t=>(0,e.F3)(t)})),new Qt.aW({protocol:r,hostname:i,port:a,method:"PUT",headers:{"content-type":"application/json"},path:c,body:s})})(t,n)}deserialize(t,n){return(async(t,n)=>{if(204!==t.statusCode&&t.statusCode>=300)return(async(e,t)=>{const n={...e,body:await On(e.body,t)},i=Un(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chime#BadRequestException":throw await rn(n,t);case"ConflictException":case"com.amazonaws.chime#ConflictException":throw await an(n,t);case"ForbiddenException":case"com.amazonaws.chime#ForbiddenException":throw await on(n,t);case"NotFoundException":case"com.amazonaws.chime#NotFoundException":throw await sn(n,t);case"ServiceFailureException":case"com.amazonaws.chime#ServiceFailureException":throw await dn(n,t);case"ServiceUnavailableException":case"com.amazonaws.chime#ServiceUnavailableException":throw await ln(n,t);case"ThrottledClientException":case"com.amazonaws.chime#ThrottledClientException":throw await un(n,t);case"UnauthorizedClientException":case"com.amazonaws.chime#UnauthorizedClientException":throw await hn(n,t);default:const r=n.body;return tn({output:e,parsedBody:r,errorCode:i})}})(t,n);const i=(0,e.UI)({$metadata:Rn(t)});return await(0,e.Wg)(t.body,n),i})(t,n)}}class Ps extends e.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,i.a3)(t,Ps.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:a}=t,o={logger:a,clientName:"ChimeClient",commandName:"UpdateAppInstanceCommand",inputFilterSensitiveLog:Da,outputFilterSensitiveLog:e=>e},{requestHandler:s}=t;return r.resolve((e=>s.handle(e.request,n||{})),o)}serialize(t,n){return(async(t,n)=>{const{hostname:i,protocol:r="https",port:a,path:o}=await n.endpoint();let s,c=`${o?.endsWith("/")?o.slice(0,-1):o||""}/app-instances/{AppInstanceArn}`;c=(0,e.Is)(c,t,"AppInstanceArn",(()=>t.AppInstanceArn),"{AppInstanceArn}",!1),s=JSON.stringify((0,e.qn)(t,{Metadata:[],Name:[]}));let{hostname:d}=await n.endpoint();if(!0!==n.disableHostPrefix&&(d="identity-"+d,!(0,Qt.Lb)(d)))throw new Error("ValidationError: prefixed hostname must be hostname compatible.");return new Qt.aW({protocol:r,hostname:d,port:a,method:"PUT",headers:{"content-type":"application/json"},path:c,body:s})})(t,n)}deserialize(t,n){return(async(t,n)=>{if(200!==t.statusCode&&t.statusCode>=300)return(async(e,t)=>{const n={...e,body:await On(e.body,t)},i=Un(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chime#BadRequestException":throw await rn(n,t);case"ConflictException":case"com.amazonaws.chime#ConflictException":throw await an(n,t);case"ForbiddenException":case"com.amazonaws.chime#ForbiddenException":throw await on(n,t);case"ServiceFailureException":case"com.amazonaws.chime#ServiceFailureException":throw await dn(n,t);case"ServiceUnavailableException":case"com.amazonaws.chime#ServiceUnavailableException":throw await ln(n,t);case"ThrottledClientException":case"com.amazonaws.chime#ThrottledClientException":throw await un(n,t);case"UnauthorizedClientException":case"com.amazonaws.chime#UnauthorizedClientException":throw await hn(n,t);default:const r=n.body;return tn({output:e,parsedBody:r,errorCode:i})}})(t,n);const i=(0,e.UI)({$metadata:Rn(t)}),r=(0,e.CE)((0,e.Wh)(await _n(t.body,n)),"body"),a=(0,e.qn)(r,{AppInstanceArn:e.pY});return Object.assign(i,a),i})(t,n)}}class As extends e.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,i.a3)(t,As.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:a}=t,o={logger:a,clientName:"ChimeClient",commandName:"UpdateAppInstanceUserCommand",inputFilterSensitiveLog:La,outputFilterSensitiveLog:e=>e},{requestHandler:s}=t;return r.resolve((e=>s.handle(e.request,n||{})),o)}serialize(t,n){return(async(t,n)=>{const{hostname:i,protocol:r="https",port:a,path:o}=await n.endpoint();let s,c=`${o?.endsWith("/")?o.slice(0,-1):o||""}/app-instance-users/{AppInstanceUserArn}`;c=(0,e.Is)(c,t,"AppInstanceUserArn",(()=>t.AppInstanceUserArn),"{AppInstanceUserArn}",!1),s=JSON.stringify((0,e.qn)(t,{Metadata:[],Name:[]}));let{hostname:d}=await n.endpoint();if(!0!==n.disableHostPrefix&&(d="identity-"+d,!(0,Qt.Lb)(d)))throw new Error("ValidationError: prefixed hostname must be hostname compatible.");return new Qt.aW({protocol:r,hostname:d,port:a,method:"PUT",headers:{"content-type":"application/json"},path:c,body:s})})(t,n)}deserialize(t,n){return(async(t,n)=>{if(200!==t.statusCode&&t.statusCode>=300)return(async(e,t)=>{const n={...e,body:await On(e.body,t)},i=Un(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chime#BadRequestException":throw await rn(n,t);case"ConflictException":case"com.amazonaws.chime#ConflictException":throw await an(n,t);case"ForbiddenException":case"com.amazonaws.chime#ForbiddenException":throw await on(n,t);case"ServiceFailureException":case"com.amazonaws.chime#ServiceFailureException":throw await dn(n,t);case"ServiceUnavailableException":case"com.amazonaws.chime#ServiceUnavailableException":throw await ln(n,t);case"ThrottledClientException":case"com.amazonaws.chime#ThrottledClientException":throw await un(n,t);case"UnauthorizedClientException":case"com.amazonaws.chime#UnauthorizedClientException":throw await hn(n,t);default:const r=n.body;return tn({output:e,parsedBody:r,errorCode:i})}})(t,n);const i=(0,e.UI)({$metadata:Rn(t)}),r=(0,e.CE)((0,e.Wh)(await _n(t.body,n)),"body"),a=(0,e.qn)(r,{AppInstanceUserArn:e.pY});return Object.assign(i,a),i})(t,n)}}class Ts extends e.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,i.a3)(t,Ts.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:a}=t,o={logger:a,clientName:"ChimeClient",commandName:"UpdateBotCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:Ba},{requestHandler:s}=t;return r.resolve((e=>s.handle(e.request,n||{})),o)}serialize(t,n){return(async(t,n)=>{const{hostname:i,protocol:r="https",port:a,path:o}=await n.endpoint();let s,c=`${o?.endsWith("/")?o.slice(0,-1):o||""}/accounts/{AccountId}/bots/{BotId}`;return c=(0,e.Is)(c,t,"AccountId",(()=>t.AccountId),"{AccountId}",!1),c=(0,e.Is)(c,t,"BotId",(()=>t.BotId),"{BotId}",!1),s=JSON.stringify((0,e.qn)(t,{Disabled:[]})),new Qt.aW({protocol:r,hostname:i,port:a,method:"POST",headers:{"content-type":"application/json"},path:c,body:s})})(t,n)}deserialize(t,n){return(async(t,n)=>{if(200!==t.statusCode&&t.statusCode>=300)return(async(e,t)=>{const n={...e,body:await On(e.body,t)},i=Un(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chime#BadRequestException":throw await rn(n,t);case"ForbiddenException":case"com.amazonaws.chime#ForbiddenException":throw await on(n,t);case"NotFoundException":case"com.amazonaws.chime#NotFoundException":throw await sn(n,t);case"ServiceFailureException":case"com.amazonaws.chime#ServiceFailureException":throw await dn(n,t);case"ServiceUnavailableException":case"com.amazonaws.chime#ServiceUnavailableException":throw await ln(n,t);case"ThrottledClientException":case"com.amazonaws.chime#ThrottledClientException":throw await un(n,t);case"UnauthorizedClientException":case"com.amazonaws.chime#UnauthorizedClientException":throw await hn(n,t);default:const r=n.body;return tn({output:e,parsedBody:r,errorCode:i})}})(t,n);const i=(0,e.UI)({$metadata:Rn(t)}),r=(0,e.CE)((0,e.Wh)(await _n(t.body,n)),"body"),a=(0,e.qn)(r,{Bot:e=>fn(e)});return Object.assign(i,a),i})(t,n)}}class Ms extends e.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,i.a3)(t,Ms.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:a}=t,o={logger:a,clientName:"ChimeClient",commandName:"UpdateChannelCommand",inputFilterSensitiveLog:qa,outputFilterSensitiveLog:e=>e},{requestHandler:s}=t;return r.resolve((e=>s.handle(e.request,n||{})),o)}serialize(t,n){return(async(t,n)=>{const{hostname:i,protocol:r="https",port:a,path:o}=await n.endpoint(),s=(0,e.UI)({},Fn,{"content-type":"application/json","x-amz-chime-bearer":t.ChimeBearer});let c,d=`${o?.endsWith("/")?o.slice(0,-1):o||""}/channels/{ChannelArn}`;d=(0,e.Is)(d,t,"ChannelArn",(()=>t.ChannelArn),"{ChannelArn}",!1),c=JSON.stringify((0,e.qn)(t,{Metadata:[],Mode:[],Name:[]}));let{hostname:l}=await n.endpoint();if(!0!==n.disableHostPrefix&&(l="messaging-"+l,!(0,Qt.Lb)(l)))throw new Error("ValidationError: prefixed hostname must be hostname compatible.");return new Qt.aW({protocol:r,hostname:l,port:a,method:"PUT",headers:s,path:d,body:c})})(t,n)}deserialize(t,n){return(async(t,n)=>{if(200!==t.statusCode&&t.statusCode>=300)return(async(e,t)=>{const n={...e,body:await On(e.body,t)},i=Un(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chime#BadRequestException":throw await rn(n,t);case"ConflictException":case"com.amazonaws.chime#ConflictException":throw await an(n,t);case"ForbiddenException":case"com.amazonaws.chime#ForbiddenException":throw await on(n,t);case"ServiceFailureException":case"com.amazonaws.chime#ServiceFailureException":throw await dn(n,t);case"ServiceUnavailableException":case"com.amazonaws.chime#ServiceUnavailableException":throw await ln(n,t);case"ThrottledClientException":case"com.amazonaws.chime#ThrottledClientException":throw await un(n,t);case"UnauthorizedClientException":case"com.amazonaws.chime#UnauthorizedClientException":throw await hn(n,t);default:const r=n.body;return tn({output:e,parsedBody:r,errorCode:i})}})(t,n);const i=(0,e.UI)({$metadata:Rn(t)}),r=(0,e.CE)((0,e.Wh)(await _n(t.body,n)),"body"),a=(0,e.qn)(r,{ChannelArn:e.pY});return Object.assign(i,a),i})(t,n)}}class Rs extends e.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,i.a3)(t,Rs.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:a}=t,o={logger:a,clientName:"ChimeClient",commandName:"UpdateChannelMessageCommand",inputFilterSensitiveLog:Va,outputFilterSensitiveLog:e=>e},{requestHandler:s}=t;return r.resolve((e=>s.handle(e.request,n||{})),o)}serialize(t,n){return(async(t,n)=>{const{hostname:i,protocol:r="https",port:a,path:o}=await n.endpoint(),s=(0,e.UI)({},Fn,{"content-type":"application/json","x-amz-chime-bearer":t.ChimeBearer});let c,d=`${o?.endsWith("/")?o.slice(0,-1):o||""}/channels/{ChannelArn}/messages/{MessageId}`;d=(0,e.Is)(d,t,"ChannelArn",(()=>t.ChannelArn),"{ChannelArn}",!1),d=(0,e.Is)(d,t,"MessageId",(()=>t.MessageId),"{MessageId}",!1),c=JSON.stringify((0,e.qn)(t,{Content:[],Metadata:[]}));let{hostname:l}=await n.endpoint();if(!0!==n.disableHostPrefix&&(l="messaging-"+l,!(0,Qt.Lb)(l)))throw new Error("ValidationError: prefixed hostname must be hostname compatible.");return new Qt.aW({protocol:r,hostname:l,port:a,method:"PUT",headers:s,path:d,body:c})})(t,n)}deserialize(t,n){return(async(t,n)=>{if(200!==t.statusCode&&t.statusCode>=300)return(async(e,t)=>{const n={...e,body:await On(e.body,t)},i=Un(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chime#BadRequestException":throw await rn(n,t);case"ConflictException":case"com.amazonaws.chime#ConflictException":throw await an(n,t);case"ForbiddenException":case"com.amazonaws.chime#ForbiddenException":throw await on(n,t);case"ServiceFailureException":case"com.amazonaws.chime#ServiceFailureException":throw await dn(n,t);case"ServiceUnavailableException":case"com.amazonaws.chime#ServiceUnavailableException":throw await ln(n,t);case"ThrottledClientException":case"com.amazonaws.chime#ThrottledClientException":throw await un(n,t);case"UnauthorizedClientException":case"com.amazonaws.chime#UnauthorizedClientException":throw await hn(n,t);default:const r=n.body;return tn({output:e,parsedBody:r,errorCode:i})}})(t,n);const i=(0,e.UI)({$metadata:Rn(t)}),r=(0,e.CE)((0,e.Wh)(await _n(t.body,n)),"body"),a=(0,e.qn)(r,{ChannelArn:e.pY,MessageId:e.pY});return Object.assign(i,a),i})(t,n)}}class Fs extends e.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,i.a3)(t,Fs.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:a}=t,o={logger:a,clientName:"ChimeClient",commandName:"UpdateChannelReadMarkerCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:e=>e},{requestHandler:s}=t;return r.resolve((e=>s.handle(e.request,n||{})),o)}serialize(t,n){return(async(t,n)=>{const{hostname:i,protocol:r="https",port:a,path:o}=await n.endpoint(),s=(0,e.UI)({},Fn,{"x-amz-chime-bearer":t.ChimeBearer});let c=`${o?.endsWith("/")?o.slice(0,-1):o||""}/channels/{ChannelArn}/readMarker`;c=(0,e.Is)(c,t,"ChannelArn",(()=>t.ChannelArn),"{ChannelArn}",!1);let{hostname:d}=await n.endpoint();if(!0!==n.disableHostPrefix&&(d="messaging-"+d,!(0,Qt.Lb)(d)))throw new Error("ValidationError: prefixed hostname must be hostname compatible.");return new Qt.aW({protocol:r,hostname:d,port:a,method:"PUT",headers:s,path:c,body:void 0})})(t,n)}deserialize(t,n){return(async(t,n)=>{if(200!==t.statusCode&&t.statusCode>=300)return(async(e,t)=>{const n={...e,body:await On(e.body,t)},i=Un(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chime#BadRequestException":throw await rn(n,t);case"ConflictException":case"com.amazonaws.chime#ConflictException":throw await an(n,t);case"ForbiddenException":case"com.amazonaws.chime#ForbiddenException":throw await on(n,t);case"ServiceFailureException":case"com.amazonaws.chime#ServiceFailureException":throw await dn(n,t);case"ServiceUnavailableException":case"com.amazonaws.chime#ServiceUnavailableException":throw await ln(n,t);case"ThrottledClientException":case"com.amazonaws.chime#ThrottledClientException":throw await un(n,t);case"UnauthorizedClientException":case"com.amazonaws.chime#UnauthorizedClientException":throw await hn(n,t);default:const r=n.body;return tn({output:e,parsedBody:r,errorCode:i})}})(t,n);const i=(0,e.UI)({$metadata:Rn(t)}),r=(0,e.CE)((0,e.Wh)(await _n(t.body,n)),"body"),a=(0,e.qn)(r,{ChannelArn:e.pY});return Object.assign(i,a),i})(t,n)}}class _s extends e.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,i.a3)(t,_s.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:a}=t,o={logger:a,clientName:"ChimeClient",commandName:"UpdateGlobalSettingsCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:e=>e},{requestHandler:s}=t;return r.resolve((e=>s.handle(e.request,n||{})),o)}serialize(t,n){return(async(t,n)=>{const{hostname:i,protocol:r="https",port:a,path:o}=await n.endpoint(),s=`${o?.endsWith("/")?o.slice(0,-1):o||""}/settings`;let c;return c=JSON.stringify((0,e.qn)(t,{BusinessCalling:t=>(0,e.F3)(t),VoiceConnector:t=>(0,e.F3)(t)})),new Qt.aW({protocol:r,hostname:i,port:a,method:"PUT",headers:{"content-type":"application/json"},path:s,body:c})})(t,n)}deserialize(t,n){return(async(t,n)=>{if(204!==t.statusCode&&t.statusCode>=300)return(async(e,t)=>{const n={...e,body:await On(e.body,t)},i=Un(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chime#BadRequestException":throw await rn(n,t);case"ForbiddenException":case"com.amazonaws.chime#ForbiddenException":throw await on(n,t);case"ServiceFailureException":case"com.amazonaws.chime#ServiceFailureException":throw await dn(n,t);case"ServiceUnavailableException":case"com.amazonaws.chime#ServiceUnavailableException":throw await ln(n,t);case"ThrottledClientException":case"com.amazonaws.chime#ThrottledClientException":throw await un(n,t);case"UnauthorizedClientException":case"com.amazonaws.chime#UnauthorizedClientException":throw await hn(n,t);default:const r=n.body;return tn({output:e,parsedBody:r,errorCode:i})}})(t,n);const i=(0,e.UI)({$metadata:Rn(t)});return await(0,e.Wg)(t.body,n),i})(t,n)}}class Os extends e.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,i.a3)(t,Os.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:a}=t,o={logger:a,clientName:"ChimeClient",commandName:"UpdatePhoneNumberCommand",inputFilterSensitiveLog:ja,outputFilterSensitiveLog:Wa},{requestHandler:s}=t;return r.resolve((e=>s.handle(e.request,n||{})),o)}serialize(t,n){return(async(t,n)=>{const{hostname:i,protocol:r="https",port:a,path:o}=await n.endpoint();let s,c=`${o?.endsWith("/")?o.slice(0,-1):o||""}/phone-numbers/{PhoneNumberId}`;return c=(0,e.Is)(c,t,"PhoneNumberId",(()=>t.PhoneNumberId),"{PhoneNumberId}",!1),s=JSON.stringify((0,e.qn)(t,{CallingName:[],ProductType:[]})),new Qt.aW({protocol:r,hostname:i,port:a,method:"POST",headers:{"content-type":"application/json"},path:c,body:s})})(t,n)}deserialize(t,n){return(async(t,n)=>{if(200!==t.statusCode&&t.statusCode>=300)return(async(e,t)=>{const n={...e,body:await On(e.body,t)},i=Un(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chime#BadRequestException":throw await rn(n,t);case"ConflictException":case"com.amazonaws.chime#ConflictException":throw await an(n,t);case"ForbiddenException":case"com.amazonaws.chime#ForbiddenException":throw await on(n,t);case"NotFoundException":case"com.amazonaws.chime#NotFoundException":throw await sn(n,t);case"ServiceFailureException":case"com.amazonaws.chime#ServiceFailureException":throw await dn(n,t);case"ServiceUnavailableException":case"com.amazonaws.chime#ServiceUnavailableException":throw await ln(n,t);case"ThrottledClientException":case"com.amazonaws.chime#ThrottledClientException":throw await un(n,t);case"UnauthorizedClientException":case"com.amazonaws.chime#UnauthorizedClientException":throw await hn(n,t);default:const r=n.body;return tn({output:e,parsedBody:r,errorCode:i})}})(t,n);const i=(0,e.UI)({$metadata:Rn(t)}),r=(0,e.CE)((0,e.Wh)(await _n(t.body,n)),"body"),a=(0,e.qn)(r,{PhoneNumber:e=>bn(e,n)});return Object.assign(i,a),i})(t,n)}}class Us extends e.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,i.a3)(t,Us.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:a}=t,o={logger:a,clientName:"ChimeClient",commandName:"UpdatePhoneNumberSettingsCommand",inputFilterSensitiveLog:$a,outputFilterSensitiveLog:e=>e},{requestHandler:s}=t;return r.resolve((e=>s.handle(e.request,n||{})),o)}serialize(t,n){return(async(t,n)=>{const{hostname:i,protocol:r="https",port:a,path:o}=await n.endpoint(),s=`${o?.endsWith("/")?o.slice(0,-1):o||""}/settings/phone-number`;let c;return c=JSON.stringify((0,e.qn)(t,{CallingName:[]})),new Qt.aW({protocol:r,hostname:i,port:a,method:"PUT",headers:{"content-type":"application/json"},path:s,body:c})})(t,n)}deserialize(t,n){return(async(t,n)=>{if(204!==t.statusCode&&t.statusCode>=300)return(async(e,t)=>{const n={...e,body:await On(e.body,t)},i=Un(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chime#BadRequestException":throw await rn(n,t);case"ForbiddenException":case"com.amazonaws.chime#ForbiddenException":throw await on(n,t);case"ServiceFailureException":case"com.amazonaws.chime#ServiceFailureException":throw await dn(n,t);case"ServiceUnavailableException":case"com.amazonaws.chime#ServiceUnavailableException":throw await ln(n,t);case"ThrottledClientException":case"com.amazonaws.chime#ThrottledClientException":throw await un(n,t);case"UnauthorizedClientException":case"com.amazonaws.chime#UnauthorizedClientException":throw await hn(n,t);default:const r=n.body;return tn({output:e,parsedBody:r,errorCode:i})}})(t,n);const i=(0,e.UI)({$metadata:Rn(t)});return await(0,e.Wg)(t.body,n),i})(t,n)}}class Ns extends e.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,i.a3)(t,Ns.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:a}=t,o={logger:a,clientName:"ChimeClient",commandName:"UpdateProxySessionCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:Ha},{requestHandler:s}=t;return r.resolve((e=>s.handle(e.request,n||{})),o)}serialize(t,n){return(async(t,n)=>{const{hostname:i,protocol:r="https",port:a,path:o}=await n.endpoint();let s,c=`${o?.endsWith("/")?o.slice(0,-1):o||""}/voice-connectors/{VoiceConnectorId}/proxy-sessions/{ProxySessionId}`;return c=(0,e.Is)(c,t,"VoiceConnectorId",(()=>t.VoiceConnectorId),"{VoiceConnectorId}",!1),c=(0,e.Is)(c,t,"ProxySessionId",(()=>t.ProxySessionId),"{ProxySessionId}",!1),s=JSON.stringify((0,e.qn)(t,{Capabilities:t=>(0,e.F3)(t),ExpiryMinutes:[]})),new Qt.aW({protocol:r,hostname:i,port:a,method:"POST",headers:{"content-type":"application/json"},path:c,body:s})})(t,n)}deserialize(t,n){return(async(t,n)=>{if(201!==t.statusCode&&t.statusCode>=300)return(async(e,t)=>{const n={...e,body:await On(e.body,t)},i=Un(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chime#BadRequestException":throw await rn(n,t);case"ForbiddenException":case"com.amazonaws.chime#ForbiddenException":throw await on(n,t);case"NotFoundException":case"com.amazonaws.chime#NotFoundException":throw await sn(n,t);case"ServiceFailureException":case"com.amazonaws.chime#ServiceFailureException":throw await dn(n,t);case"ServiceUnavailableException":case"com.amazonaws.chime#ServiceUnavailableException":throw await ln(n,t);case"ThrottledClientException":case"com.amazonaws.chime#ThrottledClientException":throw await un(n,t);case"UnauthorizedClientException":case"com.amazonaws.chime#UnauthorizedClientException":throw await hn(n,t);default:const r=n.body;return tn({output:e,parsedBody:r,errorCode:i})}})(t,n);const i=(0,e.UI)({$metadata:Rn(t)}),r=(0,e.CE)((0,e.Wh)(await _n(t.body,n)),"body"),a=(0,e.qn)(r,{ProxySession:e=>Cn(e)});return Object.assign(i,a),i})(t,n)}}class zs extends e.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,i.a3)(t,zs.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:a}=t,o={logger:a,clientName:"ChimeClient",commandName:"UpdateRoomCommand",inputFilterSensitiveLog:Ga,outputFilterSensitiveLog:Ka},{requestHandler:s}=t;return r.resolve((e=>s.handle(e.request,n||{})),o)}serialize(t,n){return(async(t,n)=>{const{hostname:i,protocol:r="https",port:a,path:o}=await n.endpoint();let s,c=`${o?.endsWith("/")?o.slice(0,-1):o||""}/accounts/{AccountId}/rooms/{RoomId}`;return c=(0,e.Is)(c,t,"AccountId",(()=>t.AccountId),"{AccountId}",!1),c=(0,e.Is)(c,t,"RoomId",(()=>t.RoomId),"{RoomId}",!1),s=JSON.stringify((0,e.qn)(t,{Name:[]})),new Qt.aW({protocol:r,hostname:i,port:a,method:"POST",headers:{"content-type":"application/json"},path:c,body:s})})(t,n)}deserialize(t,n){return(async(t,n)=>{if(200!==t.statusCode&&t.statusCode>=300)return(async(e,t)=>{const n={...e,body:await On(e.body,t)},i=Un(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chime#BadRequestException":throw await rn(n,t);case"ForbiddenException":case"com.amazonaws.chime#ForbiddenException":throw await on(n,t);case"NotFoundException":case"com.amazonaws.chime#NotFoundException":throw await sn(n,t);case"ServiceFailureException":case"com.amazonaws.chime#ServiceFailureException":throw await dn(n,t);case"ServiceUnavailableException":case"com.amazonaws.chime#ServiceUnavailableException":throw await ln(n,t);case"ThrottledClientException":case"com.amazonaws.chime#ThrottledClientException":throw await un(n,t);case"UnauthorizedClientException":case"com.amazonaws.chime#UnauthorizedClientException":throw await hn(n,t);default:const r=n.body;return tn({output:e,parsedBody:r,errorCode:i})}})(t,n);const i=(0,e.UI)({$metadata:Rn(t)}),r=(0,e.CE)((0,e.Wh)(await _n(t.body,n)),"body"),a=(0,e.qn)(r,{Room:e=>xn(e)});return Object.assign(i,a),i})(t,n)}}class Ds extends e.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,i.a3)(t,Ds.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:a}=t,o={logger:a,clientName:"ChimeClient",commandName:"UpdateRoomMembershipCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:Ya},{requestHandler:s}=t;return r.resolve((e=>s.handle(e.request,n||{})),o)}serialize(t,n){return(async(t,n)=>{const{hostname:i,protocol:r="https",port:a,path:o}=await n.endpoint();let s,c=`${o?.endsWith("/")?o.slice(0,-1):o||""}/accounts/{AccountId}/rooms/{RoomId}/memberships/{MemberId}`;return c=(0,e.Is)(c,t,"AccountId",(()=>t.AccountId),"{AccountId}",!1),c=(0,e.Is)(c,t,"RoomId",(()=>t.RoomId),"{RoomId}",!1),c=(0,e.Is)(c,t,"MemberId",(()=>t.MemberId),"{MemberId}",!1),s=JSON.stringify((0,e.qn)(t,{Role:[]})),new Qt.aW({protocol:r,hostname:i,port:a,method:"POST",headers:{"content-type":"application/json"},path:c,body:s})})(t,n)}deserialize(t,n){return(async(t,n)=>{if(200!==t.statusCode&&t.statusCode>=300)return(async(e,t)=>{const n={...e,body:await On(e.body,t)},i=Un(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chime#BadRequestException":throw await rn(n,t);case"ForbiddenException":case"com.amazonaws.chime#ForbiddenException":throw await on(n,t);case"NotFoundException":case"com.amazonaws.chime#NotFoundException":throw await sn(n,t);case"ServiceFailureException":case"com.amazonaws.chime#ServiceFailureException":throw await dn(n,t);case"ServiceUnavailableException":case"com.amazonaws.chime#ServiceUnavailableException":throw await ln(n,t);case"ThrottledClientException":case"com.amazonaws.chime#ThrottledClientException":throw await un(n,t);case"UnauthorizedClientException":case"com.amazonaws.chime#UnauthorizedClientException":throw await hn(n,t);default:const r=n.body;return tn({output:e,parsedBody:r,errorCode:i})}})(t,n);const i=(0,e.UI)({$metadata:Rn(t)}),r=(0,e.CE)((0,e.Wh)(await _n(t.body,n)),"body"),a=(0,e.qn)(r,{RoomMembership:e=>In(e)});return Object.assign(i,a),i})(t,n)}}class Ls extends e.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,i.a3)(t,Ls.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:a}=t,o={logger:a,clientName:"ChimeClient",commandName:"UpdateSipMediaApplicationCallCommand",inputFilterSensitiveLog:Za,outputFilterSensitiveLog:e=>e},{requestHandler:s}=t;return r.resolve((e=>s.handle(e.request,n||{})),o)}serialize(t,n){return(async(t,n)=>{const{hostname:i,protocol:r="https",port:a,path:o}=await n.endpoint();let s,c=`${o?.endsWith("/")?o.slice(0,-1):o||""}/sip-media-applications/{SipMediaApplicationId}/calls/{TransactionId}`;return c=(0,e.Is)(c,t,"SipMediaApplicationId",(()=>t.SipMediaApplicationId),"{SipMediaApplicationId}",!1),c=(0,e.Is)(c,t,"TransactionId",(()=>t.TransactionId),"{TransactionId}",!1),s=JSON.stringify((0,e.qn)(t,{Arguments:t=>(0,e.F3)(t)})),new Qt.aW({protocol:r,hostname:i,port:a,method:"POST",headers:{"content-type":"application/json"},path:c,body:s})})(t,n)}deserialize(t,n){return(async(t,n)=>{if(202!==t.statusCode&&t.statusCode>=300)return(async(e,t)=>{const n={...e,body:await On(e.body,t)},i=Un(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chime#BadRequestException":throw await rn(n,t);case"ForbiddenException":case"com.amazonaws.chime#ForbiddenException":throw await on(n,t);case"NotFoundException":case"com.amazonaws.chime#NotFoundException":throw await sn(n,t);case"ResourceLimitExceededException":case"com.amazonaws.chime#ResourceLimitExceededException":throw await cn(n,t);case"ServiceFailureException":case"com.amazonaws.chime#ServiceFailureException":throw await dn(n,t);case"ServiceUnavailableException":case"com.amazonaws.chime#ServiceUnavailableException":throw await ln(n,t);case"ThrottledClientException":case"com.amazonaws.chime#ThrottledClientException":throw await un(n,t);case"UnauthorizedClientException":case"com.amazonaws.chime#UnauthorizedClientException":throw await hn(n,t);default:const r=n.body;return tn({output:e,parsedBody:r,errorCode:i})}})(t,n);const i=(0,e.UI)({$metadata:Rn(t)}),r=(0,e.CE)((0,e.Wh)(await _n(t.body,n)),"body"),a=(0,e.qn)(r,{SipMediaApplicationCall:e.F3});return Object.assign(i,a),i})(t,n)}}class Bs extends e.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,i.a3)(t,Bs.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:a}=t,o={logger:a,clientName:"ChimeClient",commandName:"UpdateSipMediaApplicationCommand",inputFilterSensitiveLog:Ja,outputFilterSensitiveLog:Xa},{requestHandler:s}=t;return r.resolve((e=>s.handle(e.request,n||{})),o)}serialize(t,n){return(async(t,n)=>{const{hostname:i,protocol:r="https",port:a,path:o}=await n.endpoint();let s,c=`${o?.endsWith("/")?o.slice(0,-1):o||""}/sip-media-applications/{SipMediaApplicationId}`;return c=(0,e.Is)(c,t,"SipMediaApplicationId",(()=>t.SipMediaApplicationId),"{SipMediaApplicationId}",!1),s=JSON.stringify((0,e.qn)(t,{Endpoints:t=>(0,e.F3)(t),Name:[]})),new Qt.aW({protocol:r,hostname:i,port:a,method:"PUT",headers:{"content-type":"application/json"},path:c,body:s})})(t,n)}deserialize(t,n){return(async(t,n)=>{if(200!==t.statusCode&&t.statusCode>=300)return(async(e,t)=>{const n={...e,body:await On(e.body,t)},i=Un(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chime#BadRequestException":throw await rn(n,t);case"ConflictException":case"com.amazonaws.chime#ConflictException":throw await an(n,t);case"ForbiddenException":case"com.amazonaws.chime#ForbiddenException":throw await on(n,t);case"NotFoundException":case"com.amazonaws.chime#NotFoundException":throw await sn(n,t);case"ServiceFailureException":case"com.amazonaws.chime#ServiceFailureException":throw await dn(n,t);case"ServiceUnavailableException":case"com.amazonaws.chime#ServiceUnavailableException":throw await ln(n,t);case"ThrottledClientException":case"com.amazonaws.chime#ThrottledClientException":throw await un(n,t);case"UnauthorizedClientException":case"com.amazonaws.chime#UnauthorizedClientException":throw await hn(n,t);default:const r=n.body;return tn({output:e,parsedBody:r,errorCode:i})}})(t,n);const i=(0,e.UI)({$metadata:Rn(t)}),r=(0,e.CE)((0,e.Wh)(await _n(t.body,n)),"body"),a=(0,e.qn)(r,{SipMediaApplication:e=>kn(e)});return Object.assign(i,a),i})(t,n)}}class qs extends e.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,i.a3)(t,qs.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:a}=t,o={logger:a,clientName:"ChimeClient",commandName:"UpdateSipRuleCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:e=>e},{requestHandler:s}=t;return r.resolve((e=>s.handle(e.request,n||{})),o)}serialize(t,n){return(async(t,n)=>{const{hostname:i,protocol:r="https",port:a,path:o}=await n.endpoint();let s,c=`${o?.endsWith("/")?o.slice(0,-1):o||""}/sip-rules/{SipRuleId}`;return c=(0,e.Is)(c,t,"SipRuleId",(()=>t.SipRuleId),"{SipRuleId}",!1),s=JSON.stringify((0,e.qn)(t,{Disabled:[],Name:[],TargetApplications:t=>(0,e.F3)(t)})),new Qt.aW({protocol:r,hostname:i,port:a,method:"PUT",headers:{"content-type":"application/json"},path:c,body:s})})(t,n)}deserialize(t,n){return(async(t,n)=>{if(202!==t.statusCode&&t.statusCode>=300)return(async(e,t)=>{const n={...e,body:await On(e.body,t)},i=Un(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chime#BadRequestException":throw await rn(n,t);case"ConflictException":case"com.amazonaws.chime#ConflictException":throw await an(n,t);case"ForbiddenException":case"com.amazonaws.chime#ForbiddenException":throw await on(n,t);case"NotFoundException":case"com.amazonaws.chime#NotFoundException":throw await sn(n,t);case"ResourceLimitExceededException":case"com.amazonaws.chime#ResourceLimitExceededException":throw await cn(n,t);case"ServiceFailureException":case"com.amazonaws.chime#ServiceFailureException":throw await dn(n,t);case"ServiceUnavailableException":case"com.amazonaws.chime#ServiceUnavailableException":throw await ln(n,t);case"ThrottledClientException":case"com.amazonaws.chime#ThrottledClientException":throw await un(n,t);case"UnauthorizedClientException":case"com.amazonaws.chime#UnauthorizedClientException":throw await hn(n,t);default:const r=n.body;return tn({output:e,parsedBody:r,errorCode:i})}})(t,n);const i=(0,e.UI)({$metadata:Rn(t)}),r=(0,e.CE)((0,e.Wh)(await _n(t.body,n)),"body"),a=(0,e.qn)(r,{SipRule:e=>Pn(e)});return Object.assign(i,a),i})(t,n)}}class Vs extends e.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,i.a3)(t,Vs.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:a}=t,o={logger:a,clientName:"ChimeClient",commandName:"UpdateUserCommand",inputFilterSensitiveLog:Qa,outputFilterSensitiveLog:eo},{requestHandler:s}=t;return r.resolve((e=>s.handle(e.request,n||{})),o)}serialize(t,n){return(async(t,n)=>{const{hostname:i,protocol:r="https",port:a,path:o}=await n.endpoint();let s,c=`${o?.endsWith("/")?o.slice(0,-1):o||""}/accounts/{AccountId}/users/{UserId}`;return c=(0,e.Is)(c,t,"AccountId",(()=>t.AccountId),"{AccountId}",!1),c=(0,e.Is)(c,t,"UserId",(()=>t.UserId),"{UserId}",!1),s=JSON.stringify((0,e.qn)(t,{AlexaForBusinessMetadata:t=>(0,e.F3)(t),LicenseType:[],UserType:[]})),new Qt.aW({protocol:r,hostname:i,port:a,method:"POST",headers:{"content-type":"application/json"},path:c,body:s})})(t,n)}deserialize(t,n){return(async(t,n)=>{if(200!==t.statusCode&&t.statusCode>=300)return(async(e,t)=>{const n={...e,body:await On(e.body,t)},i=Un(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chime#BadRequestException":throw await rn(n,t);case"ForbiddenException":case"com.amazonaws.chime#ForbiddenException":throw await on(n,t);case"NotFoundException":case"com.amazonaws.chime#NotFoundException":throw await sn(n,t);case"ServiceFailureException":case"com.amazonaws.chime#ServiceFailureException":throw await dn(n,t);case"ServiceUnavailableException":case"com.amazonaws.chime#ServiceUnavailableException":throw await ln(n,t);case"ThrottledClientException":case"com.amazonaws.chime#ThrottledClientException":throw await un(n,t);case"UnauthorizedClientException":case"com.amazonaws.chime#UnauthorizedClientException":throw await hn(n,t);default:const r=n.body;return tn({output:e,parsedBody:r,errorCode:i})}})(t,n);const i=(0,e.UI)({$metadata:Rn(t)}),r=(0,e.CE)((0,e.Wh)(await _n(t.body,n)),"body"),a=(0,e.qn)(r,{User:e=>An(e)});return Object.assign(i,a),i})(t,n)}}class js extends e.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,i.a3)(t,js.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:a}=t,o={logger:a,clientName:"ChimeClient",commandName:"UpdateUserSettingsCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:e=>e},{requestHandler:s}=t;return r.resolve((e=>s.handle(e.request,n||{})),o)}serialize(t,n){return(async(t,n)=>{const{hostname:i,protocol:r="https",port:a,path:o}=await n.endpoint();let s,c=`${o?.endsWith("/")?o.slice(0,-1):o||""}/accounts/{AccountId}/users/{UserId}/settings`;return c=(0,e.Is)(c,t,"AccountId",(()=>t.AccountId),"{AccountId}",!1),c=(0,e.Is)(c,t,"UserId",(()=>t.UserId),"{UserId}",!1),s=JSON.stringify((0,e.qn)(t,{UserSettings:t=>(0,e.F3)(t)})),new Qt.aW({protocol:r,hostname:i,port:a,method:"PUT",headers:{"content-type":"application/json"},path:c,body:s})})(t,n)}deserialize(t,n){return(async(t,n)=>{if(204!==t.statusCode&&t.statusCode>=300)return(async(e,t)=>{const n={...e,body:await On(e.body,t)},i=Un(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chime#BadRequestException":throw await rn(n,t);case"ForbiddenException":case"com.amazonaws.chime#ForbiddenException":throw await on(n,t);case"NotFoundException":case"com.amazonaws.chime#NotFoundException":throw await sn(n,t);case"ServiceFailureException":case"com.amazonaws.chime#ServiceFailureException":throw await dn(n,t);case"ServiceUnavailableException":case"com.amazonaws.chime#ServiceUnavailableException":throw await ln(n,t);case"ThrottledClientException":case"com.amazonaws.chime#ThrottledClientException":throw await un(n,t);case"UnauthorizedClientException":case"com.amazonaws.chime#UnauthorizedClientException":throw await hn(n,t);default:const r=n.body;return tn({output:e,parsedBody:r,errorCode:i})}})(t,n);const i=(0,e.UI)({$metadata:Rn(t)});return await(0,e.Wg)(t.body,n),i})(t,n)}}class Ws extends e.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,i.a3)(t,Ws.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:a}=t,o={logger:a,clientName:"ChimeClient",commandName:"UpdateVoiceConnectorCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:e=>e},{requestHandler:s}=t;return r.resolve((e=>s.handle(e.request,n||{})),o)}serialize(t,n){return(async(t,n)=>{const{hostname:i,protocol:r="https",port:a,path:o}=await n.endpoint();let s,c=`${o?.endsWith("/")?o.slice(0,-1):o||""}/voice-connectors/{VoiceConnectorId}`;return c=(0,e.Is)(c,t,"VoiceConnectorId",(()=>t.VoiceConnectorId),"{VoiceConnectorId}",!1),s=JSON.stringify((0,e.qn)(t,{Name:[],RequireEncryption:[]})),new Qt.aW({protocol:r,hostname:i,port:a,method:"PUT",headers:{"content-type":"application/json"},path:c,body:s})})(t,n)}deserialize(t,n){return(async(t,n)=>{if(200!==t.statusCode&&t.statusCode>=300)return(async(e,t)=>{const n={...e,body:await On(e.body,t)},i=Un(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chime#BadRequestException":throw await rn(n,t);case"ForbiddenException":case"com.amazonaws.chime#ForbiddenException":throw await on(n,t);case"NotFoundException":case"com.amazonaws.chime#NotFoundException":throw await sn(n,t);case"ServiceFailureException":case"com.amazonaws.chime#ServiceFailureException":throw await dn(n,t);case"ServiceUnavailableException":case"com.amazonaws.chime#ServiceUnavailableException":throw await ln(n,t);case"ThrottledClientException":case"com.amazonaws.chime#ThrottledClientException":throw await un(n,t);case"UnauthorizedClientException":case"com.amazonaws.chime#UnauthorizedClientException":throw await hn(n,t);default:const r=n.body;return tn({output:e,parsedBody:r,errorCode:i})}})(t,n);const i=(0,e.UI)({$metadata:Rn(t)}),r=(0,e.CE)((0,e.Wh)(await _n(t.body,n)),"body"),a=(0,e.qn)(r,{VoiceConnector:e=>Tn(e)});return Object.assign(i,a),i})(t,n)}}class $s extends e.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,i.a3)(t,$s.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:a}=t,o={logger:a,clientName:"ChimeClient",commandName:"UpdateVoiceConnectorGroupCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:e=>e},{requestHandler:s}=t;return r.resolve((e=>s.handle(e.request,n||{})),o)}serialize(t,n){return(async(t,n)=>{const{hostname:i,protocol:r="https",port:a,path:o}=await n.endpoint();let s,c=`${o?.endsWith("/")?o.slice(0,-1):o||""}/voice-connector-groups/{VoiceConnectorGroupId}`;return c=(0,e.Is)(c,t,"VoiceConnectorGroupId",(()=>t.VoiceConnectorGroupId),"{VoiceConnectorGroupId}",!1),s=JSON.stringify((0,e.qn)(t,{Name:[],VoiceConnectorItems:t=>(0,e.F3)(t)})),new Qt.aW({protocol:r,hostname:i,port:a,method:"PUT",headers:{"content-type":"application/json"},path:c,body:s})})(t,n)}deserialize(t,n){return(async(t,n)=>{if(202!==t.statusCode&&t.statusCode>=300)return(async(e,t)=>{const n={...e,body:await On(e.body,t)},i=Un(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chime#BadRequestException":throw await rn(n,t);case"ConflictException":case"com.amazonaws.chime#ConflictException":throw await an(n,t);case"ForbiddenException":case"com.amazonaws.chime#ForbiddenException":throw await on(n,t);case"NotFoundException":case"com.amazonaws.chime#NotFoundException":throw await sn(n,t);case"ServiceFailureException":case"com.amazonaws.chime#ServiceFailureException":throw await dn(n,t);case"ServiceUnavailableException":case"com.amazonaws.chime#ServiceUnavailableException":throw await ln(n,t);case"ThrottledClientException":case"com.amazonaws.chime#ThrottledClientException":throw await un(n,t);case"UnauthorizedClientException":case"com.amazonaws.chime#UnauthorizedClientException":throw await hn(n,t);default:const r=n.body;return tn({output:e,parsedBody:r,errorCode:i})}})(t,n);const i=(0,e.UI)({$metadata:Rn(t)}),r=(0,e.CE)((0,e.Wh)(await _n(t.body,n)),"body"),a=(0,e.qn)(r,{VoiceConnectorGroup:e=>Mn(e)});return Object.assign(i,a),i})(t,n)}}class Hs extends e.mY{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,i.a3)(t,Hs.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:a}=t,o={logger:a,clientName:"ChimeClient",commandName:"ValidateE911AddressCommand",inputFilterSensitiveLog:to,outputFilterSensitiveLog:no},{requestHandler:s}=t;return r.resolve((e=>s.handle(e.request,n||{})),o)}serialize(t,n){return(async(t,n)=>{const{hostname:i,protocol:r="https",port:a,path:o}=await n.endpoint(),s=`${o?.endsWith("/")?o.slice(0,-1):o||""}/emergency-calling/address`;let c;return c=JSON.stringify((0,e.qn)(t,{AwsAccountId:[],City:[],Country:[],PostalCode:[],State:[],StreetInfo:[],StreetNumber:[]})),new Qt.aW({protocol:r,hostname:i,port:a,method:"POST",headers:{"content-type":"application/json"},path:s,body:c})})(t,n)}deserialize(t,n){return(async(t,n)=>{if(202!==t.statusCode&&t.statusCode>=300)return(async(e,t)=>{const n={...e,body:await On(e.body,t)},i=Un(e,n.body);switch(i){case"BadRequestException":case"com.amazonaws.chime#BadRequestException":throw await rn(n,t);case"ForbiddenException":case"com.amazonaws.chime#ForbiddenException":throw await on(n,t);case"NotFoundException":case"com.amazonaws.chime#NotFoundException":throw await sn(n,t);case"ServiceFailureException":case"com.amazonaws.chime#ServiceFailureException":throw await dn(n,t);case"ServiceUnavailableException":case"com.amazonaws.chime#ServiceUnavailableException":throw await ln(n,t);case"ThrottledClientException":case"com.amazonaws.chime#ThrottledClientException":throw await un(n,t);case"UnauthorizedClientException":case"com.amazonaws.chime#UnauthorizedClientException":throw await hn(n,t);default:const r=n.body;return tn({output:e,parsedBody:r,errorCode:i})}})(t,n);const i=(0,e.UI)({$metadata:Rn(t)}),r=(0,e.CE)((0,e.Wh)(await _n(t.body,n)),"body"),a=(0,e.qn)(r,{Address:e.F3,AddressExternalId:e.pY,CandidateAddressList:e.F3,ValidationResult:e.u$});return Object.assign(i,a),i})(t,n)}}const Gs={AssociatePhoneNumbersWithVoiceConnectorCommand:Nn,AssociatePhoneNumbersWithVoiceConnectorGroupCommand:zn,AssociatePhoneNumberWithUserCommand:Dn,AssociateSigninDelegateGroupsWithAccountCommand:Ln,BatchCreateAttendeeCommand:Bn,BatchCreateChannelMembershipCommand:qn,BatchCreateRoomMembershipCommand:Vn,BatchDeletePhoneNumberCommand:jn,BatchSuspendUserCommand:Wn,BatchUnsuspendUserCommand:$n,BatchUpdatePhoneNumberCommand:Hn,BatchUpdateUserCommand:Gn,CreateAccountCommand:Kn,CreateAppInstanceCommand:Jn,CreateAppInstanceAdminCommand:Yn,CreateAppInstanceUserCommand:Xn,CreateAttendeeCommand:Zn,CreateBotCommand:Qn,CreateChannelCommand:ti,CreateChannelBanCommand:ei,CreateChannelMembershipCommand:ni,CreateChannelModeratorCommand:ii,CreateMediaCapturePipelineCommand:ri,CreateMeetingCommand:ai,CreateMeetingDialOutCommand:oi,CreateMeetingWithAttendeesCommand:si,CreatePhoneNumberOrderCommand:ci,CreateProxySessionCommand:di,CreateRoomCommand:li,CreateRoomMembershipCommand:ui,CreateSipMediaApplicationCommand:pi,CreateSipMediaApplicationCallCommand:hi,CreateSipRuleCommand:mi,CreateUserCommand:fi,CreateVoiceConnectorCommand:gi,CreateVoiceConnectorGroupCommand:wi,DeleteAccountCommand:yi,DeleteAppInstanceCommand:bi,DeleteAppInstanceAdminCommand:vi,DeleteAppInstanceStreamingConfigurationsCommand:Si,DeleteAppInstanceUserCommand:Ei,DeleteAttendeeCommand:Ci,DeleteChannelCommand:Ii,DeleteChannelBanCommand:xi,DeleteChannelMembershipCommand:ki,DeleteChannelMessageCommand:Pi,DeleteChannelModeratorCommand:Ai,DeleteEventsConfigurationCommand:Ti,DeleteMediaCapturePipelineCommand:Mi,DeleteMeetingCommand:Ri,DeletePhoneNumberCommand:Fi,DeleteProxySessionCommand:_i,DeleteRoomCommand:Oi,DeleteRoomMembershipCommand:Ui,DeleteSipMediaApplicationCommand:Ni,DeleteSipRuleCommand:zi,DeleteVoiceConnectorCommand:Di,DeleteVoiceConnectorEmergencyCallingConfigurationCommand:Li,DeleteVoiceConnectorGroupCommand:Bi,DeleteVoiceConnectorOriginationCommand:qi,DeleteVoiceConnectorProxyCommand:Vi,DeleteVoiceConnectorStreamingConfigurationCommand:ji,DeleteVoiceConnectorTerminationCommand:Wi,DeleteVoiceConnectorTerminationCredentialsCommand:$i,DescribeAppInstanceCommand:Gi,DescribeAppInstanceAdminCommand:Hi,DescribeAppInstanceUserCommand:Ki,DescribeChannelCommand:Ji,DescribeChannelBanCommand:Yi,DescribeChannelMembershipCommand:Xi,DescribeChannelMembershipForAppInstanceUserCommand:Zi,DescribeChannelModeratedByAppInstanceUserCommand:Qi,DescribeChannelModeratorCommand:er,DisassociatePhoneNumberFromUserCommand:tr,DisassociatePhoneNumbersFromVoiceConnectorCommand:nr,DisassociatePhoneNumbersFromVoiceConnectorGroupCommand:ir,DisassociateSigninDelegateGroupsFromAccountCommand:rr,GetAccountCommand:ar,GetAccountSettingsCommand:or,GetAppInstanceRetentionSettingsCommand:sr,GetAppInstanceStreamingConfigurationsCommand:cr,GetAttendeeCommand:dr,GetBotCommand:lr,GetChannelMessageCommand:ur,GetEventsConfigurationCommand:hr,GetGlobalSettingsCommand:pr,GetMediaCapturePipelineCommand:mr,GetMeetingCommand:fr,GetMessagingSessionEndpointCommand:gr,GetPhoneNumberCommand:wr,GetPhoneNumberOrderCommand:yr,GetPhoneNumberSettingsCommand:vr,GetProxySessionCommand:br,GetRetentionSettingsCommand:Sr,GetRoomCommand:io,GetSipMediaApplicationCommand:ro,GetSipMediaApplicationLoggingConfigurationCommand:ao,GetSipRuleCommand:oo,GetUserCommand:so,GetUserSettingsCommand:co,GetVoiceConnectorCommand:lo,GetVoiceConnectorEmergencyCallingConfigurationCommand:uo,GetVoiceConnectorGroupCommand:ho,GetVoiceConnectorLoggingConfigurationCommand:po,GetVoiceConnectorOriginationCommand:mo,GetVoiceConnectorProxyCommand:fo,GetVoiceConnectorStreamingConfigurationCommand:go,GetVoiceConnectorTerminationCommand:wo,GetVoiceConnectorTerminationHealthCommand:yo,InviteUsersCommand:vo,ListAccountsCommand:bo,ListAppInstanceAdminsCommand:So,ListAppInstancesCommand:Eo,ListAppInstanceUsersCommand:Co,ListAttendeesCommand:xo,ListAttendeeTagsCommand:Io,ListBotsCommand:ko,ListChannelBansCommand:Po,ListChannelMembershipsCommand:Ao,ListChannelMembershipsForAppInstanceUserCommand:To,ListChannelMessagesCommand:Mo,ListChannelModeratorsCommand:Ro,ListChannelsCommand:Fo,ListChannelsModeratedByAppInstanceUserCommand:_o,ListMediaCapturePipelinesCommand:Oo,ListMeetingsCommand:Uo,ListMeetingTagsCommand:No,ListPhoneNumberOrdersCommand:zo,ListPhoneNumbersCommand:Do,ListProxySessionsCommand:Lo,ListRoomMembershipsCommand:Bo,ListRoomsCommand:qo,ListSipMediaApplicationsCommand:Vo,ListSipRulesCommand:jo,ListSupportedPhoneNumberCountriesCommand:Wo,ListTagsForResourceCommand:$o,ListUsersCommand:Ho,ListVoiceConnectorGroupsCommand:Go,ListVoiceConnectorsCommand:Ko,ListVoiceConnectorTerminationCredentialsCommand:Yo,LogoutUserCommand:Jo,PutAppInstanceRetentionSettingsCommand:Xo,PutAppInstanceStreamingConfigurationsCommand:Zo,PutEventsConfigurationCommand:Qo,PutRetentionSettingsCommand:es,PutSipMediaApplicationLoggingConfigurationCommand:ts,PutVoiceConnectorEmergencyCallingConfigurationCommand:ns,PutVoiceConnectorLoggingConfigurationCommand:is,PutVoiceConnectorOriginationCommand:rs,PutVoiceConnectorProxyCommand:as,PutVoiceConnectorStreamingConfigurationCommand:os,PutVoiceConnectorTerminationCommand:ss,PutVoiceConnectorTerminationCredentialsCommand:cs,RedactChannelMessageCommand:ds,RedactConversationMessageCommand:ls,RedactRoomMessageCommand:us,RegenerateSecurityTokenCommand:hs,ResetPersonalPINCommand:ps,RestorePhoneNumberCommand:ms,SearchAvailablePhoneNumbersCommand:fs,SendChannelMessageCommand:gs,StartMeetingTranscriptionCommand:ws,StopMeetingTranscriptionCommand:ys,TagAttendeeCommand:vs,TagMeetingCommand:bs,TagResourceCommand:Ss,UntagAttendeeCommand:Es,UntagMeetingCommand:Cs,UntagResourceCommand:xs,UpdateAccountCommand:Is,UpdateAccountSettingsCommand:ks,UpdateAppInstanceCommand:Ps,UpdateAppInstanceUserCommand:As,UpdateBotCommand:Ts,UpdateChannelCommand:Ms,UpdateChannelMessageCommand:Rs,UpdateChannelReadMarkerCommand:Fs,UpdateGlobalSettingsCommand:_s,UpdatePhoneNumberCommand:Os,UpdatePhoneNumberSettingsCommand:Us,UpdateProxySessionCommand:Ns,UpdateRoomCommand:zs,UpdateRoomMembershipCommand:Ds,UpdateSipMediaApplicationCommand:Bs,UpdateSipMediaApplicationCallCommand:Ls,UpdateSipRuleCommand:qs,UpdateUserCommand:Vs,UpdateUserSettingsCommand:js,UpdateVoiceConnectorCommand:Ws,UpdateVoiceConnectorGroupCommand:$s,ValidateE911AddressCommand:Hs};class Ks extends G{}(0,e.TW)(Gs,Ks);class Ys extends e.sI{constructor(e){super(e),Object.setPrototypeOf(this,Ys.prototype)}}class Js extends Ys{constructor(e){super({name:"ExpiredTokenException",$fault:"client",...e}),this.name="ExpiredTokenException",this.$fault="client",Object.setPrototypeOf(this,Js.prototype)}}class Xs extends Ys{constructor(e){super({name:"MalformedPolicyDocumentException",$fault:"client",...e}),this.name="MalformedPolicyDocumentException",this.$fault="client",Object.setPrototypeOf(this,Xs.prototype)}}class Zs extends Ys{constructor(e){super({name:"PackedPolicyTooLargeException",$fault:"client",...e}),this.name="PackedPolicyTooLargeException",this.$fault="client",Object.setPrototypeOf(this,Zs.prototype)}}class Qs extends Ys{constructor(e){super({name:"RegionDisabledException",$fault:"client",...e}),this.name="RegionDisabledException",this.$fault="client",Object.setPrototypeOf(this,Qs.prototype)}}class ec extends Ys{constructor(e){super({name:"IDPRejectedClaimException",$fault:"client",...e}),this.name="IDPRejectedClaimException",this.$fault="client",Object.setPrototypeOf(this,ec.prototype)}}class tc extends Ys{constructor(e){super({name:"InvalidIdentityTokenException",$fault:"client",...e}),this.name="InvalidIdentityTokenException",this.$fault="client",Object.setPrototypeOf(this,tc.prototype)}}class nc extends Ys{constructor(e){super({name:"IDPCommunicationErrorException",$fault:"client",...e}),this.name="IDPCommunicationErrorException",this.$fault="client",Object.setPrototypeOf(this,nc.prototype)}}class ic extends Ys{constructor(e){super({name:"InvalidAuthorizationMessageException",$fault:"client",...e}),this.name="InvalidAuthorizationMessageException",this.$fault="client",Object.setPrototypeOf(this,ic.prototype)}}const rc=t=>({...t,...t.SecretAccessKey&&{SecretAccessKey:e.oc}}),ac=e=>({...e,...e.Credentials&&{Credentials:rc(e.Credentials)}}),oc=t=>({...t,...t.SAMLAssertion&&{SAMLAssertion:e.oc}}),sc=e=>({...e,...e.Credentials&&{Credentials:rc(e.Credentials)}}),cc=t=>({...t,...t.WebIdentityToken&&{WebIdentityToken:e.oc}}),dc=e=>({...e,...e.Credentials&&{Credentials:rc(e.Credentials)}}),lc=e=>({...e,...e.Credentials&&{Credentials:rc(e.Credentials)}}),uc=e=>({...e,...e.Credentials&&{Credentials:rc(e.Credentials)}});var hc=__webpack_require__(6932);const pc=async(t,n)=>{const i=t.body,r=Uc(i.Error,n),a=new Js({$metadata:jc(t),...r});return(0,e.to)(a,i)},mc=async(t,n)=>{const i=t.body,r=Nc(i.Error,n),a=new nc({$metadata:jc(t),...r});return(0,e.to)(a,i)},fc=async(t,n)=>{const i=t.body,r=zc(i.Error,n),a=new ec({$metadata:jc(t),...r});return(0,e.to)(a,i)},gc=async(t,n)=>{const i=t.body,r=Dc(i.Error,n),a=new ic({$metadata:jc(t),...r});return(0,e.to)(a,i)},wc=async(t,n)=>{const i=t.body,r=Lc(i.Error,n),a=new tc({$metadata:jc(t),...r});return(0,e.to)(a,i)},yc=async(t,n)=>{const i=t.body,r=Bc(i.Error,n),a=new Xs({$metadata:jc(t),...r});return(0,e.to)(a,i)},vc=async(t,n)=>{const i=t.body,r=qc(i.Error,n),a=new Zs({$metadata:jc(t),...r});return(0,e.to)(a,i)},bc=async(t,n)=>{const i=t.body,r=Vc(i.Error,n),a=new Qs({$metadata:jc(t),...r});return(0,e.to)(a,i)},Sc=(e,t)=>{const n={};if(null!=e.RoleArn&&(n.RoleArn=e.RoleArn),null!=e.RoleSessionName&&(n.RoleSessionName=e.RoleSessionName),null!=e.PolicyArns){const i=Ac(e.PolicyArns,t);0===e.PolicyArns?.length&&(n.PolicyArns=[]),Object.entries(i).forEach((([e,t])=>{n[`PolicyArns.${e}`]=t}))}if(null!=e.Policy&&(n.Policy=e.Policy),null!=e.DurationSeconds&&(n.DurationSeconds=e.DurationSeconds),null!=e.Tags){const i=Fc(e.Tags,t);0===e.Tags?.length&&(n.Tags=[]),Object.entries(i).forEach((([e,t])=>{n[`Tags.${e}`]=t}))}if(null!=e.TransitiveTagKeys){const i=Rc(e.TransitiveTagKeys,t);0===e.TransitiveTagKeys?.length&&(n.TransitiveTagKeys=[]),Object.entries(i).forEach((([e,t])=>{n[`TransitiveTagKeys.${e}`]=t}))}return null!=e.ExternalId&&(n.ExternalId=e.ExternalId),null!=e.SerialNumber&&(n.SerialNumber=e.SerialNumber),null!=e.TokenCode&&(n.TokenCode=e.TokenCode),null!=e.SourceIdentity&&(n.SourceIdentity=e.SourceIdentity),n},Ec=(e,t)=>{const n={};if(null!=e.RoleArn&&(n.RoleArn=e.RoleArn),null!=e.PrincipalArn&&(n.PrincipalArn=e.PrincipalArn),null!=e.SAMLAssertion&&(n.SAMLAssertion=e.SAMLAssertion),null!=e.PolicyArns){const i=Ac(e.PolicyArns,t);0===e.PolicyArns?.length&&(n.PolicyArns=[]),Object.entries(i).forEach((([e,t])=>{n[`PolicyArns.${e}`]=t}))}return null!=e.Policy&&(n.Policy=e.Policy),null!=e.DurationSeconds&&(n.DurationSeconds=e.DurationSeconds),n},Cc=(e,t)=>{const n={};if(null!=e.RoleArn&&(n.RoleArn=e.RoleArn),null!=e.RoleSessionName&&(n.RoleSessionName=e.RoleSessionName),null!=e.WebIdentityToken&&(n.WebIdentityToken=e.WebIdentityToken),null!=e.ProviderId&&(n.ProviderId=e.ProviderId),null!=e.PolicyArns){const i=Ac(e.PolicyArns,t);0===e.PolicyArns?.length&&(n.PolicyArns=[]),Object.entries(i).forEach((([e,t])=>{n[`PolicyArns.${e}`]=t}))}return null!=e.Policy&&(n.Policy=e.Policy),null!=e.DurationSeconds&&(n.DurationSeconds=e.DurationSeconds),n},xc=(e,t)=>{const n={};return null!=e.EncodedMessage&&(n.EncodedMessage=e.EncodedMessage),n},Ic=(e,t)=>{const n={};return null!=e.AccessKeyId&&(n.AccessKeyId=e.AccessKeyId),n},kc=(e,t)=>{const n={};if(null!=e.Name&&(n.Name=e.Name),null!=e.Policy&&(n.Policy=e.Policy),null!=e.PolicyArns){const i=Ac(e.PolicyArns,t);0===e.PolicyArns?.length&&(n.PolicyArns=[]),Object.entries(i).forEach((([e,t])=>{n[`PolicyArns.${e}`]=t}))}if(null!=e.DurationSeconds&&(n.DurationSeconds=e.DurationSeconds),null!=e.Tags){const i=Fc(e.Tags,t);0===e.Tags?.length&&(n.Tags=[]),Object.entries(i).forEach((([e,t])=>{n[`Tags.${e}`]=t}))}return n},Pc=(e,t)=>{const n={};return null!=e.DurationSeconds&&(n.DurationSeconds=e.DurationSeconds),null!=e.SerialNumber&&(n.SerialNumber=e.SerialNumber),null!=e.TokenCode&&(n.TokenCode=e.TokenCode),n},Ac=(e,t)=>{const n={};let i=1;for(const r of e){if(null===r)continue;const e=Tc(r,t);Object.entries(e).forEach((([e,t])=>{n[`member.${i}.${e}`]=t})),i++}return n},Tc=(e,t)=>{const n={};return null!=e.arn&&(n.arn=e.arn),n},Mc=(e,t)=>{const n={};return null!=e.Key&&(n.Key=e.Key),null!=e.Value&&(n.Value=e.Value),n},Rc=(e,t)=>{const n={};let i=1;for(const t of e)null!==t&&(n[`member.${i}`]=t,i++);return n},Fc=(e,t)=>{const n={};let i=1;for(const t of e){if(null===t)continue;const e=Mc(t);Object.entries(e).forEach((([e,t])=>{n[`member.${i}.${e}`]=t})),i++}return n},_c=(t,n)=>{const i={};return void 0!==t.AssumedRoleId&&(i.AssumedRoleId=(0,e.pY)(t.AssumedRoleId)),void 0!==t.Arn&&(i.Arn=(0,e.pY)(t.Arn)),i},Oc=(t,n)=>{const i={};return void 0!==t.AccessKeyId&&(i.AccessKeyId=(0,e.pY)(t.AccessKeyId)),void 0!==t.SecretAccessKey&&(i.SecretAccessKey=(0,e.pY)(t.SecretAccessKey)),void 0!==t.SessionToken&&(i.SessionToken=(0,e.pY)(t.SessionToken)),void 0!==t.Expiration&&(i.Expiration=(0,e.CE)((0,e.aH)(t.Expiration))),i},Uc=(t,n)=>{const i={};return void 0!==t.message&&(i.message=(0,e.pY)(t.message)),i},Nc=(t,n)=>{const i={};return void 0!==t.message&&(i.message=(0,e.pY)(t.message)),i},zc=(t,n)=>{const i={};return void 0!==t.message&&(i.message=(0,e.pY)(t.message)),i},Dc=(t,n)=>{const i={};return void 0!==t.message&&(i.message=(0,e.pY)(t.message)),i},Lc=(t,n)=>{const i={};return void 0!==t.message&&(i.message=(0,e.pY)(t.message)),i},Bc=(t,n)=>{const i={};return void 0!==t.message&&(i.message=(0,e.pY)(t.message)),i},qc=(t,n)=>{const i={};return void 0!==t.message&&(i.message=(0,e.pY)(t.message)),i},Vc=(t,n)=>{const i={};return void 0!==t.message&&(i.message=(0,e.pY)(t.message)),i},jc=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),Wc=(0,e.PC)(Ys),$c=async(e,t,n,i,r)=>{const{hostname:a,protocol:o="https",port:s,path:c}=await e.endpoint(),d={protocol:o,hostname:a,port:s,method:"POST",path:c.endsWith("/")?c.slice(0,-1)+n:c+n,headers:t};return void 0!==i&&(d.hostname=i),void 0!==r&&(d.body=r),new Qt.aW(d)},Hc={"content-type":"application/x-www-form-urlencoded"},Gc=(t,n)=>((t,n)=>(0,e.Wg)(t,n).then((e=>n.utf8Encoder(e))))(t,n).then((t=>{if(t.length){const n=new hc.XMLParser({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(e,t)=>""===t.trim()&&t.includes("\n")?"":void 0});n.addEntity("#xD","\r"),n.addEntity("#10","\n");const i=n.parse(t),r="#text",a=Object.keys(i)[0],o=i[a];return o[r]&&(o[a]=o[r],delete o[r]),(0,e.sT)(o)}return{}})),Kc=async(e,t)=>{const n=await Gc(e,t);return n.Error&&(n.Error.message=n.Error.message??n.Error.Message),n},Yc=t=>Object.entries(t).map((([t,n])=>(0,e.jc)(t)+"="+(0,e.jc)(n))).join("&"),Jc=(e,t)=>void 0!==t.Error?.Code?t.Error.Code:404==e.statusCode?"NotFound":void 0;class Xc extends e.mY{static getEndpointParameterInstructions(){return{UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,i.a3)(t,Xc.getEndpointParameterInstructions())),this.middlewareStack.use((0,c.yt)(t));const r=e.concat(this.middlewareStack),{logger:a}=t,o={logger:a,clientName:"STSClient",commandName:"AssumeRoleCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:ac},{requestHandler:s}=t;return r.resolve((e=>s.handle(e.request,n||{})),o)}serialize(e,t){return(async(e,t)=>{const n=Hc;let i;return i=Yc({...Sc(e,t),Action:"AssumeRole",Version:"2011-06-15"}),$c(t,n,"/",void 0,i)})(e,t)}deserialize(t,n){return(async(t,n)=>{if(t.statusCode>=300)return(async(e,t)=>{const n={...e,body:await Kc(e.body,t)},i=Jc(e,n.body);switch(i){case"ExpiredTokenException":case"com.amazonaws.sts#ExpiredTokenException":throw await pc(n,t);case"MalformedPolicyDocument":case"com.amazonaws.sts#MalformedPolicyDocumentException":throw await yc(n,t);case"PackedPolicyTooLarge":case"com.amazonaws.sts#PackedPolicyTooLargeException":throw await vc(n,t);case"RegionDisabledException":case"com.amazonaws.sts#RegionDisabledException":throw await bc(n,t);default:const r=n.body;return Wc({output:e,parsedBody:r.Error,errorCode:i})}})(t,n);let i={};return i=((t,n)=>{const i={};return void 0!==t.Credentials&&(i.Credentials=Oc(t.Credentials,n)),void 0!==t.AssumedRoleUser&&(i.AssumedRoleUser=_c(t.AssumedRoleUser)),void 0!==t.PackedPolicySize&&(i.PackedPolicySize=(0,e.AF)(t.PackedPolicySize)),void 0!==t.SourceIdentity&&(i.SourceIdentity=(0,e.pY)(t.SourceIdentity)),i})((await Gc(t.body,n)).AssumeRoleResult,n),{$metadata:jc(t),...i}})(t,n)}}class Zc extends e.mY{static getEndpointParameterInstructions(){return{UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,i.a3)(t,Zc.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:a}=t,o={logger:a,clientName:"STSClient",commandName:"AssumeRoleWithSAMLCommand",inputFilterSensitiveLog:oc,outputFilterSensitiveLog:sc},{requestHandler:s}=t;return r.resolve((e=>s.handle(e.request,n||{})),o)}serialize(e,t){return(async(e,t)=>{const n=Hc;let i;return i=Yc({...Ec(e,t),Action:"AssumeRoleWithSAML",Version:"2011-06-15"}),$c(t,n,"/",void 0,i)})(e,t)}deserialize(t,n){return(async(t,n)=>{if(t.statusCode>=300)return(async(e,t)=>{const n={...e,body:await Kc(e.body,t)},i=Jc(e,n.body);switch(i){case"ExpiredTokenException":case"com.amazonaws.sts#ExpiredTokenException":throw await pc(n,t);case"IDPRejectedClaim":case"com.amazonaws.sts#IDPRejectedClaimException":throw await fc(n,t);case"InvalidIdentityToken":case"com.amazonaws.sts#InvalidIdentityTokenException":throw await wc(n,t);case"MalformedPolicyDocument":case"com.amazonaws.sts#MalformedPolicyDocumentException":throw await yc(n,t);case"PackedPolicyTooLarge":case"com.amazonaws.sts#PackedPolicyTooLargeException":throw await vc(n,t);case"RegionDisabledException":case"com.amazonaws.sts#RegionDisabledException":throw await bc(n,t);default:const r=n.body;return Wc({output:e,parsedBody:r.Error,errorCode:i})}})(t,n);let i={};return i=((t,n)=>{const i={};return void 0!==t.Credentials&&(i.Credentials=Oc(t.Credentials,n)),void 0!==t.AssumedRoleUser&&(i.AssumedRoleUser=_c(t.AssumedRoleUser)),void 0!==t.PackedPolicySize&&(i.PackedPolicySize=(0,e.AF)(t.PackedPolicySize)),void 0!==t.Subject&&(i.Subject=(0,e.pY)(t.Subject)),void 0!==t.SubjectType&&(i.SubjectType=(0,e.pY)(t.SubjectType)),void 0!==t.Issuer&&(i.Issuer=(0,e.pY)(t.Issuer)),void 0!==t.Audience&&(i.Audience=(0,e.pY)(t.Audience)),void 0!==t.NameQualifier&&(i.NameQualifier=(0,e.pY)(t.NameQualifier)),void 0!==t.SourceIdentity&&(i.SourceIdentity=(0,e.pY)(t.SourceIdentity)),i})((await Gc(t.body,n)).AssumeRoleWithSAMLResult,n),{$metadata:jc(t),...i}})(t,n)}}class Qc extends e.mY{static getEndpointParameterInstructions(){return{UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,i.a3)(t,Qc.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:a}=t,o={logger:a,clientName:"STSClient",commandName:"AssumeRoleWithWebIdentityCommand",inputFilterSensitiveLog:cc,outputFilterSensitiveLog:dc},{requestHandler:s}=t;return r.resolve((e=>s.handle(e.request,n||{})),o)}serialize(e,t){return(async(e,t)=>{const n=Hc;let i;return i=Yc({...Cc(e,t),Action:"AssumeRoleWithWebIdentity",Version:"2011-06-15"}),$c(t,n,"/",void 0,i)})(e,t)}deserialize(t,n){return(async(t,n)=>{if(t.statusCode>=300)return(async(e,t)=>{const n={...e,body:await Kc(e.body,t)},i=Jc(e,n.body);switch(i){case"ExpiredTokenException":case"com.amazonaws.sts#ExpiredTokenException":throw await pc(n,t);case"IDPCommunicationError":case"com.amazonaws.sts#IDPCommunicationErrorException":throw await mc(n,t);case"IDPRejectedClaim":case"com.amazonaws.sts#IDPRejectedClaimException":throw await fc(n,t);case"InvalidIdentityToken":case"com.amazonaws.sts#InvalidIdentityTokenException":throw await wc(n,t);case"MalformedPolicyDocument":case"com.amazonaws.sts#MalformedPolicyDocumentException":throw await yc(n,t);case"PackedPolicyTooLarge":case"com.amazonaws.sts#PackedPolicyTooLargeException":throw await vc(n,t);case"RegionDisabledException":case"com.amazonaws.sts#RegionDisabledException":throw await bc(n,t);default:const r=n.body;return Wc({output:e,parsedBody:r.Error,errorCode:i})}})(t,n);let i={};return i=((t,n)=>{const i={};return void 0!==t.Credentials&&(i.Credentials=Oc(t.Credentials,n)),void 0!==t.SubjectFromWebIdentityToken&&(i.SubjectFromWebIdentityToken=(0,e.pY)(t.SubjectFromWebIdentityToken)),void 0!==t.AssumedRoleUser&&(i.AssumedRoleUser=_c(t.AssumedRoleUser)),void 0!==t.PackedPolicySize&&(i.PackedPolicySize=(0,e.AF)(t.PackedPolicySize)),void 0!==t.Provider&&(i.Provider=(0,e.pY)(t.Provider)),void 0!==t.Audience&&(i.Audience=(0,e.pY)(t.Audience)),void 0!==t.SourceIdentity&&(i.SourceIdentity=(0,e.pY)(t.SourceIdentity)),i})((await Gc(t.body,n)).AssumeRoleWithWebIdentityResult,n),{$metadata:jc(t),...i}})(t,n)}}class ed extends e.mY{static getEndpointParameterInstructions(){return{UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,i.a3)(t,ed.getEndpointParameterInstructions())),this.middlewareStack.use((0,c.yt)(t));const r=e.concat(this.middlewareStack),{logger:a}=t,o={logger:a,clientName:"STSClient",commandName:"DecodeAuthorizationMessageCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:e=>e},{requestHandler:s}=t;return r.resolve((e=>s.handle(e.request,n||{})),o)}serialize(e,t){return(async(e,t)=>{const n=Hc;let i;return i=Yc({...xc(e),Action:"DecodeAuthorizationMessage",Version:"2011-06-15"}),$c(t,n,"/",void 0,i)})(e,t)}deserialize(t,n){return(async(t,n)=>{if(t.statusCode>=300)return(async(e,t)=>{const n={...e,body:await Kc(e.body,t)},i=Jc(e,n.body);switch(i){case"InvalidAuthorizationMessageException":case"com.amazonaws.sts#InvalidAuthorizationMessageException":throw await gc(n,t);default:const r=n.body;return Wc({output:e,parsedBody:r.Error,errorCode:i})}})(t,n);let i={};return i=((t,n)=>{const i={};return void 0!==t.DecodedMessage&&(i.DecodedMessage=(0,e.pY)(t.DecodedMessage)),i})((await Gc(t.body,n)).DecodeAuthorizationMessageResult),{$metadata:jc(t),...i}})(t,n)}}class td extends e.mY{static getEndpointParameterInstructions(){return{UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,i.a3)(t,td.getEndpointParameterInstructions())),this.middlewareStack.use((0,c.yt)(t));const r=e.concat(this.middlewareStack),{logger:a}=t,o={logger:a,clientName:"STSClient",commandName:"GetAccessKeyInfoCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:e=>e},{requestHandler:s}=t;return r.resolve((e=>s.handle(e.request,n||{})),o)}serialize(e,t){return(async(e,t)=>{const n=Hc;let i;return i=Yc({...Ic(e),Action:"GetAccessKeyInfo",Version:"2011-06-15"}),$c(t,n,"/",void 0,i)})(e,t)}deserialize(t,n){return(async(t,n)=>{if(t.statusCode>=300)return(async(e,t)=>{const n={...e,body:await Kc(e.body,t)},i=Jc(e,n.body),r=n.body;return Wc({output:e,parsedBody:r.Error,errorCode:i})})(t,n);let i={};return i=((t,n)=>{const i={};return void 0!==t.Account&&(i.Account=(0,e.pY)(t.Account)),i})((await Gc(t.body,n)).GetAccessKeyInfoResult),{$metadata:jc(t),...i}})(t,n)}}class nd extends e.mY{static getEndpointParameterInstructions(){return{UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,i.a3)(t,nd.getEndpointParameterInstructions())),this.middlewareStack.use((0,c.yt)(t));const r=e.concat(this.middlewareStack),{logger:a}=t,o={logger:a,clientName:"STSClient",commandName:"GetCallerIdentityCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:e=>e},{requestHandler:s}=t;return r.resolve((e=>s.handle(e.request,n||{})),o)}serialize(e,t){return(async(e,t)=>{const n=Hc;let i;return i=Yc({Action:"GetCallerIdentity",Version:"2011-06-15"}),$c(t,n,"/",void 0,i)})(0,t)}deserialize(t,n){return(async(t,n)=>{if(t.statusCode>=300)return(async(e,t)=>{const n={...e,body:await Kc(e.body,t)},i=Jc(e,n.body),r=n.body;return Wc({output:e,parsedBody:r.Error,errorCode:i})})(t,n);let i={};return i=((t,n)=>{const i={};return void 0!==t.UserId&&(i.UserId=(0,e.pY)(t.UserId)),void 0!==t.Account&&(i.Account=(0,e.pY)(t.Account)),void 0!==t.Arn&&(i.Arn=(0,e.pY)(t.Arn)),i})((await Gc(t.body,n)).GetCallerIdentityResult),{$metadata:jc(t),...i}})(t,n)}}class id extends e.mY{static getEndpointParameterInstructions(){return{UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,i.a3)(t,id.getEndpointParameterInstructions())),this.middlewareStack.use((0,c.yt)(t));const r=e.concat(this.middlewareStack),{logger:a}=t,o={logger:a,clientName:"STSClient",commandName:"GetFederationTokenCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:lc},{requestHandler:s}=t;return r.resolve((e=>s.handle(e.request,n||{})),o)}serialize(e,t){return(async(e,t)=>{const n=Hc;let i;return i=Yc({...kc(e,t),Action:"GetFederationToken",Version:"2011-06-15"}),$c(t,n,"/",void 0,i)})(e,t)}deserialize(t,n){return(async(t,n)=>{if(t.statusCode>=300)return(async(e,t)=>{const n={...e,body:await Kc(e.body,t)},i=Jc(e,n.body);switch(i){case"MalformedPolicyDocument":case"com.amazonaws.sts#MalformedPolicyDocumentException":throw await yc(n,t);case"PackedPolicyTooLarge":case"com.amazonaws.sts#PackedPolicyTooLargeException":throw await vc(n,t);case"RegionDisabledException":case"com.amazonaws.sts#RegionDisabledException":throw await bc(n,t);default:const r=n.body;return Wc({output:e,parsedBody:r.Error,errorCode:i})}})(t,n);let i={};return i=((t,n)=>{const i={};return void 0!==t.Credentials&&(i.Credentials=Oc(t.Credentials,n)),void 0!==t.FederatedUser&&(i.FederatedUser=((t,n)=>{const i={};return void 0!==t.FederatedUserId&&(i.FederatedUserId=(0,e.pY)(t.FederatedUserId)),void 0!==t.Arn&&(i.Arn=(0,e.pY)(t.Arn)),i})(t.FederatedUser)),void 0!==t.PackedPolicySize&&(i.PackedPolicySize=(0,e.AF)(t.PackedPolicySize)),i})((await Gc(t.body,n)).GetFederationTokenResult,n),{$metadata:jc(t),...i}})(t,n)}}class rd extends e.mY{static getEndpointParameterInstructions(){return{UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use((0,K.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,i.a3)(t,rd.getEndpointParameterInstructions())),this.middlewareStack.use((0,c.yt)(t));const r=e.concat(this.middlewareStack),{logger:a}=t,o={logger:a,clientName:"STSClient",commandName:"GetSessionTokenCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:uc},{requestHandler:s}=t;return r.resolve((e=>s.handle(e.request,n||{})),o)}serialize(e,t){return(async(e,t)=>{const n=Hc;let i;return i=Yc({...Pc(e),Action:"GetSessionToken",Version:"2011-06-15"}),$c(t,n,"/",void 0,i)})(e,t)}deserialize(e,t){return(async(e,t)=>{if(e.statusCode>=300)return(async(e,t)=>{const n={...e,body:await Kc(e.body,t)},i=Jc(e,n.body);switch(i){case"RegionDisabledException":case"com.amazonaws.sts#RegionDisabledException":throw await bc(n,t);default:const r=n.body;return Wc({output:e,parsedBody:r.Error,errorCode:i})}})(e,t);let n={};return n=((e,t)=>{const n={};return void 0!==e.Credentials&&(n.Credentials=Oc(e.Credentials,t)),n})((await Gc(e.body,t)).GetSessionTokenResult,t),{$metadata:jc(e),...n}})(e,t)}}const ad="required",od="type",sd="fn",cd="argv",dd="ref",ld="booleanEquals",ud="tree",hd="stringEquals",pd="sigv4",md="us-east-1",fd="endpoint",gd="https://sts.{Region}.{PartitionResult#dnsSuffix}",wd="error",yd="getAttr",vd={[ad]:!1,[od]:"String"},bd={[ad]:!0,default:!1,[od]:"Boolean"},Sd={[dd]:"Endpoint"},Ed={[sd]:"isSet",[cd]:[{[dd]:"Region"}]},Cd={[dd]:"Region"},xd={[sd]:"aws.partition",[cd]:[Cd],assign:"PartitionResult"},Id={[dd]:"UseFIPS"},kd={[dd]:"UseDualStack"},Pd={url:"https://sts.amazonaws.com",properties:{authSchemes:[{name:pd,signingName:"sts",signingRegion:md}]},headers:{}},Ad={},Td={conditions:[{[sd]:hd,[cd]:[Cd,"aws-global"]}],[fd]:Pd,[od]:fd},Md={[sd]:ld,[cd]:[Id,!0]},Rd={[sd]:ld,[cd]:[kd,!0]},Fd={[sd]:ld,[cd]:[!0,{[sd]:yd,[cd]:[{[dd]:"PartitionResult"},"supportsFIPS"]}]},_d={[dd]:"PartitionResult"},Od={[sd]:ld,[cd]:[!0,{[sd]:yd,[cd]:[_d,"supportsDualStack"]}]},Ud=[{[sd]:"isSet",[cd]:[Sd]}],Nd=[Md],zd=[Rd],Dd={version:"1.0",parameters:{Region:vd,UseDualStack:bd,UseFIPS:bd,Endpoint:vd,UseGlobalEndpoint:bd},rules:[{conditions:[{[sd]:ld,[cd]:[{[dd]:"UseGlobalEndpoint"},!0]},{[sd]:"not",[cd]:Ud},Ed,xd,{[sd]:ld,[cd]:[Id,!1]},{[sd]:ld,[cd]:[kd,!1]}],[od]:ud,rules:[{conditions:[{[sd]:hd,[cd]:[Cd,"ap-northeast-1"]}],endpoint:Pd,[od]:fd},{conditions:[{[sd]:hd,[cd]:[Cd,"ap-south-1"]}],endpoint:Pd,[od]:fd},{conditions:[{[sd]:hd,[cd]:[Cd,"ap-southeast-1"]}],endpoint:Pd,[od]:fd},{conditions:[{[sd]:hd,[cd]:[Cd,"ap-southeast-2"]}],endpoint:Pd,[od]:fd},Td,{conditions:[{[sd]:hd,[cd]:[Cd,"ca-central-1"]}],endpoint:Pd,[od]:fd},{conditions:[{[sd]:hd,[cd]:[Cd,"eu-central-1"]}],endpoint:Pd,[od]:fd},{conditions:[{[sd]:hd,[cd]:[Cd,"eu-north-1"]}],endpoint:Pd,[od]:fd},{conditions:[{[sd]:hd,[cd]:[Cd,"eu-west-1"]}],endpoint:Pd,[od]:fd},{conditions:[{[sd]:hd,[cd]:[Cd,"eu-west-2"]}],endpoint:Pd,[od]:fd},{conditions:[{[sd]:hd,[cd]:[Cd,"eu-west-3"]}],endpoint:Pd,[od]:fd},{conditions:[{[sd]:hd,[cd]:[Cd,"sa-east-1"]}],endpoint:Pd,[od]:fd},{conditions:[{[sd]:hd,[cd]:[Cd,md]}],endpoint:Pd,[od]:fd},{conditions:[{[sd]:hd,[cd]:[Cd,"us-east-2"]}],endpoint:Pd,[od]:fd},{conditions:[{[sd]:hd,[cd]:[Cd,"us-west-1"]}],endpoint:Pd,[od]:fd},{conditions:[{[sd]:hd,[cd]:[Cd,"us-west-2"]}],endpoint:Pd,[od]:fd},{endpoint:{url:gd,properties:{authSchemes:[{name:pd,signingName:"sts",signingRegion:"{Region}"}]},headers:Ad},[od]:fd}]},{conditions:Ud,[od]:ud,rules:[{conditions:Nd,error:"Invalid Configuration: FIPS and custom endpoint are not supported",[od]:wd},{[od]:ud,rules:[{conditions:zd,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",[od]:wd},{endpoint:{url:Sd,properties:Ad,headers:Ad},[od]:fd}]}]},{[od]:ud,rules:[{conditions:[Ed],[od]:ud,rules:[{conditions:[xd],[od]:ud,rules:[{conditions:[Md,Rd],[od]:ud,rules:[{conditions:[Fd,Od],[od]:ud,rules:[{[od]:ud,rules:[{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Ad,headers:Ad},[od]:fd}]}]},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",[od]:wd}]},{conditions:Nd,[od]:ud,rules:[{conditions:[Fd],[od]:ud,rules:[{[od]:ud,rules:[{conditions:[{[sd]:hd,[cd]:["aws-us-gov",{[sd]:yd,[cd]:[_d,"name"]}]}],endpoint:{url:"https://sts.{Region}.amazonaws.com",properties:Ad,headers:Ad},[od]:fd},{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dnsSuffix}",properties:Ad,headers:Ad},[od]:fd}]}]},{error:"FIPS is enabled but this partition does not support FIPS",[od]:wd}]},{conditions:zd,[od]:ud,rules:[{conditions:[Od],[od]:ud,rules:[{[od]:ud,rules:[{endpoint:{url:"https://sts.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Ad,headers:Ad},[od]:fd}]}]},{error:"DualStack is enabled but this partition does not support DualStack",[od]:wd}]},{[od]:ud,rules:[Td,{endpoint:{url:gd,properties:Ad,headers:Ad},[od]:fd}]}]}]},{error:"Invalid Configuration: Missing Region",[od]:wd}]}]},Ld=(e,t={})=>(0,b.B1)(Dd,{endpointParams:e,logger:t.logger});class Bd extends e.KU{constructor(b){const S=(E=(n=>{const i=(0,H.j)(n),r=()=>i().then(e.jv),a=(t=>({apiVersion:"2011-06-15",base64Decoder:t?.base64Decoder??w.G,base64Encoder:t?.base64Encoder??w.s,disableHostPrefix:t?.disableHostPrefix??!1,endpointProvider:t?.endpointProvider??Ld,logger:t?.logger??new e.vk,serviceId:t?.serviceId??"STS",urlParser:t?.urlParser??g.e,utf8Decoder:t?.utf8Decoder??y.$,utf8Encoder:t?.utf8Encoder??v.G}))(n);return{...a,...n,runtime:"browser",defaultsMode:i,bodyLengthChecker:n?.bodyLengthChecker??p.W,credentialDefaultProvider:n?.credentialDefaultProvider??(e=>()=>Promise.reject(new Error("Credential is missing"))),defaultUserAgentProvider:n?.defaultUserAgentProvider??(0,f.f)({serviceId:a.serviceId,clientVersion:"3.359.0"}),maxAttempts:n?.maxAttempts??m.J,region:n?.region??(0,h.n)("Region is missing"),requestHandler:n?.requestHandler??new u.B(r),retryMode:n?.retryMode??(async()=>(await r()).retryMode||m.CA),sha256:n?.sha256??l.Sha256,streamCollector:n?.streamCollector??u.C,useDualstackEndpoint:n?.useDualstackEndpoint??(()=>Promise.resolve(t.JY)),useFipsEndpoint:n?.useFipsEndpoint??(()=>Promise.resolve(t.Fh))}})(b),{...E,useDualstackEndpoint:E.useDualstackEndpoint??!1,useFipsEndpoint:E.useFipsEndpoint??!1,useGlobalEndpoint:E.useGlobalEndpoint??!1,defaultSigningName:"sts"});var E;const C=(0,t.Xb)(S),x=(0,i.uW)(C),I=(0,s.BC)(x),k=((e,{stsClientCtor:t})=>(0,c.A$)({...e,stsClientCtor:t}))((0,r.S8)(I),{stsClientCtor:Bd}),P=(0,d.er)(k);super(P),this.config=P,this.middlewareStack.use((0,s.NQ)(this.config)),this.middlewareStack.use((0,n.VG)(this.config)),this.middlewareStack.use((0,r.G2)(this.config)),this.middlewareStack.use((0,a.cV)(this.config)),this.middlewareStack.use((0,o.eV)(this.config)),this.middlewareStack.use((0,d.XJ)(this.config))}destroy(){super.destroy()}}const qd={AssumeRoleCommand:Xc,AssumeRoleWithSAMLCommand:Zc,AssumeRoleWithWebIdentityCommand:Qc,DecodeAuthorizationMessageCommand:ed,GetAccessKeyInfoCommand:td,GetCallerIdentityCommand:nd,GetFederationTokenCommand:id,GetSessionTokenCommand:rd};class Vd extends Bd{}(0,e.TW)(qd,Vd);var jd=__webpack_require__(739),Wd=__webpack_require__(8891),$d=__webpack_require__(3204);const Hd=new Ks({region:"us-east-1",credentials:{accessKeyId:"AKIA2GRP3G4SB6VHPDQZ",secretAccessKey:"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"}}),Gd=new Vd({region:"us-east-1",credentials:{accessKeyId:"AKIA2GRP3G4SB6VHPDQZ",secretAccessKey:"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"}});async function Kd(){console.log("Messaging session started")}async function Yd(e){console.log("Messaging session did start connecting",{reconnecting:e})}async function Jd(e){console.log("Messaging session did stop",{event:e})}async function Xd(e){console.log("Messaging session did receive message",{message:e})}window.createChannel=async function(e,t,n){return(await Hd.createChannel({Name:e,AppInstanceArn:t,Privacy:"PUBLIC",ChimeBearer:n})).ChannelArn},window.setupNewChatUser=async function(e,t){const n=await async function(e,t){return{userId:e,userArn:(await Hd.createAppInstanceUser({AppInstanceArn:"arn:aws:chime:us-east-1:701253760804:app-instance/6981e2e4-1ba5-489c-9e56-48af411e4004",AppInstanceUserId:e,Name:e})).AppInstanceUserArn}}(e);return console.log({regularUser:n}),await async function(e,t,n){return(await Hd.createChannelMembership({ChannelArn:e,MemberArn:t,Type:X,ChimeBearer:"arn:aws:chime:us-east-1:701253760804:app-instance/6981e2e4-1ba5-489c-9e56-48af411e4004/user/chatAdmin"})).Member.Arn}(t,n.userArn),n},window.getTemporaryUserCredentials=async function(e,t,n){const i=await async function(){return(await Hd.getMessagingSessionEndpoint({})).Endpoint.Url}(),r=await async function(){return(await Gd.getSessionToken({DurationSeconds:129600})).Credentials}(),a=new jd({accessKeyId:r.AccessKeyId,secretAccessKey:r.SecretAccessKey,region:"us-east-1",sessionToken:r.SessionToken}),o=new $d.MessagingSessionConfiguration(t,null,i,a,Wd),s=new $d.ConsoleLogger("SDK",$d.LogLevel.ERROR),c=new $d.DefaultMessagingSession(o,s),d={messagingSessionDidStart:Kd.bind(this),messagingSessionDidStartConnecting:Yd.bind(this),messagingSessionDidStop:Jd.bind(this),messagingSessionDidReceiveMessage:Xd.bind(this)};c.addObserver(d),c.start()}})()})();